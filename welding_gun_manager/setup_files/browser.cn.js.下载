!function(){"use strict";var u,N=function(){return(N=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var o in t=arguments[e])Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o]);return n}).apply(this,arguments)};function P(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,o,i=e.call(n),u=[];try{for(;(void 0===t||0<t--)&&!(r=i.next()).done;)u.push(r.value)}catch(n){o={error:n}}finally{try{r&&!r.done&&(e=i.return)&&e.call(i)}finally{if(o)throw o.error}}return u}function b(n,t,e){if(e||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return n.concat(r||Array.prototype.slice.call(t))}"undefined"==typeof Element||Element.prototype.addEventListener||(u=[],Ao=function(n,t){for(var e=0;e<u.length;){var r=u[e];if(r.object===this&&r.type===n&&r.listener===t){"DOMContentLoaded"===n?this.detachEvent("onreadystatechange",r.wrapper):this.detachEvent("on"+n,r.wrapper),u.splice(e,1);break}++e}},Element.prototype.addEventListener=qo=function(n,t){function e(n){n.target=n.srcElement,n.currentTarget=i,void 0!==t.handleEvent?t.handleEvent(n):t.call(i,n)}var r,o,i=this;"DOMContentLoaded"===n?(r=function(n){"complete"===document.readyState&&e(n)},document.attachEvent("onreadystatechange",r),u.push({object:this,type:n,listener:t,wrapper:r}),"complete"===document.readyState&&((o=new window.Event).srcElement=window,r(o))):(this.attachEvent("on"+n,e),u.push({object:this,type:n,listener:t,wrapper:e}))},Element.prototype.removeEventListener=Ao,HTMLDocument&&!HTMLDocument.prototype.addEventListener&&(HTMLDocument.prototype.addEventListener=qo,HTMLDocument.prototype.removeEventListener=Ao),Window&&!Window.prototype.addEventListener&&(Window.prototype.addEventListener=qo,Window.prototype.removeEventListener=Ao));function v(n){return JSON.stringify({ev_type:"batch",list:n})}var B=function(){return{}};function _(n){return n}function w(n){return"object"==typeof n&&null!==n}var t=Object.prototype;function i(n){if(w(n)){if("function"!=typeof Object.getPrototypeOf)return"[object Object]"===t.toString.call(n);n=Object.getPrototypeOf(n);return n===t||null===n}}function a(n){return"[object Array]"===t.toString.call(n)}function x(n){return"function"==typeof n}function H(n){return"number"==typeof n}function h(n){return"string"==typeof n}function e(n){return"undefined"!=typeof Event&&function(n,t){try{return n instanceof t}catch(n){return}}(n,Event)}function m(n,t){var e,r,o=N({},n);for(e in t)r=e,Object.prototype.hasOwnProperty.call(t,r)&&void 0!==t[e]&&(w(t[e])&&i(t[e])?o[e]=m(w(n[e])?n[e]:{},t[e]):a(t[e])&&a(n[e])?o[e]=function t(n,e){n=a(n)?n:[];e=a(e)?e:[];return Array.prototype.concat.call(n,e).map(function(n){return n instanceof RegExp?n:w(n)&&i(n)?m({},n):a(n)?t([],n):n})}(n[e],t[e]):o[e]=t[e]);return o}function E(n,t){if(!a(n))return!1;if(0===n.length)return!1;for(var e=0;e<n.length;){if(n[e]===t)return!0;e++}return!1}function S(n,t){if(!a(n))return n;var e=n.indexOf(t);if(0<=e){t=n.slice();return t.splice(e,1),t}return n}function l(n,t,e){for(var r,o=(t=P(t.split(".")))[0],i=t.slice(1);n&&0<i.length;)n=n[o],o=(r=P(i))[0],i=r.slice(1);if(n)return e(n,o)}var r=function(e,n){return e&&w(e)?n.reduce(function(n,t){return n[t]=e[t],n},{}):e};function g(n){return a(n)&&n.length?function(n){for(var t=[],e=n.length,r=0;r<e;r++){var o=n[r];h(o)?t.push(o.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):o&&o.source&&t.push(o.source)}return new RegExp(t.join("|"),"i")}(n):null}var y=function(n,t){n=g(n||[]);return!!n&&n.test(t)};function c(n){try{return h(n)?n:JSON.stringify(n)}catch(n){return"[FAILED_TO_STRINGIFY]:"+String(n)}}function d(i,u,a,c){return void 0===c&&(c=!0),function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!i)return B;var e=i[u],r=a.apply(void 0,b([e],P(n),!1)),o=r;return x(o)&&c&&(o=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return r.apply(this,t)}catch(n){return x(e)&&e.apply(this,t)}}),i[u]=o,function(n){n||(o===i[u]?i[u]=e:r=e)}}}function T(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.warn.apply(console,b(["[SDK]",Date.now(),o(""+j++)],P(n),!1))}function R(r){return function(n){for(var t=n,e=0;e<r.length&&t;e++)try{t=r[e](t)}catch(n){p(n)}return t}}var f=function(i,u,a){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];if(!i)return B;var e=i[u],r=a.apply(void 0,b([e],P(n),!1)),o=r;return x(o)&&(o=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return r.apply(this,n)}),i[u]=o,function(){o===i[u]?i[u]=e:r=e}}},o="".padStart?function(n,t){return n.padStart(t=void 0===t?8:t," ")}:function(n){return n},s=0,p=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];console.error.apply(console,b(["[SDK]",Date.now(),o(""+s++)],P(n),!1))},j=0,k=function(n){return Math.random()<Number(n)},O=function(n,t){return n<Number(t)},C=function(r){return function(n){for(var t=!0,e=0;e<r.length&&t;e++)try{t=r[e](n)}catch(n){p(n)}return t}};function L(){var n=function(){for(var n=new Array(16),t=0,e=0;e<16;e++)0==(3&e)&&(t=4294967296*Math.random()),n[e]=t>>>((3&e)<<3)&255;return n}();return n[6]=15&n[6]|64,n[8]=63&n[8]|128,function(n){for(var t=[],e=0;e<256;++e)t[e]=(e+256).toString(16).substr(1);var r=0,o=t;return[o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],"-",o[n[r++]],o[n[r++]],o[n[r++]],o[n[r++]],o[n[+r]],o[n[15]]].join("")}(n)}function I(r,n){var t=[];try{t=n.reduce(function(n,t){try{var e=t(r);"function"==typeof e&&n.push(e)}catch(n){}return n},[])}catch(n){}return function(n){return I(n,t)}}function M(n,r){var o=P(n,1)[0];return function(t,n){var e=o(function(n){return C(r)(n)?t(n):B});n(function(){e()})}}var q=function(n){function t(n){a=S(a,n),f||s()}var e,r,o,i,u,a=[],c=[],f=!1,s=(r=function(){return a.length},o=function(){f=!0,e&&e[0](),c.forEach(function(n){return n()}),c.length=0,e=void 0},-1===(i=n=void(u=0)===n?3e5:n)?B:function(){if(r())return u&&clearTimeout(u),void(u=0);0===u&&(u=setTimeout(o,i))});return{next:function(n){return I(n,a)},complete:function(n){c.push(n)},attach:function(n,t){e=[n,t]},subscribe:function(n){if(f)throw new Error("Observer is closed");return a.push(n),e&&e[1]&&e[1](n),s(),function(){return t(n)}},unsubscribe:t}},A=function(n,t,e){e=q(e);try{n(e.next,e.attach),t&&e.complete(t)}catch(n){}return[e.subscribe,e.unsubscribe]};function D(){function r(n){n.length&&n.forEach(function(n){try{n()}catch(n){}}),n.length=0}function t(n){i[n]&&i[n].forEach(function(n){r(n[1])}),i[n]=void 0}var o=!1,i={};return{set:function(n,t,e){i[n]?i[n].push([t,e]):i[n]=[[t,e]],o&&r(e)},has:function(n){return!!i[n]},remove:t,removeByEvType:function(t){Object.keys(i).forEach(function(n){i[n]&&i[n].forEach(function(n){n[0]===t&&r(n[1])})})},clear:function(){o=!0,Object.keys(i).forEach(function(n){t(n)})}}}var U=function(n,t,e,r){return n.destroyAgent.set(t,e,r)};var W=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"];function F(n){var e,r,t=n.builder,o=n.createSender,i=n.createDefaultConfig,u=n.createConfigManager,a=n.userConfigNormalizer,c=n.initConfigNormalizer,f=n.validateInitConfig,s={};W.forEach(function(n){return s[n]=[]});var l=!1,d=!1,p=!1,v=[],h=[],m=D(),g={getBuilder:function(){return t},getSender:function(){return e},getPreStartQueue:function(){return v},init:function(n){if(l)T("already inited");else{if(!(n&&w(n)&&f(n)))throw new Error("invalid InitConfig, init failed");var t=i(n);if(!t)throw new Error("defaultConfig missing");n=c(n);if((r=u(t)).setConfig(n),r.onChange(function(){y("config")}),!(e=o(r.getConfig())))throw new Error("sender missing");y("init",l=!0)}},set:function(n){l&&n&&w(n)&&(y("beforeConfig",!1,n),null!=r&&r.setConfig(n))},config:function(n){if(l)return n&&w(n)&&(y("beforeConfig",!1,n),null!=r&&r.setConfig(a(n))),null==r?void 0:r.getConfig()},provide:function(n,t){E(h,n)?T("cannot provide "+n+", reserved"):(g[n]=t,y("provide",!1,n))},start:function(){l&&(d||null!=r&&r.onReady(function(){var t,n;y("start",d=!0),(n=(t=g).getPreStartQueue()).forEach(function(n){return t.build(n)}),n.length=0}))},report:function(n){var t,e;n&&(!(e=R(s.beforeReport)(n))||(t=R(s.report)(e))&&(d?this.build(t):(n=g,(e=v).push(t),e.length<500||(e=e.splice(0,50),n.savePreStartDataToDb&&n.savePreStartDataToDb(e)))))},build:function(n){!d||(n=R(s.beforeBuild)(n))&&(!(n=t.build(n))||(n=R(s.build)(n))&&this.send(n))},send:function(n){!d||(n=R(s.beforeSend)(n))&&(e.send(n),y("send",!1,n))},destroy:function(){m.clear(),p=!0,y("beforeDestroy",!(v.length=0))},on:function(n,t){if("init"===n&&l||"start"===n&&d||"beforeDestroy"===n&&p)try{t()}catch(n){}else s[n]&&s[n].push(t)},off:function(n,t){s[n]&&(s[n]=S(s[n],t))},destroyAgent:m},h=Object.keys(g);return g;function y(n,t){void 0===t&&(t=!1);for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];s[n].forEach(function(n){try{n.apply(void 0,b([],P(e),!1))}catch(n){}}),t&&(s[n].length=0)}}var X=function(n){var e,r,o,t=(e={},r={},o={set:function(n,t){return e[n]=t,r[n]=c(t),o},merge:function(t){return e=N(N({},e),t),Object.keys(t).forEach(function(n){r[n]=c(t[n])}),o},delete:function(n){return delete e[n],delete r[n],o},clear:function(){return e={},r={},o},get:function(n){return r[n]},toString:function(){return N({},r)}});n.provide("context",t),n.on("report",function(n){return n.extra||(n.extra={}),n.extra.context=t.toString(),n})},z=function(a,c,e){function f(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=n[0];if(e){var r=e.split(".")[0];if(r in f)return i=f,u=e,o=[].slice.call(n,1),l(i,u,function(n,t){if(n&&t in n&&x(n[t]))try{return n[t].apply(n,o)}catch(n){return}});var o,i=s[r]||[],u=null!==(u=null==c?void 0:c(a))&&void 0!==u?u:{};i.push(b([u],P(n),!1)),void(s[r]=i)}}var n,s={};for(n in d(a,"provide",function(e){return function(n,t){f[n]=t,e.call(a,n,t)}})(),a)Object.prototype.hasOwnProperty.call(a,n)&&(f[n]=a[n]);return a.on("provide",function(n){s[n]&&(s[n].forEach(function(n){var t=P(n),n=t[0],t=t.slice(1);null!=e&&e(a,n,t)}),s[n]=null)}),f};function G(r,o){r.on("init",function(){function n(n){n.forEach(function(n){var t=n.name;E(e,t)||(e.push(t),n.setup(r),o&&o(t,n.setup),r.destroyAgent.set(t,t,[function(){e=S(e,t),n.tearDown&&n.tearDown()}]))})}var e=[];r.provide("applyIntegrations",n);var t=r.config();t&&t.integrations&&n(t.integrations)})}function J(n){return n.split(Y)[0]}var Y="_";function $(n,t){return n.initSubject(t)}function Q(n,t,e){var t=P(t,2),r=t[0],t=t[1],o=n.privateSubject||{};return o[r]||(o[r]=A(t,function(){o[r]=void 0},e)),o[r]}var V=function(){return Date.now()};function K(){if("object"==typeof window&&w(window))return window}function Z(){if("object"==typeof document&&w(document))return document}function nn(){return K()&&window.location}function tn(){if(K()&&w(window.performance))return window.performance}function en(){if("function"==typeof XMLHttpRequest&&x(XMLHttpRequest))return XMLHttpRequest}function rn(){if(K()&&x(window.MutationObserver))return window.MutationObserver}function on(){if(K()&&x(window.PerformanceObserver))return window.PerformanceObserver}function un(){var n=function(){if(K()&&"navigator"in window)return window.navigator}();if(n)return n.connection||n.mozConnection||n.webkitConnection}function an(n){return(null==n?void 0:n.effectiveType)||(null==n?void 0:n.type)||""}function cn(n){var t=Z();if(!t||!n)return"";t=t.createElement("a");return t.href=n,t.href}function fn(n){var t=Z();if(!t||!n)return{url:n,protocol:"",domain:"",query:"",path:"",hash:""};t=t.createElement("a");t.href=n;n=t.pathname||"/";return"/"!==n[0]&&(n="/"+n),{url:t.href,protocol:t.protocol.slice(0,-1),domain:t.hostname,query:t.search.substring(1),path:n,hash:t.hash}}function sn(){var n=K()&&nn();return n?n.href:""}function ln(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];var e=_n(K());e&&(e.errors||(e.errors=[]),e.errors.push(n))}function dn(n,t){var e=n&&new n(t);return[function(n,t){e&&n&&e.observe(n,t)},function(){return e&&e.disconnect()}]}var pn=function(n){return{pid:n.pid,view_id:n.viewId,url:sn()}},vn=function(n){var t=n.config(),t=pn(t);return t.context=n.context?n.context.toString():{},t},hn=function(t,n){void 0===n&&(n=!1);var e=vn(t);return n&&(e.timestamp=V()),function(n){t.report(N(N({},n),{overrides:e}))}},mn="view_0",gn=function(o){return function(e,n){function t(n){var t;n.viewId&&n.viewId!==(null===(t=o.config())||void 0===t?void 0:t.viewId)&&(e(r),r=N(N({},vn(o)),pn(n)))}var r=vn(o);o.on("beforeConfig",t),n(function(){o.off("beforeConfig",t)})}},yn="f_view_0",bn=function(r){return function(n,t){var e=vn(r);t(B,function(n){e&&n(e)})}},_n=function(n){if(n)return n.__SLARDAR_REGISTRY__||(n.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[],subject:{}}}),n.__SLARDAR_REGISTRY__.Slardar},wn=function(e){var n=e&&e.timing||void 0;return[n,function(){return e&&e.now?e.now():(Date.now?Date.now():+new Date)-(n&&n.navigationStart||0)},function(n){var t=(e||{}).getEntriesByType;return x(t)&&t.call(e,n)||[]},function(){var n=(e||{}).clearResourceTimings;x(n)&&n.call(e)},function(n){var t=(e||{}).getEntriesByName;return x(t)&&t.call(e,n)||[]}]},xn=function(n){var t={url:sn(),timestamp:V()},e=n.config();return null!=e&&e.pid&&(t.pid=e.pid),null!=n&&n.context&&(t.context=n.context.toString()),t},En=function(e,r){return function(n){function t(n){return n.overrides=r,n}e.on("report",t),n(),e.off("report",t)}},Sn="<unknown>";function Tn(n){try{for(var t,e=n,r=[],o=0,i=0,u=" > ".length;e&&o++<5&&!("html"===(t=function(n){var t,e,r,o,i,u=n,a=[];if(!u||!u.tagName)return"";if(a.push(u.tagName.toLowerCase()),u.id)return"#"+u.id;n=u.className;if(n&&h(n))for(e=n.split(/\s+/),i=0;i<e.length;i++)a.push("."+e[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=u.getAttribute(r))&&a.push("["+r+'="'+o+'"]');var f=u,s=1,l=!0;for(;f=f.previousElementSibling;)(null===(t=f.tagName)||void 0===t?void 0:t.toLowerCase())===(null===(t=u.tagName)||void 0===t?void 0:t.toLowerCase())&&(f.className===u.className&&c.every(function(n){return u.getAttribute(n)===(null==f?void 0:f.getAttribute(n))})&&(l=!1),s++);1<s&&!l&&a.push(":nth-of-type("+s+")");return a.join("")}(e))||1<o&&256<=i+r.length*u+t.length);)r.push(t),i+=t.length,e=e.parentNode;return r.reverse().join(" > ")}catch(n){return Sn}}var Rn=function(n,t,e,r){return void 0===r&&(r=!1),n.addEventListener(t,e,r),function(){n.removeEventListener(t,e,r)}},jn=function(n,t,e,r){return void 0===r&&(r=!1),n.addEventListener(t,e,r),function(){n.removeEventListener(t,e,r)}};function kn(n){var t,e=K();e&&(t=P(Ln(n),1)[0],["unload","beforeunload","pagehide"].forEach(function(n){Rn(e,n,t,!1)}))}function On(n){var t,e=Z(),r=K();e&&r&&(t=B,t=jn(e,"visibilitychange",function(){"visible"===e.visibilityState&&(n(),t())},!0))}function Cn(){return!!btoa&&!!atob}var Ln=function(t){var e=!1;return[function(n){e||(e=!0,t&&t(n))}]},In=function(n,t){return w(n)?N(N({},t),n):!!n&&t};function Mn(n){try{var t=localStorage.getItem(n),e=t,r=e=t&&"string"==typeof t?JSON.parse((u=t,Cn()?decodeURI(atob(u)):u)):e,o=r.expires,i=function(n,t){var e={};for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(e[o]=n[o]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(n);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(n,o[r])&&(e[o[r]]=n[o[r]]);return e}(r,["expires"]);return o>=V()?i:void 0}catch(n){return}var u}function qn(n,t,e){var r;if(!(e<=0))try{localStorage.setItem(n,(r=JSON.stringify(N(N({},t),{expires:V()+e})),Cn()?btoa(encodeURI(r)):r))}catch(n){}}function An(n){return!1===n?0:!0!==n&&void 0!==n&&H(n)?n:7776e6}function Dn(){var t=new RegExp("\\/monitor_web\\/collect|\\/monitor_browser\\/collect\\/batch","i");return function(n){return t.test(n)}}function Nn(r,o){return function(n,t){var e=o([n,t=void 0===t?{}:t]),t=r(n,t);return t.then(function(n){e(n)},function(){e(void 0)}),t}}function Pn(n,r){var o=In(n,dt);if(o&&k(o.sampleRate))return function(n,t){var e=o.origins;e.length&&y(e,n)&&(t("traceparent","00-"+pt()+"-"+pt().substring(16)+"-"+lt),t("baggage",r))}}function Bn(n,t){return!n||!t||(vt.test(n)||ht.test(t))}var Hn=function(n){var t;if("object"==typeof window&&window.__perfsee__){var e={};return null!==(t=Error.captureStackTrace)&&void 0!==t&&t.call(Error,e,n),e.stack}},Un="xhr_0",Wn=function(r){return function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n=P(t,2),this._method=n[0],this._url=n[1],r.apply(this,t)}},Fn=function(o){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];this._reqHeaders=this._reqHeaders||{};var e=P(n,2),r=e[0],e=e[1];return this._reqHeaders[r]=e,o&&o.apply(this,n)}},Xn=function(i,u){var a=Dn();return function(){for(var n,r,o,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._start=V(),this._data=null==t?void 0:t[0],a(this._url)||(n=u([this._method,this._url,this._start,this]),o=n,f(r=this,"onreadystatechange",function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return 4===this.readyState&&o(r),e&&e.apply(this,n)}})()),i.apply(this,t)}},zn=function(r){return function(n,t){var e;r&&((e=[]).push(f(r,"open",Wn)()),e.push(f(r,"setRequestHeader",Fn)()),e.push(f(r,"send",Xn)(n)),t(function(){e.forEach(function(n){return n()})}))}},Gn=["fetch_0",function(n,t){var e,r=K();r&&fetch&&((e=[]).push(f(r,"fetch",Nn)(n)),t(function(){e.forEach(function(n){return n()})}))}],Jn=["resource"],Yn=["longtask"],$n=function(r,o,i){var u=r&&new r(function(n,r){n.getEntries?n.getEntries().forEach(function(n,t,e){return o(n,t,e,r)}):i&&i()});return[function(n){if(!r||!u)return i&&i();try{u.observe({entryTypes:n})}catch(n){return i&&i()}},function(n,t){if(!r||!u)return i&&i();try{var e={type:n,buffered:!0};void 0!==t&&(e.durationThreshold=t),u.observe(e)}catch(n){return i&&i()}u.observe({type:n,buffered:!1})},function(){return u&&u.disconnect()}]},Qn=function(n,t,e){n=P($n(n,t),3),t=n[0],n=n[2];return t(e),n},Vn=function(n,t,e,r){n=P($n(n,t),3),t=n[1],n=n[2];return t(e,r),n},Kn=["longtask_0",function(n,t){var e=on();e&&t(Qn(e,n,Yn))}],Zn=["resource_0",function(t,n){var e,r=on();r&&(e=Dn(),n(Qn(r,function(n){e(n.name)||t(n)},Jn)))}],nt="pageview",tt="session",et="js_error",rt="http",ot="resource_error",it="resource",ut="custom",at="performance",ct="performance_timing",ft="performance_longtask",st="blank_screen",lt="01",dt={sampleRate:1,origins:[]},pt=function(){var n=window&&(window.crypto||window.msCrypto);if(void 0!==n&&n.getRandomValues){var t=new Uint16Array(8);n.getRandomValues(t);n=function(n){for(var t=n.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){return(16*Math.random()|0).toString(16)})},vt=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),ht=new RegExp("(bearer|session)","i"),mt=function(t){var e=!1;return function(n){e||(e=!0,t(n))}},gt=function(n,t){try{if(t){var e=n.request.url,r=t(e);if(!r)return;n.request.url=r,n.extra=N(N({},n.extra),{original_url:e})}}catch(n){}};var yt=function(n,t){var e,r=n._method,o=n._reqHeaders,i=n._url,u=n._start,a=n._data,o={api:"xhr",request:{url:cn(i),method:(r||"").toLowerCase(),headers:o&&(e=o,Object.keys(e).reduce(function(n,t){return Bn(t,e[t])||(n[t.toLowerCase()]=e[t]),n},{})),timestamp:u},response:{status:n.status||0,is_custom_error:!1,timestamp:V()},duration:V()-u};"function"==typeof n.getAllResponseHeaders&&(o.response.headers=h(c=n.getAllResponseHeaders())&&c?c.split("\r\n").reduce(function(n,t){var e;return h(t)&&(t=(e=P(t.split(": "),2))[0],e=e[1],Bn(t,e)||(n[t.toLowerCase()]=e)),n},{}):{});var u=o.response.status,c=t.collectBodyOnError,t=t.extraExtractor;try{var f=null==t?void 0:t(n.response,o,a);f&&(o.extra=f),f&&(o.response.is_custom_error=!0),c&&(f||400<=u)&&(o.request.body=a?""+a:void 0,o.response.body=n.response?""+n.response:void 0)}catch(n){}return o};function bt(n,t,e){t=null===(n=n.config())||void 0===n?void 0:n.plugins[t];return In(t,e)}var _t="ajax",wt={autoWrap:!0,setContextAtReq:function(){return _},ignoreUrls:[],collectBodyOnError:!1};function xt(t,e){return function(n){if(e)try{t(n)}catch(n){}}}function Et(o){function i(t,e){var r;return function(n){u=void 0,n&&r!==n&&e({event:r=n,name:t})}}var u;return[i,function(r){return function(n){var t;try{t=n.target}catch(n){return}var e=t&&t.tagName;e&&("INPUT"===e||"TEXTAREA"===e||t.isContentEditable)&&(u||i("input",r)(n),clearTimeout(u),u=window.setTimeout(function(){u=void 0},o))}}]}var St="click",Tt=["click_0",function(n,t){var e,r=Z();r&&(e=jn(r,St,n,!0),t(function(){e()}))}],Rt="keypress",jt=["keypress_0",function(n,t){var e,r=Z();r&&(e=jn(r,Rt,n,!0),t(function(){e()}))}],kt=function(n,t,e){var r,o=P(t,2),i=o[0],u=o[1],a=e.maxBreadcrumbs,c=e.onAddBreadcrumb,f=e.onMaxBreadcrumbs,t=e.dom,o=P(Et(100),2),e=o[0],o=o[1],c=P(function(e,r,o){void 0===e&&(e=20),void 0===r&&(r=_),void 0===o&&(o=function(n,t){return n.slice(-t)});var i=[];return[function(){return i},function(n){var t=r(n);t&&(n=N(N({},t),{timestamp:n.timestamp||V()}),i=0<=e&&i.length+1>e?o(b(b([],P(i),!1),[n],!1),e):b(b([],P(i),!1),[n],!1))}]}(a,c,f),2),f=c[0],c=c[1];return t&&(r=c,n.push(i[0](e(St,xt(e=function(n){var t;try{t=n.event.target?Tn(n.event.target):Tn(n.event)}catch(n){t=Sn}0!==t.length&&r({type:"dom",category:"ui."+n.name,message:t})},"dom")))),n.push(u[0](o(xt(e,"dom"))))),[f,c]},Ot="breadcrumb",Ct={maxBreadcrumbs:20,dom:!0};function Lt(n,t){return n instanceof t}function It(n,t,e){return t=t&&t.method||"get",(t=Lt(n,e)?n.method||t:t).toLowerCase()}function Mt(t){for(var n=[],e=1;e<arguments.length;e++)n[e-1]=arguments[e];try{return n.reduce(function(e,n){return new t(n||{}).forEach(function(n,t){return!Bn(t,n)&&(e[t]=n)}),e},{})}catch(n){return{}}}function qt(n,t,e){return Lt(n,e)?n.body:null==t?void 0:t.body}var At=function(n){if(!h(n))return!1;var t=P(n.split(":"),2),n=t[0];return!t[1]||"http"===n||"https"===n},Dt=function(n,t,e,r,o,i){Lt(e,o)?e.headers.set(n,t):r.headers instanceof i?r.headers.set(n,t):r.headers=N(N({},r.headers),((r={})[n]=t,r))},Nt=function(t,e,n,r,o,i,u){function a(){var n;f&&(c.request.body=null===(n=qt(t,e,r))||void 0===n?void 0:n.toString())}var c={api:"fetch",request:{method:It(t,e,r),timestamp:u,url:cn(t instanceof r?t.url:t),headers:Mt(o,t.headers,e.headers)},response:{status:n&&n.status||0,is_custom_error:!1,timestamp:V()},duration:V()-u},f=i.collectBodyOnError,s=i.extraExtractor;if(n)try{var l=Mt(o,n.headers);c.response.headers=l;try{-1!==(l["content-type"]||"").indexOf("application/json")&&s&&n.clone().json().catch(function(){return n.clone().text()}).then(function(n){n=s(n,c,null===(n=qt(t,e,r))||void 0===n?void 0:n.toString());n&&(c.extra=n,c.response.is_custom_error=!0,a())}).catch(B)}catch(n){}400<=n.status&&a()}catch(n){}else a();return c},Pt="fetch",Bt={autoWrap:!0,setContextAtReq:function(){return _},ignoreUrls:[],collectBodyOnError:!1};function Ht(n){var t;return!function(n){switch(Object.prototype.toString.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMError]":case"[object DOMException]":return 1;default:return n instanceof Error}}(n)?(i(n)||e(n)||h(n))&&(t={message:c(n)}):t=r(n,Gt),t}function Ut(n){var t=Ht(n.error);if(!t)return t;var e=n.colno,r=n.lineno,n=n.filename;return e&&!t.colno&&(t.colno=String(e)),r&&!t.lineno&&(t.lineno=String(r)),n&&!t.filename&&(t.filename=n),t}function Wt(n){var t;try{var e=void 0;if("reason"in n?e=n.reason:"detail"in n&&"reason"in n.detail&&(e=n.detail.reason),e){var r=Ht(e);return N(N({},r),{name:null!==(t=r&&r.name)&&void 0!==t?t:"UnhandledRejection"})}}catch(n){}}function Ft(n){return"[object ErrorEvent]"===Object.prototype.toString.call(n)?Ut(n):("[object PromiseRejectionEvent]"===Object.prototype.toString.call(n)?Wt:Ht)(n)}function Xt(n,t){return n&&t&&n===t}function zt(){var r;return function(n){try{if(e=r,!(!(t=n)||!e)&&!(!Xt(t.message,e.message)||!Xt(t.stack,e.stack)))return void(r=n)}catch(n){ln(n)}var t,e;return r=n}}var Gt=["name","message","stack","filename","lineno","colno"],Jt=["EventTarget","Window","Node","ApplicationCache","ChannelMergerNode","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","MessagePort","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Yt=["setTimeout","setInterval","requestAnimationFrame","requestIdleCallback"],$t=["onload","onerror","onprogress","onreadystatechange"],Qt="addEventListener",Vt=["async_error_0",function(o,n){function u(n,e){if(!x(n))return n;var r={type:"capture-global",data:N({},e)},t=n._w_||(n._w_=function(){try{return(n.handleEvent&&x(n.handleEvent)?n.handleEvent:n).apply(this,[].map.call(arguments,function(n){return u(n,e)}))}catch(n){var t=Ht(n);throw t&&o({source:r,error:t}),n}});return t._hook_=!0,t}var t=K(),e=en(),r=[];t&&r.push.apply(r,b([],P(Yt.filter(function(n){return t[n]}).map(function(o){return d(t,o,function(r){return function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return r&&r.call.apply(r,b([this,u(n,{function:o})],P(t),!1))}},!1)()})),!1)),e&&e.prototype&&r.push(d(e.prototype,"send",function(r){return function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return $t.filter(function(n){return t[n]&&!t[n]._hook_}).forEach(function(n){t[n]=u(t[n],{function:n})}),r.apply(this,n)}},!1)()),Jt.forEach(function(i){var n=t&&t[i]&&t[i].prototype;n&&n[Qt]&&(r.push(d(n,Qt,function(o){return function(n,t,e){try{var r=t.handleEvent;x(r)&&(t.handleEvent=u(r,{function:"handleEvent",target:i}))}catch(n){}return o&&o.call(this,n,u(t,{function:Qt,target:i}),e)}},!1)()),r.push(d(n,"removeEventListener",function(r){return function(n,t,e){return null!=t&&t._w_&&r.call(this,n,t._w_,e),r.call(this,n,t,e)}},!1)()))}),n(function(){return r.forEach(function(n){return n()})})}],Kt=["err_0",function(n,t){var e,r=K();r&&(e=Rn(r,"error",n,!0),t(function(){e()}))}],Zt=["perr_0",function(n,t){var e,r=K();r&&(e=Rn(r,"unhandledrejection",n,!0),t(function(){e()}))}],ne=function(o,n,t,e){function r(n){var t=n.error,e=n.extra,r=n.react,n=n.source;!(t=s?d(t):t)||!t.message||l&&l.test(t.message)||o({ev_type:et,payload:{error:t,breadcrumbs:[],extra:e,react:r,source:n}})}var i=P(t,3),u=i[0],a=i[1],c=i[2],f=e.ignoreErrors,t=e.onerror,i=e.onunhandledrejection,s=e.dedupe,e=e.captureGlobalAsync,l=g(f),d=zt();return t&&n.push(u[0](function(n){return r({error:Ut(n),source:{type:"onerror"}})})),i&&n.push(a[0](function(n){return r({error:Wt(n),source:{type:"onunhandledrejection"}})})),e&&n.push(c()[0](function(n){r(n)})),function(n,t,e){return r({error:Ft(n),extra:t,react:e,source:{type:"manual"}})}},te="jsError",ee={ignoreErrors:[],onerror:!0,onunhandledrejection:!0,captureGlobalAsync:!1,dedupe:!0};function re(n){return"complete"===n.readyState}function oe(e){return function(n,t){e({ev_type:nt,payload:{pid:t,source:n}})}}function ie(n,t){var e=n[0]+n[1]+n[2],r=n[0]/e;return n[2]/e>t.frustrating_threshold?2:r>t.satisfying_threshold||0===e?0:1}function ue(o,i){return function(n,t){var e=n.payload;switch(n.ev_type){case at:var r=e.name;e.isSupport&&o(t[_e],r,e.value);break;case"action":o(t[_e],"action",e.duration||0);break;case et:i(t[ye],0);break;case rt:e.response.is_custom_error||400<=e.response.status?i(t[ye],1):(r=e.response.timing)&&o(t[be],0,r.duration);break;case ot:i(t[ye],2);break;case st:i(t[ye],3);break;case it:o(t[be],1,e.duration);break;case ft:e.longtasks.forEach(function(n){o(t[be],2,n.duration)})}}}function ae(){function n(){o=[0,0,0],i={error_count:[0,0,0,0],duration_count:[0,0,0],perf_apdex:{}}}var o,i;return n(),[function(n,t,e){var r=n&&n[t];!r||e<=0||(n=e<(r[0].threshold||0)?0:e>(r[1].threshold||0)?2:1,o[n]+=r[n].weight,"string"==typeof t?(r=i[_e][e=t+"_"+n],i[_e][e]=(r||0)+1):2==n&&(i.duration_count[t]+=1))},function(n,t){n&&(o[2]+=n[t],i.error_count[t]+=1)},function(){return[o,i]},n]}var ce=function(n){return"hidden"===n.visibilityState},fe=["hidden_3",function(t,n){var e,r,o,i=Z(),u=K();i&&u&&(r=jn(i,"visibilitychange",e=function(n){t("pagehide"===n.type||ce(i))},!0),o=Rn(u,"pagehide",e,!0),n(function(){r(),o()},function(n){n(ce(i))}))}],se=["load_1",function(n,t){var e,r,o,i=K(),u=Z();i&&u&&(e=!1,r=B,o=function(){setTimeout(function(){n(),e=!0},0)},re(u)?o():r=Rn(i,"load",o,!1),t(function(){r()},function(n){e&&n()}))}],le=["unload_0",function(n,t){var e,r,o,i=K();i&&(e=P(Ln(n),1)[0],r=function(){e()},o=[],["unload","beforeunload","pagehide"].forEach(function(n){o.push(Rn(i,n,r,!1))}),t(function(){o.forEach(function(n){return n()})}))}],de=["domLoad_1",function(n,t){var e,r,o=K(),i=Z();o&&i&&(e=!1,r=B,o=function(){setTimeout(function(){n(),e=!0},0)},"loading"!==i.readyState?o():r=jn(i,"DOMContentLoaded",o,!1),t(function(){r()},function(n){e&&n()}))}],pe=["activated_0",function(n,t){var e,r,o,i=Z();i&&(e=!1,r=B,o=function(){n(),e=!0},i&&i.prerendering?r=jn(i,"prerenderingchange",o,!0):o(),t(function(){r()},function(n){e&&n()}))}],ve=["hash_0",function(n,t){var e,r=K();r&&(e=Rn(r,"hashchange",function(){return n(location.href)},!0),t(function(){e()}))}],he=["history_0",function(n,t){var e,r,o,i=K()&&window.history,u=K();i&&u&&(r=function(){return n(location.href)},(e=[]).push(d(i,"pushState",o=function(e){return function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];try{e.apply(i,n)}finally{r()}}})(),d(i,"replaceState",o)()),e.push(Rn(u,"popstate",r,!0)),t(function(){e.forEach(function(n){return n()})}))}],me=function(n){return n+"_"+V()},ge=function(n){return"manual"===n},ye="error_weight",be="duration_apdex",_e="perf_apdex",we=function(n,t,e,r){var o,i,u,a,c,f,s=r.sendInit,l=r.initPid,d=r.routeMode,p=r.extractPid,r=r.onPidUpdate,v=ge(d)?function(){return""}:(o=d,function(n){var t;return"hash"===o?(null===(t=fn(n).hash)||void 0===t?void 0:t.replace(/^#/,""))||"/":fn(n).path}),h=p||function(){},r=P(function(r,n,t,o){var i=t,u=n;o&&o(n);return[function(n,t,e){"user_set"!==n&&t!==i?(i=t,u=null!=e?e:i,o&&o(u),r(n,u)):"user_set"===n&&t!==u&&(u=t,o&&o(u),r(n,u))},function(){n&&r("init",n)}]}(oe(n),l||(i=location.href,null!==(u=h(i))&&void 0!==u?u:v(i)),v(location.href),r),2),m=r[0],r=r[1];return ge(d)||(a=P((c=function(n,t){return m(n,v(t),h(t))},f="",[function(n,t){t!==f&&c(n,f=t)}]),1)[0],e.length&&e.forEach(function(n){return t.push(n[0](function(n){return a(d,n)}))})),s&&r(),[m.bind(null,"user_set")]},xe=function(r,t,n,e){var o,i,u,a=P(n,2),c=a[0],f=a[1],s=2===e.apdex,l=void 0,d=void 0,p=void 0,v=!1,h=P(ae(),4),m=h[0],g=h[1],y=h[2],b=h[3],n=P(ae(),4),a=n[0],e=n[1],_=n[2],w=n[3],h=P((o={start:V(),end:0,time_spent:0,is_bounced:!1,entry:"",exit:"",p_count:0,a_count:0},[function(n,t){var e=P(n,3),r=e[0],n=e[1],e=e[2];o.end=V(),o.time_spent+=t&&t.time_spent||0,o.last_page=t,o.p_count+=1,o.rank=r,o.apdex=n,o.apdex_detail=e;e=Z();e&&(o.is_bounced=!re(e))},function(n,t){o.time_spent+=n.time_spent,o.p_count+=1,o.exit=t},function(){o.a_count+=1},function(n){o.entry=n,o.exit=n},function(){return o}]),5),x=h[0],E=h[1],S=h[2],T=h[3],R=h[4],n=P((u=void(i=0),[function(n){n?u&&(i+=V()-u,u=void 0):u=V()},function(){u&&(i+=V()-u);var n=i;return i=0,u=V(),n}]),2),h=n[0],j=n[1];t.push(c[0](h)),s||t.push(f[0](function(){var n,t,e;v&&(n=(e=P(_(),2))[0],t=e[1],e=ie(n,p),x([e,n,t],C()),r({ev_type:tt,payload:R()}),w())}));var k=ue(m,g),O=ue(a,e),C=function(){var n=P(y(),2),t=n[0],n=n[1];return{start:l[0],pid:l[1],view_id:l[2],end:V(),time_spent:j(),apdex:t,rank:ie(t,p),detail:n}};return t.push(function(){v=!1}),[function(n,t){if(!l)return l=[V(),n,t],T(n),void(v=!(!p||!l));v&&(d=C(),E(d,n)),l=[V(),n,t],b()},function(n){v&&(s||(O(n,p),"action"===n.ev_type&&S()),n.common.pid===l[1]&&k(n,p))},function(n){v&&(n.payload.last=d),r(n)},function(n){if(!n)return t.forEach(function(n){return n()}),void(t.length=0);v=!(!(p=n)||!l)}]},Ee="pageview",Se={sendInit:!0,routeMode:"history",apdex:2};var Te=["xmlhttprequest","fetch","beacon"],Re=function(e,r,n,t){var o,i,u,a,c=P(n,2),n=c[0],f=c[1],s=tn();s&&(c=t.ignoreUrls,o=t.slowSessionThreshold,i=t.ignoreTypes,u=g(c),a=function(n,t){void 0===t&&(t=!1),E(i||Te,n.initiatorType)||u&&u.test(n.name)||(n={ev_type:it,payload:n},t&&(n.extra={sample_rate:1}),e(n))},r.push(n[0](function(){var n=P(wn(s),3),t=n[0],n=n[2],e=function(){if(!t)return!1;var n=t.loadEventEnd-t.navigationStart;return o<n}();n("resource").forEach(function(n){return a(n,e)}),r.push(f()[0](function(n){a(n)}))})))},je="resource",ke={ignoreUrls:[],slowSessionThreshold:4e3};function Oe(n){return n="link"===(t=n).tagName.toLowerCase()?"href":"src",x(t.getAttribute)?t.getAttribute(n)||"":t[n]||"";var t}var Ce=function(i,n,t,e){var r=P(t,1)[0],o=K();if(o){var u=e.ignoreUrls,t=e.includeUrls,a=e.dedupe,c=e.gatherPath,f=g(t),s=g(u),l=P(wn(tn()),5)[4],d=void 0,p=function(n){var t,e,r,o=location&&location.href;o&&n.url===o||f&&!f.test(n.url)||s&&s.test(n.url)||n.url&&(a&&n.url===d||(d=n.url,e=l,r=(t=n).url,o=n.tagName,t=n.xpath,r=cn(r),e=e(r)[0],e={type:o.toLowerCase(),url:r,xpath:t,timing:e},i({ev_type:ot,payload:e})))};return n.push(r[0](function(n){n=n||o.event;!n||(n=function(n,t){var e=n.target||n.srcElement;if(e){n=e.tagName;if(n&&h(n))return{url:Oe(e),tagName:n,xpath:t?Tn(e):void 0}}}(n,c))&&p(n)})),p}},Le="resourceError",Ie={includeUrls:[],ignoreUrls:[],dedupe:!0,gatherPath:!1};function Me(e){return function(n,t){e(Pe(n,t))}}function qe(t){var e=0,r=De(n,0);return[function(){e=V()},function(){var n;n=V()-e,r.value=n,t&&t(Pe(r)),e=0}]}var Ae={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},De=function(n,t){return N({name:n,value:t},Ae)},Ne=function(t,e,r){var o=!1;return function(n){r.length&&r.forEach(function(n){n()}),r.length=0,o||(o=!0,e&&e(t(n)))}},Pe=function(n,t){return{ev_type:at,payload:n,overrides:t}},n="spa_load",Be=function(){var n=tn();return(0,P(wn(n),3)[2])("navigation")[0]},He=function(){var n=Be();return n&&n.activationStart||0};function Ue(n){var t,e,n=null===(n=null==n?void 0:n.sources)||void 0===n?void 0:n.filter(function(n){return!!n.node});if(n&&n.length){if(1===n.length)return n[0].node;var r,o=0;try{for(var i=function(n){var t="function"==typeof Symbol&&Symbol.iterator,e=t&&n[t],r=0;if(e)return e.call(n);if(n&&"number"==typeof n.length)return{next:function(){return{value:(n=n&&r>=n.length?void 0:n)&&n[r++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),u=i.next();!u.done;u=i.next()){var a=u.value,c=Je(a);o<c&&(o=c,r=a.node)}}catch(n){t={error:n}}finally{try{u&&!u.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return r}}function We(t){function e(n){n<o||!r||(u(),i=window.setTimeout(r,n-t()),o=n)}var r,o=-1/0,i=void 0,u=function(){return window.clearTimeout(i)};return[function(n,t){r=n,e(t)},function(){u(),r=void 0},e]}function Fe(n,e){var r=["img","script","iframe","link","audio","video","source"],t=(n=P(dn(n,function(n){for(var t=0;t<n.length;t++)("childList"===n[t].type&&function n(t,e){for(var r=0;r<t.length;r++)if(E(e,t[r].nodeName.toLowerCase())||t[r].children&&n(t[r].children,e))return 1}(n[t].addedNodes,r)||"attributes"===n[t].type&&E(r,n[t].target.nodeName.toLowerCase()))&&e(n[t])}),2))[0];return[function(){return t(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},n[1]]}function Xe(n){var n=(t=n||{}).domContentLoadedEventEnd,t=t.navigationStart;return n?n-(void 0===t?0:t):null}function ze(n,t){var e=n.startTime,r=n.duration;n.start=e,n.end=e+r,t.push(n)}function Ge(d,n,p){var v=(n=P(n,5))[0],h=n[1],m=n[2],g=n[3],y=n[4];return function(e,n){var r,o=[],i=[],t=P([r={},function(n,t){return r[n]=t},function(n){return delete r[n]}],3),u=t[0],a=t[1],c=t[2];p.forEach(function(n){n.entryType===Yn[0]&&ze(n,o)});var f=0;d.push(v[0](function(n){if("get"!==(P(n,1)[0]||"").toLowerCase())return B;var t=f+=1;return a(t,V()),function(){c(t)}})),d.push(h[0](function(n){var t=P(n,2),n=t[0],t=t[1];if(!window.Request||"get"!==It(n,t,window.Request))return B;var e=f+=1;return a(e,V()),function(){c(e)}}));var s=P(y&&Fe(y,function(){return e(n()+5e3)})||[],2),t=s[0],s=s[1];t&&t();function l(){return function(n,t,e){if(2<n.length)return e();for(var r=[],o=0;o<t.length;o++)r.push([t[o].start,0],[t[o].end,1]);for(o=0;o<n.length;o++)r.push([n[o],0]);r.sort(function(n,t){return n[0]-t[0]});for(var i=n.length,o=r.length-1;0<=o;o--){var u=P(r[o],2),a=u[0];switch(u[1]){case 0:i--;break;case 1:if(2<++i)return a}}return 0}(function(n){for(var t=Object.keys(n),e=[],r=0;r<t.length;r++){var o=n[t[r]];"number"==typeof o&&e.push(o)}return e}(u),i,n)}return s&&d.push(s),d.push(m[0](function(n){ze(n,o);var t=n.startTime,n=n.duration;e(t+n+5e3)})),d.push(g[0](function(n){var t=n.fetchStart,n=n.responseEnd;i.push({start:t,end:n}),e(l()+5e3)})),d.push(function(){o.length=0,i.length=0}),[o,l]}}var Je=function(n){var t,e,r,o,i,u,a,c,f=n.previousRect,s=n.currentRect,l=window.innerWidth*window.devicePixelRatio,d=window.innerHeight*window.devicePixelRatio;return(t=Math.max(s.left,f.left),e=Math.min(s.right,f.right),r=Math.max(s.top,f.top),o=Math.min(s.bottom,f.bottom),r=o-r,r=(t=e-t)<=0||r<=0?0:t*r,Math.min((s.width*s.height+f.width*f.height-r)/(d*l),1))*(i=0===s.x&&0===s.y&&0===s.width&&0===s.height?{x:s.x,y:d}:{x:s.x,y:s.y},u=i.x,a=i.y,c=0===f.x&&0===f.y&&0===f.width&&0===f.height?{x:f.x,y:d}:{x:f.x,y:f.y},i=c.x,c=c.y,a=Math.max(Math.abs(u-i),Math.abs(a-c)),c=Math.max(l,d),Math.min(a/c,1))},Ye="first-contentful-paint",$e="first-paint",Qe="paint",Ve=function(o,n,t,i,e){var e=P(e,3),r=e[0],u=e[1],a=e[2],c=on(),f=tn(),s=Z(),l=De(n,0),d=Ne(Pe,t,i);if(!f||!c||!s)return l.isSupport=!1,void d(l);function p(){if(ce(s))return l.isSupport=!1,void d(l);function t(n){var t=n.startTime,n=He();l.value=t<n?0:t-n,d(l)}var n,e,r=(0,P(wn(f),5)[4])(o)[0];r?t(r):(i.push(Qn(c,function(n){n.name===o&&t(n)},[Qe])),r=a(),i.push(r[0](function(){l.isBounced=!0,d(l)})),n=function(n){n&&d(l)},e=u(),i.push(function(){return e[1](n)}),e[0](n))}i.push(function(){return r[1](p)}),r[0](p)},Ke=["fp",function(n,t,e){return Ve($e,"fp",n,t,e)}],Ze=["fcp",function(n,t,e){return Ve(Ye,"fcp",n,t,e)}],nr=function(n,t,e,r){var o=P(e,5),i=o[0],u=o[1],a=o[2],c=o[3],f=o[4],s=De("tti",0),l=Ne(Pe,n,t),e=tn(),o=on(),n=r||{},r=n.entries,d=void 0===r?[]:r,p=n.observer;if(t.push(function(){p&&p.disconnect(),d.length=0}),!window||!XMLHttpRequest||!e||!o||o.supportedEntryTypes&&!E(o.supportedEntryTypes||[],Yn[0]))return s.isSupport=!1,void l(s);var n=P(wn(e),5),v=n[0],h=n[1],m=n[4],o=P(We(h),3),e=o[0],n=o[1],g=o[2],c=P(Ge(t,[i,u,a,c,rn()],d)(g,h),2),y=c[0],b=c[1];t.push(n);function _(n){var t=m(Ye)[0];if(!(t=function(n,t,e,r,o){if(r-e<5e3)return null;o=0===o.length?n:o[o.length-1].end;return r-o<5e3?null:Math.max(o,t)}((t?t.startTime:Xe(v))||0,Xe(v)||0,b(),h(),y)))return g(h()+1e3);n(t)}function w(n){s.value=n,l(s)}n=y[y.length-1];e(function(){return _(w)},Math.max(b()+5e3,n?n.end:0)),t.push(f[0](function(){s.isSupport=!1,l(s)}))},tr="tti";function er(n,e,t,r){if(!n||-1<r.indexOf(n.tagName))return 0;var o=n.children;if((o=[].slice.call(void 0===o?[]:o).reduceRight(function(n,t){return n+er(t,e+1,0<n,r)},0))<=0&&!t){if(!x(n.getBoundingClientRect))return 0;t=n.getBoundingClientRect()||{},n=t.top,t=t.height;if(n>window.innerHeight||t<=0)return 0}return o+1+.5*e}var rr=["SCRIPT","STYLE","META","HEAD"],or=function(n,e,t){var r=P(t,2),o=r[0],i=r[1],u=Z(),a=rn(),c=tn(),f=c&&c.timing&&c.timing.navigationStart||void 0,s=De("fmp",0),l=Ne(Pe,n,e);if(!u||!a||!f)return s.isSupport=!1,void l(s);function d(){return y.push({time:V()-g,score:er(u&&u.body,1,!1,rr)})}function p(n){void 0===n&&(n=0);var t,e=(e=(t=P(void 0===(e=y)?[]:e))[0],(t=t.slice(1))&&t.reduce(function(n,t){var e=P(n,2),r=e[0],n=e[1],e=t.score-r.score;return[t,t.time>=r.time&&n.rate<e?{time:t.time,rate:e}:n]},[e,{time:null==e?void 0:e.time,rate:0}])[1].time||0);s.value=e?e+n:0,l(s),y.length=0}var v,h,m,g=V(),y=[],t=function(){if(K()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}(),r=function(){if(K()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}(),b=P((c=u,n=r,r=!0,h=!x(t=t)||r&&c&&c.hidden?function(n){return n(0),0}:t,m=x(n)?n:B,[function(n){v&&m(v),v=h(n)},h,m]),1)[0],n=P(dn(a,function(){return b(d)}),2),a=n[0],n=n[1],_=g-(f||0);a(u,{subtree:!0,childList:!0}),e.push(n),e.push(i[0](function(){s.isSupport=!1,l(s)})),e.push(o[0](function(){var n,t;n=window.setTimeout(function(){p(_)},200),t=e,n&&t.push(function(){return clearTimeout(n)})}))},ir="fmp",ur={renderType:"CSR"};var ar=["keydown","click"],cr=["lcp",function(n,o,t){var t=P(t,3),e=t[0],i=t[1],u=t[2],a=on(),c=Z(),f=De("lcp",0),s=Ne(Pe,n,o);if(!a||!c)return f.isSupport=!1,void s(f);function r(){if(ce(c))return f.isSupport=!1,void s(f);function t(){setTimeout(function(){s(f)},0)}o.push(Vn(a,function(n){var t=n.startTime,e=n.element,n=He();if(f.value=t<n?0:t-n,e)try{f.extra={element:Tn(e)}}catch(n){}},"largest-contentful-paint")),ar.forEach(function(n){o.push(jn(c,n,t,!0))});var n=u();function e(n){n&&s(f)}o.push(n[0](function(){0===f.value&&(f.isBounced=!0),s(f)}));var r=i();o.push(function(){return r[1](e)}),r[0](e)}o.push(function(){return e[1](r)}),e[0](r)}],fr=["cls",function(n,t,e){var r=P(e,4),o=r[1],i=r[2],e=r[3],r=on(),u=De("cls",0),a=Me(n);if(!r)return u.isSupport=!1,void a(u);var c,f,s,n=P((f=[],s=void(c=0),[function(){c=0},function(n,t){var e,r;t.hadRecentInput||(e=f[0],r=f[f.length-1],s=c&&t.startTime-r<1e3&&t.startTime-e<5e3?(c+=t.value,f.push(t.startTime),t.value>s.value?t:s):(c=t.value,f=[t.startTime],t),n(c,s))}]),2),l=n[0],n=n[1].bind(null,function(n,t){if(n>u.value){u.value=n;try{var e=Ue(t);u.extra=e?{element:Tn(e)}:void 0}catch(n){}}});t.push(Vn(r,n,"layout-shift"));o=o();t.push(o[0](function(n){n&&l()}));e=e();t.push(e[0](function(n){a(u,n),l(),u=De("cls",0)}));i=i();t.push(i[0](function(){a(u)}))}],sr="event",lr=["inp",function(n,t,e){var r=P(e,4),e=r[0],o=r[2],i=r[3],u=on(),a=function(){if(K()&&x(window.PerformanceEventTiming))return window.PerformanceEventTiming}(),r=tn(),c=De("inp",0),f=Me(n);if(!u||!a||!r)return c.isSupport=!1,void f(c);function s(){g=_(),y=[],b={}}function l(n){var t=y[y.length-1],e=b[n.interactionId],r=!y.length||n.duration>y[0].latency;(e||y.length<10||n.duration>t.latency)&&(e?(e.entries.push(n),e.latency=Math.max(e.latency,n.duration),r&&!e.element&&n.target&&(e.element=Tn(n.target))):(e={id:n.interactionId,latency:n.duration,entries:[n]},r&&n.target&&(e.element=Tn(n.target)),b[e.id]=e,y.push(e)),y.sort(function(n,t){return t.latency-n.latency}),y.splice(10).forEach(function(n){delete b[n.id]}))}function d(){var n=(n=Math.min(y.length-1,Math.floor(w()/50)),y[n]);n&&(c.value=n.latency,n.element?c.extra={element:n.element}:(n=n.entries[0].target)&&(c.extra={element:Tn(n)}))}function p(t){t.interactionId&&l(t),"first-input"!==t.entryType||y.some(function(n){return n.entries.some(function(n){return t.duration===n.duration&&t.startTime===n.startTime})})||l(t)}var v,h,m,g=0,y=[],b={},_=P((h=1/(v=0),m=0,t.push(Vn(u,function(n){n.interactionId&&(h=Math.min(h,n.interactionId),m=Math.max(m,n.interactionId),v=m?(m-h)/7+1:0)},sr,0)),[function(){return v}]),1)[0],w=function(){return _()-g};t.push(e[0](function(){t.push(Vn(u,p,sr,40)),"interactionId"in a.prototype&&t.push(Vn(u,p,"first-input"));var n=i();t.push(n[0](function(n){d(),f(c,n),s(),c=De("inp",0)}));n=o();t.push(n[0](function(){d(),f(c)})),t.push(s)}))}],dr="longtask",pr=[dr,function(t,n,e){e=P(e,4)[3];n.push(e[0](function(n){t({ev_type:ft,payload:{type:"perf",longtasks:[n]}})}))}],vr=["timing",function(n,e,t){var r=P(t,3),o=r[0],i=r[1],t=r[2],r=tn(),r=P(wn(r),3),u=r[0],a=r[1],c=r[2],f=Ne(function(n){var t=c("navigation")[0],e=t&&t.responseStart;return(!e||e<=0||e>a())&&(t=void 0),{ev_type:ct,payload:{isBounced:n,timing:u,navigation_timing:t}}},n,e);e.push(t[0](function(){f(!0)}));function s(){function n(){f(!1)}var t=i();e.push(function(){return t[1](n)}),t[0](n)}e.push(function(){return o[1](s)}),o[0](s)}];lr[0];function hr(n,t){return~br.indexOf(n.tagName)||wr<t}function mr(n){return{width:(n=n.getBoundingClientRect()).width,height:n.height,top:n.top}}function gr(n){return n?document.querySelector(n):document.body}function yr(e,r,n,o){if(void 0===r&&(r=0),void 0===n&&(n=0),void 0===o&&(o=1.5),!e||hr(e,r)||o<=n)return n;var t=function(){if(!r)return 0;var n=mr(e),t=n.top,n=n.height;return t>innerHeight||n<=0?0:1/(1<<r-1)}();return[].reduceRight.call(e.children,function(n,t){return yr(t,r+1,n,o)},n+t)}var br=["SCRIPT","STYLE","META","HEAD"],_r=[et,rt,ot],wr=4,xr=[at,ft,ct,ut];function Er(n){var e=n.cb,t=n.screenshotUrl,r=n.window,o=n.document,i=n.mask,u=n.partialShot,a=n.quality,c=n.rootSelector;if(K()&&"Promise"in window&&Promise&&r&&o){if(r.html2canvas)return f(),0;n=o.createElement("script");n.src=t,n.crossOrigin="anonymous",n.onload=f,n.onerror=function(){e()},null!==(t=o.head)&&void 0!==t&&t.appendChild(n)}function f(){var t;((t=r).requestIdleCallback||function(n){return t.setTimeout(n,1)})(function(){r.html2canvas&&r.html2canvas(u&&c&&o.querySelector(c)||o.body,{scale:360/r.innerWidth,mask:i,useCROS:!0}).then(function(n){e("data:image"===(n=n.toDataURL("image/jpeg",a)).slice(0,10)?n:Sr())}).catch(function(){e(Sr())})})}}function Sr(n,t){void 0===n&&(n=192),void 0===t&&(t=108);var e=document.createElement("canvas");e.width=n,e.height=t;var r=e.getContext("2d");return r&&(r.fillStyle="#ffffff",r.fillRect(0,0,n,t)),e.toDataURL("image/jpeg")}var Tr=function(e,r,n,t){function o(n,t){M||(u=A())&&(M=!0,r.forEach(function(n){return n()}),r.length=0,e({ev_type:st,payload:{timestamp:u[0],score:u[1],screenshot:t,error:a,serialized_dom:function e(n,r,t){if(void 0===r&&(r=0),void 0===t&&(t=!0),!n||hr(n,r))return"";var o=N(N({},mr(n)),{id:n.getAttribute("id"),class:n.getAttribute("class")}),i=Object.keys(o).reduce(function(n,t){return n+(H(o[t])||o[t]?" "+t+'="'+o[t]+'"':"")},""),u=n.tagName.toLowerCase(),n=[].reduce.call(n.children,function(n,t){return n+e(t,r+1,!1)},"");return"<"+u+i+(t?' innerHeight="'+innerHeight+'" visibilityState="'+document.visibilityState+'"':"")+">"+n+"</"+u+">"}(gr(_))},overrides:{timestamp:n||u[0]}}))}function i(){s&&clearTimeout(s),c&&clearTimeout(c),c=j.setTimeout(function(){f=O(function(){(u=A())&&D()})},1e3)}var u,a,c,f,s,l,d,p=P(n,5),v=p[0],h=p[1],m=p[2],g=p[3],y=p[4],b=t.threshold,n=t.screenshot,_=t.rootSelector,p=t.autoDetect,w=t.ssUrl,x=t.quality,E=t.mask,S=t.partialShot,T=t.initDetTime,R=t.runDetTime,j=K(),k=Z(),O=j.requestAnimationFrame||B,C=j.cancelAnimationFrame||B,L=P(wn(performance),2)[1],I=0,M=!1,q=!n,A=function(){var n=gr(_);if(n){n=yr(n,0,0,b);return n<b?[V(),n]:void 0}},D=(l=function(){u&&!M&&(q?o():(q=!0,Er({cb:o.bind(null,V()),screenshotUrl:w,window:j,document:k,mask:E,partialShot:S,quality:x,rootSelector:_})))},function(){s&&clearTimeout(s),d=V(),s=j.setTimeout(function(){(d<I?i:l)()},1e4<L()?R:T)});return r.push(y[0](function(){a&&o()})),p&&r.push(v[0](function(){var n=h();r.push(n[0](function(){var n=P(dn(rn(),i),2),t=n[0],e=n[1];r.push(function(){clearTimeout(c),clearTimeout(s),C(f),e&&e()}),t(null===(t=Z())||void 0===t?void 0:t.body,{subtree:!0,childList:!0}),r.push(m()[0](function(){c&&i()})),r.push(g()[0](function(){c&&i()})),i()}))})),[function(n){M||~xr.indexOf(n.ev_type)||(I=V(),a=function(n,t){if(-1===_r.indexOf(t.ev_type))return n;if(t.ev_type===rt&&t.payload.response.status<400)return n;if(n&&_r.indexOf(n.type)<_r.indexOf(t.ev_type))return n;var e="";switch(t.ev_type){case et:e=t.payload.error.message;break;case rt:e=t.payload.request.url;break;case ot:e=t.payload.url}return{type:t.ev_type,message:e,timestamp:V()}}(a=a&&1e4<I-a.timestamp?void 0:a,n))},i]},Rr="blankScreen";var jr={entries:[],observer:void 0},kr="performance";function Or(e){function r(n){var t=Ar(n);t&&((n=Hn(r))&&(t.stacks=n),e.report({ev_type:ut,payload:t,extra:{timestamp:V()}}))}e.provide("sendEvent",r),e.provide("sendLog",function(n){n=Dr(n);n&&e.report({ev_type:ut,payload:n,extra:{timestamp:V()}})})}function Cr(n,t){var e=n.common||{};return e.sample_rate=t,n.common=e,n}function Lr(n,t,e,r,o){return n?(i=o(r,t),function(){return i}):function(){return e(t)};var i}function Ir(n,t,e,r){if(void 0===(n=l(n,t,function(n,t){return n[t]})))return!1;var o,t="boolean"==typeof n?"bool":H(n)?"number":"string";return function(n,t,e){switch(e){case"eq":return E(t,n);case"neq":return!E(t,n);case"gt":return n>t[0];case"gte":return n>=t[0];case"lt":return n<t[0];case"lte":return n<=t[0];case"regex":return Boolean(n.match(new RegExp(t.join("|"))));case"not_regex":return!n.match(new RegExp(t.join("|")));default:return!1}}(n,(o=t,r.map(function(n){switch(o){case"number":return Number(n);case"boolean":return"1"===n;default:return String(n)}})),e)}function Mr(t,n){try{return"rule"===n.type?Ir(t,n.field,n.op,n.values):"and"===n.type?n.children.every(function(n){return Mr(t,n)}):n.children.some(function(n){return Mr(t,n)})}catch(n){return ln(n),!1}}function qr(){var e=K();return e&&e.navigator.sendBeacon?{get:function(){},post:function(n,t){e.navigator.sendBeacon(n,t)}}:{get:B,post:B}}var Ar=function(n){if(n&&w(n)&&n.name&&h(n.name)){var t={name:n.name,type:"event"};if("metrics"in n&&w(n.metrics)){var e=n.metrics,r={};for(o in e)H(e[o])&&(r[o]=e[o]);t.metrics=r}if("categories"in n&&w(n.categories)){var o,i=n.categories,u={};for(o in i)u[o]=c(i[o]);t.categories=u}return"attached_log"in n&&h(n.attached_log)&&(t.attached_log=n.attached_log),t}},Dr=function(n){if(n&&w(n)&&n.content&&h(n.content)){var t={content:c(n.content),type:"log",level:"info"};if("level"in n&&(t.level=n.level),"extra"in n&&w(n.extra)){var e,r=n.extra,o={},i={};for(e in r)H(r[e])?o[e]=r[e]:i[e]=c(r[e]);t.metrics=o,t.categories=i}return"attached_log"in n&&h(n.attached_log)&&(t.attached_log=n.attached_log),t}},Nr=function(n){var t=un(),e=an(t);t&&(t.onchange=function(){e=an(t)}),n.on("report",function(n){return N(N({},n),{extra:N(N({},n.extra||{}),{network_type:e})})})},Pr=function(n,t,e,r,o){if(!t)return _;var i=t.sample_rate,u=t.include_users,a=t.sample_granularity,c=t.rules,t=t.r,t=void 0===t?Math.random():t;if(E(u,n))return function(n){return Cr(n,1)};var f,s,l,d,p,v,h,m="session"===a,g=Lr(m,i,e,t,r),y=(f=c,s=m,l=i,d=e,p=t,v=r,h={},Object.keys(f).forEach(function(n){var t=f[n],e=t.enable,r=t.sample_rate,t=t.conditional_sample_rules;e?(h[n]={enable:e,sample_rate:r,effectiveSampleRate:r*l,hit:Lr(s,r,d,p,v)},t&&(h[n].conditional_hit_rules=t.map(function(n){var t=n.sample_rate,n=n.filter;return{sample_rate:t,hit:Lr(s,t,d,p,v),effectiveSampleRate:t*l,filter:n}}))):h[n]={enable:e,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),h);return function(n){if(!g())return m&&o[0](),!1;if(!(n.ev_type in y))return Cr(n,i);if(!y[n.ev_type].enable)return m&&o[1](n.ev_type),!1;if(null!==(t=n.common)&&void 0!==t&&t.sample_rate)return n;var t=y[n.ev_type],e=t.conditional_hit_rules;if(e)for(var r=0;r<e.length;r++)if(Mr(n,e[r].filter))return!!e[r].hit()&&Cr(n,e[r].effectiveSampleRate);return t.hit()?Cr(n,t.effectiveSampleRate):(e&&e.length||!m||o[1](n.ev_type),!1)}};function Br(n){n=new Error(n);return n.name="RequestNetworkError",n}function Hr(n,t,e){var r=t.url,o=t.data,i=t.success,u=void 0===i?B:i,a=void 0===(i=t.fail)?B:i,c=void 0===(i=t.getResponseText)?B:i,t=void 0!==(t=t.withCredentials)&&t;(e=new e).withCredentials=t,e.open(n,r,!0),e.setRequestHeader("Content-Type","application/json"),e.onload=function(){null!=c&&c(this.responseText);try{var n;400<=this.status?a((t=this.responseText||this.statusText,(t=new Error(t)).name="ReqeustServerError",t)):this.responseText?(n=JSON.parse(this.responseText),u(n)):u({})}catch(n){a(n)}var t},e.onerror=function(){a(Br("Network request failed"))},e.onabort=function(){a(Br("Network request aborted"))},e.send(o)}function Ur(e){var n,r,o,i,u,t,a,c,f,s,l=(i=(n=e).transport,u=e.endpoint,t=e.size,a=void 0===t?10:t,c=void 0===(n=e.wait)?1e3:n,f=[],s=0,{getSize:function(){return a},getWait:function(){return c},setSize:function(n){a=n},setWait:function(n){c=n},getEndpoint:function(){return u},setEndpoint:function(n){u=n},send:function(n){f.push(n),f.length>=a&&d.call(this),clearTimeout(s),s=setTimeout(d.bind(this),c)},flush:function(){clearTimeout(s),d.call(this)},getBatchData:function(){return f.length?v(f):""},clear:function(){clearTimeout(s),f=[]},fail:function(n){r=n},success:function(n){o=n}});function d(){var t;f.length&&(t=this.getBatchData(),i.post({url:u,data:t,fail:function(n){r&&r(n,t)},success:function(){o&&o(t)}}),f=[])}var p=l.send;return kn(function(){var t,n;e.transport.useBeacon?(t=qr(),(n=l.getBatchData())&&(t.post(l.getEndpoint(),n),l.clear()),l.send=function(n){t.post(l.getEndpoint(),v([n]))},On(function(){l.send=p})):l.flush()}),l}var Wr="2.10.1",Fr="APM_PLUS_WEB",Xr="/settings/get/webpro",zr="/monitor_web/collect",Gr="APMPLUS",Jr=[zr,Xr,"/monitor_browser/collect"],Yr="session",$r={sample_rate:1,include_users:[],sample_granularity:Yr,rules:{}},Qr=20;function Vr(n,t){return n.plugins.filter(function(n){return n.name===t&&n.version===Wr})[0]}function Kr(n,t,e){(e=void 0===e?_n(K()):e)&&e.plugins&&(Vr(e,n)||e.plugins.push({name:n,version:Wr,apply:t}))}function Zr(r){r.provide("reloadPlugin",function(n,t){var e;r.destroyAgent.has(n)&&r.destroyAgent.remove(n),void 0!==t&&r.set({plugins:N(N({},r.config().plugins),((e={})[n]=t,e))}),r.config().plugins[n]&&function(n,t,e){void 0===e&&(e=_n(K()));if(e){e=Vr(e,t);if(e)try{if(n.destroyAgent.has(t))return;e.apply(n)}catch(n){T("[loader].applyPlugin failed",t,n)}else T("[loader].applyPlugin not found",t)}}(r,n)})}var no={build:function(n){return{ev_type:n.ev_type,payload:n.payload,common:N(N({},n.extra||{}),n.overrides||{})}}};function to(n){var t,e=n.plugins||{};for(t in e)e[t]&&!w(e[t])&&(e[t]={});return N(N({},n),{plugins:e})}function eo(n){return w(n)&&"aid"in n}function ro(n){return N({},n)}function oo(){var n=K(),t=Z();if(n&&t)return(null===(t=null===(t=null===(t=function(){if(!document)return null;if(document.currentScript)return document.currentScript;try{throw new Error}catch(n){var t=0,e=/at\s+(.*)\s+\((.*):(\d*):(\d*)\)/i.exec(n.stack),r=e&&e[2]||!1,o=e&&e[3]||0,i=document.location.href.replace(document.location.hash,""),u="",a=document.getElementsByTagName("script");for(r===i&&(e=document.documentElement.outerHTML,o=new RegExp("(?:[^\\n]+?\\n){0,"+(o-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),u=e.replace(o,"$1").trim());t<a.length;t++){if("interactive"===a[t].readyState)return a[t];if(a[t].src===r)return a[t];if(r===i&&a[t].innerHTML&&a[t].innerHTML.trim()===u)return a[t]}return null}}())||void 0===t?void 0:t.getAttribute("src"))||void 0===t?void 0:t.match(/globalName=(.+)$/))||void 0===t?void 0:t[1])||Fr}function io(n,t){void 0===n&&(n=0);var e={userId:L(),deviceId:L(),r:Math.random()};return t<=0?e:(function(n,t){try{var e=localStorage.getItem(n);if(!e||!Cn()||"{"!==e[0])return;qn(n,JSON.parse(e),t)}catch(n){}}(n=Gr+n,t),Mn(n)||e)}var uo=function(n,t){return void 0===t&&(t=zr),(n&&0<=n.indexOf("//")?"":"https://")+n+t},ao=L,co=function(n){try{var t=localStorage.getItem(n);return t?JSON.parse(t):null}catch(n){return null}},fo=function(n,t){try{localStorage.setItem(n,JSON.stringify(t))}catch(n){}},so=function(n){return Gr+"__cache__server__config__"+String(n)},lo=function(t){var c,f,s,l=t,d={},p=B,e=B;return{getConfig:function(){return l},setConfig:function(n){function e(){var n,t;r.get({withCredentials:!0,url:(void 0===t&&(t=Xr),((n=o)&&0<=n.indexOf("//")?"":"https://")+n+t+"?aid="+i),success:function(n){n=n.data||{};!function(n,t){n=so(n);fo(n,t)}(i,n),u(n)},fail:function(){var n;(a+=1)<3?e():(null==(n=function(n){n=so(n);return co(n)}(i))||delete n.timestamp,u(n||{sample:{sample_rate:0}}))}})}var r,o,i,u,a;return d=N(N({},d),n||{}),v(),c||(c=n,l.useLocalConfig?(s={},p()):f?h():(r=l.transport,o=l.domain,i=l.aid,u=function(n){f=n,h()},a=0,e())),l},onChange:function(n){e=n},onReady:function(n){p=function(){!function(){t.userId!==l.userId&&(t.sample.r=Math.random(),v());!function(n){var t=n.aid,e=n.userId,r=n.deviceId,o=n.sample,n=n.storageExpires;qn(Gr+t,{userId:e,deviceId:r,r:o.r},An(n))}(l)}(),n()},s&&p()}};function v(){var n=N(N(N({},t),s||{}),d);n.plugins=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e={},r=0;r<n.length;)e=m(e,n[r++]);return e}(t.plugins,(null==s?void 0:s.plugins)||{},d.plugins||{}),n.sample=po(po(t.sample,null==s?void 0:s.sample),d.sample),l=n,e()}function h(){s=function(n){if(!n)return{};var t=n.sample,e=n.timestamp,r=n.status,o=n.apdex;if(!t)return{};var i=t.sample_rate,u=t.sample_granularity,n=t.include_users,t=t.rules;return{sample:{include_users:n,sample_rate:r&&4===r?0:i,sample_granularity:void 0===u?Yr:u,rules:(void 0===t?[]:t).reduce(function(n,t){var e=t.name,r=t.enable,o=t.sample_rate,t=t.conditional_sample_rules;return n[e]={enable:r,sample_rate:o,conditional_sample_rules:t},n},{})},apdex:o,serverTimestamp:e}}(f),v(),p()}};function po(r,o){if(!r||!o)return r||o;var n=N(N({},r),o);return n.include_users=b(b([],P(r.include_users||[]),!1),P(o.include_users||[]),!1),n.rules=b(b([],P(Object.keys(r.rules||{})),!1),P(Object.keys(o.rules||{})),!1).reduce(function(n,t){var e;return t in n||(t in(r.rules||{})&&t in(o.rules||{})?(n[t]=N(N({},r.rules[t]),o.rules[t]),n[t].conditional_sample_rules=b(b([],P(r.rules[t].conditional_sample_rules||[]),!1),P(o.rules[t].conditional_sample_rules||[]),!1)):n[t]=(null===(e=r.rules)||void 0===e?void 0:e[t])||(null===(e=o.rules)||void 0===e?void 0:e[t])),n},{}),n}function vo(n){var t=(e=void 0===n?{}:n).createSender,n=e.builder,e=e.createDefaultConfig,r=F({validateInitConfig:eo,initConfigNormalizer:to,userConfigNormalizer:ro,createSender:void 0===t?function(n){return Ur({size:Qr,endpoint:uo(n.domain),transport:n.transport})}:t,builder:void 0===n?no:n,createDefaultConfig:void 0===e?Ro:e,createConfigManager:lo});X(r);var o,i,u,e=_n(K());return o=r,e=e&&e.subject,i=e||{},u={},o.provide("setFilter",function(n,t){u[n]||(u[n]=[]),u[n].push(t)}),o.provide("initSubject",function(n){var t=P(n,2),e=t[0],n=t[1],t=J(e),t=!!t&&u[t];return i[e]||(i[e]=A(n,function(){i[e]=void 0})),t?Q(o,[e,M(i[e],t)]):i[e]}),o.provide("getSubject",function(n){return i[n]}),o.provide("privateSubject",{}),Eo(r),So(r),mo(r),Nr(r),To(r),G(e=z(r,xn,function(n,t,e){return En(n,t)(function(){var n=P(e),t=n[0],n=n.slice(1);r[t].apply(r,b([],P(n),!1))})}),Kr),e}function ho(n){var e,i,t,r,u,o=vo(n=void 0===n?{}:n);return(e=o).on("start",function(){var n=e.config(),t=n.userId,n=n.sample,n=Pr(t,n,k,O,[function(){e.destroy()},function(n){e.destroyAgent.removeByEvType(n)}]);e.on("build",n)}),i=o,r=yo(t=void 0===t?go:t),n=bo(t),u=_o(i,r,t),null!==(t=i.p)&&void 0!==t&&t.a&&"observe"in i.p.a&&i.p.a.observe(function(n){var t=P(n,5);t[0];var e=t[1],r=t[2],o=t[3],n=t[4],t=i.config();xo(t,e)&&u(e,r,o,n)}),i.on("init",function(){var n,o=i.config();null!==(n=i.p)&&void 0!==n&&n.a.forEach(function(n){var t=P(n,5);t[0];var e=t[1],r=t[2],n=t[3],t=t[4];xo(o,e)&&u(e,r,n,t)}),i.p&&i.p.a&&(i.p.a.length=0),i.provide("precollect",function(n,t,e,r){void 0===e&&(e=V()),void 0===r&&(r=location.href),xo(o,n)&&u(n,t,e,r)})}),i.on("provide",wo(i,r,n)),Or(o),Object.keys(jo).forEach(function(n){Kr(n,jo[n]),jo[n](o)}),Zr(o),o.provide("create",ho),o}var mo=function(u){u.on("report",function(n){return t=n,e=u.config(),e=void 0===(e=(n=e||{}).pid)?"":e,n=void 0===(n=n.viewId)?"":n,n={url:sn(),timestamp:Date.now(),pid:e,view_id:n},N(N({},t),{extra:N(N({},n),t.extra||{})});var t,e}),u.on("init",function(){var n=u.config(),r=n.pid,o=n.viewId,i=u.getPreStartQueue();i.forEach(function(n,t){var e=n.extra||{};i[t]=N(N({},n),{extra:N(N({},e),{pid:e.pid||r,view_id:e.view_id||o})})})})},go={sri:"reportSri",st:"reportResourceError",err:"captureException",reject:"captureException"},yo=function(n){return Object.keys(n).reduce(function(n,t){return n[t]=[],n},{})},bo=function(e){return Object.keys(e).reduce(function(n,t){return n[e[t]]?n[e[t]].push(t):n[e[t]]=[t],n},{})},_o=function(o,i,u){return function(n,t,e,r){void 0===e&&(e=V()),void 0===r&&(r=location.href);r=N(N({},xn(o)),{url:r,timestamp:e});i[n]&&(o[u[n]]?En(o,r)(function(){o[u[n]](t)}):null!==(e=i[n])&&void 0!==e&&e.push([t,r]))}},wo=function(r,o,n){return function(e){e in n&&n[e].forEach(function(n){var t;null!==(t=o[n])&&void 0!==t&&t.forEach(function(n){var n=P(n,2),t=n[0],n=n[1];En(r,n)(function(){r[e](t)})}),o[n]=null})}},xo=function(n,t){return"err"===t?!1!==l(n,"plugins."+te+".onerror",function(n,t){return n[t]}):"reject"!==t||!1!==l(n,"plugins."+te+".onunhandledrejection",function(n,t){return n[t]})},Eo=function(e){var r,o=!1;e.on("init",function(){r=(new Date).getTime(),e.on("config",function(){var n,t=null===(n=e.config())||void 0===n?void 0:n.serverTimestamp;isNaN(t)||Number(t)<=0||o||(o=!0,(n=(new Date).getTime())-r<700&&t&&(n=t-(n+r)/2,!isNaN(n)&&(0<n||n<-6e5)&&e.set({offset:n})))})})},So=function(r){r.on("beforeBuild",function(n){return t=n,e=r.config(),(n={}).aid=e.aid,n.user_id=e.userId,N(N({},t),{extra:N(N({},n),t.extra||{})});var t,e})},To=function(c){c.on("start",function(){var e,n=c.config(),t=n.deviceId,r=n.sessionId,o=n.release,i=n.env,u=n.offset,a=n.aid,n=n.token,a={did:t,sid:r,release:o,env:i,sname:Fr,sversion:Wr,soffset:u||0,biz_id:a,x_auth_token:n},n=c.getSender();n.setEndpoint(n.getEndpoint()+(w(e=a)?Object.keys(e).reduce(function(n,t){return n+="&"+t+"="+e[t]},"").replace("&","?"):""))})},Ro=function(n){var t,e=An(n.storageExpires),n=io(n.aid,e);return{aid:0,pid:"",token:"",viewId:me("_"),userId:n.userId,deviceId:n.deviceId,sessionId:ao(),storageExpires:e,domain:"apmplus.volces.com",plugins:{ajax:{ignoreUrls:Jr},fetch:{ignoreUrls:Jr},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1},release:"",env:"production",sample:N(N({},$r),{r:n.r}),transport:(t=en())?{useBeacon:!0,get:function(n){Hr("GET",n,t)},post:function(n){Hr("POST",n,t)}}:{get:B,post:B}}},jo=((Co={})[Ee]=function(p){p.on("init",function(){var e,n,t,r,o,i,u,a,c,f,s,l,d=null===(r=p.config())||void 0===r?void 0:r.plugins[Ee];e=p,(l=In(n=d,Se))&&nn()&&(t=l.routeMode,i=l.apdex,c=e.report.bind(e),a=B,i&&(r=[],n=(d=P(xe(e.report.bind(e),r,[$(e,fe),$(e,le)],l),4))[0],o=d[1],i=d[2],u=d[3],c=i,a=n,e.on("send",o),r.push(function(){return e.off("send",o)}),e.on("start",function(){u(e.config().apdex)}),U(e,Ee,tt,r)),f=P(we(c,c=[],ge(t)?[]:[e.initSubject(ve),e.initSubject(he)],N(N({},l),{initPid:null===(l=e.config())||void 0===l?void 0:l.pid,onPidUpdate:function(n){var t=me(n);a(n,t),e.set({pid:n,viewId:t,actionId:void 0})}})),1)[0],Q(e,[yn,bn(e)],-1),s=function(){f(e.config().pid)},e.on("config",s),c.push(function(){return e.off("config",s)}),U(e,Ee,nt,c),e.provide("sendPageview",f))})},Co[_t]=function(o){o.on("init",function(){var n,t,e,c,f,s,l,d,p,r=bt(o,_t,wt);r&&(n=[],e=null===(t=o.config())||void 0===t?void 0:t.domain,(r=N(N({},r),{setContextAtReq:function(){return hn(o,!0)},setTraceHeader:Pn(r.trace,"apmplus.app_id="+(null===(t=o.config())||void 0===t?void 0:t.aid)+",apmplus.origin=web,apmplus.client_domain="+("string"==typeof e&&0<=e.indexOf("//")?"":"https://")+e)})).autoWrap&&(t=n,e=[$(o,[Un,zn(XMLHttpRequest&&XMLHttpRequest.prototype)]),function(){return $(o,Zn)}],c=r,r=P(e,2),e=r[0],f=r[1],s=c.setTraceHeader,l=c.ignoreUrls,d=c.setContextAtReq,p=c.extractUrl,t.push(e[0](function(n){var t=P(n,4);t[0];n=t[1];t[2];var e=t[3];if(!n)return B;var r,o=cn(n);if(y(l,o))return B;s&&s(o,function(n,t){return e.setRequestHeader(n,t)});var i=d(),u=void 0,a=f()[0](function(n){(o===n.name||r&&r===n.name)&&!u&&(u=n)});return function(n){r=n.responseURL;var t=yt(n,c);setTimeout(function(){u&&(t.response.timing=u),gt(t,p),i&&i({ev_type:rt,payload:t}),a()},100)}}))),U(o,_t,rt,n))})},Co[Pt]=function(o){o.on("init",function(){var n,t,e,s,l,d,p,v,h,m,g,r=bt(o,Pt,Bt);r&&(n=[],e=null===(t=o.config())||void 0===t?void 0:t.domain,(r=N(N({},r),{setContextAtReq:function(){return hn(o,!0)},setTraceHeader:Pn(r.trace,"apmplus.app_id="+(null===(t=o.config())||void 0===t?void 0:t.aid)+",apmplus.origin=web,apmplus.client_domain="+("string"==typeof e&&0<=e.indexOf("//")?"":"https://")+e)})).autoWrap&&(t=n,e=[$(o,Gn),function(){return $(o,Zn)}],s=r,r=P(e,2),e=r[0],l=r[1],d=s.setTraceHeader,p=s.ignoreUrls,v=s.setContextAtReq,h=s.extractUrl,m=window.Headers,(g=window.Request)&&m&&t.push(e[0](function(n){var r,n=P(n,2),o=n[0],i=n[1],t=cn(o instanceof g?o.url:o);if(!At(t)||y(p,t))return B;d&&d(t,function(n,t){return Dt(n,t,o,i,g,m)});var u=v(),a=V(),c=void 0,f=l()[0](function(n){(t===n.name||r&&r===n.name)&&!c&&(c=n)});return function(n){r=n&&n.url;var t=Nt(o,i,n,g,m,s,a),e=mt(function(n){c&&(n.response.timing=c),gt(n,h),u&&u({ev_type:rt,payload:n}),f()});setTimeout(function(){e(t)},1e3)}}))),U(o,Pt,rt,n))})},Co[tr]=function(e){e.on("init",function(){var n,t;bt(e,tr,{})&&(t=[],nr(hn(n=e),t,[$(n,[Un,zn(XMLHttpRequest&&XMLHttpRequest.prototype)]),$(n,Gn),$(n,Kn),$(n,Zn),Q(n,[mn,gn(n)])],n.pp),U(n,tr,at,t))})},Co[ir]=function(r){r.on("init",function(){var n,t,e=bt(r,ir,ur);e&&(n=r,t=[],"SSR"===(e=void 0===(e=e)?ur:e).renderType?Ve($e,ir,hn(n),t,[$(n,pe),function(){return $(n,fe)},function(){return $(n,le)}]):or(hn(n),t,[$(n,se),Q(n,[mn,gn(n)])]),U(n,ir,at,t))})},Co[Ot]=function(u){u.on("init",function(){var n,t,e,r,o,i=null===(o=u.config())||void 0===o?void 0:o.plugins[Ot];n=u,(o=In(t=i,Ct))&&(o=(t=P(kt(i=[],[$(n,Tt),$(n,jt)],o),2))[0],e=t[1],n.on("report",r=function(n){return n.ev_type===rt&&e({type:rt,category:n.payload.api,message:"",data:{method:n.payload.request.method,url:n.payload.request.url,status_code:String(n.payload.response.status)},timestamp:n.payload.request.timestamp}),n}),i.push(function(){n.off("report",r)}),U(n,Ot,et,i),n.provide("getBreadcrumbs",o),n.provide("addBreadcrumb",e))})},Co[te]=function(t){t.on("init",function(){var n=null===(n=t.config())||void 0===n?void 0:n.plugins[te];!function(t,n){window.removeEventListener("error",t.pcErr,!0),window.removeEventListener("unhandledrejection",t.pcRej,!0);var e=In(n,ee);e&&(e=ne(function(n){t.getBreadcrumbs&&(n.payload.breadcrumbs=t.getBreadcrumbs()),t.report(n)},n=[],[$(t,Kt),$(t,Zt),function(){return $(t,Vt)}],e),U(t,te,et,n),t.provide("captureException",e))}(t,n)})},Co[kr]=function(p){p.on("init",function(){var n=p.pp||jr;null!==(f=n.observer)&&void 0!==f&&f.disconnect();var e,t,r,o,i,u,a,c,f,s,l,d=bt(p,kr,{});d&&(e=function(){return $(p,pe)},t=function(){return $(p,fe)},r=function(){return $(p,le)},o=$(p,se),i=$(p,Kn),u=void 0,Q(p,[yn,bn(p)],-1)[0](function(n){u=n})(),a=function(n){n=n.ev_type===at&&(n.payload.name===fr[0]||n.payload.name===lr[0])||n.ev_type===ft?n:N(N({},n),{overrides:u});p.report(n)},c=function(){return Q(p,[mn,gn(p)])},[Ke,Ze,cr,lr,fr].forEach(function(n){!1!==d[n[0]]&&(n[1](a,n=[],[e(),t,r,c]),U(p,kr,at,n))}),[pr,vr].forEach(function(n){var t;!1!==d[n[0]]&&(n[1](a,t=[],[o,e,r(),i]),n=n[0]===dr?ft:"timing"===n[0]?ct:at,U(p,kr,n,t))}),f=(s=P(qe(p.report.bind(p)),2))[0],s=s[1],p.provide("performanceInit",f),p.provide("performanceSend",s),n.entries.length=0,l=function(n){var t=N(N(N({},Ae),n),{isCustom:!0}),n=Hn(l);n&&Object.assign(t,{stacks:n}),p.report(Pe(t))},p.provide("sendCustomPerfMetric",l))})},Co[Le]=function(r){r.on("init",function(){var n,t,e=null===(t=r.config())||void 0===t?void 0:t.plugins[Le];n=r,(e=In(t=e,Ie))&&(t=[],e=Ce(n.report.bind(n),t,[$(n,Kt)],e),U(n,Le,ot,t),e&&n.provide("reportResourceError",e))})},Co[je]=function(r){r.on("init",function(){var n,t,e=null===(t=r.config())||void 0===t?void 0:t.plugins[je];n=r,(e=In(t=e,ke))&&(t=[],Re(n.report.bind(n),t,[$(n,se),function(){return $(n,Zn)}],e),U(n,je,it,t))})},Co[Rr]=function(u,a){u.on("init",function(){var n,t,e,r,o={autoDetect:!0,threshold:1.5,screenshot:!0,ssUrl:"https://apm.volccdn.com/mars-web/apmplus/web/html2canvas.min.js",mask:!1,partialShot:!0,quality:.1,initDetTime:8e3,runDetTime:4e3},i=a?In(a,o):bt(u,Rr,o);i&&(n=u,t=i,o=Z(),i=K(),o&&i&&(i=[],t=P(Tr(n.report.bind(n),i,[$(n,pe),function(){return $(n,de)},function(){return $(n,Kn)},function(){return $(n,Zn)},$(n,le)],t),2),e=t[0],t=t[1],n.on("report",r=function(n){return e(n),n}),i.push(function(){n.off("report",r)}),U(n,Rr,st,i),n.provide("detectBlankScreen",t)))})},Co),ko=ho(),Oo=function(){var n=K(),t=oo();if(n&&t)return n[t]}();Oo&&["p","pp","pcErr","pcRej"].forEach(function(n){ko.provide(n,Oo[n])});var Co,Lo,Io,Mo,qo=K(),Ao=oo();qo&&Ao&&(Co=(null==(Co=qo[Ao])?void 0:Co.q)||[],qo[Ao]=ko,Co.forEach(function(n){var t,e;e=n,n=N(N({},xn(t=ko)),{url:e.pop(),timestamp:e.pop()}),En(t,n)(function(){t.apply(void 0,b([],P(e),!1))})}),Co.length=0,ko.p&&("observe"in ko.p.a&&console.warn("global precollect queue already updated"),ko.p.a=(Io=ko.p.a,Mo=[],Io.observe=function(n){Mo.push(n)},Io.push=function(){for(var n,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.forEach(function(t){Mo.forEach(function(n){return n(t)})}),(n=[].push).call.apply(n,b([Io],P(t),!1))},Io),(Lo=ko.precollect)&&ko.provide("precollect",function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];return ko.p.a.push(b(["precollect"],P(n),!1)),Lo.apply(void 0,b([],P(n),!1))})))}();
