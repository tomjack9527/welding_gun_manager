(()=>{var e,t,n,a,s,r,o,i,l,c,d={22544:function(e,t,n){var a={"./nl.tsx":["27578","28615"],"./kn.tsx":["71335","29644"],"./uk.tsx":["63592","42737"],"./tr.tsx":["93534","47731"],"./vi.tsx":["71779","89824"],"./ms.tsx":["99000","54113"],"./nb.tsx":["70112","75353"],"./fil.tsx":["72559","54340"],"./zh_HK.tsx":["86704","97225"],"./sk.tsx":["65446","2795"],"./hr.tsx":["26290","21679"],"./sr.tsx":["89155","1984"],"./ca.tsx":["54672","53449"],"./rm.tsx":["23675","29096"],"./hy.tsx":["73","73074"],"./fi.tsx":["14259","80112"],"./lo.tsx":["12615","65708"],"./km.tsx":["27492","24133"],"./ro.tsx":["709","97382"],"./en_GB.tsx":["33893","26534"],"./am.tsx":["66526","71219"],"./pt_PT.tsx":["39301","62982"],"./zh_CN.tsx":["75364"],"./en_ZA.tsx":["58857","80466"],"./ml.tsx":["27447","58908"],"./lt.tsx":["85964","9821"],"./en_CA.tsx":["3634","9231"],"./gl.tsx":["88309","85942"],"./el.tsx":["51551","13492"],"./ja.tsx":["78735","43108"],"./en_IN.tsx":["5679","91780"],"./cs.tsx":["55726","30083"],"./en_US.tsx":["52362"],"./it.tsx":["23923","42000"],"./ka.tsx":["61624","99585"],"./te.tsx":["41441","14874"],"./af.tsx":["2661","17542"],"./et.tsx":["65367","62684"],"./da.tsx":["7245","3710"],"./bn.tsx":["27256","96001"],"./kk.tsx":["76750","61091"],"./ky.tsx":["75696","84457"],"./mk.tsx":["74000","77225"],"./ne.tsx":["40935","74380"],"./en_AU.tsx":["55116","13725"],"./pt_BR.tsx":["92757","15958"],"./ru.tsx":["37683","45136"],"./sl.tsx":["40953","28098"],"./sw.tsx":["16338","38511"],"./az.tsx":["45057","4346"],"./mn.tsx":["11441","78826"],"./eu.tsx":["56690","93295"],"./ta.tsx":["88029","750"],"./pa.tsx":["37929","1874"],"./pl.tsx":["64496","19561"],"./id.tsx":["52131","81440"],"./lv.tsx":["34410","65271"],"./de.tsx":["2193","94186"],"./fr.tsx":["30504","32177"],"./sv.tsx":["50135","62076"],"./es_419.tsx":["61219","56192"],"./bg.tsx":["74845","6830"],"./fr_CA.tsx":["19653","24582"],"./zu.tsx":["38811","27496"],"./th.tsx":["82968","36897"],"./si.tsx":["28632","14753"],"./zh_Hant.tsx":["58456","18625"],"./hu.tsx":["35341","22142"],"./be.tsx":["15539","74864"],"./ko.tsx":["75042","55775"],"./mr.tsx":["45365","95734"],"./my.tsx":["75054","53859"],"./gu.tsx":["88656","36553"],"./es_US.tsx":["29601","27642"],"./es.tsx":["11920","81001"],"./is.tsx":["68324","6949"],"./en_SG.tsx":["65440","16185"],"./hi.tsx":["71865","85218"],"./ms_MY.tsx":["18607","8420"],"./sq.tsx":["12080","85225"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=22544,e.exports=s},84039:function(e,t,n){var a={"./lv.js":["55544","73825"],"./sr-cyrl.js":["53262","43363"],"./bi.js":["46495","75188"],"./id.js":["62051","61760"],"./he.js":["45045","28086"],"./kk.js":["5676","76701"],"./ar-ly.js":["27253","34326"],"./hr.js":["75024","37257"],"./ko.js":["63456","78713"],"./ar-dz.js":["84484","59013"],"./nl.js":["1704","64305"],"./tet.js":["25737","87986"],"./lb.js":["77108","16277"],"./de.js":["78057","10706"],"./zh-tw.js":["28924","74317"],"./de-at.js":["23603","86000"],"./tg.js":["32087","20796"],"./am.js":["98268","39789"],"./ky.js":["64230","44011"],"./kn.js":["53175","53884"],"./ss.js":["23932","59117"],"./hu.js":["75525","42886"],"./ar-iq.js":["68432","44201"],"./uk.js":["78798","59523"],"./se.js":["39242","80631"],"./pt-br.js":["31155","99440"],"./ar-sa.js":["57414","23275"],"./en-il.js":["10715","72712"],"./nb.js":["52694","2619"],"./hi.js":["12897","39418"],"./gl.js":["8221","55598"],"./mi.js":["18844","18285"],"./en-ie.js":["10860","27005"],"./ur.js":["23957","94998"],"./me.js":["2616","36769"],"./fy.js":["49955","85952"],"./ar.js":["65","29754"],"./ar-kw.js":["13608","7857"],"./fr-ca.js":["10983","42124"],"./de-ch.js":["75317","7894"],"./pa-in.js":["87021","77758"],"./eo.js":["58418","41903"],"./ro.js":["91981","63486"],"./te.js":["59769","61314"],"./tl-ph.js":["84555","43384"],"./zh.js":["53856","41785"],"./es-mx.js":["79086","34563"],"./it.js":["76115","87152"],"./zh-hk.js":["37020","50893"],"./da.js":["94021","79494"],"./fr-ch.js":["88728","37601"],"./uz-latn.js":["54983","53804"],"./bo.js":["65917","52238"],"./ht.js":["44806","13451"],"./lo.js":["81751","80220"],"./en-sg.js":["12816","50569"],"./ml.js":["23815","48492"],"./br.js":["25114","19047"],"./my.js":["88108","33949"],"./uz.js":["58237","27886"],"./tzm.js":["90393","2018"],"./zh-cn.js":["24188"],"./ne.js":["27575","38684"],"./gom-latn.js":["53563","58600"],"./az.js":["26361","24738"],"./bg.js":["54933","76822"],"./en-au.js":["49527","49413"],"./mr.js":["29085","37710"],"./gd.js":["68053","41686"],"./oc-lnc.js":["31854","31523"],"./yo.js":["44222","38963"],"./cv.js":["93591","91804"],"./lt.js":["1986","84319"],"./th.js":["15646","47859"],"./cs.js":["62444","14621"],"./es.js":["93702","86123"],"./bn.js":["39646","52723"],"./sr.js":["45219","52864"],"./sw.js":["87856","46921"],"./et.js":["64967","68684"],"./sv-fi.js":["16345","88930"],"./fa.js":["48827","88200"],"./gu.js":["2502","61675"],"./fo.js":["73113","77154"],"./bs.js":["95625","53458"],"./eu.js":["58096","21833"],"./ja.js":["24143","64516"],"./es-do.js":["12266","2711"],"./nl-be.js":["3420","37293"],"./tk.js":["61659","70920"],"./en-ca.js":["78454","82171"],"./tzm-latn.js":["43819","11096"],"./ug-cn.js":["70338","26047"],"./mn.js":["58793","55282"],"./pt.js":["19742","53619"],"./cy.js":["77150","18867"],"./ru.js":["12531","74256"],"./sq.js":["57638","23115"],"./ga.js":["55818","88311"],"./km.js":["68074","82551"],"./ku.js":["24994","97919"],"./tr.js":["31676","27949"],"./af.js":["96717","96574"],"./hy-am.js":["13116","18221"],"./x-pseudo.js":["45623","64188"],"./tlh.js":["57728","41561"],"./sd.js":["52025","44066"],"./is.js":["21898","45559"],"./sl.js":["25729","49082"],"./ms-my.js":["77189","55654"],"./jv.js":["89982","28531"],"./el.js":["59327","84852"],"./ka.js":["36734","80947"],"./bn-bd.js":["40553","29554"],"./en-gb.js":["45063","67404"],"./mk.js":["30310","1259"],"./sv.js":["28903","89324"],"./be.js":["56339","49392"],"./pl.js":["81414","12235"],"./rn.js":["65966","49859"],"./dv.js":["97216","54617"],"./si.js":["58942","30003"],"./en.js":["78145"],"./vi.js":["94371","94688"],"./en-in.js":["25661","83790"],"./es-us.js":["78379","18968"],"./es-pr.js":["16217","55714"],"./fi.js":["80371","59760"],"./bm.js":["50971","24808"],"./ca.js":["20998","81931"],"./ar-ma.js":["70516","23221"],"./ms.js":["47576","38195"],"./nn.js":["29522","63631"],"./ta.js":["82517","60310"],"./ar-tn.js":["72024","10561"],"./sk.js":["70740","74229"],"./rw.js":["27477","85334"],"./tzl.js":["77610","38583"],"./en-nz.js":["36894","66771"],"./mt.js":["25119","38484"],"./en-tt.js":["74","69239"],"./fr.js":["17454","35363"],"./it-ch.js":["95799","860"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=84039,e.exports=s},91639:function(e,t,n){var a={"./lv.js":["6016","55184"],"./th.js":["37897","48818"],"./cs.js":["93623","23164"],"./es.js":["11957","46006"],"./bn.js":["33853","50574"],"./sr.js":["22032","65705"],"./id.js":["40540","18797"],"./sw.js":["79395","55296"],"./zh_Hant.js":["9615","46436"],"./et.js":["71808","14969"],"./gu.js":["68001","28090"],"./kk.js":["86836","34892"],"./hr.js":["92227","64960"],"./ko.js":["21891","99872"],"./nl.js":["22543","86916"],"./ja.js":["77896","2417"],"./eu.js":["61527","90140"],"./de.js":["91838","85971"],"./en_AU.js":["5539","71072"],"./en_IN.js":["78278","20907"],"./en_ZA.js":["39168","73945"],"./hy.js":["59726","14371"],"./mn.js":["80218","7719"],"./ru.js":["39212","51805"],"./am.js":["35475","48432"],"./ky.js":["87577","38050"],"./kn.js":["82780","45805"],"./sq.js":["6569","2546"],"./km.js":["12517","53030"],"./state.js":["21372"],"./hu.js":["88538","35271"],"./tr.js":["88767","54196"],"./uk.js":["84413","77358"],"./af.js":["18782","51763"],"./en_CA.js":["80289","89626"],"./es_419.js":["53352","87409"],"./zh_CN.js":["42755"],"./zh_HK.js":["47051","55672"],"./en_SG.js":["44971","28120"],"./is.js":["68633","20098"],"./available.js":["11370"],"./sl.js":["93118","32435"],"./nb.js":["17797","38246"],"./hi.js":["5950","42099"],"./gl.js":["67450","2183"],"./el.js":["44888","32129"],"./pt_PT.js":["87092","67157"],"./ka.js":["80369","64362"],"./mk.js":["83045","10918"],"./ro.js":["750","87203"],"./es_US.js":["27060","30421"],"./be.js":["19052","77437"],"./pa.js":["83742","9395"],"./sv.js":["74460","61549"],"./pl.js":["27865","22850"],"./fr_CA.js":["2972","77197"],"./te.js":["54926","77155"],"./si.js":["76257","51514"],"./en_GB.js":["16156","74253"],"./it.js":["67788","42909"],"./da.js":["90994","10703"],"./vi.js":["65852","30381"],"./ms_MY.js":["23206","10571"],"./fi.js":["23852","14653"],"./ca.js":["33161","15730"],"./lo.js":["64676","93701"],"./ml.js":["368","17193"],"./ms.js":["21021","40910"],"./my.js":["11443","38064"],"./ta.js":["18594","43999"],"./zu.js":["92084","83349"],"./sk.js":["80735","81748"],"./fil.js":["66866","6799"],"./ne.js":["17296","16265"],"./az.js":["1370","44935"],"./bg.js":["30806","4891"],"./mr.js":["94750","41395"],"./pt_BR.js":["20832","16665"],"./en_US.js":["25885"],"./rm.js":["20516","37765"],"./fr.js":["11405","63678"],"./lt.js":["99125","36342"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=91639,e.exports=s},70120:function(e,t,n){var a={"./lv.js":["46660","14533"],"./th.js":["64130","13375"],"./cs.js":["3880","60753"],"./es.js":["28586","67415"],"./bn.js":["7922","89839"],"./sr.js":["27311","59044"],"./id.js":["47319","61532"],"./sw.js":["51236","773"],"./zh_Hant.js":["86986","41175"],"./et.js":["48627","97104"],"./gu.js":["21730","7167"],"./kk.js":["18856","33969"],"./hr.js":["95596","62557"],"./ko.js":["77652","87413"],"./nl.js":["16116","62485"],"./ja.js":["2491","26856"],"./eu.js":["40524","37309"],"./de.js":["89429","89846"],"./en_AU.js":["22870","20795"],"./en_IN.js":["2099","89040"],"./en_ZA.js":["43485","21985"],"./hy.js":["10397","35694"],"./mn.js":["55493","38694"],"./ru.js":["62839","43580"],"./am.js":["73104","11593"],"./ky.js":["25826","12927"],"./kn.js":["34651","84648"],"./sq.js":["13474","83743"],"./km.js":["65854","43187"],"./state.js":["72337"],"./hu.js":["47481","22786"],"./tr.js":["18944","10521"],"./uk.js":["57362","63055"],"./af.js":["72049","93066"],"./en_CA.js":["7356","54637"],"./es_419.js":["67719","43212"],"./zh_CN.js":["84078"],"./zh_HK.js":["77842","62031"],"./en_SG.js":["78250","83767"],"./is.js":["12697","94187"],"./available.js":["33327"],"./sl.js":["14466","95574"],"./nb.js":["75562","27511"],"./hi.js":["17837","10974"],"./gl.js":["94489","25314"],"./el.js":["35339","49272"],"./pt_PT.js":["36569","8898"],"./ka.js":["62506","10167"],"./mk.js":["27002","95527"],"./ro.js":["50961","59978"],"./es_US.js":["17125","29062"],"./be.js":["75895","87868"],"./pa.js":["71309","69886"],"./sv.js":["73259","62840"],"./pl.js":["31578","81767"],"./fr_CA.js":["21617","64842"],"./te.js":["64165","30694"],"./si.js":["15978","69079"],"./en_GB.js":["20961","74458"],"./it.js":["54759","88396"],"./da.js":["66681","90850"],"./vi.js":["81015","53308"],"./ms_MY.js":["10939","70728"],"./fi.js":["67143","48780"],"./ca.js":["85218","46463"],"./lo.js":["88915","81904"],"./ml.js":["7395","16160"],"./ms.js":["25234","76111"],"./my.js":["52800","49145"],"./ta.js":["24905","72370"],"./zu.js":["51327","28948"],"./sk.js":["68288","32473"],"./fil.js":["13347","78080"],"./ne.js":["29779","69104"],"./az.js":["66421","76246"],"./bg.js":["71769","83266"],"./mr.js":["92865","35226"],"./pt_BR.js":["93457","95754"],"./en_US.js":["42668"],"./rm.js":["80559","6628"],"./fr.js":["60594","21999"],"./lt.js":["45230","30659"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=70120,e.exports=s},89127:function(e,t,n){var a={"./lv.js":["14633","14354"],"./th.js":["74771","58499"],"./cs.js":["79297","47258"],"./es.js":["73976","98296"],"./bn.js":["42999","5116"],"./sr.js":["21570","44287"],"./id.js":["13726","22515"],"./sw.js":["41389","76798"],"./zh_Hant.js":["21553","65194"],"./et.js":["91810","35551"],"./gu.js":["24839","428"],"./kk.js":["55137","53658"],"./hr.js":["6241","80986"],"./ko.js":["55741","87118"],"./nl.js":["98045","90478"],"./ja.js":["10822","33163"],"./eu.js":["59697","47850"],"./de.js":["8792","88001"],"./en_AU.js":["70297","63490"],"./en_IN.js":["93248","20377"],"./en_ZA.js":["80306","7119"],"./hy.js":["21536","64025"],"./mn.js":["2136","62977"],"./ru.js":["14610","65423"],"./am.js":["69149","12206"],"./ky.js":["79983","75172"],"./kn.js":["45822","87603"],"./sq.js":["95759","62116"],"./km.js":["57147","59688"],"./state.js":["36974"],"./hu.js":["34900","6133"],"./tr.js":["54221","86462"],"./uk.js":["13955","54656"],"./af.js":["28172","8445"],"./en_CA.js":["41659","51208"],"./es_419.js":["53538","49983"],"./zh_CN.js":["54625"],"./zh_HK.js":["84733","24078"],"./en_SG.js":["5105","9130"],"./is.js":["64239","58500"],"./available.js":["64896"],"./sl.js":["53836","27773"],"./nb.js":["4567","63900"],"./hi.js":["52016","78825"],"./gl.js":["91528","15537"],"./el.js":["94314","4535"],"./pt_PT.js":["66614","83739"],"./ka.js":["62263","12124"],"./mk.js":["92011","36216"],"./ro.js":["79600","10729"],"./es_US.js":["64406","9979"],"./be.js":["42066","56911"],"./pa.js":["25536","34841"],"./sv.js":["15374","46819"],"./pl.js":["61723","45928"],"./fr_CA.js":["34586","3879"],"./te.js":["27432","74993"],"./si.js":["58807","25916"],"./en_GB.js":["14730","51863"],"./it.js":["44206","37315"],"./da.js":["25060","59237"],"./vi.js":["49642","10359"],"./ms_MY.js":["82036","40309"],"./fi.js":["10202","20839"],"./ca.js":["30319","15748"],"./lo.js":["48242","93135"],"./ml.js":["48578","73471"],"./ms.js":["12243","57872"],"./my.js":["38173","44366"],"./ta.js":["86228","44789"],"./zu.js":["15002","58055"],"./sk.js":["71033","4962"],"./fil.js":["51380","41429"],"./ne.js":["46038","27835"],"./az.js":["23288","83841"],"./bg.js":["56776","4561"],"./mr.js":["23372","71229"],"./pt_BR.js":["9298","40911"],"./en_US.js":["21055"],"./rm.js":["26","84839"],"./fr.js":["31583","93332"],"./lt.js":["93524","19916"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=89127,e.exports=s},34635:function(e,t,n){var a={"./lv.js":["81531","51528"],"./th.js":["99985","41994"],"./cs.js":["93359","67076"],"./es.js":["58989","44094"],"./bn.js":["94565","11974"],"./sr.js":["99656","305"],"./id.js":["57700","58149"],"./sw.js":["15451","50984"],"./zh_Hant.js":["55815","44588"],"./et.js":["43256","12993"],"./gu.js":["92985","30818"],"./kk.js":["25951","74580"],"./hr.js":["69547","56984"],"./ko.js":["30427","24200"],"./nl.js":["1639","55276"],"./ja.js":["37104","88297"],"./eu.js":["87183","82436"],"./de.js":["32086","97883"],"./en_AU.js":["47947","87096"],"./en_IN.js":["87150","11683"],"./en_ZA.js":["77560","28545"],"./hy.js":["99526","3819"],"./mn.js":["2514","11759"],"./ru.js":["32260","66501"],"./am.js":["2619","84616"],"./ky.js":["23665","93034"],"./kn.js":["30900","12693"],"./sq.js":["52577","11770"],"./km.js":["29021","51630"],"./state.js":["66980"],"./hu.js":["83586","15199"],"./tr.js":["60279","85660"],"./uk.js":["54981","58630"],"./af.js":["98166","50011"],"./en_CA.js":["76585","34610"],"./es_419.js":["83808","48665"],"./zh_CN.js":["96171"],"./zh_HK.js":["61315","65792"],"./en_SG.js":["25619","87280"],"./is.js":["74241","60282"],"./available.js":["194"],"./sl.js":["96934","7339"],"./nb.js":["95117","30270"],"./hi.js":["53238","35099"],"./gl.js":["43522","70143"],"./el.js":["28160","55865"],"./pt_PT.js":["620","26589"],"./ka.js":["28537","82530"],"./mk.js":["13277","70190"],"./ro.js":["57750","17211"],"./es_US.js":["93612","71709"],"./be.js":["80708","71749"],"./pa.js":["55158","15611"],"./sv.js":["67508","27829"],"./pl.js":["57601","27834"],"./fr_CA.js":["92340","2389"],"./te.js":["48038","18315"],"./si.js":["25417","45010"],"./en_GB.js":["14756","86021"],"./it.js":["46644","29365"],"./da.js":["21866","78967"],"./vi.js":["72452","48325"],"./ms_MY.js":["75470","13283"],"./fi.js":["42100","13397"],"./ca.js":["8161","3034"],"./lo.js":["77724","39181"],"./ml.js":["17224","59409"],"./ms.js":["32773","74342"],"./my.js":["35051","98808"],"./ta.js":["63994","30023"],"./zu.js":["3388","58509"],"./sk.js":["74087","54572"],"./fil.js":["19930","70663"],"./ne.js":["54264","96577"],"./az.js":["77442","12895"],"./bg.js":["79278","4227"],"./mr.js":["30854","50091"],"./pt_BR.js":["5016","84353"],"./en_US.js":["48933"],"./rm.js":["85132","76093"],"./fr.js":["76069","91718"],"./lt.js":["45949","67054"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=34635,e.exports=s},43764:function(e,t,n){var a={"./lv.js":["68484","95461"],"./th.js":["93410","67679"],"./cs.js":["40104","72529"],"./es.js":["64810","79191"],"./bn.js":["78322","13519"],"./sr.js":["25839","82500"],"./id.js":["60247","15836"],"./sw.js":["73060","81701"],"./zh_Hant.js":["53578","36567"],"./et.js":["42323","78256"],"./gu.js":["43554","4447"],"./kk.js":["55080","45745"],"./hr.js":["82348","86237"],"./ko.js":["71348","68565"],"./nl.js":["29044","16789"],"./ja.js":["81787","77160"],"./eu.js":["53452","91613"],"./de.js":["87957","13302"],"./en_AU.js":["66678","88955"],"./en_IN.js":["3379","10224"],"./en_ZA.js":["63997","55054"],"./hy.js":["23325","89998"],"./mn.js":["77317","35974"],"./ru.js":["42135","93884"],"./am.js":["94928","8873"],"./ky.js":["96226","36607"],"./kn.js":["87227","96424"],"./sq.js":["35298","81023"],"./km.js":["59550","24339"],"./state.js":["33041"],"./hu.js":["41177","3938"],"./tr.js":["31872","64825"],"./uk.js":["51058","44207"],"./af.js":["28049","85898"],"./en_CA.js":["20412","8301"],"./es_419.js":["39463","5420"],"./zh_CN.js":["19630"],"./zh_HK.js":["41522","74479"],"./en_SG.js":["56234","47479"],"./is.js":["71302","5963"],"./available.js":["31567"],"./sl.js":["90613","19030"],"./nb.js":["62314","34839"],"./hi.js":["54061","22750"],"./gl.js":["93017","48770"],"./el.js":["22091","56600"],"./pt_PT.js":["23897","84738"],"./ka.js":["98730","21943"],"./mk.js":["25530","18983"],"./ro.js":["6961","52810"],"./es_US.js":["18501","29830"],"./be.js":["88823","42172"],"./pa.js":["27309","62718"],"./sv.js":["95083","43768"],"./pl.js":["30106","5223"],"./fr_CA.js":["55601","85258"],"./te.js":["34565","54374"],"./si.js":["71978","61911"],"./en_GB.js":["84545","23674"],"./it.js":["48455","53196"],"./da.js":["65209","14306"],"./vi.js":["60311","3612"],"./ms_MY.js":["17499","19720"],"./fi.js":["23143","41612"],"./ca.js":["98146","767"],"./lo.js":["87443","21712"],"./ml.js":["3043","66464"],"./ms.js":["23762","15919"],"./my.js":["32096","99449"],"./ta.js":["61129","84146"],"./zu.js":["45023","10100"],"./sk.js":["90112","13401"],"./fil.js":["25219","47104"],"./ne.js":["66003","80880"],"./az.js":["64949","99702"],"./bg.js":["81817","48066"],"./mr.js":["14689","32506"],"./pt_BR.js":["82737","40746"],"./en_US.js":["63180"],"./rm.js":["79087","30084"],"./fr.js":["82418","19279"],"./lt.js":["24526","97315"]};function s(e){if(!n.o(a,e))return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=a[e],s=t[0];return Promise.all(t.slice(1).map(n.e)).then(function(){return n(s)})}s.keys=()=>Object.keys(a),s.id=43764,e.exports=s},36761:function(e,t,n){"use strict";e.exports=n.p+"static/sha3_wasm_bg.7b9ca65ddd.wasm"},98834:function(e,t,n){"use strict";n.d(t,{Mw:()=>u,f6:()=>o,kV:()=>c,s0:()=>d,z2:()=>l});var a=n(4981);let s=null,r=null;function o(){return s||(s=document.createElement("iframe")),s}function i(){let e=new a.c;r=e.promise;let t=n=>{var a;(null==(a=n.data)?void 0:a.pageLoaded)&&(e.resolve(),window.removeEventListener("message",t))};window.addEventListener("message",t)}async function l(){let e=o();e.style.cssText="display: none; pointer-events: none",e.src="about:blank",document.body.appendChild(e),e.src="https://run-html-chat.deepseeksvc.com/usercontent/usercontent.html",i()}function c(e){let t=o();try{e.moveBefore(t,null)}catch(n){e.appendChild(t),i()}}async function d(e){var t;s||l(),await r,null==s||null==(t=s.contentWindow)||t.postMessage({__deepseekCodeBlock:e},"*")}function u(){s||(window.requestIdleCallback||window.requestAnimationFrame||(()=>{}))(l)}},88737:function(e,t,n){"use strict";n.d(t,{Rb:()=>p,WB:()=>h,gM:()=>m}),n(50353),n(40966),n(70968),n(76966),n(35399),n(36279),n(18062),n(16389),n(36073),n(27448),n(10681),n(32014),n(46596),n(39008),n(71),n(85540),n(95266),n(37560);var a=n(44160),s=n.n(a),r=n(97222),o=n(26289);let i={javascript:"js",typescript:"ts",javascriptreact:"jsx",typescriptreact:"tsx",html:"html",css:"css",less:"less",scss:"scss",svg:"svg",dart:"dart",vue:"vue",svelte:"svelte",python:"py",java:"java",csharp:"cs",c:"c",cpp:"cpp",golang:"go",ruby:"rb",rust:"rs",php:"php",sql:"sql",cmake:"cmake",makefile:"mk",scala:"scala",haskell:"hs",erlang:"erl",clojure:"clj",fsharp:"fs",swift:"swift",objectivec:"m",kotlin:"kt",json:"json",yaml:"yaml",bash:"sh",shell:"sh",xml:"xml",powershell:"ps1",dockerfile:"dockerfile",lua:"lua",diff:"diff",ini:"ini",nginx:"nginx",batch:"bat",markdown:"md",latex:"tex",r:"r",julia:"jl",matlab:"m",jupyter:"ipynb",mermaid:"mermaid"},l=Object.values(i),c=e=>e in i?i[e]:l.includes(e)?e:null,d=async e=>{let{code:t,infostring:n,ext:a}=e,s=a||(e=>{if(!e)return"txt";let t=e.split(/\s+/)[0].toLowerCase(),n=t.replace(/\d+$/,"");if(t.includes("+"))for(let e of t.split("+")){let t=c(e);if(t)return t}return c(n)||c(t)||"txt"})(n),r="deepseek_";n&&(r+=n+"_"),r+=new Date().toISOString().replace(/-/g,"").slice(0,8);let o=await u(t);return(r+=o?"_"+o:"")+"."+s},u=async e=>{try{return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-1",new TextEncoder().encode(e.slice(0,2e3))))).map(e=>e.toString(16).padStart(2,"0")).join("").slice(0,6)}catch(e){return null}},h=async(e,t)=>{o.y.tracker.info({name:"downloadCodeFile",message:"下载代码文件",payload:{infostring:t||""}});try{let n=await d({code:e,infostring:t});s()(e,n)}catch(e){o.y.tracker.error({name:"downloadCodeFail",message:"下载代码文件失败",payload:o.y.tracker.withError(e,{})})}},p=async e=>{o.y.tracker.info({name:"downloadSvgFile",message:"下载svg文件",payload:{}});try{let t=(0,r.CA)(e),n=await d({code:t,infostring:"mermaid",ext:"svg"});s()(t,n)}catch(e){o.y.tracker.error({name:"downloadSvgFail",message:"下载svg文件失败",payload:o.y.tracker.withError(e,{})})}},m=async(e,t)=>{if(e){o.y.tracker.info({name:"downloadPngFile",message:"下载png文件",payload:{}});try{let n=await d({code:e.outerHTML,infostring:"mermaid",ext:"png"}),a=await (0,r.gu)({isDark:t,getResolutionRatio:()=>3,svgEl:e,isAppCodeBlock:!1}),o=await new Promise((e,t)=>{a.toBlob(n=>{n?e(n):t("toBlob got null")},"image/png")});s()(o,n)}catch(e){o.y.tracker.error({name:"downloadPngFail",message:"下载png文件失败",payload:o.y.tracker.withError(e,{})})}}}},44468:function(e,t,n){"use strict";n.d(t,{K:()=>a}),n(40966);let a=async(e,t,n,a)=>{let{scope:r,withToken:o=!0}=a||{},i={did:n};r&&(i.scope=r);let l=(await e.get("/api/v0/client/settings",{context:t({withToken:o}),query:i})).json.data;if(0!==l.biz_code){var c;return null==a||null==(c=a.onError)||c.call(a,l),null}return{settings:s(l.biz_data.settings),version:l.biz_data.version}},s=e=>{let t={};for(let[n,{value:a}]of Object.entries(e))t[n]=a;return t}},17543:function(e,t,n){"use strict";n.d(t,{j:()=>a});let a=new(n(88113)).B},97800:function(e,t,n){"use strict";n.d(t,{XI:()=>l,kH:()=>i,xM:()=>c});var a=n(6799),s=n(47892),r=n(3325);let o=()=>({user:null,pending:!0}),i=(0,a.vt)((0,s.eh)(e=>({...o(),setUser:t=>e(e=>({...e,user:t})),updateNeedBirthday:t=>{e((0,r.jM)(e=>{e.user&&(e.user.needBirthday=t)}))},reset:()=>{e(o())},settlePending:()=>{e(e=>({...e,pending:!1}))}}))),l=()=>i(e=>!!e.user),c=()=>i(e=>e.pending?"pending":e.user?"yes":"no")},86313:function(e,t,n){"use strict";n.d(t,{N:()=>a.NW});var a=n(81621)},81621:function(e,t,n){"use strict";n.d(t,{PR:()=>r,zY:()=>o,NW:()=>i}),n(40966);var a=n(32592);let s=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return window.collectEvent&&window.collectEvent(...t)},r=e=>{s("profileSet",e)},o=()=>new Promise(e=>{s("getToken",t=>{e(t)})}),i={init:e=>{s("init",{app_id:0x13145ad,channel_domain:"https://gator.volces.com",ab_channel_domain:"https://tab.volces.com",enable_ab_test:!1,auto_exposure_expriment:!1,disable_sdk_monitor:!0,enable_stay_duration:!0,enable_storage:!1}),s("config",{commit_id:"fda93772",commit_datetime:"2026/01/29 16:39:02"}),s("start")},setUserUniqueId:e=>{s("config",{user_unique_id:e})},clearUserUniqueId:()=>{s("config",{user_unique_id:null})},reportEvent:e=>{let t=(0,a.se)(e);t.skip||s(e.eventName,t.payload)},getIsEnabled:()=>!!document.querySelector('meta[name="region"][content="CN"]')}},75510:function(e,t,n){"use strict";n.d(t,{KV:()=>i,vZ:()=>s,vd:()=>o}),n(42551);var a,s=((a={}).Dev="dev",a.Staging="staging",a.Production="production",a.ChatTest="chat_test",a.Unknown="unknown",a);let r=/chat-test.*\.deepseek\.com/,o=(()=>{let e=location.hostname;if(e.match(/(\d{1,3}\.){3,3}\d{1,3}/))return"dev";if(e.match(r))return"chat_test";switch(e){case"localhost":return"dev";case"chat.deepseek.com":return"production";case"chat-dev.deepseek.com":return"staging";default:throw Error("Unknown hostname: ".concat(e))}})(),i="production"===o},53049:function(e,t,n){"use strict";n.d(t,{Df:()=>m,UF:()=>u,Y8:()=>c,bN:()=>h,iV:()=>p,kb:()=>l,kn:()=>d}),n(59605),n(14979),n(99046),n(40339),n(31188),n(89851),n(73191),n(40966),n(95266),n(45363);var a=n(6799);let s={sm:"(min-width: 640px)",md:"(min-width: 768px)",lg:"(min-width: 1024px)",xl:"(min-width: 1280px)","2xl":"(min-width: 1536px)","3xl":"(min-width: 1920px)",max1200:"(max-width: 1200px)"},r=(0,a.vt)(e=>({screenWidthBreakpointMap:{sm:!1,md:!1,lg:!1,xl:!1,"2xl":!1,"3xl":!1,max1200:!1},setScreenWidthBreakpointMap:(t,n)=>e(e=>({screenWidthBreakpointMap:{...e.screenWidthBreakpointMap,[t]:n}}))})),o=(e,t)=>{let n=window.matchMedia(e);t(n.matches);let a=e=>{let{matches:n}=e;t(n)};return n.addListener(a),()=>n.removeListener(a)},i=!1,l=()=>{if(i)return;i=!0;let e=new Set;for(let[t,n]of Object.entries(s)){let a=o(n,e=>{r.getState().setScreenWidthBreakpointMap(t,e)});e.add(a)}return()=>{i=!1,e.forEach(e=>e()),e.clear()}},c=()=>r(e=>e.screenWidthBreakpointMap.max1200),d=()=>r(e=>!e.screenWidthBreakpointMap.md),u=()=>r(e=>!e.screenWidthBreakpointMap.lg),h=()=>r(e=>!e.screenWidthBreakpointMap.sm),p=()=>r(e=>e.screenWidthBreakpointMap["3xl"]),m=()=>!r.getState().screenWidthBreakpointMap.md},8485:function(e,t,n){"use strict";n.d(t,{R:()=>o,m:()=>r});var a=n(11285);let s=(0,n(6799).vt)(e=>({pixelRatio:window.devicePixelRatio,setPixelRatio:t=>e({pixelRatio:t})})),r=()=>{let e=(0,a.useRef)(0);(0,a.useEffect)(()=>{if(e.current>0)return;e.current++;let t="(resolution: ".concat(window.devicePixelRatio,"dppx)"),n=()=>{s.setState({pixelRatio:window.devicePixelRatio})},a=window.matchMedia(t);return a.addListener(n),()=>{e.current=0,a.removeListener(n)}},[])},o=()=>s(e=>e.pixelRatio)},17009:function(e,t,n){"use strict";n.d(t,{Y:()=>s});var a=n(26289);let s=()=>"dark"===a.y.useTheme()},95801:function(e,t){},39169:function(e,t,n){"use strict";t.getCJKQuotationMarksPatch=void 0,n(2854);var a=n(52721);Object.defineProperty(t,"getCJKQuotationMarksPatch",{enumerable:!0,get:function(){return a.getCJKQuotationMarksPatch}})},52721:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCJKQuotationMarksPatch=void 0;let n=null;t.getCJKQuotationMarksPatch=()=>{let e=(null===n&&(n=document.createElement("style")),n);return{enable:t=>{let{tradition:n}=t;e.innerHTML="@font-face {\n  font-family: 'quote-cjk-patch';\n  src: local('".concat(n?"PingFangTC":"PingFangSC","-Regular');\n  unicode-range: U+201C-201D, U+2018-2019;\n}"),document.head.appendChild(e)},disable:()=>{e.innerHTML="",document.head.contains(e)&&document.head.removeChild(e)}}}},26289:function(e,t,n){"use strict";let a,s,r;n.d(t,{y:()=>eW,R:()=>ez}),n(59587),n(55970);var o=n(73446),i=n.n(o);n(20370),n(42551),n(40966);var l=n(57713),c=n(6799),d=n(11285),u=n(64491),h=n(30095),p=n(32592),m=n(40081),g=n(9397),f=n(25611),C=n(62130),v=n(16188),b=n(33041),_=n(7623);n(67539),n(95266),n(1326);var S=n(4981),E=n(88113);class x{async waitUntil(e){if(e(this.state))return;let t=new S.c,n=this.stateChanged$.subscribe(()=>{e(this.state)&&(t.resolve(),n.unsubscribe())});await t.promise}postStateChange(){this.stateChanged$.next()}addRequest(e){this.state.requests.push(e),this.postStateChange()}removeRequest(e){this.state.requests=this.state.requests.filter(t=>t.id!==e),this.postStateChange()}constructor(){(0,_._)(this,"state",{requests:[]}),(0,_._)(this,"stateChanged$",new E.B)}}var y=n(5413);n(22024);class w{listenAndUnlock(){this.locked&&this.locked.finally(this.unlock)}addLock(e){if(this.locked)throw Error("lock is already acquired");this.locked=e,this.listenAndUnlock()}waitLock(e){this.currentLock?this.currentLock.finally(()=>{this.waitLock(e)}):this.addLock(e())}get isLocked(){return!!this.locked}get currentLock(){return this.locked}constructor(){(0,_._)(this,"locked",null),(0,_._)(this,"unlock",()=>{this.locked=null})}}let I=new w,T=async()=>{if(!I.isLocked){let e=(0,y.xr)();I.addLock(e)}await I.currentLock},A="aws-err",j=new w,k=new S.c,M=async(e,t)=>{if(!j.isLocked){let n=P(e,t);j.addLock(n)}await j.currentLock},R=async(e,t)=>{if(!j.isLocked){let n=L(e,t);j.addLock(n)}await j.currentLock},N=async(e,t,n)=>{n.info({name:"awsChallengeStarted",message:"AWS challenge started: ".concat(t),payload:{scene:t}}),"awsCaptcha"===t?await M(e,n):await R(e,n),k=new S.c,j=new w},O=(e,t)=>{if(null!==k.instantValue)return;if(document.head.querySelector('script[src="'.concat(e,'"]')))return void k.resolve(!0);let n=document.createElement("script");n.onload=()=>{t.info({name:"awsScriptLoadSuccess",message:"AWS script loaded successfully: ".concat(e),payload:{url:e}}),k.resolve(!0)},n.onerror=()=>{let n=Error("Failed to load AWS script: ".concat(e));t.error({name:"awsScriptLoadFailed",message:"AWS script load failed: ".concat(e),payload:t.withError(n,{url:e})}),k.reject()},n.src=e,document.head.appendChild(n)},L=async(e,t)=>{try{O("https://a0fea896111e.edge.sdk.awswaf.com/a0fea896111e/3a8b889b892b/challenge.js",t),await k.promise}catch(a){let n=Error("AWS silent challenge script load failed: ".concat(Object(a).message));t.error({name:"awsSilentChallengeFailed",message:"AWS silent challenge script load failed",payload:t.withError(n,{step:"scriptLoad"})}),e({level:"error",node:"AWS script fail to load"+Object(a).message,description:"ASW challenge 脚本加载失败",dedupeKey:A});return}if(!AwsWafIntegration){let n="ASW AwsWafIntegration variable not exist, refresh page",a=Error(n);throw t.error({name:"awsSilentChallengeFailed",message:"AWS silent challenge variable check failed",payload:t.withError(a,{step:"variableCheck"})}),e({level:"error",node:n,description:"ASW AwsWafIntegration 变量不存在",dedupeKey:A}),Error(n)}try{await AwsWafIntegration.forceRefreshToken(),t.info({name:"awsSilentChallengeRefreshToken",message:"AWS silent challenge completed by forceRefreshToken successfully",payload:{}})}catch(s){let n="AwsWafIntegration fail to getToken, ".concat(Object(s).message),a=Error(n,{cause:s});throw t.error({name:"awsSilentChallengeFailed",message:"AWS silent challenge token refresh failed",payload:t.withError(a,{step:"tokenRefresh"})}),e({level:"error",node:n,description:"AwsWafIntegration 获取 token 失败",dedupeKey:A}),Error(n,{cause:s})}},F="ds_aws_captcha",P=async(e,t)=>{try{O("https://a0fea896111e.edge.captcha-sdk.awswaf.com/a0fea896111e/jsapi.js",t),await k.promise}catch(n){t.error({name:"awsCaptchaRenderFailed",message:"AWS captcha script load failed",payload:t.withError(n,{step:"scriptLoad"})}),e({level:"error",node:"AWS script fail to load"+Object(n).message,description:"ASW captcha 脚本加载失败",dedupeKey:A});return}let n=(()=>{let e,t=document.body.querySelector("#".concat(F));if(t instanceof HTMLElement)return t;let n=document.createElement("div");return n.id=F,(e=n.style).position="absolute",e.left="0",e.top="0",e.display="flex",e.right="0",e.bottom="0",e.background="rgba(200, 200, 200, .8)",e.zIndex="98888",e.alignItems="center",e.justifyContent="center",e.paddingBottom="10%",e.backdropFilter="blur(5px)",document.body.appendChild(n),n})();return new Promise((a,s)=>{if(!AwsWafCaptcha){let n="AwsWafCaptcha variable not exist, refresh page",a=Error(n);t.error({name:"awsCaptchaRenderFailed",message:"AWS captcha render failed - variable not found",payload:t.withError(a,{step:"variableCheck"})}),e({level:"error",node:n,description:"AWS AwsWafCaptcha 变量不存在",dedupeKey:A}),s(n);return}AwsWafCaptcha.renderCaptcha(n,{apiKey:D,onSuccess:()=>{t.info({name:"awsCaptchaRenderSuccess",message:"AWS captcha rendered successfully",payload:{}}),n.remove(),a()},onError:n=>{let a="AWS render captcha fail, refresh page. ".concat(Object(n).message);t.error({name:"awsCaptchaRenderFailed",message:"AWS captcha render failed",payload:t.withError(n,{step:"invokeRender"})}),e({level:"error",node:a,description:"AWS 验证码加载失败",dedupeKey:A}),s(a)}})})},D="Y6MV086msxVMCEm6MLXSsdG9dvVAlFI5pNo2AxncyGUvjhR51bW8AfRage2+bFeucotihsqq1Ij608A+7aS0FS+PgmqdRedGrppaCKrHetG0aTsze7AG3bQgeNuBM2ECeRW56XUNUOBdpddChoIuyAGlrQtpkaepjJvKXCxkyY548G9KVeQSd5A0HQXcLjrs0JtJbXpSoU6SoaTcrdgNqyIE6q79++lJ5cZT1xlGOPS85L13TZ/6lY88Y4r4RZNh9X5MXnm0u2Ulr3sw+yci9MQoTdJNJcCARIFD2IrvHWykdj/n1qWizOFoWveekd9eaBGlZ5YU94UBzZ+zjvqpE5P90CThCaX7uNzJGaJoyX9YAgiTEX0NILBp1ch7KQ+fqry5ZKWosnj6GOh2IhwvSd1iNo2lRMFGAqSo8kBuP+OthDx0HdyNyvR3QTm9JGCzE2mioJsEeFVZORqFOruCyPp6AHq8QBwbO6trlr5xC6l49UHYlP7jabGs1Oma3YwvZgyyclDjcS0/4/+TERAazRUyFGpenaBZ4nlKM2hg9as2K/4zIrn0puiWjAFDVTk4x0lTqRkSGYge9AxPOTV3swxmge1pAqJe3Qg/qApv/J24m1cgrkB4Or28cKGRz2QfL72Ndmci+tW74CrpizMV64rSLuwcveR5Z9cbmnkI9OE=_1_1",B=e=>({__gatewayError:!0,scene:e}),V=0;var H=n(51783);class U extends d.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){var t,n;null==(t=(n=this.props).onReset)||t.call(n),this.setState({hasError:!1,error:void 0})}}componentDidCatch(e,t){var n,a;null==(n=(a=this.props).onError)||n.call(a,e,t)}render(){if(this.state.hasError){let{renderFallback:e}=this.props;return(0,l.jsx)(U,{renderFallback:()=>{var e,t;return null==(e=(t=this.props).renderFallbackLastResort)?void 0:e.call(t,{error:this.state.error,reset:this.resetErrorBoundary})},children:e({reset:this.resetErrorBoundary,error:this.state.error})})}return this.props.children}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state={hasError:!1,error:void 0}}}n(45363),n(37560);var W=n(74770),z=n(86122),G=n(37194),K=n(3205),q=n(74910),Z=n(61660);n(39259);var Q=n(32956);let Y=0;function X(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,l.jsx)("g",{fill:"none",children:(0,l.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function J(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,l.jsx)("g",{fill:"none",children:(0,l.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm0 10.5a.75.75 0 1 0 0 1.5a.75.75 0 0 0 0-1.5zM10 6a.5.5 0 0 0-.492.41L9.5 6.5V11l.008.09a.5.5 0 0 0 .984 0L10.5 11V6.5l-.008-.09A.5.5 0 0 0 10 6z",fill:"currentColor"})})})}function $(){return(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 20 20",children:(0,l.jsx)("g",{fill:"none",children:(0,l.jsx)("path",{d:"M10 2a8 8 0 1 1 0 16a8 8 0 0 1 0-16zm3.358 5.646a.5.5 0 0 0-.637-.057l-.07.057L9 11.298L7.354 9.651l-.07-.058a.5.5 0 0 0-.695.696l.057.07l2 2l.07.057a.5.5 0 0 0 .568 0l.07-.058l4.004-4.004l.058-.07a.5.5 0 0 0-.058-.638z",fill:"currentColor"})})})}function ee(e){let t,n,{content:a,type:s,title:r,footer:o,onClose:i,zIndex:c}=e;switch(s){case"warning":t="".concat(Z.V,"-notification__icon--warning"),n=(0,l.jsx)(J,{});break;case"error":t="".concat(Z.V,"-notification__icon--error"),n=(0,l.jsx)(X,{});break;default:t="".concat(Z.V,"-notification__icon--success"),n=(0,l.jsx)($,{})}return(0,l.jsxs)("div",{className:"".concat(Z.V,"-notification"),style:{zIndex:c},children:[(0,l.jsx)("div",{className:(0,z.A)("".concat(Z.V,"-notification__icon"),t),children:n}),(0,l.jsxs)("div",{className:"".concat(Z.V,"-notification__main"),children:[(0,l.jsx)("div",{className:"".concat(Z.V,"-notification__title"),children:r}),(0,l.jsx)("div",{className:"".concat(Z.V,"-notification__content"),children:a}),(0,l.jsx)("div",{className:"".concat(Z.V,"-notification__footer"),children:o})]}),(0,l.jsx)("div",{className:"".concat(Z.V,"-notification__close-wrapper"),children:(0,l.jsx)(q.J,{onClick:i})})]})}let et=(0,d.createContext)(null),en=(0,d.createContext)(null);function ea(e){let{children:t,onNotification:n}=e,[a,s]=(0,d.useState)([]),r=(0,Q.d)();return(0,l.jsx)(et.Provider,{value:s,children:(0,l.jsxs)(en.Provider,{value:n,children:[t,(0,W.createPortal)((0,l.jsx)("div",{className:(0,z.A)("".concat(Z.V,"-notification-container"),"".concat(Z.V,"-theme")),style:r,children:a.map(e=>(0,l.jsx)(es,{setNotifications:s,notificationProps:e},e.id))}),document.body)]})})}function es(e){let{notificationProps:t,setNotifications:n}=e,[a,s]=(0,d.useState)(!0);return(0,l.jsx)(G.c,{appear:!0,in:a,transformOrigin:"top",onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,d.useMemo)(()=>(0,l.jsx)(ee,{...t,onClose:()=>{s(!1)}}),[t])})}function er(e){let{setNotification:t}=e,n=function(){let e=(0,d.useContext)(et),t=(0,d.useContext)(en);if(!e||!t)throw Error("useNotification must be used inside NotificationProvider");let n=(n,a)=>{let{title:s,content:r,footer:o}=a,i=Y++;e(e=>{let t=Math.max(...e.map(e=>e.zIndex),0);return e.concat({title:s,type:n,content:r,footer:o,id:i,zIndex:t+1})}),t((0,K.Eb)(s),(0,K.Eb)(r),"success"===n?"info":"warning"===n?"warn":"error")};return{warning:e=>n("warning",e),error:e=>n("error",e),success:e=>n("success",e)}}();return(0,d.useMemo)(()=>{t(n)},[t,n]),null}var eo=n(4442);function ei(e){let{setToast:t}=e,n=(0,eo.dj)();return(0,d.useMemo)(()=>{t(n)},[t,n]),null}var el=n(15383),ec=n(25452),ed=n(39231),eu=n(2542),eh=n(8219),ep=n(44961);let em=(0,d.createContext)(null);class eg{setIsColdStart(e){this.isColdStart=e}getCurrentDuration(){return Math.round(performance.now()-this.navigationStartTime)}resetNavigationStartTime(){this.ttiResolved&&(this.ttiResolved=!1),this.navigationResolved&&(this.navigationStartTime=performance.now())}report(e,t,n,a){this.navigationResolved=!0;let s=this.isColdStart;if(this.isColdStart&&this.setIsColdStart(!1),this.ttiResolved)return;this.ttiResolved=!0;let r=Math.round(performance.now()-this.navigationStartTime);this.tracker.info({name:"__tti",message:"".concat(e," TTI 上报：").concat(r,"ms"),payload:{type:s?"coldStart":"warmStart",referer:document.referrer,metricDuration:r,metricVisitIndex:t,metricDurationSinceMounted:-1===n?-1:r-n,hasError:"".concat(a)}})}constructor(e){(0,_._)(this,"isColdStart",!0),(0,_._)(this,"navigationStartTime",0),(0,_._)(this,"navigationResolved",!1),(0,_._)(this,"ttiResolved",!1),(0,_._)(this,"tracker",void 0),this.tracker=e}}n(24188),n(78145);let ef={zh_CN:"zh-cn",en_US:"en",zh_Hant:"zh-tw",zh_HK:"zh-hk",ja:"ja",en_AU:"en-au",en_CA:"en-ca",en_GB:"en-gb",en_IN:"en-in",en_SG:"en-sg",en_ZA:"en",af:"af",am:"am",ar:"ar",az:"az",be:"be",bg:"bg",bn:"bn",ca:"ca",cs:"cs",da:"da",de:"de",el:"el",es:"es",es_419:"es",es_US:"es-us",et:"et",eu:"eu",fa:"fa",fa_AE:"fa",fa_AF:"fa",fa_IR:"fa",fi:"fi",fil:"tl-ph",fr:"fr",fr_CA:"fr-ca",gl:"gl",gu:"gu",he:"he",hi:"hi",hr:"hr",hu:"hu",hy:"hy-am",id:"id",is:"is",it:"it",ka:"ka",kk:"kk",km:"km",kn:"kn",ko:"ko",ky:"ky",lo:"lo",lt:"lt",lv:"lv",mk:"mk",ml:"ml",mn:"mn",mr:"mr",ms:"ms",ms_MY:"ms-my",my:"my",nb:"nb",ne:"ne",nl:"nl",pa:"pa-in",pl:"pl",pt_BR:"pt-br",pt_PT:"pt",rm:null,ro:"ro",ru:"ru",si:"si",sk:"sk",sl:"sl",sq:"sq",sr:"sr",sv:"sv",sw:"sw",ta:"ta",te:"te",th:"th",tr:"tr",uk:"uk",ur:"ur",vi:"vi",zu:null},eC=n(84039);function ev(e){if("zh_CN"===e)o.locale("zh-cn");else if("en_US"===e)o.locale("en");else{let t=ef[e];t?eC("./".concat(t,".js")).then(()=>{o.locale(t)}):o.locale("en")}}function eb(e){document.documentElement.lang=(0,ec.it)(e)}var e_=n(63708),eS=n(21372);n(71060);var eE=n(61164);class ex{_update(e){if(e)try{this.trackedElement=e;let t=this.determinePosition(e);this.currentPosition=t,this.writePosition(t)}catch(e){}}dispose(){window.removeEventListener("resize",this.handleResize),this.trackedElement=null}handleResize(){this.trackedElement&&this.update(this.trackedElement)}determinePosition(e){let t=e.getBoundingClientRect(),n=t.left,a=t.top,s=window.innerWidth,r=window.innerHeight,o=Math.max(0,Math.min(1,n/s)),i=Math.max(0,Math.min(1,a/r));return"".concat(o.toFixed(3),"#").concat(i.toFixed(3))}parsePosition(e){try{let[t,n]=e.split("#"),a=parseFloat(t),s=parseFloat(n);if(isNaN(a)||isNaN(s)||a<0||a>1||s<0||s>1)return{x:.1,y:.1};return{x:a,y:s}}catch(e){return{x:.1,y:.1}}}getInitialPosition(){let e=this.parsePosition(this.currentPosition),t=window.innerWidth,n=window.innerHeight;return{x:e.x*t,y:e.y*n}}constructor(e,t){(0,_._)(this,"readPosition",void 0),(0,_._)(this,"writePosition",void 0),(0,_._)(this,"currentPosition",void 0),(0,_._)(this,"trackedElement",null),(0,_._)(this,"update",(0,eE.A)(this._update,500,{trailing:!0})),this.readPosition=e,this.writePosition=t;try{this.currentPosition=this.readPosition()||"0.100#0.100"}catch(e){this.currentPosition="0.100#0.100"}window.addEventListener("resize",this.handleResize)}}n(3143);var ey=n(91405);function ew(e){let{type:t="info",className:n,style:a,domProps:s,children:r,closable:o,onClose:i,theme:c}=e,u=(0,d.useMemo)(()=>({"--ds-banner-text-color":null==c?void 0:c.textColor}),[c]);return(0,l.jsxs)("div",{...s,className:(0,z.A)("".concat(Z.V,"-banner"),"".concat(Z.V,"-banner--").concat(t),n,null==s?void 0:s.className),style:{...u,...null==s?void 0:s.style,...a},children:[(0,l.jsx)("div",{className:"".concat(Z.V,"-banner__content"),children:r}),o&&(0,l.jsx)("div",{className:"".concat(Z.V,"-banner__close-wrapper"),children:(0,l.jsx)(q.J,{theme:{textColor:"rgb(var(--ds-rgb-primary-foreground))",boxShadowColorFocus:"currentColor",hoverColor:"rgba(0, 0, 0, 0.15)"},onClick:()=>{null==i||i()}})})]})}n(63945);var eI=n(27198);function eT(e){if("object"!=typeof e||!("id"in e)||"string"!=typeof e.id&&"number"!=typeof e.id||!("items"in e)||!Array.isArray(e.items)||0===e.items.length)return!1;for(let t of e.items)if(!function(e){if(!e||"object"!=typeof e||!("show"in e)||"boolean"!=typeof e.show||!("showCondition"in e)||!Array.isArray(e.showCondition))return!1;for(let n of e.showCondition){var t;if("authenticated"!==(t=n)&&"unauthenticated"!==t)return!1}if(!("type"in e)||"info"!==e.type&&"warning"!==e.type&&"error"!==e.type||!("closable"in e)||"boolean"!=typeof e.closable||!("content"in e)||!e.content||"object"!=typeof e.content)return!1;for(let[t,n]of Object.entries(e.content))if("string"!=typeof t||"string"!=typeof n)return!1;return!0}(t))return!1;return!0}n(84253);var eA=n(87109),ej=n(92667);let ek={nodeEnv:"production",deployEnv:"production",dev:!1,appVersion:"20241129.1",userAgent:navigator.userAgent,commitId:"fda93772",referrer:document.referrer,channel:"queue",clientPlatform:"web"};var eM=n(9377),eR=n(17543),eN=n(97800),eO=n(75364),eL=n(52362);let eF={zh_CN:eO.zh_CN,en_US:eL.en_US},eP=n(22544);(0,ec.h2)(async e=>{if(null!=eF[e])return;let t=(await eP("./".concat(e,".tsx"))).default;eF[e]=t},["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fi","fil","fr","fr_CA","gl","gu","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","vi","zu"]);var eD=n(75510),eB=n(86313),eV=n(44468);let eH=async(e,t)=>{let n=await (0,eV.K)(e,t,"",{scope:"banner",withToken:!1});return(null==n?void 0:n.settings.banner)||null},eU=(0,eM.dK)({getTracker:()=>eW.tracker,getHttpService:()=>eW.http,getChallengeUrl:"/api/v0/users/create_guest_challenge",solveChallenge:e=>(0,eA.gx)(e,eW.tracker),showErrorToast:(e,t)=>{eW.withToast(e=>{let n=ez.getTranslate()("completionWipNetworkErrorToast");e.error({node:n,description:JSON.stringify({url:t,text:n})})})},encoder:btoa}),eW=function(e){var t,n,a;let s,r,o,i,_=()=>0,S=()=>{let t=e.user.getMemoryToken();if(t.token)return{token:t.token,source:"memory"};{let e=Z.get();return e?{token:e,source:"localStorage"}:{token:null,source:"memory"}}},y=null==(t=e.ip.debugMock)?void 0:t.ip,w=y?()=>y:()=>K.getState().ip,I=y?()=>y:()=>K(e=>e.ip),A=null==(n=e.ip.debugMock)?void 0:n.region,j=A?()=>A:()=>K.getState().region,k=A?()=>A:()=>K(e=>e.region),{tracker:M,logger:R,withError:O,switchToConsoleChannel:L}=(0,p.P)({customEventsApi:e.customEventsApi,lylaAdapter:h.O,staticEnv:e.staticEnv}),{monitor:F,http:P,httpClientErrorType:D,HTTP_CLIENT_ERROR:W,isHttpClientError:z,withDefaultHttpContext:G}=function(e){let{lylaAdapter:t,tracker:n,locale:{useLocale:a,getLocale:s},logger:r,withError:o,baseUrl:i,onToast:l,user:c,chat:u,staticEnv:h,cloudflareEnabled:p,onBeforeRequestInit:m}=e,_=new x;function S(e,t,a,s,r,o,i){let h=[g.VQ.MISSING_TOKEN,g.VQ.INVALID_TOKEN];if(a===g.VQ.USER_IS_BANNED)return l({level:"error",node:(0,d.createElement)((0,b.ensureTranslateComponent)("userIsBannedToast",o)),description:s("userIsBannedToast"),dedupeKey:"userIsBannedToast"}),c.onIsBanned(),t.unauthorizedReason="banned",{error:"userIsBanned",detail:null};if([g.VQ.POW_HEADER_ERROR,g.VQ.INVALID_POW_RESPONSE].includes(a))return{error:"invalidPowResponse",detail:null};if(h.includes(a)){switch(l({level:"error",node:(0,d.createElement)((0,b.ensureTranslateComponent)("invalidTokenToast",o)),description:s("invalidTokenToast"),dedupeKey:"invalidTokenToast"}),c.onTokenInvalid(),a){case g.VQ.MISSING_TOKEN:t.unauthorizedReason="missingToken";break;case g.VQ.INVALID_TOKEN:t.unauthorizedReason="invalidToken",n.error({name:"tokenInvalid",message:"用户 token 无效",payload:{requestHeaders:i.requestOptions.headers,responseHeaders:i.headers}})}return{error:"tokenInvalid",detail:null}}if(a===g.VQ.IP_ACCESS_RESTRICTED)return c.onIpAccessRestricted(),l({level:"error",node:(0,d.createElement)((0,b.ensureTranslateComponent)("ipAccessRestrictedToast",o)),description:s("ipAccessRestrictedToast"),dedupeKey:"ipAccessRestrictedToast"}),{error:"ipAccessRestricted",detail:null};if(a===g.VQ.MUTED){let t=0;if(e&&"object"==typeof e&&"data"in e){let n=e.data;if(n&&"object"==typeof n&&"end_at"in n){let e=n.end_at;"number"==typeof e&&(t=1e3*e)}}return u.onMuted({muteUntil:t}),{error:"muted",detail:null}}else if(a!==g.VQ.OK&&!r)return{error:"others",detail:"HTTP response code is ".concat(a,", and [context.mayMissingApiCode] is falsy")};else return{error:"none",detail:null}}let{lyla:E,isLylaError:y}=(0,C.h)(t,{baseUrl:i,context:g.O6,hooks:{onInit:[e=>{let t=V++;return e.context.id=t,e},async e=>(m&&await m(e),_.addRequest({requestOptions:e,id:e.context.id}),e)],onBeforeRequest:[e=>{var t;let a=(e.url||"").split("?")[0];if(e.context.path=a,e.context.startTime=Date.now(),n.info({name:"__httpRequest",message:"httpRequest ".concat(null==(t=e.method)?void 0:t.toUpperCase()," ").concat(e.url||""),payload:{url:e.url||"",path:a,method:e.method||""}}),e.headers||(e.headers={}),e.headers["X-App-Version"]=h.appVersion,!e.context.withToken)return e;let{token:s,source:r}=c.getToken();return s&&(e.headers.Authorization="Bearer ".concat(s),e.context.tokenSource=r),e}],onHeadersReceived:[(e,t)=>{var n;let{headers:a,requestOptions:s,originalRequest:r}=e,o=null!=(n=a["x-ds-trace-id"])?n:g.QV;s.context.logId=o;let i=(0,g.pw)(r.status,a);i&&t(B("captcha"===i?"awsCaptcha":"awsChallenge"))}],onAfterResponse:[(e,t)=>{var i;_.removeRequest(e.context.id);let l=Date.now()-e.context.startTime;e.context.duration=l;let c=e.requestOptions.method||"",d=e.requestOptions.url||"",u=null!=(i=e.headers["x-ds-trace-id"])?i:g.QV;e.context.logId=u;let h=null,p=null;try{"text"===e.requestOptions.responseType?(h=e.json.code,p=e.json):h=g.VQ.OK}catch(t){r.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.body.slice(0,100)]})}let m=(0,b.getTranslate)(s()),{error:C,detail:v}=S(p,e.context,h,m,e.context.mayMissingApiCode,a,e);if("none"===C)n.info({name:"__httpResponse",message:"httpResponse ".concat(c.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(C),payload:{url:d,path:e.context.path,method:c,metricDuration:l,status:"".concat(e.status),logId:u}});else{let a=new f.Q(String(h).match(/\d+/)?Number(h):String(h),"HTTP response code is ".concat(h,", error: ").concat(C,", detail: ").concat(v," (logId: ").concat(u,", url: ").concat(d,")"));n.error({name:"__httpResponse",message:"httpResponse ".concat(c.toUpperCase()," ").concat(e.requestOptions.url||"",", ").concat(l,"ms, reason: ").concat(C),payload:o(a,{url:d,path:e.context.path,method:c,metricDuration:l,status:"".concat(e.status),logId:u,errorType:"biz",code:"".concat(h)})}),t(a)}return e}],onResponseError:[(e,t)=>{var i,l,c,d,u,m,f,C,E,x;_.removeRequest(e.context.id);let{requestOptions:y}=e,w=Date.now()-y.context.startTime;e.context.duration=w;let I=y.method||"",T=y.url||"";h.dev&&e.type===v.iu.ABORTED&&r.debug("丢弃请求");let A=g.QV;if(e.response&&(A=null!=(m=e.response.headers["x-ds-trace-id"])?m:g.QV,e.response.context.logId=A),e.response){let i=null,l=null;try{"text"===e.response.requestOptions.responseType?(i=e.response.json.code,l=e.response.json):i=g.VQ.OK}catch(t){r.debug("解析响应为 json 出错",{consoleOnlyArgs:[e.response.body]})}let c=(0,b.getTranslate)(s()),{error:d,detail:u}=S(l,e.context,i,c,!0,a,e.response);if("none"!==d){let a=Error("HTTP response code is ".concat(i,", error: ").concat(d,", detail: ").concat(u," (logId: ").concat(A,", url: ").concat(T,")"));a.name="BIZ_ERROR[".concat(i,"]"),n.error({name:"__httpResponse",message:"httpResponse ".concat(I.toUpperCase()," ").concat(e.response.requestOptions.url||"",", ").concat(w,"ms, reason: ").concat(d),payload:o(a,{url:T,path:e.response.context.path,method:I,duration:w,metricDuration:w,status:"".concat(e.response.status),logId:A,errorType:"biz",code:"".concat(i)})}),t(e);return}}let j=(0,g.pw)(null==(i=e.response)?void 0:i.status,null==(l=e.response)?void 0:l.headers);if(j)return void t(B("captcha"===j?"awsCaptcha":"awsChallenge"));if(p&&(0,g.Bj)(null==(c=e.response)?void 0:c.status,null==(d=e.response)?void 0:d.headers)&&(null==(u=e.response)?void 0:u.body)){let a=Error("HTTP response challenged (logId: ".concat(A,", url: ").concat(T,")"));a.name="CF_CHALLENGED",e.context.unauthorizedReason="cfChallenged",n.error({name:"__httpResponse",message:"httpResponse ".concat(I.toUpperCase()," ").concat(T,", ").concat(w,"ms"),payload:o(a,{url:T,method:I,duration:w,metricDuration:w,path:e.context.path,status:"".concat(null!=(C=null==(f=e.response)?void 0:f.status)?C:-1),logId:A,errorType:"client",code:"challenged"}),options:{consoleOnlyArgs:[e]}}),t(e);return}if(e.type!==v.iu.ABORTED)return void n.error({name:"__httpResponse",message:"httpResponse ".concat(I.toUpperCase()," ").concat(T,", ").concat(w,"ms"),payload:o(e,{url:T,method:I,duration:w,metricDuration:w,path:e.context.path,status:"".concat(null!=(x=null==(E=e.response)?void 0:E.status)?x:-1),logId:A,errorType:"client",code:"none"}),options:{consoleOnlyArgs:[e]}})}],onNonResponseError:[e=>{_.removeRequest(e.context.id),e.type===v.iu.INVALID_JSON||n.error({name:"__httpNonResponseError",message:e.message,payload:o(e,{})})}]}}),w=E.withRetry({createState:()=>({}),onResolved:async e=>{let{response:t}=e;return{action:"resolve",value:t}},onRejected:async e=>{let{error:t,options:a}=e;return y(t)&&"cfChallenged"===t.context.unauthorizedReason?(await T(),{action:"retry",value:()=>a}):Object(t).__gatewayError?(await N(l,t.scene,n),{action:"retry",value:()=>a}):{action:"reject",value:t}}});return{http:w,monitor:_,httpClientErrorType:w.errorType,HTTP_CLIENT_ERROR:v.iu,withDefaultHttpContext:function(e){return{...g.O6,...e}},isHttpClientError:y}}({lylaAdapter:h.O,locale:{useLocale:eC,getLocale:ef},baseUrl:e.http.baseUrl,logger:R,tracker:M,withError:O,onToast:e=>{let{level:t,node:n,dedupeKey:a,description:s}=e;eF(e=>{e[t]({node:n,description:s},{dedupeKey:a})})},user:{getStatus:e.user.getStatus,getToken:S,onIpAccessRestricted:e.user.onIpAccessRestricted,onIsBanned:e.user.onIsBanned,onTokenInvalid:e.user.onTokenInvalid},chat:{onMuted:e.chat.onMuted},staticEnv:e.staticEnv,cloudflareEnabled:e.http.cloudflareEnabled,onBeforeRequestInit:e.http.onBeforeRequestInit}),{useApp:K,storageHandles:q,userTokenStorageHandle:Z,debugPanelEnabledStorageHandle:Q,DebugPanel:Y,toggleDebugPanel:X,eventbus$:J,bannerStorageHandle:$,getLastSessionValue:ee,useLastSessionValue:et,setLastSessionValue:en,visibilityChange$:es}=function(e){let{appConfig:t,tracker:n,withError:a}=e,s=new E.B,r=new eh.t(!eu.Bd||!document.hidden),o=new m.H({onGetError:(e,t)=>{let{key:s,value:r}=t;n.error({name:"__parseStorageValueFailed",message:"解析 storage 值失败",payload:a(e,{key:s,value:null===r?"null":r})})}}),i=t.createStorageHandles({storageHandleManager:o}),u=o.create("userToken",null,null),h={};for(let e in t.fg.defaultValue)h[e]=o[t.fg.defaultValue[e].saveToLocalStorage?"create":"createMock"]("__appKit_".concat(t.id,"_fg_").concat(e),t.fg.defaultValue[e].value,t.fg.defaultValue[e].storageVersion);let p=o.create("__appKit_".concat(t.id,"_debugPanelEnabled"),!1,null),{DebugPanel:g,toggleDebugPanel:f}=function(e){let{debugPanelEnabledStorageHandle:t,debugPanelFoldStorageHandle:n,debugPanelPositionStorageHandle:a}=e,s=e=>t.set(null!=e?e:!t.get());return{DebugPanel:function(e){var r;let o,{items:i,className:c}=e,[u]=t.useState(),[h]=n.useState(),p=(0,l.jsx)("div",{style:{height:1,background:"#fff6",margin:"4px 0"}}),m=i.some(e=>e.alwaysShow)||u,g=(r=a,o=(0,d.useRef)(),(0,d.useEffect)(()=>()=>{var e;return null==(e=o.current)?void 0:e.dispose()},[]),o.current||(o.current=new ex(r.get,r.set)),o.current),{divRef:f,style:C}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialPosition:t={x:20,y:20},boundaryPadding:n=10,disabled:a=!1,snapThreshold:s=20}=e,[r,o]=(0,d.useState)(t),[i,l]=(0,d.useState)(!1),c=(0,d.useRef)(null),u=(0,d.useRef)({x:0,y:0}),h=(0,d.useRef)({width:window.innerWidth,height:window.innerHeight}),p=(0,d.useCallback)(function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!c.current)return{x:e,y:t};let r=c.current,o=window.innerWidth,l=window.innerHeight,d=r.offsetWidth,u=r.offsetHeight,h=Math.max(n,Math.min(e,o-d-n)),p=Math.max(n,Math.min(t,l-u-n));return(a||!i)&&(h<s+n&&(h=n),o-(h+d)<s+n&&(h=o-d-n),p<s+n&&(p=n),l-(p+u)<s+n&&(p=l-u-n)),{x:h,y:p}},[n,i,s]),m=(0,d.useCallback)(()=>{o(t)},[t]),g=(0,d.useCallback)(e=>{if(!a&&(l(!0),c.current)){let t=c.current.getBoundingClientRect();u.current={x:e.clientX-t.left,y:e.clientY-t.top}}},[a]),f=(0,d.useRef)(e.onDrag);f.current=e.onDrag;let C=(0,d.useCallback)(e=>{var t;if(!i)return;let{x:n,y:a}=p(e.clientX-u.current.x,e.clientY-u.current.y);null==(t=f.current)||t.call(f),o({x:n,y:a})},[i,p]),v=(0,d.useCallback)(()=>{l(!1),c.current&&o(e=>p(e.x,e.y,!0))},[p]),b=(0,d.useCallback)(()=>{if(!c.current)return;let e=window.innerWidth,t=window.innerHeight;e<h.current.width||t<h.current.height?o(e=>p(e.x,e.y,!0)):o(e=>p(e.x,e.y,!1)),h.current={width:e,height:t}},[p]);return(0,d.useEffect)(()=>{let e=c.current;return e&&e.addEventListener("mousedown",g),window.addEventListener("mousemove",C),window.addEventListener("mouseup",v),window.addEventListener("resize",b),()=>{e&&e.removeEventListener("mousedown",g),window.removeEventListener("mousemove",C),window.removeEventListener("mouseup",v),window.removeEventListener("resize",b)}},[g,C,v,b]),(0,d.useEffect)(()=>{o(e=>p(e.x,e.y))},[]),{divRef:c,style:{position:"fixed",top:"".concat(r.y,"px"),left:"".concat(r.x,"px"),cursor:a?"default":i?"grabbing":"default"},isDragging:i,reset:m}}({disabled:!1,initialPosition:g.getInitialPosition(),onDrag:()=>g.update(f.current)});return m?(0,l.jsxs)("div",{ref:f,className:c,style:{borderRadius:8,fontSize:12,lineHeight:1.2,padding:8,color:"#fff",zIndex:1e3,backgroundColor:"rgba(0, 0, 0, 0.75)",width:h?100:300,...C},children:[(0,l.jsx)("button",{onClick:()=>{let e;return n.set(null!=e?e:!n.get())},children:h?"Debug":"收起"}),!h&&(0,l.jsx)("button",{onClick:()=>s(!1),style:{marginLeft:"1em",color:"red"},children:"关闭"}),h?null:p,h?null:i.map((e,t)=>{if(!e.alwaysShow&&!u)return null;let n=0!==t;switch(e.type){case"text":return(0,l.jsxs)(d.Fragment,{children:[n?p:null,(0,l.jsx)("div",{children:e.label},t)]},t);case"button":return(0,l.jsxs)(d.Fragment,{children:[n?p:null,(0,l.jsx)("button",{onClick:e.onClick,style:{padding:"2px 8px",borderRadius:4,fontSize:12,lineHeight:1.2},children:e.label}),(0,l.jsx)("div",{children:e.desc})]},t)}})]}):null},toggleDebugPanel:s}}({debugPanelEnabledStorageHandle:p,debugPanelFoldStorageHandle:o.create("__appKit_debugPanelFold",!1,null),debugPanelPositionStorageHandle:o.create("__appKit_debugPanelPosition","0.000#0.000",null)}),C=o.create("__appKit_".concat(t.id,"_banner"),{closedBannerId:null,cachedBannerOptions:null},null),v=(0,c.vt)((e,n)=>{let a=t.theme.defaultPreference,r=null;t.theme.saveToLocalStorage&&(a=(r=o.create("__appKit_".concat(t.id,"_themePreference"),t.theme.defaultPreference,t.theme.localStorageVersion)).get());let i=null,l=t.locale.defaultPreference;t.locale.saveToLocalStorage&&(l=(i=o.create("__appKit_".concat(t.id,"_localePreference"),t.locale.defaultPreference,t.locale.localStorageVersion)).get());let c=null,d=!1;t.debug.saveToLocalStorage&&(d=(c=o.create("__appKit_".concat(t.id,"_debug"),!1,null)).get());let{defaultRegion:u,defaultIp:p}=function(){var e,t;if(!eu.Bd)return{defaultIp:"__IP__",defaultRegion:"__REGION__"};let n=null==(e=document.querySelector("meta[name=ip]"))?void 0:e.content,a=null==(t=document.querySelector("meta[name=region]"))?void 0:t.content;return{defaultIp:n&&"__IP__"!==n?n:null,defaultRegion:a&&"__REGION__"!==a?a:null}}();return{themePreference:a,localePreference:l,visible:!!eu.Bd&&!document.hidden,debug:d,region:u,ip:p,isIpLoading:null===u&&null===p,getFgByKey:e=>h[e].get(),useFgByKey:e=>h[e].useState(),setFgByKey:(e,t)=>h[e].set(t),setThemePreference:t=>{null==r||r.set(t),s.next({name:"themePreferenceChange",payload:t}),e(e=>({...e,themePreference:t}))},setLocalePreference:t=>{s.next({name:"localePreferenceChange",payload:[t,n().localePreference]}),null==i||i.set(t),e(e=>({...e,localePreference:t}))},setDebug:n=>{t.debug.saveToLocalStorage&&(null==c||c.set(n)),e(e=>({...e,debug:n}))}}}),{useLastSessionValue:b,setLastSessionValue:_,getLastSessionValue:S}=function(e,t,n){let a={};for(let e in n)a[e]=n[e].defaultValue;let s=e.create("__appKit_".concat(t,"_lastSessionValue"),a,null),r=s.get(),o={};for(let e in n)o[e]=void 0===r[e]?n[e].defaultValue:r[e];return s.set(o),{useLastSessionValue:function(){return s.useState()},getLastSessionValue:function(){return s.get()},setLastSessionValue:function(e){let t=e(s.get());s.set(t)}}}(o,t.id,t.lastSessionValue);return{eventbus$:s,userTokenStorageHandle:u,debugPanelEnabledStorageHandle:p,bannerStorageHandle:C,useApp:v,storageHandles:i,getLastSessionValue:S,useLastSessionValue:b,setLastSessionValue:_,DebugPanel:g,toggleDebugPanel:f,visibilityChange$:r}}({appConfig:e,withError:O,tracker:M});Q.subscribe(e=>{e&&L("debugPanel")},{immediately:!0});let eo=y?()=>!1:()=>K(e=>e.isIpLoading);function ef(){return(0,ep.F)(K)}function eC(){let e=K(e=>e.localePreference);return(0,ep.g)(e)}let eE=y&&A?"CN"===A?()=>!0:()=>!1:()=>{let e=K(e=>e.region);return!!(K(e=>e.isIpLoading)||null===e)||"CN"===e},eA=(a={onError:(e,t)=>{M.error({name:"__componentDidCatch",message:"ErrorBoundary onError",payload:O(e,{componentStack:t.componentStack||"[none]"}),options:{consoleOnlyArgs:[e,t]}})}},function(e){let t=e.onError,n=(0,d.useCallback)((e,n)=>{a.onError(e,n),null==t||t(e,n)},[t]);return(0,l.jsx)(U,{...e,onError:n})}),{PageVisit:ej,NextPageVisitRecorder:ek,NextPageVisitSetup:eM,ttiReporter:eR}=function(e){let{tracker:t,getTheme:n}=e,a={},s=new eg(t);return{ttiReporter:s,PageVisit:function(e){let{children:r}=e,o=eu.Bd?window.location.pathname:"",i=(0,d.useRef)(!1),c=(0,d.useRef)(-1),u=(0,d.useRef)(0);return(0,d.useMemo)(()=>{o in a||(a[o]=0),u.current=a[o]},[o]),(0,d.useEffect)(()=>{let e=s.getCurrentDuration(),r=u.current;c.current=e,t.info({name:"__pageVisit",message:"访问页面 [".concat(o,"] [").concat(r,"]：").concat(e,"ms"),payload:{pathname:o,metricVisitIndex:r,metricDuration:e,referrer:document.referrer||"none",appTheme:n()}}),i.current||s.report(o,r,c.current,!1),a[o]=r+1},[o]),(0,l.jsx)(em.Provider,{value:(0,d.useMemo)(()=>({reportTti:e=>{s.report(o,u.current,c.current,e)},ttiIsTakenOverRef:i}),[o]),children:r})},NextPageVisitRecorder:function(){let e=eu.Bd?window.location.pathname:"",r=(0,d.useMemo)(()=>eu.Bd?(e in a||(a[e]=0),a[e]):0,[e]),o=(0,d.useRef)(-1);return(0,d.useEffect)(()=>{let i=s.getCurrentDuration();o.current=i,t.info({name:"__pageVisit",message:"访问页面 [".concat(e,"] [").concat(r,"]：").concat(i,"ms"),payload:{pathname:e,metricVisitIndex:r,metricDuration:i,referrer:document.referrer||"none",appTheme:n()}}),s.report(e,r,o.current,!1),a[e]=r+1},[]),null},NextPageVisitSetup:function(e){let{usePathname:t}=e,n=t();return(0,d.useMemo)(()=>{s.resetNavigationStartTime()},[n]),null}}}({tracker:M,getTheme:()=>K.getState().themePreference}),{notificationContextReceiverNode:eN,withNotification:eO}=(s=[],r={current:null},{withNotification:e=>{r.current?e(r.current):s.push(e)},notificationContextReceiverNode:(0,l.jsx)(er,{setNotification:e=>{r.current||(r.current=e,s.forEach(t=>t(e)))}})}),{toastContextReceiverNode:eL,withToast:eF}=(o=[],i={current:null},{withToast:e=>{i.current?e(i.current):o.push(e)},toastContextReceiverNode:(0,l.jsx)(ei,{setToast:e=>{i.current||(i.current=e,o.forEach(t=>t(e)))}})});async function eP(t){let{container:n,node:a,router:s,onBeforeRender:r,onAfterRender:o,onVisibilityChange:i}=t,c=document.querySelector(n);if(s.subscribe(()=>{eR.resetNavigationStartTime()}),c){let t=ef(),n=await (0,H.w)((0,ec.Xq)(t),500);if("fulfilled"!==n.status&&"system"!==K.getState().localePreference){let e="rejected"===n.status?n.reason:Error("加载超时");M.error({name:"loadLocaleFailed",message:"用户设置语言加载失败",payload:O(e,{targetLocalePreference:K.getState().localePreference,fromLocale:ef(),toLocale:t,initiator:"start"})});let a=(0,ep.g)("system");if("fulfilled"===(n=await (0,H.w)((0,ec.Xq)(a),500)).status)K.getState().setLocalePreference("system");else{let e="rejected"===n.status?n.reason:Error("加载超时");M.error({name:"loadLocaleFailed",message:"系统语言加载失败",payload:O(e,{targetLocalePreference:"system",fromLocale:ef(),toLocale:a,initiator:"start"})})}}"fulfilled"!==n.status&&K.getState().setLocalePreference("en_US"),i&&J.subscribe({next:e=>{let{name:t,payload:n}=e;"visibilityChange"===t&&i(n)}}),r();let s=(0,u.createRoot)(c);if(s.render(a),o(),e.checkUpdate.enabled){let t=!0;if("function"!=typeof e.checkUpdate.enabled||e.checkUpdate.enabled({storageHandles:q})||(t=!1),t||e.checkUpdate.debugForceShow){let t=e.checkUpdate.versionApiUrl;!function(e){let{debugForceShow:t,tracker:n,currentAppVersion:a,useLocale:s,getAppVersion:r,withNotification:o,withError:i}=e;if(!eu.Bd)return;let c=e=>o(t=>{let n=(0,eS.ensureTranslateComponent)("updateVersionNotificationTitle",s),a=(0,eS.ensureTranslateComponent)("updateVersionNotificationRefreshButton",s),r=(0,eS.useTranslate)(s())("updateVersionNotificationContent");t.warning({title:(0,l.jsx)(n,{}),content:r(e),footer:(0,l.jsx)(e_.$,{variant:"text",type:"primary",size:"l",onClick:()=>window.location.reload(),children:(0,l.jsx)(a,{})})})});if(t)return c("[debug force show version]");let d=[];function u(){r().then(e=>{/^\d+\.\d+/.test(e)?e!==a&&(d.includes(e)||(d.push(e),n.info({name:"__newVersionFound",message:"有更新的版本，发送升级提示",payload:{currentVersion:a,newVersion:e}}),c(e))):n.error({name:"__checkUpdateFailed",message:"最新版本格式不合法 ".concat(e),payload:{reason:"invalidVersion"}})}).catch(e=>{n.error({name:"__checkUpdateFailed",message:"最新版本检查失败",payload:i(e,{reason:"api"})})})}document.addEventListener("visibilitychange",()=>{document.hidden||u()}),setTimeout(()=>{u()},5e3),setInterval(u,36e5)}({debugForceShow:e.checkUpdate.debugForceShow,withError:O,withNotification:eO,tracker:M,useLocale:eC,getAppVersion:()=>P.get(t,{context:G({mayMissingApiCode:!0})}).then(e=>{let{body:t}=e;return t}),currentAppVersion:e.staticEnv.appVersion})}}_=()=>{s.unmount(),c.remove()}}else throw Error("找不到容器 ".concat(n))}let eD=eu.Bd?ed.parse(navigator.userAgent).platform.type:void 0,eB=!!eu.Bd&&("mobile"===eD||"tablet"===eD),eV=function(e){let{useLocale:t,http:n,withDefaultHttpContext:a,bannerApi:s,bannerStorageHandle:r,logger:o,ErrorBoundary:i,mock:c}=e;if(!s)return()=>null;let u=function(e){let{condition:i,style:u,className:h,theme:p}=e,[m,g]=r.useState(),{data:f}=c?{data:{json:c,body:""}}:(0,ey.Ay)("banner-settings",async()=>({json:await s(n,a),body:""}),{onSuccess:e=>{let{json:t,body:n}=e;try{if(null!==t&&!eT(t))return void o.error("banner 数据格式错误：".concat(n));g({...m,cachedBannerOptions:t}),null!==t&&t.id!==m.closedBannerId&&S(!0)}catch(e){o.error("解析 banner 数据失败：".concat(e,", ").concat(n))}}}),C=(0,d.useMemo)(()=>{try{let e=f?f.json:m.cachedBannerOptions;if(!e)return null;if(eT(e))return e;return o.error("banner 数据格式错误：".concat(JSON.stringify(e))),null}catch(e){return o.error("解析 banner 数据失败：".concat(e)),null}},[f,m.cachedBannerOptions]),v=(0,d.useMemo)(()=>C?C.items.find(e=>e.showCondition.includes(i)):null,[i,C]),b=t(),[_,S]=(0,d.useState)(()=>!!C&&m.closedBannerId!==C.id);if(!C||!v||!v.show||!_)return null;let E=v.content[b];return v.type&&E&&C.id?(0,l.jsx)(ew,{type:v.type,closable:v.closable,style:u,className:h,theme:p,onClose:()=>{S(!1),g({...m,closedBannerId:C.id})},children:(0,l.jsx)(eI.e,{showMarkdownLink:!0,aProps:{style:{textDecoration:"underline"},theme:{boxShadowColorFocus:"currentColor",textColor:"inherit"}},children:E})}):null};return function(e){return(0,l.jsx)(i,{renderFallback:()=>null,children:(0,l.jsx)(u,{...e})})}}({useLocale:eC,bannerStorageHandle:$,http:P,logger:R,withDefaultHttpContext:G,bannerApi:e.banner.bannerApi,ErrorBoundary:eA,mock:e.banner.mock});!function(e){let{tracker:t,withError:n}=e;eu.Bd&&(window.addEventListener("error",e=>{t.error({name:"__globalError",message:"window.onerror",payload:n(e.error,{event:"error",message:e.message,filename:e.filename,lineno:"".concat(e.lineno),colno:"".concat(e.colno)}),options:{consoleOnlyArgs:[e]}})}),window.addEventListener("unhandledrejection",e=>{t.error({name:"__globalError",message:"window.onunhandledrejection",payload:n(e.reason,{event:"unhandledrejection"}),options:{consoleOnlyArgs:[e]}})}))}({tracker:M,withError:O}),eu.Bd&&eu.f8&&document.body.classList.add("apple"),function(e){let{useApp:t,eventbus$:n}=e;if(!eu.Bd)return;let a=(0,ep.F)(t);document.body.classList.add(a),ev(a),eb(a),n.subscribe({next:e=>{let{name:t,payload:n}=e;if("localePreferenceChange"===t){let e=(0,ep.g)(n[0]),t=(0,ep.g)(n[1]);document.body.classList.remove(t),document.body.classList.add(e),ev(e),eb(e)}}})}({useApp:K,eventbus$:J});let{getOsTheme:eH}=function(e){let{useApp:t,eventbus$:n}=e;if(!eu.Bd)return{getOsTheme:()=>"light"};let a=document.createElement("style");a.textContent="\nbody.change-theme * {\n  transition: none !important;\n}\n\nbody.change-theme *::before {\n  transition: none !important;\n}\n\nbody.change-theme *::after {\n  transition: none !important;\n}\n",document.head.appendChild(a);let s=null;function r(){var e;let t,a;return eu.Bd?(s||(e=n,t=window.matchMedia("(prefers-color-scheme: dark)"),a=window.matchMedia("(prefers-color-scheme: light)"),t.addEventListener?(t.addEventListener("change",t=>l(t,e)),a.addEventListener("change",t=>c(t,e))):t.addListener&&(t.addListener(t=>l(t,e)),a.addListener(t=>c(t,e))),s=t.matches?"dark":"light"),s):"light"}function o(e,n){document.body.classList.add("change-theme"),n&&t.setState(e=>({...e})),"light"===e?(document.body.classList.remove("dark"),document.body.classList.add("light"),document.body.removeAttribute("data-ds-dark-theme")):(document.body.classList.remove("light"),document.body.classList.add("dark"),document.body.dataset.dsDarkTheme="dark"),setTimeout(()=>{document.body.classList.remove("change-theme")},0)}let i=t.getState().themePreference;return o("system"===i?r():i,!1),n.subscribe({next:e=>{let{name:n,payload:a}=e;"systemThemeChange"===n?"system"===t.getState().themePreference&&o(a,!0):"themePreferenceChange"===n&&("system"!==a?o(a,!1):o(r(),!1))}}),{getOsTheme:r};function l(e,t){e.matches&&(s="dark",t.next({name:"systemThemeChange",payload:"dark"}))}function c(e,t){e.matches&&(s="light",t.next({name:"systemThemeChange",payload:"light"}))}}({useApp:K,eventbus$:J});return!function(e){let{useApp:t,tracker:n,eventbus$:a,visibilityChange$:s}=e;eu.Bd&&(document.addEventListener("visibilitychange",()=>{a.next({name:"visibilityChange",payload:!document.hidden}),s.next(!document.hidden),n.info({name:"__pageVisibilityChange",message:document.hidden?"页面隐藏":"页面显示",payload:{visible:"".concat(!document.hidden)}})}),a.subscribe({next:e=>{let{name:n,payload:a}=e;"visibilityChange"===n&&t.setState(e=>({...e,visible:a}))}}))}({useApp:K,tracker:M,eventbus$:J,visibilityChange$:es}),!function(e){let{useApp:t,tracker:n,ipApiUrl:a,http:s,syncIpFromHtml:r,withError:o,withDefaultHttpContext:i}=e;if(!eu.Bd)return;let{ip:l,region:c}=t.getState();r&&(l&&c?n.info({name:"__getIpFromHtmlOk",message:"获取离线地区信息成功",payload:{ip:l,region:c}}):n.error({name:"__getIpFromHtmlFailed",message:"获取离线地区信息失败",payload:{ip:l||g.QV,region:c||g.QV}})),a&&(function(){if(!a)throw Error("[app-kit]: ipApiUrl 未配置");return s.get(a,{context:i({withToken:!1})}).then(e=>{let{json:t}=e,n=t.data;return"biz_data"in n?n.biz_data:n})})().then(e=>{let{code:a,ip:s}=e;r&&n.info({name:"__compareRegion",message:"对比地区信息",payload:{ipSame:"".concat(l===s),htmlIp:null!=l?l:g.QV,apiIp:s,regionSame:"".concat(c===a||c&&({HK:"CN中国香港",MO:"CN中国澳门",TW:"CN中国台湾"})[c]===a),htmlRegion:null!=c?c:g.QV,apiRegion:a}}),t.setState(e=>({...e,ip:s,code:a,region:a,isIpLoading:!1})),n.info({name:"__getIpFromApiOk",message:"通过 API 获取地区信息，IP：".concat(s,"，Region：").concat(a),payload:{ip:s,region:a}})}).catch(e=>{t.setState(e=>({...e,isIpLoading:!1})),n.error({name:"__getIpFromApiFailed",message:"通过 API 获取 IP 信息失败",payload:o(e,{})})})}({tracker:M,syncIpFromHtml:e.ip.syncIpFromHtml,ipApiUrl:e.ip.ipApiUrl,http:P,withDefaultHttpContext:G,withError:O,useApp:K}),{useApp:K,visibilityChange$:es,DebugPanel:Y,toggleDebugPanel:X,logger:R,tracker:M,isMobile:eB,getLastSessionValue:ee,useLastSessionValue:et,setLastSessionValue:en,Banner:eV,useIsDebug:()=>K(e=>e.debug),getIsDebug:()=>K.getState().debug,setIsDebug(e){K.getState().setDebug(e)},setFgByKey:function(e,t){K.getState().setFgByKey(e,t)},resolvePathRelativeToPublicPath:t=>(function(e,t){if(!e)return t;let n=e.trim();return(n.endsWith("/")&&(n=n.slice(0,-1)),n=n.startsWith("/")?n:"/".concat(n),t.startsWith(n))?t.slice(n.length,t.length)||"/":t})(e.publicPath,t),useTheme:()=>{let e=K(e=>e.themePreference),[t,n]=(0,d.useState)(eH());return((0,d.useLayoutEffect)(()=>{if("system"===e){n(eH());let e=J.subscribe({next:e=>{e&&"systemThemeChange"===e.name&&n(e.payload)}});return()=>e.unsubscribe()}},[e]),"system"===e)?t:e},useLocale:eC,getLocale:ef,getIp:w,useIp:I,getRegion:j,PageVisit:ej,NextPageVisitRecorder:ek,NextPageVisitSetup:eM,startApp:eP,resetOnFatal:e=>{let{container:t,node:n}=e;_(),t&&(0,u.createRoot)(t).render(n)},useIsMainlandChina:eE,useIsIpLoading:eo,withError:O,useRegion:k,getUserTokenWithSource:S,getStorageUserToken:()=>Z.get(),setStorageUserToken:e=>Z.set(e),ErrorBoundary:eA,useFgByKey:function(e){return K.getState().useFgByKey(e)},getFgByKey:function(e){return K.getState().getFgByKey(e)},storageHandles:q,withNotification:eO,withToast:eF,WithToastAndNotification:function(e){let{children:t,toastProviderProps:n,notificationProviderProps:a}=e;return(0,l.jsx)(el.t,{...n,onToast:(e,t)=>{var a;null==n||null==(a=n.onToast)||a.call(n,e,t),"string"==typeof e?M[t]({name:"__toast",message:"Toast 弹出",payload:{content:e}}):M[t]({name:"__toast",message:"Toast 弹出",payload:{content:e.description}})},children:(0,l.jsxs)(ea,{...a,onNotification:(e,t,n)=>{var s;null==a||null==(s=a.onNotification)||s.call(a,e,t,n),M[n]({name:"__notification",message:"通知弹出",payload:{title:e,content:t}})},children:[eN,eL,t]})})},http:{http:P,monitor:F,httpClientErrorType:D,HTTP_CLIENT_ERROR:W,isHttpClientError:z,withDefaultHttpContext:G},httpWithCoreType:{http:P,httpClientErrorType:D,HTTP_CLIENT_ERROR:W,isHttpClientError:z,withDefaultHttpContext:G},isNetworkError:e=>z(e)&&e.type===W.NETWORK,openLink:e=>{let{href:t}=e;M.info({name:"__openLink",message:"打开链接 ".concat(t),payload:{href:t}}),function(e){let{href:t}=e,n=document.createElement("a");document.body.appendChild(n),n.href=t,n.target="_blank",n.rel="noopener noreferrer",n.click(),document.body.removeChild(n)}({href:t})}}}({id:"@deepseek/chat",fg:{defaultValue:{enableHcaptcha:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableEventsDisplay:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableLessMaxChunkInterval:{value:!1,storageVersion:null,saveToLocalStorage:!0},enableNoIdbCache:{value:!1,storageVersion:null,saveToLocalStorage:!0}}},debug:{saveToLocalStorage:!0},locale:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},theme:{defaultPreference:"system",saveToLocalStorage:!0,localStorageVersion:null},ip:{syncIpFromHtml:!0,ipApiUrl:null},staticEnv:ek,user:{getMemoryToken:()=>{let e=eN.kH.getState().user;return e?{token:e.token}:{token:null}},getStatus:()=>({status:g.Tr.OK}),onIpAccessRestricted(){},onIsBanned(){eR.j.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!0}})},onTokenInvalid(){eR.j.next({method:"beUnauthenticated",args:{navigateToSignIn:!0,isBanned:!1}})}},chat:{onMuted(e){let{muteUntil:t}=e;ej.Lo.getState().setMuted({isMuted:!0,muteUntil:t})}},checkUpdate:{enabled:e=>{let{storageHandles:{debugVersionUpdateDisabledStorageHandle:t}}=e;return!t.get()},debugForceShow:!1,versionApiUrl:"/version.txt"},createStorageHandles(e){let{storageHandleManager:t}=e,n=t.create("__debugVersionUpdateDisabled",!1,"20241018.1"),a=t.create("completionApiSlideWindow",[],null),s=t.create("targetBeforeOauthLogin","chat",null),r=t.create("__debugTokensPerSecond",0,null),o=t.create("exportedHistoryClosed",!1,null),i=t.create("thinkingEnabled",!1,"2"),l=t.create("searchEnabled",!1,null),c=t.create("closeUnsafeEnvWarn",!1,null),d=t.create("debugModelChannel","default",null);return{slideWindowStorageHandle:a,debugVersionUpdateDisabledStorageHandle:n,targetBeforeOauthLoginStorageHandle:s,debugTokensPerSecondStorageHandle:r,exportedHistoryClosedStorageHandle:o,thinkingEnabledStorageHandle:i,searchEnabledStorageHandle:l,closeUnsafeEnvWarnStorageHandle:c,debugModelChannelStorageHandle:d,debugLiteModelChannelStorageHandle:t.create("debugLiteModelChannel","default",null),latestSystemStorageHandle:t.create("latestSystem","",null)}},http:{baseUrl:void 0,cloudflareEnabled:!0,onBeforeRequestInit:async e=>{await eU(e);let t=eW.storageHandles.debugModelChannelStorageHandle.get(),n=eW.storageHandles.debugLiteModelChannelStorageHandle.get();e.headers={...e.headers,...(0,g.q_)({platform:ek.clientPlatform,version:"1.6.1",locale:ez.getLocale(),timezoneOffsetSeconds:60*i()().utcOffset()})},eD.vd!==eD.vZ.Production&&(e.headers={...e.headers,"x-debug-lite-model-channel":n,"x-debug-model-channel":t})}},banner:{bannerApi:eH},lastSessionValue:{userIsMuted:{defaultValue:!1},userMuteUntil:{defaultValue:0},loginMethod:{defaultValue:"code"},siderCollapsed:{defaultValue:!1}},publicPath:void 0,customEventsApi:async e=>{let{event:t}=e;eB.N.reportEvent(t)}}),ez=(a={},s={},r={useLocale:eW.useLocale,getLocale:eW.getLocale,useTranslate:()=>{let e=eW.useLocale(),t=s[e];if(!t){var n;let t=null!=(n=eF[e])?n:eF.en_US;return s[e]=new Proxy(()=>{},{apply:(e,n,a)=>t[a[0]],get:(e,n)=>t[n]})}return t},useTranslateWithLocale:()=>(0,d.useCallback)((e,t)=>{var n;return(null!=(n=eF[t])?n:eF.en_US)[e]},[]),ensureTranslateComponent:e=>a[e]?a[e]:a[e]=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];let s=r.useTranslate()(e);return"function"==typeof s?s(...n):s},getTranslate:()=>e=>{var t;return(null!=(t=eF[eW.getLocale()])?t:eF.en_US)[e]}})},46947:function(e,t,n){"use strict";n.d(t,{Ec:()=>v,Jr:()=>g,pA:()=>C}),n(40966);var a=n(57713),s=n(11285),r=n(74770),o=n(86122),i=n(40635),l=n(47896),c=n(31302),d=n(32675),u=n(91753),h=n(31788),p=n(63158);let m=(0,s.createContext)({leftSlot:null,rightSlot:null}),g=()=>(0,s.useContext)(m),f=(0,s.createContext)({entered:!1}),C=()=>(0,s.useContext)(f),v=e=>{let{onClose:t,onClosed:n,className:g,children:C,title:v,scrollDomRef:b,show:_}=e,S=(0,s.useRef)(null),[E,x]=(0,s.useState)(!1),y=(0,s.useMemo)(()=>({entered:E}),[E]),[w,I]=(0,s.useState)(null),[T,A]=(0,s.useState)(null),j=(0,s.useMemo)(()=>({leftSlot:w,rightSlot:T}),[w,T]),{className:k,containerDomRef:M,onContainerScroll:R,ScrollAreaGutters:N}=(0,l.Qh)({horizontalScrollbarInsets:{top:0,bottom:4,leading:2,trailing:8},get conflictedHorizontalScrollbarInsets(){return this.horizontalScrollbarInsets},verticalScrollbarInsets:{top:2,bottom:8,leading:0,trailing:0},get conflictedVerticalScrollbarInsets(){return this.verticalScrollbarInsets}}),{value:O,trigger:L}=(0,u._u)({value:_?C:null,shouldDelay:()=>!_||null==C,defaultValue:null});return O?(0,a.jsxs)(a.Fragment,{children:[_&&(0,r.createPortal)((0,a.jsx)("div",{className:p.contentSidebarMask,"aria-hidden":!_}),document.body),(0,a.jsx)(i.A,{in:_,timeout:{enter:200,exit:200},classNames:{appearActive:p.appearActive,appearDone:p.appearDone,exit:p.exit,exitActive:p.exitActive},appear:!0,nodeRef:S,onEntered:()=>x(!0),onExited:()=>{null==n||n(),L()},children:(0,a.jsx)("div",{ref:S,className:(0,o.A)(p.contentSidebar,g),"aria-hidden":!_,children:(0,a.jsxs)("div",{className:p.contentContainer,style:{width:"var(--sidebar-width)",maxWidth:"inherit"},children:[(0,a.jsxs)("div",{className:p.contentSidebarTitle,children:[(0,a.jsx)("div",{ref:I,className:p.leftSlot}),"string"==typeof v?(0,a.jsx)("div",{role:"heading",children:v}):v,(0,a.jsx)("div",{ref:A,className:p.rightSlot}),_&&(0,a.jsx)(c.K,{domRef:b,onClick:()=>{null==t||t()},className:p.contentSidebarClose,children:(0,a.jsx)(h.Q0,{})})]}),(0,a.jsxs)("div",{className:(0,o.A)(p.contentSidebarInner,k),ref:(0,d.P)(b,M),onScroll:R,children:[(0,a.jsx)(N,{}),(0,a.jsx)(m.Provider,{value:j,children:(0,a.jsx)(f.Provider,{value:y,children:C})})]})]})})})]}):null}},23636:function(e,t,n){"use strict";n.d(t,{Xh:()=>p,dA:()=>c,dU:()=>u,e5:()=>h,zC:()=>d,zT:()=>l}),n(42551),n(40966);var a=n(57713),s=n(11285),r=n(38499);let o=e=>()=>{throw Error("".concat(e," not provided"))},i=(0,s.createContext)({zoomIn:r.A,zoomOut:r.A,downloadSvg:r.A,downloadPng:r.A,setZoomOut:o("setZoomOut"),setZoomIn:o("setZoomIn"),setDownloadSvg:o("setDownloadSvg"),setDownloadPng:o("setDownloadPng"),renderStatus:"init",setRenderStatus:o("setRenderStatus"),setSvg:r.A,getSvg:()=>null}),l=(0,s.memo)(function(e){let{children:t}=e,n=(0,s.useRef)(o("zoomOut")),r=(0,s.useRef)(o("zoomIn")),l=(0,s.useRef)(o("downloadSvg")),c=(0,s.useRef)(o("downloadPng")),[d,u]=(0,s.useState)("init"),h=(0,s.useRef)(null),p=(0,s.useMemo)(()=>({setZoomOut:e=>n.current=e,setZoomIn:e=>r.current=e,zoomOut:()=>{var e;return null==(e=n.current)?void 0:e.call(n)},zoomIn:()=>{var e;return null==(e=r.current)?void 0:e.call(r)},downloadSvg:()=>{var e;return null==(e=l.current)?void 0:e.call(l)},setDownloadSvg:e=>l.current=e,downloadPng:()=>{var e;return null==(e=c.current)?void 0:e.call(c)},setDownloadPng:e=>c.current=e,renderStatus:d,setRenderStatus:u,setSvg:e=>h.current=e,getSvg:()=>h.current}),[d]);return(0,a.jsx)(i.Provider,{value:p,children:t})}),c=e=>{let{zoomOut:t,zoomIn:n}=e,{setZoomIn:a,setZoomOut:r}=(0,s.useContext)(i);a(n),r(t)},d=e=>{let{svg:t,downloadSvg:n,downloadPng:a}=e,{setDownloadSvg:r,setDownloadPng:o,setSvg:l}=(0,s.useContext)(i);t&&l(t),r(n),o(a)},u=()=>(0,s.useContext)(i),h=()=>(0,s.useContext)(i).renderStatus,p=()=>(0,s.useContext)(i).setRenderStatus},52362:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r,en_US:()=>s});var a=n(57713);let s={ageGateConfirm:"Confirm",ageGateDesc:"For age verification only. Your information will not be disclosed.",ageGateMonth:"Month",ageGateNetworkError:"Operation failed, please try again later.",ageGateRejectText:"You do not meet the minimum age requirement to use this product.",ageGateTitle:"When were you born?",ageGateYear:"Year",ageGetInvalidDate:"Invalide date",agentSelectionCreateSessionTooltip:"New chat",allowTrainingDescription:"Allow your content to be used to train our models and improve our services. We secure your data privacy.",allowTrainingSwitchLabel:"Improve the model for everyone",allowTrainingSwitchNetworkError:"Operation failed, please try again later.",alreadyInNewChatToast:"You're already in the latest chat",avartarMenuDownloadAppOption:"Download mobile App",avartarMenuSettingsDialogTitle:"Settings",avartarMenuSettingsOption:"Settings",avatarMenuSettingsDialogDeleteAccountItemLabel:"Delete account",avatarMenuSettingsDialogDeleteAllHistoryButton:"Delete all",avatarMenuSettingsDialogDeleteAllHistoryLabel:"Delete all chats",avatarMenuSettingsDialogThemeItemLabel:"Theme",avatarMenuSettingsDialogThemeSelectDarkOption:"Dark",avatarMenuSettingsDialogThemeSelectLightOption:"Light",avatarMenuSettingsDialogThemeSelectSystemOption:"System",cancel:"Cancel",chatHtmlTitle:"Into the Unknown",chatInputEmptyPromptButtonTooltip:"Message is empty\n",chatInputNewChatButton:"New chat",chatInputNewChatButtonTooltip:"Length limit exceeded. Your message will be sent to a new chat.",chatInputPlaceholderChat:"Message DeepSeek",chatInputStopButtonTooltip:"Stop",codeDownload:"Download",collapseSiderbarButton:"Close sidebar",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionServerBusyToast:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",composedSearchResults:"search result",composeResultTooltip:"View search results",contactUs:"Contact us",contentCaveat:"AI-generated, for reference only",continueGenerationButton:"Continue",cookieBannerAcceptAll:"Accept all cookies",cookieBannerAcceptEssential:"Necessary cookies only",cookieBannerDesc:"We use cookies to provide and improve services and ensure security. Click to view our <a>cookie policy</a>. You can choose to accept all or only necessary cookies, which may affect some functionalities.",cookieBannerTitle:"Cookie Settings",copyCode:"Copy",copyCodeOk:"Copied!",deactivatedSearchTooltip:"Search the web when necessary",deactivatedThinkTooltip:"Think before responding to solve reasoning problems",deletAllHistoryFailedToast:"Deletion failed. Please try again.",deleteAllHistoryModalCancel:"Cancel",deleteAllHistoryModalConfirm:"Confirm deletion",deleteAllHistoryModalContent:"All chat history will be permanently deleted and cannot be recovered. Any shared links will be disabled.",deleteAllHistoryModalTitle:"Delete all chats?",deleteAllHistoryOkToast:"Successfully deleted.",deleteFilesToSearchTooltip:"Please remove the file before searching",deleteSessionModalContentCancelButton:"Cancel",deleteSessionModalContentConfirmButton:"Delete",deleteSessionModalContentDescription:"This chat can’t be recovered. Share links from it will be disabled. Delete?",deleteSessionModalContentTitle:"Delete chat?",downloadAppInMobile:"Get App",dragFileDesc:"Max 50 files per chat at 100MB each. Text extraction only.",dragFileErrorTip:"The uploaded file format is not supported. Supported formats include PDF, DOC, XLSX, PPT, images, text, and code.",dragFileToUpload:"Drop files here to add to chat (Text extraction only)",editDisableTooltip:"This message cannot be edited now",editMessageCancelButton:"Cancel",editMessageSendButton:"Send",editMessageTooltip:"Edit",eraseChatButton:"Delete chat",errorPageReloadButton:"Reload page",errorPageTitle:"Something went wrong.",expandSiderbarButton:"Open sidebar",exportAllButton:"Export",exportAllDesc:"This data includes your account information and all chat history. Exporting may take some time. The download link will be valid for 7 days.",exportAllDownload:"Download",exportAllExpiryNoticeDesc:(e,t,n)=>(0,a.jsxs)(a.Fragment,{children:["Exported on ",e,", expires on ",t,". ",n," will update the download link."]}),exportAllFailed:"Export failed. Please retry later.",exportAllLabel:"Export data",exportAllRateLimit:"Exporting too frequently. Please try again later.",exportAllReexportBtn:"Re-exporting",failedToSwitchLocaleToast:"Failed to switch language",fake:"Fake",fatalPageTip:"This page may have crashed due to modifications made by certain browser extensions. Please try temporarily disabling any related extensions and refresh the page.",feedbackFailedToast:"Feedback failed. Please try again.",feedbackModalTitle:"Feedback",feedbackPlaceholder:"We appreciate your feedback. Please share any comments or suggestions that you have to help us improve.",fileContentTooLong:"Text limit exceeded",fileParseFailed:"Parsing failed",fileParseQueuing:"Pending...",fullScreen:"Fullscreen",generatingDisableTooltip:"Please wait until the message is generated",harmful:"Harmful / Unsafe",helpFeedback:"Help & Feedback",historyIsEmpty:"No chat history",historyLoadFailed:e=>(0,a.jsxs)(a.Fragment,{children:["Failed to load, you can\xa0",e]}),historyLoadFailedButton:"retry loading",illegal:"Illegal",imageLoadFailRetry:"Something went wrong. Please reload.",isSearching:"Searching the web...",isThinking:"Thinking...",logout:"Log out",logoutAllDevices:"Log out of all devices?",logoutAllDevicesButton:"Log out",logoutAllDevicesCancel:"Cancel",logoutAllDevicesConfirm:"Confirm Logout",logoutAllDevicesDesc:e=>'Clicking "'.concat(e,'" will sign you out of all devices and browsers, including this device.'),logoutAllDevicesFail:"Log out failed. Please try again later.",logoutAllDevicesTitle:"Log out of all devices",logoutFail:"Logout failed.",mermaidCode:"Code",mermaidDiagram:"Diagram",mermaidDownloadCode:"Code",mermaidDownloadPng:"PNG",mermaidDownloadSvg:"SVG",mermaidEmpty:"This diagram is empty.",mermaidLoading:"Rendering diagram...",mermaidRenderFail:"Mermaid rendering failed.",mermaidZoomIn:"Zoom in",mermaidZoomOut:"Zoom out",messageDislikeButtonTooltip:"Dislike",messageLikeButtonTooltip:"Like",messageSearching:"Searching...",muteAlert:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["Due to violation of user policies, your account has been suspended until ",e,". If you have any questions, please ",t,"."]}),nonsense:"Unhelpful",onboardingMsg:"How can I help you today?",onlyExtractTextFromFiles:"Extract only text from images and files.",operationTooFastToast:"Operation too frequent. Please try again later.",other:"Others",pinNCountChats:e=>"Pinned ".concat(e," chats"),pinnedSectionTitle:"Pinned",pinOrRenameEmptySessionFail:"This chat is empty. Unable to proceed.",pinSession:"Pin",pinSessionTooMany:"Pinned chats limit reached.",previewFileFail:"Preview failed",previewTextTooLong:"The document content is too long to display in full",profileEmailTitle:"Email address",profilePhoneNumberTitle:"Phone number",profileUserName:"Name",r1PowComputeFail:"Operation unsuccessful. Please retry later.",readingLink:"Reading",readingStopped:"Stopped",regenerate:"Regenerate",regenerateNotAvailable:"This message cannot be regenerated",renameFailed:"Rename failed",resend:"Resend",resendButtonTooltip:"Retry",runHtml:"Run",scanDownloadApp:"Scan to get DeepSeek App",search:"Search",searchGotNothing:"No suitable content found",searchNotSupportFiles:"Please turn off Search to upload files.",searchResult:"Search results",sessionHistoryTimelineLabel30days:"30 Days",sessionHistoryTimelineLabel7days:"7 Days",sessionHistoryTimelineLabelToday:"Today",sessionHistoryTimelineLabelYesterday:"Yesterday",sessionItemMenuDeleteOption:"Delete",sessionItemMenuRenameOption:"Rename",settingDialogAsideAccountOptionLabel:"Profile",settingDialogAsideDataOptionLabel:"Data",settingDialogAsideGeneralOptionLabel:"General",settingDialogAsidePolicyOptionLabel:"About",settingsLocalePreference:"Language",settingsLocalePreferenceSystem:"System",share:"Share",shareButtonDisabledTooltip:"This message cannot be shared",shareContentWarning:"This shared conversation is generated by AI, for reference only.",shareContinueChat:"Continue with DeepSeek",shareCreateLink:"Create public link",shareCreateLinkButton:"Create and copy",shareCreateLinkCopied:"Copied",shareCreateLinkCopiedToast:"Link copied.",shareCreateLinkCopy:"Copy",shareCreateLinkCopyFailed:"Copy failed.",shareCreateLinkInform:"Anyone with the link can view the conversation you’ve shared. Please check for sensitive or private content. You can manage shared links anytime in Settings > Data.",shareFile:"File",shareFileNoPreview:"Shared files can't be displayed",shareHeaderSelectConversation:"Select conversation",shareInvalid:"The link you accessed has expired.",shareLinksManageButton:"Manage",shareLinksManageCopy:"Copy link",shareLinksManageDelete:"Delete",shareLinksManageDeleteConfirmDesc:"Once the link is deleted, no one can access the conversation through it.",shareLinksManageDeleteConfirmTitle:"Confirm deletion?",shareLinksManageDeleteFailedToast:"Deletion failed. Please try again.",shareLinksManageDeleteOkToast:"Successfully deleted.",shareLinksManageDescription:"Shared links",shareLinksManagementEmpty:"No shared links",shareLinksManageSharedAt:"Shared on",shareNetworkError:"Network error, please try again later.",shareNotFound:"The link you accessed does not exist.",sharePanelNoShareable:"No messages to share",sharePluralMessageSelected:e=>"".concat(e," conversation turns selected"),shareSelectAll:"Select all",shareSelectMessageDisabledToast:"This message can’t be shared.",shareSelectMessageNotReadyToast:"Message not ready yet. Try again later.",shareSingularMessageSelected:e=>"".concat(e," conversation turn selected"),sidebarZoomIn:"Zoom in",sidebarZoomOut:"Zoom out",siderProfile:"My Profile",submit:"Submit",supportEmail:"service@deepseek.com",systemServiceException:"System temporarily unavailable",t:"Too many requests. Try again later.",thinkingStop:"Thinking stopped",thinkingSwitch:"DeepThink",toolFindFail:"Find failed",toolFindFailTooltip:"No related content found",toolFindIntro:"Find keyword",toolOpenFail:"Read failed",toolOpenFailTooltip:"Read failed",toolOpenIntro:"Read page",toolSearch1Result:"Found 1 web page",toolSearchFail:"Search currently unavailable",toolSearchIntro:"Searching for",toolSearchNoResult:"No suitable results found",toolSearchResults:e=>"Found ".concat(e," web pages"),unpinSession:"Unpin",unsupportedFragment:"Tool type not supported for display",untitledChat:"New chat",uploadFileButtonTooltipDesc:(e,t)=>"Upload docs or images (Max ".concat(e,", ").concat(t,"MB each)"),uploadFileButtonTooltipTitle:"Text extraction only.",uploadFileDeleteInvalidFilePrompt:"Remove failed files to submit.",uploadFileStatusContentEmpty:"No text extracted",uploadFileStatusContentFilter:"May violate terms",uploadFileStatusContentFilterForMobile:"May violate terms",uploadFileStatusFailed:"Upload failed",uploadFileStatusParsing:"Parsing...",uploadFileStatusUploading:"Uploading...",uploadingFiles:"Parsing file...",uploadMaxFiles:e=>"You can add at most ".concat(e," attachments to a message. Please select fewer attachments.\n"),uploadMaxMBSize:e=>"You may not upload files larger than ".concat(e,"MB."),uploadMultipleFileTokenCountExceededPrompt:e=>"DeepSeek can only read  ".concat(e,"% of all files. Try replacing the attached files with smaller excerpts."),uploadMultipleFileTokenCountExceededPrompt2:"Length limit reached. Try shortening or start a new chat.",usageEnvUnsafeTitle:"Abnormal usage environment",usageEnvUnsafeWarn:"The current usage environment may pose data and privacy risks. For your security, we recommend using our official product.",viewPolicyButton:"View",welcomeMessageChat250808:"How can I help you?"},r=s},75364:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r,zh_CN:()=>s});var a=n(57713);let s={ageGateConfirm:"确认",ageGateDesc:"仅用于确认你的年龄，你的信息不会公开。",ageGateMonth:"月",ageGateNetworkError:"操作失败，请稍后重试",ageGateRejectText:"你不符合使用本产品的最低年龄要求",ageGateTitle:"请选择你的出生年月",ageGateYear:"年",ageGetInvalidDate:"无效日期",agentSelectionCreateSessionTooltip:"开启新对话",allowTrainingDescription:"允许我们将你的对话内容用于优化 DeepSeek 的使用体验。我们保障你的数据隐私安全。",allowTrainingSwitchLabel:"数据用于优化体验",allowTrainingSwitchNetworkError:"操作失败，请稍后重试",alreadyInNewChatToast:"已经是最新对话",avartarMenuDownloadAppOption:"下载手机应用",avartarMenuSettingsDialogTitle:"系统设置",avartarMenuSettingsOption:"系统设置",avatarMenuSettingsDialogDeleteAccountItemLabel:"注销账号",avatarMenuSettingsDialogDeleteAllHistoryButton:"删除",avatarMenuSettingsDialogDeleteAllHistoryLabel:"删除所有对话",avatarMenuSettingsDialogThemeItemLabel:"主题",avatarMenuSettingsDialogThemeSelectDarkOption:"深色",avatarMenuSettingsDialogThemeSelectLightOption:"浅色",avatarMenuSettingsDialogThemeSelectSystemOption:"跟随系统",cancel:"取消",chatHtmlTitle:"探索未至之境",chatInputEmptyPromptButtonTooltip:"请输入你的问题",chatInputNewChatButton:"新对话",chatInputNewChatButtonTooltip:"内容比较长，消息将发送到新的对话",chatInputPlaceholderChat:"给 DeepSeek 发送消息 ",chatInputStopButtonTooltip:"停止生成",codeDownload:"下载",collapseSiderbarButton:"收起边栏",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",composedSearchResults:"搜索结果",composeResultTooltip:"查看搜索结果",contactUs:"联系我们",contentCaveat:"内容由 AI 生成，请仔细甄别",continueGenerationButton:"继续生成",cookieBannerAcceptAll:"接受全部",cookieBannerAcceptEssential:"仅接受必要 Cookies",cookieBannerDesc:"我们使用 Cookies 来提供和改进服务并进行安全防护。点击查看我们的 <a>Cookie 政策</a>。你可以选择接受全部，或仅接受必要 Cookies（可能导致部分功能无法正常使用）。",cookieBannerTitle:"Cookie 设置",copyCode:"复制",copyCodeOk:"复制成功",deactivatedSearchTooltip:"按需搜索网页",deactivatedThinkTooltip:"先思考后回答，解决推理问题",deletAllHistoryFailedToast:"删除失败，请重试",deleteAllHistoryModalCancel:"取消",deleteAllHistoryModalConfirm:"确认删除",deleteAllHistoryModalContent:"如点击确认删除，当前账号的所有历史对话将被清空，无法找回，由对话生成的分享链接也将失效。",deleteAllHistoryModalTitle:"确认删除所有历史对话？",deleteAllHistoryOkToast:"删除成功",deleteFilesToSearchTooltip:"请先删除文件再开启联网搜索",deleteSessionModalContentCancelButton:"取消",deleteSessionModalContentConfirmButton:"删除",deleteSessionModalContentDescription:"删除后，该对话将不可恢复，由该对话生成的分享链接也将失效。确认删除吗？",deleteSessionModalContentTitle:"永久删除对话",downloadAppInMobile:"下载应用",dragFileDesc:"最多支持 50 个文件，每个 100 MB，仅提取文字，接受 pdf、doc、xlsx、ppt、图片、文本、代码等",dragFileErrorTip:"上传的文件包含暂未支持的文件格式，请转换文件格式后重试。支持PDF、DOC、XLSX、PPT、图片、文本、代码等。",dragFileToUpload:"文件拖动到此处即可上传（仅提取文字）",editDisableTooltip:"该消息暂不支持修改",editMessageCancelButton:"取消",editMessageSendButton:"发送",editMessageTooltip:"修改",eraseChatButton:"删除本页",errorPageReloadButton:"重新加载",errorPageTitle:"似乎出了点问题",expandSiderbarButton:"打开边栏",exportAllButton:"导出",exportAllDesc:"导出内容中将包含你的账号信息和所有历史对话。导出可能需要一段时间，下载链接的有效期为 7 天。",exportAllDownload:"下载",exportAllExpiryNoticeDesc:(e,t,n)=>(0,a.jsxs)(a.Fragment,{children:["历史对话于 ",e," 导出，将于 ",t," 过期，",n," 将更新下载链接。"]}),exportAllFailed:"导出失败，请稍候重试。",exportAllLabel:"导出所有历史对话",exportAllRateLimit:"导出过于频繁，请稍后重试。",exportAllReexportBtn:"重新导出",failedToSwitchLocaleToast:"切换语言失败",fake:"虚假信息",fatalPageTip:"页面崩溃可能与浏览器插件对页面内容的修改有关，建议您尝试临时停用相关插件并刷新页面。",feedbackFailedToast:"反馈失败，请重试",feedbackModalTitle:"反馈",feedbackPlaceholder:"我们想知道你对此回答不满意的原因，你认为更好的回答是什么？",fileContentTooLong:"文件内容过长",fileParseFailed:"解析失败",fileParseQueuing:"等待中...",fullScreen:"全屏",generatingDisableTooltip:"请在消息生成结束后操作",harmful:"有害/不安全",helpFeedback:"帮助与反馈",historyIsEmpty:"暂无历史对话",historyLoadFailed:e=>(0,a.jsxs)(a.Fragment,{children:["加载失败，你可以\xa0",e]}),historyLoadFailedButton:"重试加载",illegal:"违法违规",imageLoadFailRetry:"似乎出了点问题，重新加载",isSearching:"搜索中...",isThinking:"思考中...",logout:"退出登录",logoutAllDevices:"确认登出所有设备？",logoutAllDevicesButton:"登出",logoutAllDevicesCancel:"取消",logoutAllDevicesConfirm:"确认登出",logoutAllDevicesDesc:e=>"点击“".concat(e,"”后，当前账号将在所有已登录设备或浏览器中退出登录（包括当前设备）。"),logoutAllDevicesFail:"退出登录失败，请稍后重试",logoutAllDevicesTitle:"登出所有设备",logoutFail:"退出登录失败",mermaidCode:"代码",mermaidDiagram:"图表",mermaidDownloadCode:"下载代码",mermaidDownloadPng:"下载 PNG",mermaidDownloadSvg:"下载 SVG",mermaidEmpty:"图表为空",mermaidLoading:"图表生成中...",mermaidRenderFail:"渲染失败",mermaidZoomIn:"放大",mermaidZoomOut:"缩小",messageDislikeButtonTooltip:"不喜欢",messageLikeButtonTooltip:"喜欢",messageSearching:"搜索中...",muteAlert:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["由于违反用户使用规范，你的账号已被禁言至 ",e,"，如有疑问请 ",t,"。"]}),nonsense:"没有帮助",onboardingMsg:"我可以帮你写代码、读文件、写作各种创意内容，请把你的任务交给我吧~",onlyExtractTextFromFiles:"仅识别附件中的文字",operationTooFastToast:"操作过于频繁，请稍后再试",other:"其他",pinNCountChats:e=>"置顶 ".concat(e," 个对话"),pinnedSectionTitle:"置顶",pinOrRenameEmptySessionFail:"当前对话为空，无法进行操作",pinSession:"置顶",pinSessionTooMany:"置顶对话数量已达上限",previewFileFail:"打开文件时遇到了问题",previewTextTooLong:"文件内容较长，无法全部展示",profileEmailTitle:"邮箱",profilePhoneNumberTitle:"手机号码",profileUserName:"用户名",r1PowComputeFail:"当前操作遇到一些问题，请稍后再试",readingLink:"正在阅读",readingStopped:"已停止",regenerate:"重新生成",regenerateNotAvailable:"该消息不支持重新生成",renameFailed:"重命名失败",resend:"重新发送",resendButtonTooltip:"重试",runHtml:"运行",scanDownloadApp:"扫码下载 DeepSeek APP",search:"联网搜索",searchGotNothing:"未搜索到合适的内容",searchNotSupportFiles:"联网搜索不支持上传文件",searchResult:"搜索结果",sessionHistoryTimelineLabel30days:"30 天内",sessionHistoryTimelineLabel7days:"7 天内",sessionHistoryTimelineLabelToday:"今天",sessionHistoryTimelineLabelYesterday:"昨天",sessionItemMenuDeleteOption:"删除",sessionItemMenuRenameOption:"重命名",settingDialogAsideAccountOptionLabel:"账号管理",settingDialogAsideDataOptionLabel:"数据管理",settingDialogAsideGeneralOptionLabel:"通用设置",settingDialogAsidePolicyOptionLabel:"服务协议",settingsLocalePreference:"语言",settingsLocalePreferenceSystem:"跟随系统",share:"分享",shareButtonDisabledTooltip:"该消息不支持分享",shareContentWarning:"该对话来自分享，由 AI 生成，请仔细甄别。",shareContinueChat:"和 DeepSeek 继续聊",shareCreateLink:"创建分享链接",shareCreateLinkButton:"创建并复制",shareCreateLinkCopied:"已复制",shareCreateLinkCopiedToast:"分享链接已复制",shareCreateLinkCopy:"复制",shareCreateLinkCopyFailed:"复制失败",shareCreateLinkInform:"任何获得链接的人都可以查看你分享的对话，请检查是否包含敏感或隐私内容。你可以随时在系统设置 - 数据管理中管理被分享的链接。",shareFile:"文件",shareFileNoPreview:"分享中的文件不支持展示",shareHeaderSelectConversation:"选择对话",shareInvalid:"你访问的链接已失效",shareLinksManageButton:"管理",shareLinksManageCopy:"复制链接",shareLinksManageDelete:"删除",shareLinksManageDeleteConfirmDesc:"删除链接后，任何人无法通过该链接访问你分享的对话。",shareLinksManageDeleteConfirmTitle:"确认删除吗？",shareLinksManageDeleteFailedToast:"删除失败，请重试",shareLinksManageDeleteOkToast:"删除成功",shareLinksManageDescription:"我共享的链接",shareLinksManagementEmpty:"暂无共享的链接",shareLinksManageSharedAt:"共享于",shareNetworkError:"网络异常，请稍后重试",shareNotFound:"你访问的链接不存在",sharePanelNoShareable:"暂无可分享的消息",sharePluralMessageSelected:e=>"已选择 ".concat(e," 组对话"),shareSelectAll:"全选",shareSelectMessageDisabledToast:"该消息不支持分享",shareSelectMessageNotReadyToast:"消息状态尚未确定，请稍后再试",shareSingularMessageSelected:e=>"已选择 ".concat(e," 组对话"),sidebarZoomIn:"放大",sidebarZoomOut:"缩小",siderProfile:"个人信息",submit:"提交",supportEmail:"service@deepseek.com",systemServiceException:"系统服务异常",t:"连续访问次数过多，请休息一会儿",thinkingStop:"思考已停止",thinkingSwitch:"深度思考",toolFindFail:"查找失败",toolFindFailTooltip:"未查找到相关内容",toolFindIntro:"查找关键词",toolOpenFail:"浏览页面失败",toolOpenFailTooltip:"浏览失败",toolOpenIntro:"浏览页面",toolSearch1Result:"搜索到 1 个网页",toolSearchFail:"联网搜索暂不可用",toolSearchIntro:"搜索",toolSearchNoResult:"未搜索到合适内容",toolSearchResults:e=>"搜索到 ".concat(e," 个网页"),unpinSession:"取消置顶",unsupportedFragment:"暂不支持展示的工具类型",untitledChat:"新对话",uploadFileButtonTooltipDesc:(e,t)=>"最多 ".concat(e," 个，每个 ").concat(t," MB，支持各类文档和图片"),uploadFileButtonTooltipTitle:"上传附件（仅识别文字）",uploadFileDeleteInvalidFilePrompt:"请删除异常文件再发送",uploadFileStatusContentEmpty:"未提取到文字",uploadFileStatusContentFilter:"可能违反使用规范",uploadFileStatusContentFilterForMobile:"可能违反使用规范",uploadFileStatusFailed:"上传失败",uploadFileStatusParsing:"解析中...",uploadFileStatusUploading:"上传中...",uploadingFiles:"文件解析中...",uploadMaxFiles:e=>"上传文件最多支持 ".concat(e," 个"),uploadMaxMBSize:e=>"单个文件大小超过限制（".concat(e," MB），请调整后重试"),uploadMultipleFileTokenCountExceededPrompt:e=>"DeepSeek 只能阅读全部文件的 ".concat(e,"%，请删减后发送"),uploadMultipleFileTokenCountExceededPrompt2:"超出字数限制，请删减后发送或开启新对话",usageEnvUnsafeTitle:"使用环境异常",usageEnvUnsafeWarn:"当前页面的使用环境可能存在数据和隐私泄露风险，为保障安全，建议您使用我们的官方产品。",viewPolicyButton:"查看",welcomeMessageChat250808:"今天有什么可以帮到你？"},r=s},65495:function(e,t,n){"use strict";let a,s,r,o,i,l,c;var d,u,h={};n.r(h),n.d(h,{load_abap:()=>hL,load_abnf:()=>hF,load_actionscript:()=>hP,load_ada:()=>hD,load_agda:()=>hB,load_al:()=>hV,load_antlr4:()=>hH,load_apacheconf:()=>hU,load_apex:()=>hW,load_apl:()=>hz,load_applescript:()=>hG,load_aql:()=>hK,load_arduino:()=>hq,load_arff:()=>hZ,load_armasm:()=>hQ,load_arturo:()=>hY,load_asciidoc:()=>hX,load_asm6502:()=>hJ,load_asmatmel:()=>h$,load_aspnet:()=>h1,load_autohotkey:()=>h0,load_autoit:()=>h2,load_avisynth:()=>h3,load_avro_idl:()=>h4,load_awk:()=>h6,load_bash:()=>h5,load_basic:()=>h9,load_batch:()=>h8,load_bbcode:()=>h7,load_bbj:()=>pe,load_bicep:()=>pt,load_birb:()=>pn,load_bison:()=>pa,load_bnf:()=>ps,load_bqn:()=>pr,load_brainfuck:()=>po,load_brightscript:()=>pi,load_bro:()=>pl,load_bsl:()=>pc,load_c:()=>pd,load_cfscript:()=>pu,load_chaiscript:()=>ph,load_cil:()=>pp,load_cilkc:()=>pm,load_cilkcpp:()=>pg,load_clike:()=>pf,load_clojure:()=>pC,load_cmake:()=>pv,load_cobol:()=>pb,load_coffeescript:()=>p_,load_concurnas:()=>pS,load_cooklang:()=>pE,load_coq:()=>px,load_core:()=>py,load_cpp:()=>pw,load_crystal:()=>pI,load_csharp:()=>pT,load_cshtml:()=>pA,load_csp:()=>pj,load_css:()=>pM,load_css_extras:()=>pk,load_csv:()=>pR,load_cue:()=>pN,load_cypher:()=>pO,load_d:()=>pL,load_dart:()=>pF,load_dataweave:()=>pP,load_dax:()=>pD,load_dhall:()=>pB,load_diff:()=>pV,load_django:()=>pH,load_dns_zone_file:()=>pU,load_docker:()=>pW,load_dot:()=>pz,load_ebnf:()=>pG,load_editorconfig:()=>pK,load_eiffel:()=>pq,load_ejs:()=>pZ,load_elixir:()=>pQ,load_elm:()=>pY,load_erb:()=>pX,load_erlang:()=>pJ,load_etlua:()=>p$,load_excel_formula:()=>p1,load_factor:()=>p0,load_false:()=>p2,load_firestore_security_rules:()=>p3,load_flow:()=>p4,load_fortran:()=>p6,load_fsharp:()=>p5,load_ftl:()=>p9,load_gap:()=>p8,load_gcode:()=>p7,load_gdscript:()=>me,load_gedcom:()=>mt,load_gettext:()=>mn,load_gherkin:()=>ma,load_git:()=>ms,load_glsl:()=>mr,load_gml:()=>mo,load_gn:()=>mi,load_go:()=>mc,load_go_module:()=>ml,load_gradle:()=>md,load_graphql:()=>mu,load_groovy:()=>mh,load_haml:()=>mp,load_handlebars:()=>mm,load_haskell:()=>mg,load_haxe:()=>mf,load_hcl:()=>mC,load_hlsl:()=>mv,load_hoon:()=>mb,load_hpkp:()=>m_,load_hsts:()=>mS,load_http:()=>mE,load_ichigojam:()=>mx,load_icon:()=>my,load_icu_message_format:()=>mw,load_idris:()=>mI,load_iecst:()=>mT,load_ignore:()=>mA,load_inform7:()=>mj,load_ini:()=>mk,load_io:()=>mM,load_j:()=>mR,load_java:()=>mN,load_javadoc:()=>mO,load_javadoclike:()=>mL,load_javascript:()=>mF,load_javastacktrace:()=>mP,load_jexl:()=>mD,load_jolie:()=>mB,load_jq:()=>mV,load_js_extras:()=>mH,load_js_templates:()=>mU,load_jsdoc:()=>mW,load_json:()=>mz,load_json5:()=>mG,load_jsonp:()=>mK,load_jsstacktrace:()=>mq,load_jsx:()=>mZ,load_julia:()=>mQ,load_keepalived:()=>mY,load_keyman:()=>mX,load_kotlin:()=>mJ,load_kumir:()=>m$,load_kusto:()=>m1,load_latex:()=>m0,load_latte:()=>m2,load_less:()=>m3,load_lilypond:()=>m4,load_linker_script:()=>m6,load_liquid:()=>m5,load_lisp:()=>m9,load_livescript:()=>m8,load_llvm:()=>m7,load_log:()=>ge,load_lolcode:()=>gt,load_lua:()=>gn,load_magma:()=>ga,load_makefile:()=>gs,load_markdown:()=>gr,load_markup:()=>gi,load_markup_templating:()=>go,load_mata:()=>gl,load_matlab:()=>gc,load_maxscript:()=>gd,load_mel:()=>gu,load_mermaid:()=>gh,load_metafont:()=>gp,load_mizar:()=>gm,load_mongodb:()=>gg,load_monkey:()=>gf,load_moonscript:()=>gC,load_n1ql:()=>gv,load_n4js:()=>gb,load_nand2tetris_hdl:()=>g_,load_naniscript:()=>gS,load_nasm:()=>gE,load_neon:()=>gx,load_nevod:()=>gy,load_nginx:()=>gw,load_nim:()=>gI,load_nix:()=>gT,load_nsis:()=>gA,load_objectivec:()=>gj,load_ocaml:()=>gk,load_odin:()=>gM,load_opencl:()=>gR,load_openqasm:()=>gN,load_oz:()=>gO,load_parigp:()=>gL,load_parser:()=>gF,load_pascal:()=>gP,load_pascaligo:()=>gD,load_pcaxis:()=>gB,load_peoplecode:()=>gV,load_perl:()=>gH,load_php:()=>gW,load_php_extras:()=>gU,load_phpdoc:()=>gz,load_plant_uml:()=>gG,load_plsql:()=>gK,load_powerquery:()=>gq,load_powershell:()=>gZ,load_processing:()=>gQ,load_prolog:()=>gY,load_promql:()=>gX,load_properties:()=>gJ,load_protobuf:()=>g$,load_psl:()=>g1,load_pug:()=>g0,load_puppet:()=>g2,load_pure:()=>g3,load_purebasic:()=>g4,load_purescript:()=>g6,load_python:()=>g5,load_q:()=>g9,load_qml:()=>g8,load_qore:()=>g7,load_qsharp:()=>fe,load_r:()=>ft,load_racket:()=>fn,load_reason:()=>fa,load_regex:()=>fs,load_rego:()=>fr,load_renpy:()=>fo,load_rescript:()=>fi,load_rest:()=>fl,load_rip:()=>fc,load_roboconf:()=>fd,load_robotframework:()=>fu,load_ruby:()=>fh,load_rust:()=>fp,load_sas:()=>fm,load_sass:()=>fg,load_scala:()=>ff,load_scheme:()=>fC,load_scss:()=>fv,load_shell_session:()=>fb,load_smali:()=>f_,load_smalltalk:()=>fS,load_smarty:()=>fE,load_sml:()=>fx,load_solidity:()=>fy,load_solution_file:()=>fw,load_soy:()=>fI,load_sparql:()=>fT,load_splunk_spl:()=>fA,load_sqf:()=>fj,load_sql:()=>fk,load_squirrel:()=>fM,load_stan:()=>fR,load_stata:()=>fN,load_stylus:()=>fO,load_supercollider:()=>fL,load_swift:()=>fF,load_systemd:()=>fP,load_t4_cs:()=>fD,load_t4_templating:()=>fB,load_t4_vb:()=>fV,load_tap:()=>fH,load_tcl:()=>fU,load_textile:()=>fW,load_toml:()=>fz,load_tremor:()=>fG,load_tsx:()=>fK,load_tt2:()=>fq,load_turtle:()=>fZ,load_twig:()=>fQ,load_typescript:()=>fY,load_typoscript:()=>fX,load_unrealscript:()=>fJ,load_uorazor:()=>f$,load_uri:()=>f1,load_v:()=>f0,load_vala:()=>f2,load_vbnet:()=>f3,load_velocity:()=>f4,load_verilog:()=>f6,load_vhdl:()=>f5,load_vim:()=>f9,load_visual_basic:()=>f8,load_warpscript:()=>f7,load_wasm:()=>Ce,load_web_idl:()=>Ct,load_wgsl:()=>Cn,load_wiki:()=>Ca,load_wolfram:()=>Cs,load_wren:()=>Cr,load_xeora:()=>Co,load_xml_doc:()=>Ci,load_xojo:()=>Cl,load_xquery:()=>Cc,load_yaml:()=>Cd,load_yang:()=>Cu,load_zig:()=>Ch}),n(40966),n(14281),n(18009),n(95577),n(43536),n(95743),n(63538),n(55970);var p=n(57713);n(42551),n(95266),n(45363);var m=n(7623);n(67539);var g=n(26289);let f=document.body;f||document.addEventListener("DOMContentLoaded",()=>{f=document.body});let C=new class{tick(){let e=Date.now();this.timestamps.push(e),this.cleanup(e)}getExceeded(){let e=Date.now();return this.cleanup(e),this.timestamps.length>=this.max}cleanup(e){let t=e-this.window;for(;this.timestamps.length>0&&this.timestamps[0]<=t;)this.timestamps.shift()}constructor(e,t){(0,m._)(this,"window",void 0),(0,m._)(this,"max",void 0),(0,m._)(this,"timestamps",[]),this.window=e,this.max=t}}(1e3,5),v=()=>{setTimeout(()=>{if(!document.body){if(C.getExceeded())return void g.y.tracker.info({name:"restoreBodyTooManyAbort",message:"body恢复次数达到频率限制，取消",payload:{}});if(C.tick(),!f)return void g.y.tracker.error({name:"restoreBodyFailed",message:"恢复body失败",payload:{reason:"unpreserved"}});document.documentElement.appendChild(f),g.y.tracker.info({name:"restoreBodySuccess",message:"恢复body成功",payload:{}})}})};async function b(e){let{}=e}window.addEventListener("keydown",e=>{if("F12"===e.key||123===e.keyCode){var t;g.y.tracker.info({name:"pressF12",message:"按下F12",payload:{info:"tag ".concat((null==(t=document.activeElement)?void 0:t.tagName)||"none")}}),e.target instanceof HTMLElement&&["textarea","input"].includes(e.target.tagName.toLowerCase())&&e.preventDefault()}}),window.addEventListener("contextmenu",()=>{g.y.tracker.info({name:"showContextMenu",message:"打开上下文菜单",payload:{}})}),document.body.addEventListener("DOMNodeRemovedFromDocument",()=>{v(),g.y.tracker.error({name:"bodyRemoved",message:"谁把body卸载了",payload:{info:Error().stack||"",from:"DOMNodeRemovedFromDocument"}})}),new MutationObserver(e=>{for(let t of e)"childList"===t.type&&t.removedNodes.length>0&&t.removedNodes.forEach(e=>{e instanceof HTMLElement&&"body"===e.tagName.toLowerCase()&&(v(),g.y.tracker.error({name:"bodyRemoved",message:"observe 到 body 被卸载",payload:{info:"",from:"observed"}}))})}).observe(document.documentElement,{childList:!0,subtree:!1}),o=Element.prototype.remove,Element.prototype.remove=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return"body"===this.tagName.toLowerCase()&&(v(),g.y.tracker.error({name:"bodyRemoved",message:"谁把body卸载了",payload:{info:Error().stack||"",from:"remove"}})),o.apply(this,t)},"undefined"!=typeof window&&(Worker=(d=Worker,class extends d{constructor(e,t){if(String(e).startsWith("blob:")||t&&"module"===t.type)return void super(e,t);const n=String(e);super(n.includes("://")&&!n.startsWith(location.origin)?URL.createObjectURL(new Blob(["importScripts=((i)=>(...a)=>i(...a.map((u)=>''+new URL(u,\"".concat(n,'"))))(importScripts);importScripts("').concat(n,'")')],{type:"text/javascript"})):e,t)}}));let _=async e=>{};var S=n(4981),E=n(11266);let x=null,y=new S.c,w="CN";async function I(e,t){let{tintColor:n}=t,a=new S.c;return initSMCaptcha({...e,..."US"===w?{domains:["captcha-fjny.fengkongcloud.cn"]}:"SG"===w?{domains:["captcha-xjp.fengkongcloud.cn"]}:"GLOBAL"===w?{domains:["captcha.fengkongcloud.com"]}:void 0,onError(e,t){null==x||x.error({name:"__shumeiError",message:"数美验证码初始化失败",payload:{errorType:e,code:t.code,message:t.message}})},style:{slideBar:{border:"1px solid ".concat(n),button:{boxShadow:"none",background:n}}}},e=>{a.resolve(e)}),await a.promise}var T=n(92667),A=n(44961);let j="",k=!1;function M(){return new Promise((e,t)=>{if(!j)throw Error("[@deepseek/wechat-login]: 未设置 appId");if(!a)throw Error("[@deepseek/wechat-login]: 未设置 tracker");if(document.querySelector("script[data-wxlogin]"))return e();let n=document.createElement("script");n.dataset.wxlogin="true",n.src="https://res.wx.qq.com/connect/zh_CN/htmledition/js/wxLogin.js",n.defer=!0,a.info({name:"__wxLoginScriptSetup",message:"微信登录 script 设置",payload:{}}),document.head.appendChild(n),n.onload=()=>(a.info({name:"__wxLoginScriptLoadOk",message:"微信登录 script 加载成功",payload:{}}),e()),n.onerror=e=>(a.error({name:"__wxLoginScriptLoadFailed",message:"微信登录 script 加载失败",payload:a.withError(e,{reason:"other"})}),t()),document.body.appendChild(n)})}async function R(e){let{redirectUri:t,containerId:n,selfRedirect:r=!1}=e;s.info("开始渲染 微信登录组件 "+t);try{await new Promise((e,s)=>{new window.WxLogin({self_redirect:r,id:n,appid:j,scope:"snsapi_login",redirect_uri:t,stylelite:1,state:k?"beta":"",fast_login:0,onQRcodeReady:()=>{e(),a.info({name:"__wxLoginWidgetRenderOk",message:"微信登录组件 渲染成功",payload:{}})}}),setTimeout(()=>{s(Error("渲染超时"))},5e3),window.navigator.onLine||s(Error("无网络"))})}catch(e){throw a.error({name:"__wxLoginWidgetRenderFailed",message:"微信登录组件 渲染失败",payload:a.withError(e,{reason:"other"})}),e}}let N=null,O=new S.c;async function L(){if(document.querySelector("script[data-fp]"))return;window._smReadyFuncs=[],window.SMSdk={ready:function(e){e&&window._smReadyFuncs.push(e)}};let e=document.createElement("script");return e.src="https://cdn.deepseek.com/static/chat/fp-1.min.js",e.dataset.fp="true",null==N||N.info({name:"__shumeiDeviceIdScriptSetup",message:"数美设备识别 script 设置",payload:{}}),document.head.appendChild(e),e.onload=()=>{O.resolve(),null==N||N.info({name:"__shumeiDeviceIdScriptLoadOk",message:"数美设备识别 script 加载成功",payload:{}})},e.onerror=e=>{O.reject(e),null==N||N.error({name:"__shumeiDeviceIdScriptLoadFailed",message:"数美设备识别 script 加载失败",payload:N.withError(e,{reason:"other"})})},await O.promise}async function F(){let e="",t=new S.c;try{return window.SMSdk.ready(()=>{e=window.SMSdk.getDeviceId?window.SMSdk.getDeviceId():e,t.resolve()}),await t.promise,e}catch(e){return t.reject(e),null==N||N.error({name:"__shumeiDeviceIdError",message:"数美设备识别 获取deviceId 失败",payload:N.withError(e,{reason:"other"})}),null}}var P=n(2542),D=n(11285),B=n(4222);function V(e){let{children:t,disabled:n,arrowVariant:a,showArrow:s,leaveDelay:r,enterDelay:o,floatingAnimated:i,size:l,hoverable:c}=e,d=(0,D.useContext)(B.l),u=null!=n?n:d.disabled,h=null!=a?a:d.arrowVariant,m=null!=s?s:d.showArrow,g=null!=r?r:d.leaveDelay,f=null!=o?o:d.enterDelay,C=null!=i?i:d.floatingAnimated,v=null!=l?l:d.size,b=null!=c?c:d.hoverable;return(0,p.jsx)(B.l.Provider,{value:(0,D.useMemo)(()=>({disabled:u,arrowVariant:h,showArrow:m,leaveDelay:g,enterDelay:f,floatingAnimated:C,size:v,hoverable:b}),[u,h,m,g,f,C,v,b]),children:t})}var H=n(32956),U=n(61660);let W=e=>{let{children:t,fontFamily:n,inputHeightL:a,inputHeightM:s,inputHeightS:r,inputHeightXs:o,fontWeightStrong:i,fontSizeM:l,lineHeightM:c,fontSizeSp:d,lineHeightSp:u,fontSizeS:h,lineHeightS:m,fontSizeXsp:g,lineHeightXsp:f,fontSizeXs:C,lineHeightXs:v,easeInOut:b,easeIn:_,easeOut:S,fontFamilyCode:E,transitionDuration:x,transitionDurationFast:y,transitionDurationSlow:w,rgbInfo:I,rgbHover:T,rgbInput:A,label1:j,label2:k,label3:M,rgbError:R,rgbWarning:N,rgbSuccess:O,transparent:L,background1:F,backgroundElevated:P,materialRegular:B,separatorColor:V,rgbPrimary:W,rgbLink:z,rgbPrimaryForeground:G,segmentedButtonColor:K,segmentedSeparatorColor:q,buttonColor:Z,buttonHoverColor:Q,secondaryButtonColor:Y,borderedSecondaryButtonColor:X,inputPrefixColor:J,secondaryButtonHoverColor:$,modalContentColor:ee,rgbInputFocus:et,borderedButtonHoverColor:en,textPrimaryButtonColor:ea,tabsActiveColor:es,buttonPrimaryFill:er,buttonPrimaryHover:eo,buttonPrimaryTextColor:ei}=e,el=(0,D.useMemo)(()=>({"--ds-font-family":n,"--ds-input-height-l":a,"--ds-input-height-m":s,"--ds-input-height-s":r,"--ds-input-height-xs":o,"--ds-font-weight-strong":i,"--ds-font-size-m":l,"--ds-line-height-m":c,"--ds-font-size-sp":d,"--ds-line-height-sp":u,"--ds-font-size-s":h,"--ds-line-height-s":m,"--ds-font-size-xsp":g,"--ds-line-height-xsp":f,"--ds-font-size-xs":C,"--ds-line-height-xs":v,"--ds-ease-in-out":b,"--ds-ease-in":_,"--ds-ease-out":S,"--ds-font-family-code":E,"--ds-transition-duration":x,"--ds-transition-duration-fast":y,"--ds-transition-duration-slow":w,"--ds-rgb-info":I,"--ds-rgb-hover":T,"--ds-rgb-input":A,"--ds-rgb-input-focus":et,"--ds-rgb-label-1":j,"--ds-rgb-label-2":k,"--ds-rgb-label-3":M,"--ds-rgb-error":R,"--ds-rgb-warning":N,"--ds-rgb-success":O,"--ds-rgba-transparent":L,"--ds-rgb-bg-base":F,"--ds-rgb-elevated":P,"--ds-rgb-header":B,"--ds-rgb-separator":V,"--ds-rgb-primary":W,"--ds-rgb-link":z,"--ds-rgb-primary-foreground":G,"--ds-rgb-segmented-button":K,"--ds-rgb-segmented-separator":q,"--ds-button-color":Z,"--ds-button-hover-color":Q,"--dsw-alias-button-primary-fill":er,"--dsw-alias-button-primary-hover":eo,"--ds-primary-button-text-color":ei,"--ds-secondary-button-color":Y,"--ds-secondary-button-hover-color":$,"--ds-button-bordered-hover-color":en,"--ds-bordered-secondary-button-color":X,"--ds-input-prefix-color":J,"--ds-modal-content-color":ee,"--ds-text-primary-button-color":ea,"--ds-tabs-active-color":es}),[n,a,s,r,o,i,l,c,d,u,h,m,g,f,C,v,b,_,S,E,x,y,w,I,T,A,et,j,k,M,R,N,O,L,F,P,B,V,W,z,G,K,q,Z,Q,er,eo,ei,Y,$,en,X,J,ee,ea,es]);return(0,p.jsx)(H.H.Provider,{value:el,children:(0,p.jsx)("div",{className:"".concat(U.V,"-theme"),style:el,children:t})})};var z=n(15383),G=n(22759),K=n(23777);n(37560),n(1326);var q=n(74770),Z=n(86122),Q=n(80433),Y=n(40635);function X(e){let{children:t,appear:n,in:a,onExited:s}=e,r=(0,D.useRef)(null);return(0,p.jsx)(Y.A,{nodeRef:r,appear:n,in:a,timeout:100,classNames:{appear:"".concat(U.V,"-fade-in-enter"),appearActive:"".concat(U.V,"-fade-in-active"),enter:"".concat(U.V,"-fade-in-enter"),enterActive:"".concat(U.V,"-fade-in-active"),exit:"".concat(U.V,"-fade-in-exit"),exitActive:"".concat(U.V,"-fade-in-exit-active")},onExited:s,unmountOnExit:!0,children:t(r)})}n(10543),n(64283);var J=n(5296);let $=n(58344).Ay;var ee=n(91753),et=n(85788);function en(e){let{autoFocus:t,children:n,show:a=!1,onShowChange:s,returnFocus:r=!0,appear:o=!0,closeOnMaskClick:i=!0,closeOnEscapeKeydown:l=!0,onAfterClose:c,onOpenEffect:d,wrapperClassName:u,focusLock:h=!0,overlayStyle:m}=e,g=(0,D.useCallback)(e=>{l&&"Escape"===e.key&&(null==s||s(!1))},[s,l]),f=(0,H.d)(),{value:C,trigger:v}=(0,ee._u)({value:a,defaultValue:a,shouldDelay:()=>!a}),b=(0,J.Y)(C),_=(0,J.Y)(a),S=(0,ee.SE)(d);(0,D.useEffect)(()=>{if(a){var e;null==(e=S.current)||e.call(S)}},[a,S]);let E=(0,D.useRef)(!1),x=i?e=>{E.current&&e.target===e.currentTarget&&(null==s||s(!1))}:void 0;return(0,p.jsxs)(p.Fragment,{children:[(0,q.createPortal)((0,p.jsx)(X,{appear:o,in:a,onExited:v,children:e=>(0,p.jsx)("div",{ref:e,className:"".concat(U.V,"-modal-overlay"),style:{zIndex:b,...m}})}),document.body),(0,q.createPortal)((0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-theme"),"".concat(U.V,"-modal-wrapper"),!a&&"".concat(U.V,"-modal-wrapper--hide"),u),style:{...f,zIndex:_},onMouseDown:e=>{if(e.target!==e.currentTarget)return;E.current=!0;let t=()=>{setTimeout(()=>{E.current=!1},0),(0,et.A)("mouseup",document,t)};(0,et.on)("mouseup",document,t)},onClick:x,"data-transform-origin":"center",children:(0,p.jsx)(Q.C,{in:a,appear:o,onExited:c,animated:!0,children:e=>(0,p.jsx)("div",{ref:e,className:"".concat(U.V,"-modal"),onClick:x,onKeyDown:g,children:(0,p.jsx)($,{disabled:!h,returnFocus:r,autoFocus:t,children:n})})})}),document.body)]})}var ea=n(74910);function es(e){let{title:t,footer:n,onClose:a,domRef:s,children:r,variant:o,afterTitle:i,headerWrapperStyle:l,titleDomProps:c,titleStyle:d,contentDomProps:u,footerDomProps:h,domProps:m,style:g,className:f,theme:C,hideClose:v}=e,b=(0,H.d)(),_=(0,D.useMemo)(()=>({...b,...null==m?void 0:m.style,...g,"--ds-modal-content-color":null==C?void 0:C.color,"--ds-modal-content-text-color":null==C?void 0:C.textColor,"--ds-modal-content-title-font-size":null==C?void 0:C.titleFontSize}),[null==m?void 0:m.style,g,null==C?void 0:C.color,null==C?void 0:C.textColor,null==C?void 0:C.titleFontSize,b]);return(0,p.jsxs)("div",{tabIndex:-1,...m,className:(0,Z.A)("".concat(U.V,"-modal-content"),"".concat(U.V,"-elevated"),o&&"".concat(U.V,"-modal-content--").concat(o),f,null==m?void 0:m.className),style:_,ref:s,role:"dialog",children:[(0,p.jsxs)("div",{className:"".concat(U.V,"-modal-content__header-wrapper"),style:l,children:[(0,p.jsx)("div",{...c,style:{...null==c?void 0:c.style,...d},className:(0,Z.A)("".concat(U.V,"-modal-content__title"),null==c?void 0:c.className),children:t}),i,v?null:(0,p.jsx)(ea.J,{className:"ds-modal-content__close",onClick:a})]}),r?(0,p.jsx)("div",{...u,children:r}):null,n?(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-modal-content__footer"),null==h?void 0:h.className),...h,children:n}):null]})}function er(e){let{children:t}=e;return(0,p.jsx)("div",{className:"".concat(U.V,"-modal-content__button-group"),children:t})}n(2841);let eo=(0,D.createContext)(null);function ei(){let e=(0,D.useContext)(eo);if(!e)throw Error("useModalApi must be used within a ModalProvider");return e}let el=(0,D.createContext)(null);function ec(e){let{children:t}=e,n=(0,D.useRef)(0),[a,s]=(0,D.useState)([]),r=(0,D.useCallback)(e=>{let t=n.current++,{transformedOptions:a,handle:r}=function(e){let{props:t,key:n}=e,a={current:void 0},s={current:void 0},r={current:void 0};return{transformedOptions:{modalKey:n,modalContentProps:t.modalContentProps,modalProps:t.modalProps,setShowRef:a,setModalPropsRef:s,setModalContentPropsRef:r},handle:{close:()=>{var e;null==(e=a.current)||e.call(a,!1)},setModalProps:e=>{var t;null==s||null==(t=s.current)||t.call(s,e)},setModalContentProps:e=>{var t;null==r||null==(t=r.current)||t.call(r,e)}}}}({props:e,key:t});return s(e=>e.concat({key:t,props:a,handle:r})),r},[]),o=(0,ee.DK)(()=>{a.forEach(e=>{let{handle:t}=e;t.close()})}),i=(0,D.useMemo)(()=>({open:r,closeAll:o}),[r,o]);return(0,p.jsxs)(eo.Provider,{value:i,children:[t,(0,p.jsx)(el.Provider,{value:s,children:a.map(e=>{let{key:t,props:n}=e;return(0,p.jsx)(ed,{...n},t)})})]})}let ed=(0,D.memo)(function(e){var t;let{modalKey:n,modalContentProps:a,setShowRef:s,setModalContentPropsRef:r,setModalPropsRef:o,modalProps:i}=e,l=(0,D.useContext)(el);if(!l)throw Error("ModalWrapper must be used within a ModalProvider");let[c,d]=(0,D.useState)(!0),[u,h]=(0,D.useState)(a),[m,g]=(0,D.useState)(i);s.current=d,r.current=h,o.current=g;let f=(0,D.useMemo)(()=>({...m,onAfterClose:()=>{var e;null==m||null==(e=m.onAfterClose)||e.call(m),l(e=>e.filter(e=>e.key!==n))}}),[m,n,l]),C=null==u?void 0:u.onClose,v=null==f?void 0:f.onShowChange,b=(0,D.useCallback)(()=>{d(!1),null==v||v(!1),null==C||C()},[C,v]),_={...u,onClose:b},S=(0,D.useCallback)(e=>{null==v||v(e),d(e)},[v]),E={...f,appear:!0,show:c,onShowChange:S,children:null!=(t=null==f?void 0:f.children)?t:(0,p.jsx)(es,{..._})};return(0,p.jsx)(en,{...E})});n(84253),n(20370);var eu=n(3205);n(41135);let eh=(0,D.createContext)(null);function ep(){return(0,D.useContext)(eh)}function em(e){let{status:t="none",labelSize:n="m",label:a,labelSuffix:s,children:r,description:o,feedback:i,className:l,showFeedbackPlaceholder:c,contentStyle:d,feedbackStyle:u,style:h}=e,m=(0,D.useMemo)(()=>({status:t}),[t]),g=(0,eu.RF)(i,i,!!i),f=(0,eu.RF)(i,t,!!i),[C,v]=(0,D.useState)(!1),b=c||i;return(0,p.jsx)(eh.Provider,{value:m,children:(0,p.jsxs)("div",{className:(0,Z.A)("".concat(U.V,"-form-item"),"".concat(U.V,"-form-item--").concat(C?f.current:t),"".concat(U.V,"-form-item--label-").concat(n),l),style:h,children:[a?(0,p.jsxs)("label",{className:"".concat(U.V,"-form-item__label"),children:[(0,p.jsx)("span",{className:"".concat(U.V,"-form-item__label-text"),children:a}),s&&(0,p.jsx)("span",{className:"".concat(U.V,"-form-item__label-suffix"),children:s})]}):null,(0,p.jsx)("div",{className:"".concat(U.V,"-form-item__content"),style:d,children:r}),o?(0,p.jsx)("div",{className:"".concat(U.V,"-form-item__description"),children:o}):null,b?(0,p.jsx)("div",{className:"".concat(U.V,"-form-item__feedback"),style:u,"data-transform-origin":"top",children:(0,p.jsx)(Q.C,{onExit:()=>v(!0),onExited:()=>v(!1),appear:!1,in:!!i,animated:!0,children:e=>(0,p.jsx)("div",{ref:e,className:"".concat(U.V,"-form-item__feedback-content"),children:i||g.current})})}):null]})})}n(47879);var eg=n(31788),ef=n(31302);function eC(e){let{type:t="text",status:n,icon:a,placeholder:s,className:r,prefix:o,suffix:i,disabled:l=!1,variant:c="filled",maxLength:d,style:u,size:h="m",passwordVisible:m=!1,defaultValue:g,value:f,readOnly:C,domRef:v,domProps:b,inputDomRef:_,inputDomProps:S,componentRef:E,theme:x,autosize:y,onKeyDown:w,onFocus:I,onBlur:T,onChange:A,autoFocus:j}=e,k=ep(),M=(null!=n?n:null==k?void 0:k.status)||"none",R=null==b?void 0:b.onMouseDown,N=(0,D.useCallback)(e=>{var t;null==R||R(e),e.target!==O.current&&(e.preventDefault(),null==(t=O.current)||t.focus())},[R]),O=(0,D.useRef)(null);_&&(O=_);let L=(0,D.useRef)(!1),F=(0,D.useCallback)(()=>{L.current=!0},[]),P=(0,D.useCallback)(e=>{L.current=!1,null==A||A(e,{isComposing:!1})},[A]),[B,V]=(0,D.useState)(null!=f?f:g),H=(0,ee.DK)(e=>{V(e.target.value),null==A||A(e,{isComposing:L.current})}),W=(0,D.useRef)(null),[z,G]=(0,D.useState)(null);(0,D.useLayoutEffect)(()=>{if(y){var e;let t=null==(e=W.current)?void 0:e.offsetWidth;void 0!==t&&G(t)}},[B,y]),(0,D.useImperativeHandle)(E,()=>({isComposingRef:L}),[L]),(0,D.useLayoutEffect)(()=>{j&&O.current&&O.current.focus()},[j]);let{passwordIsVisible:K,setPasswordIsVisible:q,mergedInputType:Q}=function(e){let{passwordVisible:t,inputType:n}=e,[a,s]=(0,D.useState)(!1);return{passwordIsVisible:!!t&&a,setPasswordIsVisible:s,mergedInputType:"password"===n&&t&&a?"text":n}}({passwordVisible:m,inputType:t});return(0,p.jsxs)("div",{...b,className:(0,Z.A)("".concat(U.V,"-input"),"".concat(U.V,"-input--").concat(M),"".concat(U.V,"-input--").concat(c),"".concat(U.V,"-input--").concat(h),l&&"".concat(U.V,"-input--disabled"),null==b?void 0:b.className,r),style:{"--ds-input-text-color":null==x?void 0:x.textColor,"--ds-input-placeholder-color":null==x?void 0:x.placeholderColor,"--ds-input-icon-color":null==x?void 0:x.iconColor,"--ds-input-prefix-text-color":null==x?void 0:x.prefixTextColor,"--ds-input-padding":null==x?void 0:x.padding,"--ds-input-border-radius":null==x?void 0:x.borderRadius,"--ds-input-height":null==x?void 0:x.height,"--ds-input-font-size":null==x?void 0:x.fontSize,"--ds-input-line-height":null==x?void 0:x.lineHeight,"--ds-input-prefix-margin":null==x?void 0:x.prefixMargin,"--ds-input-icon-size":null==x?void 0:x.iconSize,"--ds-rgba-input":null==x?void 0:x.color,"--ds-input-font-weight":null==x?void 0:x.fontWeight,"--ds-input-focus-color":null==x?void 0:x.focusColor,"--ds-input-focus-border-color":null==x?void 0:x.focusBorderColor,width:y?z:void 0,...null==b?void 0:b.style,...u},onMouseDown:N,ref:v,children:[a?(0,p.jsx)("div",{className:"".concat(U.V,"-input__icon"),children:a}):null,void 0===o?null:(0,p.jsx)("div",{className:"".concat(U.V,"-input__prefix"),children:o}),(0,p.jsx)("input",{...S,defaultValue:g,value:f,readOnly:C,maxLength:d,disabled:l,type:Q,className:"".concat(U.V,"-input__input"),ref:O,placeholder:s,onChange:H,onBlur:T,onFocus:I,onKeyDown:w,onMouseDown:N,onCompositionStart:F,onCompositionEnd:P,size:1}),y?(0,p.jsx)("div",{ref:W,className:"".concat(U.V,"-input__mirror"),children:B}):null,"password"===t&&m&&(0,p.jsx)("div",{className:"".concat(U.V,"-input__password-toggle"),children:(0,p.jsx)(ef.K,{domProps:{onMouseDown:e=>{e.preventDefault(),e.stopPropagation();let t=e=>{e.preventDefault(),(0,et.A)("mouseup",document,t)};(0,et.on)("mouseup",document,t)}},onClick:()=>{q(!K)},children:K?(0,p.jsx)(eg.Fs,{}):(0,p.jsx)(eg.aR,{})})}),void 0===i?null:(0,p.jsx)("div",{className:"".concat(U.V,"-input__suffix"),children:i})]})}var ev=n(72337),eb=n(5413);let e_=(0,D.createContext)(null);function eS(){let e=(0,D.useContext)(e_);if(!e)throw Error("useAuthConfig must be used within a AuthConfigProvider");return e}function eE(){return eS().locale}function ex(){let{locale:e}=eS();return(0,ev.useTranslate)(e)}let ey=(0,D.memo)(function(e){let{children:t,baseUrl:n,isMainlandChina:a,isMobile:s,isBeta:r,locale:o,modelServiceAgreement:i,termsOfUse:l,termsOfUseFile:c,privacyPolicy:d,privacyPolicyFile:u,tracker:h,http:m,turnstileEnabled:g,captchaEnabled:f,tintColor:C,serverApiUserToUser:v,setStorageUserToken:b,isDark:_,appleClientId:S,appleRedirectURI:E}=e;return(0,D.useEffect)(()=>{if(g)return(0,eb.Xn)(),eb.dT},[g]),(0,p.jsx)(e_.Provider,{value:(0,D.useMemo)(()=>({baseUrl:n,isMainlandChina:a,isMobile:s,isBeta:r,locale:o,modelServiceAgreement:i,termsOfUse:l,termsOfUseFile:c,privacyPolicy:d,privacyPolicyFile:u,tracker:h,http:m,serverApiUserToUser:v,setStorageUserToken:b,captchaEnabled:f,turnstileEnabled:g,tintColor:C,isDark:_,appleClientId:S,appleRedirectURI:E}),[n,a,s,r,o,i,l,c,d,u,h,m,v,b,f,g,C,_,S,E]),children:t})});var ew=n(38064);function eI(e){return/^1\d{10}$/.test(e)}function eT(e){return(0,ew.validate)(e)}function eA(e){let{placeholder:t,stringValueHolder:n,blurToVerify:a}=e,[s,r]=(0,D.useState)(void 0),[o,i]=(0,D.useState)(void 0),[l,c]=(0,D.useState)(n.get);function d(e){if(eT(e))return"email";{if(eI(e))return"sms";i("error");let t=(0,ev.ensureTranslateComponent)("signInEmailAndPhoneInvalidError",eE);return r((0,p.jsx)(t,{})),null}}return{value:l,validateAndGetTypeForVerificationCode:d,validateForVerificationCode:function(){if(0===l.length){i("error");let e=(0,ev.ensureTranslateComponent)("signInEmailAndPhoneEmptyError",eE);return r((0,p.jsx)(e,{})),!1}return null!=d(l)},onSubmit:()=>{if(0===l.length){i("error");let e=(0,ev.ensureTranslateComponent)("signInEmailAndPhoneEmptyError",eE);return r((0,p.jsx)(e,{})),!1}return void 0===o},node:(0,p.jsx)(em,{showFeedbackPlaceholder:!0,feedback:s,status:o,children:(0,p.jsx)(eC,{value:l,size:"l",variant:"bordered",theme:{padding:"0 20px 0 16px"},placeholder:t,onChange:e=>{let t=e.currentTarget.value.trim();c(t),n.set(t),t.length&&(i(void 0),r(void 0))},onBlur:e=>{let t=e.target.value;if(!t){i(void 0),r(void 0);return}a&&d(t.trim())&&(i(void 0),r(void 0))}})})}}var ej=n(53573);let ek="https://cdn.deepseek.com/policies/en-US/deepseek-terms-of-use.html",eM="https://cdn.deepseek.com/policies/en-US/deepseek-privacy-policy.html",eR="https://cdn.deepseek.com/policies/en-US/deepseek-open-platform-terms-of-service.html",eN="https://cdn.deepseek.com/policies/zh-CN/third-party-info-sharing-list.html",eO="https://cdn.deepseek.com/policies/zh-CN/deepseek-account-deletion-notice.html",eL="https://cdn.deepseek.com/policies/zh-CN/app-permissions.html",eF=e=>{let{isMainlandChina:t,locale:n="en-US"}=e;return t?{termsOfUse:"https://cdn.deepseek.com/policies/zh-CN/deepseek-terms-of-use.html",privacyPolicy:"https://cdn.deepseek.com/policies/zh-CN/deepseek-privacy-policy.html",openPlatformTerms:"https://cdn.deepseek.com/policies/zh-CN/deepseek-open-platform-terms-of-service.html",thirdPartyInfoSharing:eN,accountDeletionNotice:eO,appPermissions:eL}:{termsOfUse:n&&"en-US"!==n?"".concat(ek,"?locale=").concat(n):ek,privacyPolicy:n&&"en-US"!==n?"".concat(eM,"?locale=").concat(n):eM,openPlatformTerms:n&&"en-US"!==n?"".concat(eR,"?locale=").concat(n):eR,thirdPartyInfoSharing:eN,accountDeletionNotice:eO,appPermissions:eL}},eP="Contenuto generato da IA. Verificare sempre l'accuratezza delle risposte, che possono contenere inesattezze.";function eD(e){let{signInAgreement:t}=e,{modelServiceAgreementNode:n,privacyPolicyNode:a}=function(){let e=ex(),{isMainlandChina:t,termsOfUse:n,termsOfUseFile:a,locale:s}=eS(),r=eF({isMainlandChina:t,locale:s}),o=n||e("termsOfUse"),i=a||r.termsOfUse,l=e("privacyPolicy"),c=r.privacyPolicy;return{serviceLabel:o,serviceURL:i,policyLabel:l,policyURL:c,modelServiceAgreementNode:(0,p.jsx)(ej.A,{href:i,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:o}),privacyPolicyNode:(0,p.jsx)(ej.A,{href:c,onClick:e=>{e.stopPropagation()},onMouseDown:e=>e.stopPropagation(),target:"_blank",rel:"noopener noreferrer",children:l})}}(),{locale:s}=eS(),r=t({modelServiceAgreementNode:n,privacyPolicyNode:a});return"it"!==s?r:(0,p.jsxs)(p.Fragment,{children:[r," ",eP]})}function eB(e){let{acknowledgementRender:t}=e;return{onSubmit:()=>!0,node:(0,p.jsx)(em,{className:"ds-sign-up-form__agreement-text",children:(0,p.jsx)(eD,{signInAgreement:t})})}}function eV(){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:[(0,p.jsx)("path",{d:"M11.038 3.34834C11.0732 3.1627 11.0333 2.97067 10.927 2.81447C10.8206 2.65827 10.6566 2.55071 10.471 2.51545C10.2853 2.48019 10.0933 2.52011 9.93711 2.62644C9.78092 2.73277 9.67336 2.89679 9.63809 3.08242L8.67035 8.20036L4.16496 8.20131C3.97606 8.20131 3.79489 8.27635 3.66131 8.40993C3.52773 8.54351 3.45269 8.72468 3.45269 8.91359C3.45269 9.10249 3.52773 9.28366 3.66131 9.41724C3.79489 9.55082 3.97606 9.62586 4.16496 9.62586L8.40063 9.62396L7.50221 14.3725L3.21526 14.3744C3.02636 14.3744 2.84519 14.4494 2.71161 14.583C2.57803 14.7166 2.50299 14.8977 2.50299 15.0866C2.50299 15.2756 2.57803 15.4567 2.71161 15.5903C2.84519 15.7239 3.02636 15.7989 3.21526 15.7989L7.2325 15.797L6.31414 20.6557C6.29637 20.7478 6.29696 20.8425 6.31588 20.9343C6.3348 21.0262 6.37168 21.1134 6.42439 21.191C6.47711 21.2686 6.54463 21.335 6.62307 21.3864C6.70151 21.4378 6.78934 21.4732 6.8815 21.4906C6.97367 21.508 7.06836 21.507 7.16014 21.4877C7.25192 21.4684 7.33899 21.4311 7.41634 21.3781C7.49369 21.325 7.5598 21.2572 7.61088 21.1786C7.66196 21.0999 7.697 21.0119 7.714 20.9197L8.68269 15.7961L13.8814 15.7942L12.962 20.6557C12.9443 20.7478 12.9449 20.8425 12.9638 20.9343C12.9827 21.0262 13.0196 21.1134 13.0723 21.191C13.125 21.2686 13.1925 21.335 13.271 21.3864C13.3494 21.4378 13.4372 21.4732 13.5294 21.4906C13.6216 21.508 13.7163 21.507 13.808 21.4877C13.8998 21.4684 13.9869 21.4311 14.0642 21.3781C14.1416 21.325 14.2077 21.2572 14.2588 21.1786C14.3099 21.0999 14.3449 21.0119 14.3619 20.9197L15.3316 15.7932L19.835 15.7913C20.0239 15.7913 20.2051 15.7163 20.3387 15.5827C20.4723 15.4491 20.5473 15.268 20.5473 15.079C20.5473 14.8901 20.4723 14.709 20.3387 14.5754C20.2051 14.4418 20.0239 14.3668 19.835 14.3668L15.6013 14.3687L16.4997 9.62016L20.7847 9.61826C20.9736 9.61826 21.1548 9.54322 21.2884 9.40964C21.422 9.27607 21.497 9.0949 21.497 8.90599C21.497 8.71708 21.422 8.53591 21.2884 8.40233C21.1548 8.26876 20.9736 8.19371 20.7847 8.19371L16.7684 8.19561L17.6859 3.34834C17.7211 3.1627 17.6812 2.97067 17.5749 2.81447C17.4685 2.65827 17.3045 2.55071 17.1189 2.51545C16.9333 2.48019 16.7412 2.52011 16.585 2.62644C16.4288 2.73277 16.3213 2.89679 16.286 3.08242L15.3192 8.19656L10.1205 8.19846L11.038 3.34834ZM9.85083 9.62396L15.0495 9.62111L14.1511 14.3696L8.95241 14.3715L9.85083 9.62396Z",fill:"currentColor"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.63809 3.08262C9.67336 2.89698 9.78092 2.73296 9.93711 2.62663C10.0933 2.52031 10.2853 2.48038 10.471 2.51565C10.6566 2.55091 10.8206 2.65847 10.927 2.81467C11.0333 2.97086 11.0732 3.1629 11.038 3.34853L10.1205 8.19866L15.3192 8.19676L16.286 3.08262C16.3213 2.89698 16.4288 2.73296 16.585 2.62663C16.7412 2.52031 16.9333 2.48038 17.1189 2.51565C17.3045 2.55091 17.4685 2.65847 17.5749 2.81467C17.6812 2.97086 17.7211 3.1629 17.6859 3.34853L16.7684 8.19581L20.7847 8.19391C20.9736 8.19391 21.1548 8.26895 21.2884 8.40253C21.422 8.53611 21.497 8.71728 21.497 8.90619C21.497 9.09509 21.422 9.27626 21.2884 9.40984C21.1548 9.54342 20.9736 9.61846 20.7847 9.61846L16.4997 9.62036L15.6013 14.3689L19.835 14.367C20.0239 14.367 20.2051 14.442 20.3387 14.5756C20.4723 14.7092 20.5473 14.8903 20.5473 15.0792C20.5473 15.2682 20.4723 15.4493 20.3387 15.5829C20.2051 15.7165 20.0239 15.7915 19.835 15.7915L15.3316 15.7934L14.3619 20.9199C14.3449 21.0121 14.3099 21.1001 14.2588 21.1788C14.2077 21.2574 14.1416 21.3252 14.0642 21.3783C13.9869 21.4313 13.8998 21.4686 13.808 21.4879C13.7163 21.5072 13.6216 21.5082 13.5294 21.4908C13.4372 21.4734 13.3494 21.438 13.271 21.3866C13.1925 21.3352 13.125 21.2688 13.0723 21.1912C13.0196 21.1136 12.9827 21.0264 12.9638 20.9345C12.9449 20.8427 12.9443 20.748 12.962 20.6559L13.8814 15.7944L8.68269 15.7963L7.714 20.9199C7.697 21.0121 7.66196 21.1001 7.61088 21.1788C7.5598 21.2574 7.49369 21.3252 7.41634 21.3783C7.33898 21.4313 7.25192 21.4686 7.16014 21.4879C7.06836 21.5072 6.97367 21.5082 6.8815 21.4908C6.78934 21.4734 6.70151 21.438 6.62307 21.3866C6.54463 21.3352 6.47711 21.2688 6.42439 21.1912C6.37168 21.1136 6.3348 21.0264 6.31588 20.9345C6.29696 20.8427 6.29637 20.748 6.31414 20.6559L7.2325 15.7972L3.21526 15.7991C3.02636 15.7991 2.84519 15.7241 2.71161 15.5905C2.57803 15.4569 2.50299 15.2757 2.50299 15.0868C2.50299 14.8979 2.57803 14.7168 2.71161 14.5832C2.84519 14.4496 3.02636 14.3746 3.21526 14.3746L7.50221 14.3727L8.40063 9.62416L4.16496 9.62606C3.97606 9.62606 3.79489 9.55102 3.66131 9.41744C3.52773 9.28386 3.45269 9.10269 3.45269 8.91378C3.45269 8.72488 3.52773 8.54371 3.66131 8.41013C3.79489 8.27655 3.97606 8.20151 4.16496 8.20151L8.67035 8.20056L9.63809 3.08262ZM8.42175 7.90061L9.34332 3.02688C9.39343 2.76308 9.54633 2.52974 9.7683 2.37864C9.99027 2.22754 10.2632 2.1708 10.527 2.22092C10.7908 2.27103 11.0239 2.42388 11.175 2.64585C11.326 2.86775 11.3828 3.14056 11.3327 3.40429M11.3327 3.40429L10.4826 7.89853L15.0706 7.89685L15.9912 3.02689C16.0413 2.76309 16.1942 2.52974 16.4162 2.37864C16.6382 2.22754 16.9111 2.1708 17.1749 2.22092C17.4387 2.27103 17.6718 2.42388 17.8229 2.64585C17.974 2.86782 18.0307 3.14072 17.9806 3.40452L17.1306 7.89564L20.7846 7.89391C21.0531 7.89391 21.3107 8.00056 21.5005 8.1904C21.6904 8.38024 21.797 8.63771 21.797 8.90619C21.797 9.17466 21.6904 9.43213 21.5005 9.62197C21.3107 9.81178 21.0533 9.91843 20.7849 9.91846L16.7483 9.92025L15.9634 14.0687L19.8349 14.067C20.1034 14.067 20.361 14.1736 20.5508 14.3635C20.7407 14.5533 20.8473 14.8108 20.8473 15.0792C20.8473 15.3477 20.7407 15.6052 20.5508 15.795C20.361 15.9848 20.1036 16.0915 19.8352 16.0915L15.5801 16.0933L14.6569 20.9743C14.6327 21.1051 14.5829 21.2306 14.5104 21.3422C14.4378 21.454 14.3438 21.5503 14.2339 21.6257C14.124 21.7011 14.0002 21.754 13.8698 21.7814C13.7394 21.8089 13.6048 21.8103 13.4738 21.7856C13.3428 21.7609 13.218 21.7106 13.1065 21.6375C12.995 21.5644 12.8991 21.4701 12.8242 21.3598C12.7493 21.2496 12.6968 21.1256 12.67 20.9951C12.6431 20.8648 12.6422 20.7305 12.6673 20.5998L13.5193 16.0945L8.93131 16.0962L8.00903 20.9743C7.98483 21.1051 7.93493 21.2306 7.86248 21.3422C7.78989 21.454 7.69593 21.5503 7.586 21.6257C7.47607 21.7011 7.35234 21.754 7.2219 21.7814C7.09146 21.8089 6.95689 21.8103 6.8259 21.7856C6.69492 21.7609 6.5701 21.7106 6.45862 21.6375C6.34714 21.5644 6.25118 21.4701 6.17626 21.3598C6.10134 21.2496 6.04894 21.1256 6.02205 20.9951C5.9952 20.8647 5.99432 20.7303 6.01946 20.5996L6.87045 16.0974L3.2154 16.0991C2.94693 16.0991 2.68931 15.9925 2.49948 15.8026C2.30964 15.6128 2.20299 15.3553 2.20299 15.0868C2.20299 14.8184 2.30964 14.5609 2.49948 14.3711C2.68928 14.1812 2.94671 14.0746 3.21513 14.0746L7.25363 14.0728L8.03852 9.92432L4.1651 9.92606C3.89663 9.92606 3.63902 9.81941 3.44918 9.62957C3.25934 9.43973 3.15269 9.18226 3.15269 8.91378C3.15269 8.64531 3.25934 8.38784 3.44918 8.198C3.639 8.00817 3.89645 7.90152 4.1649 7.90151L8.42175 7.90061M9.85065 9.62416L8.95241 14.3717L14.1511 14.3698L15.0495 9.62131L9.85065 9.62416ZM10.0992 9.92402L9.31452 14.0716L13.9025 14.0699L14.6874 9.92151L10.0992 9.92402Z",fill:"currentColor"})]})}function eH(){return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 18",style:{width:16,height:16},children:[(0,p.jsx)("path",{fill:"#4285f4",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z"}),(0,p.jsx)("path",{fill:"#34a853",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18l-2.909-2.26c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z"}),(0,p.jsx)("path",{fill:"#fbbc05",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z"}),(0,p.jsx)("path",{fill:"#ea4335",fillOpacity:"1",fillRule:"evenodd",stroke:"none",d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.428 0 9.002 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z"})]})}let eU=()=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{fill:"currentColor",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})});function eW(){return(0,D.useMemo)(()=>(0,p.jsxs)("svg",{width:"267.000000",height:"216.000000",viewBox:"0 0 267 216",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip1083_4283",children:(0,p.jsx)("rect",{width:"267.000000",height:"216.000000",fill:"white",fillOpacity:"0"})})}),(0,p.jsxs)("g",{clipPath:"url(#clip1083_4283)",children:[(0,p.jsx)("path",{id:"path",d:"M163.073 215.13C159.634 215.362 156.195 215.652 152.785 215.971C143.15 216.899 133.5 216.696 123.865 216.522C116.363 216.377 108.846 215.956 101.373 214.971C95.5831 214.202 89.9093 213.202 84.4242 211.216C82.6394 210.578 80.9126 211.477 79.2148 211.868C75.0792 212.825 70.9146 213.376 66.6629 213.55C63.4995 213.68 60.3217 214.014 57.1583 213.796C49.1338 213.231 41.0222 213.144 33.3169 210.404C32.6204 210.158 31.9529 209.853 31.2854 209.52C29.2249 208.505 29.2249 208.505 30.4002 206.592C31.2419 205.243 30.2116 203.823 28.1801 203.127C24.4218 201.837 20.5183 200.967 17.0212 198.995C16.0345 198.444 15.0913 197.778 14.2206 197.053C13.1758 196.198 13.4951 193.197 14.8446 192.167C17.2534 190.355 19.9814 189.036 22.9271 188.34C24.5959 187.949 26.2356 187.427 27.9624 187.166C31.445 186.644 34.8696 185.774 38.3522 185.224C42.5168 184.557 46.696 184.049 50.8751 183.513C52.2971 183.325 53.7482 183.672 55.1703 183.209C55.8233 182.991 56.0555 183.513 56.0555 184.122C56.0555 185.615 56.041 187.108 56.0555 188.601C56.0555 189.297 55.7798 189.573 55.0397 189.674C52.9646 189.935 50.9621 190.5 49.0902 191.457C48.2631 191.878 47.6246 191.718 46.8846 191.138C45.477 190.007 42.8651 190.544 41.8203 192.081C40.9206 193.4 41.6897 195.574 43.2424 196.589C46.5363 198.734 50.3092 199.735 54.053 199.865C57.6081 199.996 61.3084 199.575 64.7475 198.14C69.3329 196.227 74.0054 194.458 78.9972 193.864C80.5933 193.675 82.2621 193.965 83.8583 193.777C87.6601 193.356 91.2879 194.038 94.8866 195.168C97.8323 196.096 100.531 197.56 103.071 199.184C105.9 200.996 109.006 201.764 112.184 202.46C116.842 203.46 121.412 203.04 125.94 201.735C127.971 201.155 130.046 200.648 131.875 199.561C133.297 198.72 134.414 199.662 135.531 200.141C139.478 201.822 143.512 202.953 147.851 203.17C153.51 203.446 158.604 201.866 163.61 199.387C167.02 197.691 170.183 195.531 174.058 194.704C176.815 194.11 179.514 193.878 182.315 193.777C185.928 193.646 189.497 193.748 192.922 194.878C196.347 196.009 199.67 197.401 203.022 198.734C204.299 199.242 205.634 199.59 206.969 199.648C211.336 199.822 215.704 199.894 219.869 198.227C221.088 197.749 222.263 197.241 223.351 196.502C224.483 195.734 225.542 194.849 225.18 193.298C224.788 191.646 223.642 190.616 221.944 190.558C220.725 190.515 219.303 190.152 218.374 191.457C218.084 191.863 217.779 191.602 217.474 191.457C215.646 190.529 213.658 190.123 211.656 189.819C210.712 189.674 210.408 189.268 210.451 188.355C210.524 187.036 210.538 185.702 210.451 184.397C210.364 183.237 210.93 182.904 211.888 183.136C225.064 183.064 238.37 186.238 240.619 186.789C246.554 188.239 248.528 189.544 251.749 191.878C254.23 193.675 254.172 196.299 251.691 198.01C248.455 200.242 244.682 201.199 241.026 202.431C240.053 202.764 239.052 203.011 238.138 203.417C236.266 204.258 235.99 205.388 237.369 206.809C238.37 207.838 237.819 208.418 236.948 208.969C234.452 210.535 231.623 211.173 228.778 211.738C218.272 213.84 207.636 214.13 196.985 213.738C192.095 213.565 187.234 212.738 182.503 211.332C182.053 211.202 181.937 211.173 181.212 211.231C180.907 211.26 180.573 211.173 180.515 210.694C179.964 209.027 177.918 207.664 174.812 207.534C171.707 207.403 170.72 207.635 167.368 208.708C165.105 209.433 160.215 214.202 163.073 215.13ZM216.676 201.663C214.137 201.561 209.755 201.518 207.346 202.083C203.167 203.069 199.133 203.997 195.026 205.272C194.547 205.417 194.126 205.765 193.72 206.055C192.922 206.635 192.617 207.519 193.053 208.331C193.488 209.158 194.243 209.404 195.36 209.172C199.815 208.244 203.965 206.273 208.507 205.62C212.512 205.055 216.502 204.953 220.493 205.345C223.685 205.649 226.66 206.925 229.664 208.012C231.057 208.52 231.956 207.824 232.537 206.882C233.204 205.78 232.319 205.142 231.361 204.649C230.926 204.432 223.032 201.605 216.676 201.663ZM62.121 209.042C63.6301 209.042 65.1393 209.042 66.6339 209.042C67.5481 209.042 68.5203 208.882 68.5348 207.766C68.5493 206.737 67.6787 206.345 66.75 206.229C66.3001 206.171 65.8213 206.2 65.3569 206.229C57.6081 206.476 49.9899 205.707 42.5168 203.605C41.0802 203.199 39.5856 202.924 38.1055 202.707C37.2639 202.576 36.6254 203.069 36.4513 203.91C36.2626 204.823 36.8576 205.272 37.6702 205.49C38.2361 205.635 38.8166 205.693 39.368 205.838C46.8266 207.737 54.3432 209.331 62.121 209.042ZM78.3442 206.244C76.095 206.606 73.4395 207.548 70.813 208.578C70.0149 208.882 70.1455 209.23 70.7405 209.752C72.2206 211.071 73.7152 210.143 75.0357 209.679C77.8508 208.694 80.5788 208.679 83.3069 209.781C84.2791 210.172 85.2078 210.491 86.2671 210.404C86.746 210.361 87.2103 210.274 87.3119 209.708C87.3989 209.187 87.1232 208.766 86.6734 208.592C84.1485 207.65 81.7397 206.2 78.3442 206.244Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M245.669 178.178C249.602 178.541 253.244 179.613 256.857 180.802C259.063 181.527 261.254 182.339 263.3 183.469C263.605 183.629 264.025 183.687 264.199 183.933C264.664 184.6 266.144 184.789 265.462 185.977C264.78 187.152 263.808 186.485 262.908 186.079C258.25 183.991 253.534 182.034 248.484 181.049C247.381 180.831 246.337 180.353 245.292 179.903C244.871 179.715 244.131 179.628 244.247 178.947C244.378 178.12 245.292 178.41 245.669 178.178Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M2.97476 186.586C2.32176 186.717 1.74133 186.354 1.61073 185.818C1.48013 185.311 1.90096 184.847 2.42334 184.499C5.78987 182.266 9.62074 181.193 13.4371 180.063C15.5557 179.439 17.7178 178.947 19.8799 178.483C20.6635 178.309 21.4761 178.323 22.2887 178.323C22.8547 178.323 23.5076 178.468 23.6382 179.106C23.7979 179.816 23.0433 179.845 22.637 180.034C20.2427 181.135 17.5872 181.266 15.0768 182.005C11.4636 183.078 7.98101 184.426 4.61449 186.05C4.10661 186.296 3.62775 186.688 2.97476 186.586Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M10.7671 206.07C10.1576 206.795 9.50463 207.461 8.47437 207.171C5.65926 206.374 3.14886 204.968 0.885178 203.141C0.362778 202.721 -0.449829 202.228 0.261215 201.315C0.928711 200.474 1.9735 199.633 2.82964 200.445C5.00626 202.504 7.61822 203.837 10.1286 205.388C10.3608 205.533 10.5349 205.809 10.7671 206.07Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M264.765 200.373C265.622 200.373 266.362 200.59 266.724 201.3C267.087 202.025 266.608 202.591 266.042 203.069C263.764 204.968 261.37 206.606 258.366 207.215C257.423 207.403 256.813 206.824 256.494 206.36C256.175 205.881 256.799 205.287 257.408 204.997C258.163 204.635 258.918 204.243 259.672 203.866C260.978 203.228 262.342 202.75 263.097 201.271C263.314 200.851 264.011 200.228 264.765 200.373Z",fill:"#C7D6FF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M212.773 168.726C222.35 167.175 226.486 159.014 224.628 150.722C224.222 148.924 223.264 147.3 222.321 145.691C219.274 140.443 215.182 136.036 211.075 131.63C210.611 131.137 210.103 130.774 210.045 129.933C209.61 124.396 209.653 118.858 209.74 113.32C209.885 104.158 209.029 95.1559 206.635 86.284C204.516 78.4558 201.512 71.0045 197.174 64.2056C193.967 59.1753 189.686 54.9423 185.101 51.0862C162.957 32.3855 137.984 26.5143 110.094 35.0964C89.7352 41.3589 75.0792 54.5798 65.1973 73.2805C62.4693 78.4413 60.5974 83.9066 59.0882 89.5602C57.4775 95.5474 56.1861 101.52 55.9104 107.725C55.5911 114.9 55.7943 122.076 55.7362 129.252C55.7362 130.18 55.4751 130.832 54.8075 131.513C50.2802 136.109 46.4203 141.197 43.2424 146.836C41.5882 149.75 40.732 152.78 41.1238 156.1C41.5881 159.999 43.373 163.189 46.4928 165.653C49.0032 167.639 51.8764 168.61 54.9672 168.944C55.9249 169.045 56.0265 169.437 56.07 170.234C56.3602 175.786 55.5331 181.295 55.6056 186.833C55.6056 187.789 55.1703 188.079 54.2416 188.152C52.3987 188.311 50.6429 188.92 48.9742 189.718C48.3647 190.007 47.6972 190.355 47.6392 191.153C47.5811 192.023 48.3067 192.327 48.9306 192.588C52.8921 194.298 56.9116 194.125 60.9602 192.892C61.7873 192.646 61.8598 192.023 61.8598 191.254C61.8598 182.165 62.0049 173.075 61.8743 164C61.8453 161.739 62.5854 160.521 64.4428 159.304C69.5941 155.94 74.3682 152.041 77.9234 146.952C81.7542 141.458 79.6937 135.79 73.3524 133.601C70.102 132.485 66.7645 132.441 63.4125 132.905C62.1501 133.079 61.8743 132.688 61.8889 131.485C61.9469 123.497 61.9614 115.509 61.9324 107.522C61.9324 106.376 62.092 106.057 63.3545 106.376C70.8421 108.319 78.3587 110.146 85.8608 112.088C87.1233 112.407 87.9794 112.247 88.9661 111.363C93.7257 107.043 99.1383 103.709 105.218 101.592C119.018 96.7796 133.181 96.1273 147.532 98.2148C158.865 99.8529 169.269 103.608 177.584 111.9C178.295 112.61 178.948 112.45 179.79 112.219C187.277 110.232 194.779 108.304 202.253 106.304C203.718 105.912 204.153 106.231 204.139 107.783C204.095 115.712 204.139 123.642 204.182 131.572C204.182 132.572 204.037 133.065 202.876 132.92C201.788 132.789 200.671 132.891 199.583 132.847C196.114 132.673 192.791 132.833 189.672 134.746C186.827 136.5 184.941 141.168 186.174 144.184C188.104 148.866 191.456 152.374 195.302 155.534C195.998 156.1 196.796 155.882 197.42 156.433C199.118 157.941 201.135 158.999 203.051 160.173C203.733 160.594 204.008 161.043 204.008 161.826C204.008 164.479 204.095 167.146 204.095 169.799C204.124 176.975 204.168 184.151 204.095 191.327C204.095 192.559 204.531 193.037 205.619 193.371C207.085 193.835 208.623 193.501 210.059 194.009L210.756 194.009C211.627 193.588 212.57 193.835 213.469 193.704C214.616 193.53 215.762 193.371 216.734 192.675C218.2 191.617 218.098 190.239 216.473 189.515C214.877 188.804 213.179 188.456 211.467 188.181C210.611 188.036 210.233 187.789 210.277 186.905C210.538 182.005 209.406 177.163 209.697 172.235C209.871 169.147 209.74 169.219 212.773 168.726ZM69.2314 134.253C60.9166 134.804 53.4871 137.095 47.2474 142.618C49.1919 136.776 62.9191 131.47 69.2314 134.253ZM194.736 96.4606C191.732 97.3159 189.019 98.9106 185.971 99.6644C179.819 101.187 173.448 96.6636 172.868 90.3286C172.012 80.8333 180.065 73.9183 189.367 76.1798C193.459 77.1801 196.753 79.3546 199.307 82.6888C200.468 84.211 201.092 85.9071 201.034 88.0236C201.034 92.1406 198.842 95.3009 194.736 96.4606Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M123.734 29.6746C124.764 29.3557 139.856 29.0803 146.415 30.095C146.792 25.7315 146.168 21.5565 145.051 17.4539C143.571 12.0177 142.163 6.53796 138.434 2.04401C136.315 -0.507385 134.022 -0.724854 131.643 1.60913C130.133 3.07324 129.045 4.85638 128.145 6.74091C124.852 13.7138 123.27 21.0926 122.965 28.7614C122.951 29.2977 122.907 29.921 123.734 29.6746Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M182.895 86.7189C180.225 86.7334 178.048 88.8354 178.077 91.3433C178.121 93.7643 180.472 96.1852 182.706 96.0982C185.318 95.9968 187.205 93.9817 187.161 91.3288C187.118 88.5455 185.42 86.7044 182.895 86.7189Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"polygon",d:"M187.161 71.8453L168.094 75.7449L166.89 92.3291L169.066 98.7221L181.125 103.187L198.741 100.041L204.052 98.1132L204.052 86.7189L195.461 75.7449L187.161 71.8453Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M189.149 83.0948C188.279 80.1229 188.046 79.0647 186.204 74.8896C184.245 71.309 182.895 68.7866 180.646 66.9455C178.223 64.9885 175.364 63.5823 172.317 64.2636C172.041 64.3651 170.764 65.0319 170.445 65.3654C169.443 66.3947 169.792 67.5834 170.474 68.2212C170.88 68.6271 171.446 69.1345 172.157 69.3665C174.072 69.9608 175.712 70.8016 176.742 72.3528C178.005 74.2663 178.092 75.9624 176.844 78.1949C176.278 79.2242 175.538 81.1087 175.407 82.4424C175.103 85.5447 176.249 86.9219 177.729 89.2123C178.687 90.691 180.776 92.3001 182.982 92.851C184.404 93.2279 186.015 93.1699 187.655 93.0105C189.556 92.822 190.542 91.8508 190.499 90.2851C190.397 87.7772 189.846 85.4142 189.149 83.0948Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M77.0382 81.5001C77.8073 78.5138 78.0105 77.441 79.7227 73.208C81.5656 69.5693 82.8281 67.0035 85.0192 65.0899C87.3845 63.0604 90.1851 61.5672 93.2614 62.1326C93.5516 62.2195 94.8286 62.8429 95.1623 63.1763C96.1926 64.1766 95.8878 65.3798 95.2349 66.0322C94.8431 66.4526 94.2917 66.9745 93.5951 67.2209C91.6942 67.8732 90.0835 68.772 89.1113 70.3522C87.9214 72.2947 87.8779 74.0053 89.1838 76.1943C89.7788 77.2091 90.5769 79.0646 90.751 80.3984C91.1573 83.4861 90.0545 84.9068 88.6469 87.2408C87.7473 88.7484 85.7012 90.4155 83.5101 91.0389C82.1025 91.4593 80.4918 91.4448 78.8521 91.3578C76.9367 91.2274 75.9209 90.285 75.9209 88.7194C75.9354 86.197 76.4288 83.8486 77.0382 81.5001Z",fill:"#FFFFFF",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("ellipse",{id:"circle",cx:"93.667694",cy:"73.237000",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,p.jsx)("ellipse",{id:"circle",cx:"172.200531",cy:"74.498230",rx:"2.655492",ry:"2.652888",fill:"#FFFFFF",fillOpacity:"1.000000"}),(0,p.jsx)("g",{opacity:"0.500000",children:(0,p.jsx)("path",{id:"path",d:"M183.867 187.992C188.148 188.224 192.298 189.051 196.521 190.645C196.55 190.051 196.593 189.645 196.593 189.254C196.593 164.769 196.593 140.284 196.593 115.799C196.593 115.567 196.579 115.335 196.593 115.103C196.637 114.407 196.39 114.19 195.679 114.378C193.967 114.813 179.224 118.409 164.8 121.946L164.8 192.689C170.604 189.196 177.004 187.601 183.867 187.992Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,p.jsx)("g",{opacity:"0.700000",children:(0,p.jsx)("path",{id:"path",d:"M132.992 129.73L132.992 194.429C134.777 194.4 136.388 195.183 138.013 195.792C147.242 199.285 155.89 198.242 164.234 193.008C164.423 192.892 164.611 192.791 164.8 192.675L164.8 121.931C153.017 124.816 141.437 127.643 137.302 128.672C135.865 129.035 134.429 129.484 132.992 129.73Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,p.jsx)("g",{opacity:"0.200000",children:(0,p.jsx)("path",{id:"path",d:"M127.826 129.18C127.173 128.875 114.447 125.468 101.184 121.989L101.184 191.95C102.418 192.617 103.608 193.371 104.739 194.241C109.644 197.459 115.187 197.56 120.643 197.56C123.807 197.56 127.057 196.792 129.93 195.168C130.438 194.878 130.99 194.791 131.527 194.632C132.02 194.487 132.499 194.429 132.978 194.429L132.978 129.73C131.294 130.02 129.597 130.006 127.826 129.18Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,p.jsx)("g",{opacity:"0.100000",children:(0,p.jsx)("path",{id:"path",d:"M71.3935 114.335C69.5216 113.915 69.5216 114.552 69.5506 115.944C69.6232 121.076 69.6957 126.222 69.5942 131.354C69.5651 132.833 70.1165 133.152 71.3645 133.398C74.1941 133.949 76.7335 135.167 78.5764 137.457C79.3164 138.385 79.6067 139.704 80.4048 140.559C83.8148 144.213 83.3214 148.301 81.5511 152.273C79.4906 156.912 75.6307 160.115 71.4951 162.855C70.015 163.827 69.5071 164.841 69.5216 166.494C69.5942 172.032 69.5651 177.584 69.5796 183.122C69.5796 184.89 69.5506 186.644 69.5796 188.413C69.6232 190.616 69.8118 190.689 71.8724 190.051C73.1929 189.631 74.4698 189.138 75.8338 188.833C81.2754 187.674 92.1731 187.094 101.199 191.95L101.199 121.989C87.9069 118.51 74.0925 114.929 71.3935 114.335Z",fill:"#4D6BFE",fillOpacity:"1.000000",fillRule:"nonzero"})}),(0,p.jsx)("path",{id:"path",d:"M155.527 150.127L118.089 187.529L110.587 180.048L148.04 142.647L155.527 150.127Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"}),(0,p.jsx)("path",{id:"path",d:"M118.06 142.632L155.498 180.034L148.011 187.529L110.573 150.113L118.06 142.632Z",fill:"#FF7676",fillOpacity:"1.000000",fillRule:"nonzero"})]})]}),[])}var ez=n(11082),eG=n(63708);function eK(e,t){var n;return[e.idProfile,...null!=(n=e.idProfiles)?n:[]].find(e=>(null==e?void 0:e.provider)===t)}function eq(e){return eK(e,"WECHAT")}n(3143),n(50353);var eZ=n(4442),eQ=n(6799);let eY=()=>(0,eQ.vt)((e,t)=>({timerIsActive:!1,timerCountDown:0,startTimer(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;if(t().timerIsActive)return;e({timerIsActive:!0,timerCountDown:n});let a=()=>{setTimeout(()=>{e(e=>e.timerCountDown<=1?{timerIsActive:!1,timerCountDown:0}:(a(),{timerCountDown:e.timerCountDown-1}))},1e3)};a()},reset(){e({timerIsActive:!1,timerCountDown:0})}})),eX={sms:eY(),email:eY(),smsOrEmail:eY()},eJ=e=>(0,eQ.Pj)(eX[e]),e$=e=>eX[e].getState().reset();var e1=n(9377),e0=n(63351),e2=n(26848);async function e3(e,t){let{areaCode:n,mobilePhoneNumber:a,scene:s,locale:r,onOk:o,onError:i,rebindTicket:l}=e,{t:c,timer:d,toast:u,tracker:h,turnstileToken:p,shumeiVerification:m,hcaptchaToken:g,requestHelper:f}=t,C=await F()||"",v=e0.VV.hashStr(a),b=a.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2");h.info({name:"smsCodeSend",message:"手机验证码发送",payload:{areaCode:n,mobileMd5:v,mobileDesensitized:b,scene:s}});let _=function(e){switch(e){case"signUp":case"bindEmail":return"register";case"mobileLogin":return"login";case"forgetPassword":return"reset_password";case"verifyMobileForWechat":return"wechat_bind";case"verifyMobileForApple":return"apple_bind";case"unbindForRebind":return"unbind_for_rebind";case"bindForRebind":return"bind_for_rebind";default:return(0,e2.s)(e),"register"}}(s),S=(()=>{if("unbind_for_rebind"===_||"bind_for_rebind"===_){if(!l)throw Error("Ticket is required for rebind scenario");return"bind_for_rebind"===_?{scenario:_,ticket:l,mobileNumber:a}:{scenario:_,ticket:l}}return{scenario:_,mobileNumber:a}})();(0,e1.Ew)({turnstileToken:p,locale:r,shumeiVerification:m,hcaptchaToken:g,deviceId:C,...S},f).then(e=>{let{data:{code:t,sendWindowSecs:r},context:{logId:l}}=e,p=!1;switch(t){case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.OK:u.success({node:c("verificationSmsCodeSentSuccessfully")(a),description:c("verificationSmsCodeSentSuccessfully")("[mobile]")}),d.startTimer(null!=r?r:void 0),h.info({name:"smsCodeSendOk",message:"手机验证码发送成功",payload:{areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b,scene:s}}),p=!0;break;case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.SMS_SEND_TOO_FREQUENT:u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileCodeFrequentToast",eE)),description:c("mobileCodeFrequentToast")}),h.error({name:"smsCodeSendFailed",message:"发送过于频繁",payload:{reason:"tooFrequent",code:"".concat(t),logId:l,scene:s,areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b}}),d.startTimer(null!=r?r:void 0);break;case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("exectionEnvironmentExecptionToast",eE)),description:c("exectionEnvironmentExecptionToast")}),h.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:l,action:"smsCodeSend",rid:(null==m?void 0:m.rid)||"[unset]",endpointRegion:(null==m?void 0:m.region)||"[unset]",areaCode:n}});break;case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.NO_MOBILE_NUMBER:u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerMobileEmptyError",eE)),description:c("registerMobileEmptyError")}),h.error({name:"smsCodeSendFailed",message:"验证码发送失败",payload:{reason:"noMobileNumber",code:"".concat(t),logId:l,scene:s,areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b}});break;case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileCodeCloudErrorToast",eE)),description:c("mobileCodeCloudErrorToast")}),h.error({name:"smsCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(t),logId:l,scene:s,areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b}});break;case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.REBIND_TO_SAME_NUMBER:u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("rebindMobileToastSameNumber",eE)),description:c("rebindMobileToastSameNumber")}),h.error({name:"smsCodeSendFailed",message:"换绑手机号相同",payload:{reason:"rebindSameNumber",code:"".concat(t),logId:l,scene:s,areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b}});break;case e1.QK.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE.INVALID_TICKET:default:{let e=(0,ev.ensureTranslateComponent)("checkCodeFallbackToast",eE);u.error({node:(0,D.createElement)(e,{args:[t]}),description:c("checkCodeFallbackToast")(t)}),h.error({name:"smsCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",code:"".concat(t),logId:l,scene:s,areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b}})}}p?o():i()}).catch(e=>{u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("verificationCodeSentFailed",eE)),description:c("verificationCodeSentFailed")}),h.error({name:"smsCodeSendFailed",message:"其他错误",payload:h.withError(e,{reason:"other",mobile:a,scene:s,areaCode:n,deviceId:C,mobileMd5:v,mobileDesensitized:b})}),i()})}let e4=(()=>{try{return"352e5376-f2cc-43fe-a744-e51640449610"}catch{}return"eb68d628-dc7a-4c4c-a166-614655823020"})(),e6=!1;class e5 extends Error{}async function e9(){e6||(await n.e("13022").then(n.t.bind(n,21805,19)),e6=!0)}function e8(e){return e.includes("Failed to load hCaptcha JS API")}async function e7(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;try{await e9()}catch{throw new e5}let{promise:a,resolve:s,reject:r}=new S.c,o=document.createElement("h-captcha");return o.setAttribute("site-key",e4),o.setAttribute("size","invisible"),t>0&&o.setAttribute("jsapi","https://js.hcaptcha.com/1/api.js?_ts=".concat(Date.now())),o.setAttribute("theme",null!=e?e:""),o.addEventListener("loaded",async()=>{null==n||n(t),await Promise.resolve();try{let{response:e}=await o.executeAsync();s(e)}catch(e){r(e)}finally{o.remove()}}),o.addEventListener("error",a=>{let{error:i}=a;o.remove(),"string"==typeof i&&e8(i)&&t<2?(delete window._hCaptchaOnLoadPromise,e7(e,t+1,n).then(s,r)):r(i)}),document.body.appendChild(o),a}var te=n(38290);function tt(e){let{tracker:t,isDark:n}=eS(),{showShumeiCaptcha:a}=function(){let e=ei(),{locale:t,tracker:n,tintColor:a}=eS();return{showShumeiCaptcha:()=>{let s=new S.c,r=null;n.info({name:"openShumeiCaptchaModal",message:"打开数美验证码弹窗",payload:{}});let o=e.open({modalProps:{autoFocus:!1,closeOnMaskClick:!1,closeOnEscapeKeydown:!1,onOpenEffect:async()=>{let e=performance.now();(r=await I({organization:"P9usCUBauxft8eAmUXaZ",appendTo:"sm-captcha",maskBindClose:!1,lang:"zh_CN"==t?"zh-cn":"en",mode:"spatial_select"},{tintColor:a})).onReady((t,a)=>{let s=performance.now();n.info({name:"shumeiCaptchaResourceReady",message:"数美验证码资源加载完成",payload:{metricDuration:s-e,type:a.type,endpointRegion:w}})}),r.onSuccess(e=>{e.pass?(s.resolve(e),o.close(),n.info({name:"shumeiCaptchaOnSuccessPass",message:"数美验证码通过",payload:{rid:e.rid}})):n.info({name:"shumeiCaptchaOnSuccessNoPass",message:"数美验证码没通过",payload:{rid:e.rid}})})},children:(0,p.jsx)(es,{style:{width:"calc(294px + 42px)"},onClose:()=>{o.close(),s.resolve({rid:"",pass:!1})},afterTitle:(0,p.jsx)(ef.K,{style:{marginRight:8},onClick:()=>{null==r||r.reset()},children:(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,p.jsx)("g",{fill:"none",children:(0,p.jsx)("path",{d:"M3 8a5 5 0 0 1 9-3H9.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-.657V2.5a.5.5 0 0 0-1 0v1.028A6 6 0 1 0 14 8a.5.5 0 0 0-1 0A5 5 0 0 1 3 8z",fill:"currentColor"})})})}),headerWrapperStyle:{marginBottom:14},children:(0,p.jsxs)("div",{id:"sm-captcha",children:[(0,p.jsx)(te.E,{variant:"rect",style:{height:147,marginBottom:9.8}}),(0,p.jsx)(te.E,{variant:"rect",style:{height:39.2}})]})})}});return{onSettled:s.promise}}}}(),s=(0,eZ.dj)(),r=ex();return{getCaptchaResult:"shumei"===e?async()=>{try{let{pass:e,rid:t}=await a().onSettled;if(!e)return null;return{shumeiVerification:{region:w,rid:t},hcaptchaToken:void 0}}catch{return null}}:"hcaptcha"===e?async()=>{let e,a=performance.now();setTimeout(()=>{e||t.info({name:"hcaptchaTakingLongTime",message:"hcaptcha 加载慢",payload:{}})},5e3);try{let s=await e7(n?"dark":"light",0,n=>{(e=Date.now()-a)>3e3&&t.info({name:"hcaptchaLoad",message:"hcaptcha 加载完成",payload:{loadDuration:e,retryCount:n}})});return t.info({name:"hcaptchaFinish",message:"hcaptcha 校验完成",payload:{token:s,metricDuration:performance.now()-a}}),{hcaptchaToken:s,shumeiVerification:void 0}}catch(o){let e="",n="execute";return"string"==typeof o?(e=o,e8(o)&&(s.error(r("hcaptchaLoadFailToast")),n="load",e="Failed to load hCaptcha JS API"),o=Error(o)):o instanceof e5&&(s.error(r("hcaptchaLoadFailToast")),e="Dynamic loading @hcaptcha/vanilla failed",n="load"),t.error({name:"hcaptchaCheckFailed",message:"hcaptcha校验失败",payload:t.withError(o,{stage:n,reason:e,metricDuration:performance.now()-a})}),null}}:async()=>({hcaptchaToken:void 0,shumeiVerification:void 0})}}function tn(e){let{turnstileEnabled:t,captchaEnabled:n,type:a,disabled:s,target:r,scenario:o,inputVerificationCodePlaceholder:i,sendVerificationCodePlaceholder:l,validateForVerificationCode:c,verificationCodeCountDown:d,validateAndGetTypeForVerificationCode:u,rebindTicket:h,renderNode:m}=e,g=eJ(a),[f,C]=(0,D.useState)(""),[v,b]=(0,D.useState)(void 0),[_,S]=(0,D.useState)(void 0),[E,x]=(0,D.useState)(!1),y=(0,D.useRef)(null),{verifyCode:I}=function(e){let{type:t,scenario:n,captchaEnabled:a,setVerificationCodeLoading:s,validateForVerificationCode:r,validateAndGetTypeForVerificationCode:o}=e,i=eJ(t),l=ex(),c=(0,eZ.dj)(),{tracker:d,locale:u,http:h,baseUrl:p}=eS(),{getCaptchaResult:m}=tt(a);return{verifyCode:async function(e,a){if(!r())return"smsOrEmail"===t?d.error({name:"clientValidationFailed",message:"邮箱或手机号不合法",payload:{}}):"email"===t?d.error({name:"emailClientValidationFailed",message:"邮箱不合法",payload:{}}):d.error({name:"smsClientValidationFailed",message:"手机号不合法",payload:{}}),!1;s(!0);let g=await m();if(!g)return s(!1),!1;switch("smsOrEmail"===t?o(e):t){case"email":{let t=e0.VV.hashStr(e),a=e.replace(/(.{2}).+(.{2})/,"$1****$2");d.info({name:"emailCodeSend",message:"邮箱验证码发送",payload:{emailMd5:t,emailDesensitized:a}}),(0,e1.DX)({locale:u,email:e,turnstileToken:"",...g,deviceId:await F(),scenario:"forgetPassword"===n?"reset_password":"bindEmail"===n?"bind_email":"register"},{http:h,baseUrl:p}).then(r=>{let{data:{code:o},context:{logId:u}}=r;switch(o){case e1.QK.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.OK:c.success({node:l("verificationEmailCodeSentSuccessfully")(e),description:l("verificationEmailCodeSentSuccessfully")("[email]")}),d.info({name:"emailCodeSendOk",message:"邮箱验证码发送成功",payload:{emailMd5:t,emailDesensitized:a}}),i.startTimer();break;case e1.QK.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_REQUEST_TOO_FREQUENT:c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("emailCodeFrequentToast",eE)),description:l("emailCodeFrequentToast")}),d.error({name:"emailCodeSendFailed",message:"发送频率过高",payload:{logId:u,reason:"tooFrequent",code:"".concat(o),scene:n,emailMd5:t,emailDesensitized:a}}),i.startTimer();break;case e1.QK.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.RECAPTCHA_VERIFY_FAILED:var h,p;c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("exectionEnvironmentExecptionToast",eE)),description:l("exectionEnvironmentExecptionToast")}),d.error({name:"serverCheckFailed",message:"服务端人机验证失败",payload:{logId:u,action:"emailCodeSend",areaCode:null,endpointRegion:w,rid:null!=(p=null==g||null==(h=g.shumeiVerification)?void 0:h.rid)?p:""}}),i.startTimer();break;case e1.QK.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.INVALID_EMAIL_FORMAT:c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("emailFormatErrorToast",eE)),description:l("emailFormatErrorToast")}),d.error({name:"emailCodeSendFailed",message:"邮箱格式错误",payload:{reason:"invalidEmailFormat",code:"".concat(o),logId:u,scene:n,emailMd5:t,emailDesensitized:a}}),i.startTimer();break;case e1.QK.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.EMAIL_DOMAIN_NOT_IN_WHITELIST:c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("emailDomainNotInWhitelistToast",eE)),description:l("emailDomainNotInWhitelistToast")}),d.error({name:"emailCodeSendFailed",message:"邮箱域名不在白名单",payload:{reason:"emailDomainNotInWhitelist",code:"".concat(o),logId:u,scene:n,emailMd5:t,emailDesensitized:a}}),i.startTimer();break;case e1.QK.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE.CLOUD_ERROR:c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("emailCodeCloudErrorToast",eE)),description:l("emailCodeCloudErrorToast")}),d.error({name:"emailCodeSendFailed",message:"云服务异常",payload:{reason:"cloudError",code:"".concat(o),logId:u,scene:n,emailMd5:t,emailDesensitized:a}});break;default:{d.error({name:"emailCodeSendFailed",message:"未知错误码",payload:{reason:"unknownCode",scene:n,code:"".concat(o),logId:u,emailMd5:t,emailDesensitized:a}});let e=(0,ev.ensureTranslateComponent)("createCodeFallbackToast",eE);c.error({node:(0,D.createElement)(e,{args:[o]}),description:l("createCodeFallbackToast")(o)})}}s(!1)}).catch(e=>{c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("verificationCodeSentFailed",eE)),description:l("verificationCodeSentFailed")}),d.error({name:"emailCodeSendFailed",message:"其他错误",payload:d.withError(e,{reason:"other",scene:n,emailMd5:t,emailDesensitized:a})}),s(!1)});break}case"sms":e3({locale:u,mobilePhoneNumber:e,scene:n,callingCode:"",areaCode:"",onOk(){s(!1)},onError(){s(!1)},rebindTicket:a},{t:l,timer:i,toast:c,tracker:d,turnstileToken:"",...g,requestHelper:{http:h,baseUrl:p}})}return!0}}}("smsOrEmail"===a?{turnstileEnabled:t,captchaEnabled:n,type:a,scenario:o,setVerificationCodeLoading:x,validateForVerificationCode:c,validateAndGetTypeForVerificationCode:u}:{turnstileEnabled:t,captchaEnabled:n,type:a,scenario:o,setVerificationCodeLoading:x,validateForVerificationCode:c}),T={value:f,loading:E,disabled:s,feedback:v,status:_,onChange:e=>{if(C(e),/^\d*$/.test(e)&&e.length<=6)S(void 0),b(void 0);else{S("error");let e=(0,ev.ensureTranslateComponent)("registerVerificationCodeInvalidError",eE);b((0,p.jsx)(e,{}))}},onBlur:()=>{if(!f||/^\d{6}$/.test(f))S(void 0),b(void 0);else{S("error");let e=(0,ev.ensureTranslateComponent)("registerVerificationCodeInvalidError",eE);b((0,p.jsx)(e,{}))}},sendCode:()=>I(r,h),timerIsActive:g.timerIsActive,timerCountDown:g.timerCountDown,inputDomRef:y,verificationCodeCountDown:d,type:a};return{value:f,onSubmit:()=>{if(0===f.length){S("error");let e=(0,ev.ensureTranslateComponent)("registerVerificationCodeEmptyError",eE);return b((0,p.jsx)(e,{})),!1}return void 0===_},status:_,node:m?m(T):(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(em,{showFeedbackPlaceholder:!0,feedback:v,status:_,children:(0,p.jsxs)("div",{className:"ds-verify-code-form-item",children:[(0,p.jsx)(eC,{size:"l",maxLength:6,variant:"bordered",disabled:s,type:"tel",placeholder:i,icon:(0,p.jsx)(ez.I,{size:"1em",children:(0,p.jsx)(eV,{})}),className:"ds-verify-code-form-item__verify-code-input",inputDomRef:y,onChange:e=>T.onChange(e.currentTarget.value),onBlur:T.onBlur}),(0,p.jsx)(eG.$,{variant:"bordered",size:"l",type:"secondary",className:"ds-verify-code-form-item__verify-code-button",disabled:s||g.timerIsActive,loading:E,onClick:()=>{I(r,h).then(e=>{e&&y.current&&y.current.focus()})},children:g.timerIsActive?d({seconds:g.timerCountDown}):l})]})})}),renderProps:T}}function ta(e){let{disabled:t,placeholder:n,stringValueHolder:a}=e,[s,r]=(0,D.useState)(a.get),[o,i]=(0,D.useState)(void 0),[l,c]=(0,D.useState)(void 0);return{validateForVerificationCode:function(){if(0===s.length){i("error");let e=(0,ev.ensureTranslateComponent)("registerMobileEmptyError",eE);return c((0,p.jsx)(e,{})),!1}if(!eI(s)){i("error");let e=(0,ev.ensureTranslateComponent)("registerMobileInputInvalidError",eE);return c((0,p.jsx)(e,{})),!1}return!0},value:s,status:o,onSubmit:()=>{if(0===s.length){i("error");let e=(0,ev.ensureTranslateComponent)("registerMobileEmptyError",eE);return c((0,p.jsx)(e,{})),!1}return void 0===o},node:(0,p.jsx)(em,{showFeedbackPlaceholder:!0,status:o,feedback:l,children:(0,p.jsx)(eC,{autoFocus:!0,size:"l",variant:"bordered",theme:{prefixMargin:"5px"},type:"tel",value:s,disabled:t,prefix:"+86",onChange:e=>{let t=e.currentTarget.value.trim();if(r(t),a.set(t),/^\d*$/.test(t)&&t.length<=11)i(void 0),c(void 0);else{i("error");let e=(0,ev.ensureTranslateComponent)("registerMobileInputInvalidError",eE);c((0,p.jsx)(e,{}))}},onBlur:()=>{if(!s||eI(s))i(void 0),c(void 0);else{i("error");let e=(0,ev.ensureTranslateComponent)("registerMobileInputInvalidError",eE);c((0,p.jsx)(e,{}))}},placeholder:n})})}}function ts(e){let{disabled:t,passwordPlaceholder:n,confirmPasswordPlaceholder:a}=e,[s,r]=(0,D.useState)(""),[o,i]=(0,D.useState)(""),[l,c]=(0,D.useState)(void 0),[d,u]=(0,D.useState)(void 0),[h,m]=(0,D.useState)(void 0),[g,f]=(0,D.useState)(void 0),C=e=>{var t;if(o.length)if(e===o)m(void 0),f(void 0);else{m("error");let e=(0,ev.ensureTranslateComponent)("registerPasswordNotMatchError",eE);f((0,p.jsx)(e,{}))}let{result:n}=(t=e,/^[ -~]*$/.test(t)?t.length<8?{result:"tooShort"}:t.length>50?{result:"tooLong"}:{result:null}:{result:"invalidChar"});if(null===n)c(void 0),u(void 0);else switch(c("error"),n){case"invalidChar":let a=(0,ev.ensureTranslateComponent)("registerPasswordInvalidError",eE);u((0,p.jsx)(a,{}));break;case"tooShort":case"tooLong":let s=(0,ev.ensureTranslateComponent)("registerPasswordLengthError",eE);u((0,p.jsx)(s,{}))}};return{value:s,onSubmit:()=>{let e=!0;if(0===s.length){c("error");let t=(0,ev.ensureTranslateComponent)("registerPasswordEmptyError",eE);u((0,p.jsx)(t,{})),e=!1}if(0===o.length){m("error");let t=(0,ev.ensureTranslateComponent)("registerConfirmPasswordEmptyError",eE);f((0,p.jsx)(t,{})),e=!1}return!!e&&void 0===h&&void 0===l},node:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(em,{showFeedbackPlaceholder:!0,status:l,feedback:d,children:(0,p.jsx)(eC,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,disabled:t,onChange:e=>{let t=e.currentTarget.value;r(t),C(t)},onBlur:()=>{s?C(s):(c(void 0),u(void 0))},theme:{padding:"0 20px 0 16px"},placeholder:n})}),(0,p.jsx)(em,{showFeedbackPlaceholder:!0,status:h,feedback:g,children:(0,p.jsx)(eC,{size:"l",variant:"bordered",disabled:t,type:"password",passwordVisible:!0,onChange:e=>{let t=e.currentTarget.value;if(i(t),s!==t){m("error");let e=(0,ev.ensureTranslateComponent)("registerPasswordNotMatchError",eE);f((0,p.jsx)(e,{}))}else m(void 0),f(void 0)},onBlur:()=>{if(o){if(s!==o){m("error");let e=(0,ev.ensureTranslateComponent)("registerPasswordNotMatchError",eE);f((0,p.jsx)(e,{}))}}else m(void 0),f(void 0)},theme:{padding:"0 20px 0 16px"},placeholder:a})})]})}}n(59605),n(14979),n(99046),n(40339),n(31188),n(89851),n(73191),n(96341);var tr=n(17938);let to=e=>{let{children:t,onClick:n,disabled:a=!1,className:s,style:r,domRef:o,domProps:i}=e;return(0,p.jsxs)("button",{...i,ref:o,className:(0,Z.A)("".concat(U.V,"-link-button"),a&&"".concat(U.V,"-link-button--disabled"),s),style:r,onClick:()=>{a||null==n||n()},disabled:a,type:"button",children:[(0,p.jsx)("span",{className:"".concat(U.V,"-link-button__text"),children:t}),(0,p.jsx)(tr.v,{})]})};var ti=n(73934),tl=n(25611);function tc(e){return"".concat(e.slice(0,3),"****").concat(e.slice(7,11))}n(14272),n(36670);let td=e=>{let{style:t,link:n,icon:a,children:s,iconColor:r,onClick:o,disabled:i,domRef:l,domProps:c,loading:d=!1,className:u,iconSize:h=18,iconAlign:m="left",iconMargin:g=8,suffix:f,useDiv:C}=e,v=i||d,b=e=>a?(0,p.jsx)(ez.I,{size:h,className:(0,Z.A)("".concat(U.V,"-atom-button__icon"),e&&"".concat(U.V,"-atom-button__icon--hidden")),style:{color:r,..."left"===m?{marginRight:g}:{marginLeft:g}},children:a}):null,_=(0,D.useMemo)(()=>(C&&n&&console.warn("cannot useDiv with link"),C)?"div":n?"a":"button",[n,C]);return(0,p.jsxs)(_,{role:"button","aria-disabled":v,ref:l,className:(0,Z.A)("".concat(U.V,"-atom-button"),v&&"".concat(U.V,"-atom-button--disabled"),u),href:null==n?void 0:n.url,target:null==n?void 0:n.target,style:t,disabled:v,...c,onClick:e=>{var t;v||(null==o||o(e),null==c||null==(t=c.onClick)||t.call(c,e))},children:["left"===m?b(d):null,(0,p.jsx)("span",{className:d?"".concat(U.V,"-atom-button__text--hidden"):void 0,children:s}),"right"===m?b(d):null,d?(0,p.jsx)(ti.R,{className:"".concat(U.V,"-atom-button__loading"),size:h}):null,f]})};n(26963);let tu={sm:{padding:"5px 14px",fontSize:13,lineHeight:"20px",iconSize:14},md:{padding:"6px 14px",fontSize:14,lineHeight:"22px",iconSize:14,minWidth:"72px"},lg:{padding:"8px 72px",fontSize:14,lineHeight:"22px",iconSize:16},xl:{padding:"10px 72px",fontSize:14,lineHeight:"22px",iconSize:16,width:"100%"}},th=e=>{let{size:t="md",link:n,icon:a,children:s,iconColor:r,onClick:o,disabled:i,domRef:l,domProps:c,variant:d="primary",loading:u=!1,className:h,style:m,theme:g,focusRingProps:f,useDiv:C,iconSize:v}=e,b=tu[t],{iconSize:_}=b,S=i||u;return(0,p.jsx)(td,{style:{...(e=>{let{iconSize:t,...n}=e;return n})(b),...m,...{"--ds-button-color":null==g?void 0:g.color,"--ds-button-hover-color":null==g?void 0:g.hoverColor,"--ds-button-text-color":null==g?void 0:g.textColor}},iconSize:null!=v?v:_,disabled:S,loading:u,link:n,icon:a,iconColor:r,onClick:o,domRef:l,domProps:c,useDiv:C,className:(0,Z.A)("".concat(U.V,"-basic-button"),"".concat(U.V,"-basic-button--").concat(d),h),iconAlign:"left",suffix:(0,p.jsx)(tr.v,{...f}),iconMargin:6*!!s,children:s})};function tp(e){let{onConfirm:t,onCancel:n,oldMobileNumber:a}=e,s=ex(),r=(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:n,children:s("rebindMobileCancel")}),(0,p.jsx)(th,{variant:"primary",onClick:t,domProps:{"data-autofocus":!0},children:s("rebindMobileChange")})]});return(0,p.jsx)(es,{title:s("rebindMobileTitle"),onClose:n,hideClose:!0,variant:"dialog",footer:r,children:(0,p.jsxs)("div",{className:"ds-change-mobile-number-modal__description",children:[(0,p.jsx)("p",{children:s("rebindMobileDescriptionS1")(a)}),(0,p.jsxs)("p",{children:[(0,p.jsx)("span",{className:"strong",children:s("rebindMobileDescriptionS2Bold")}),s("rebindMobileDescriptionS3")]})]})})}let tm=()=>{let e="";return{set:t=>{e=t},get:()=>e}};function tg(e){return(0,p.jsx)(em,{className:"ds-verify-code-input-form-item",showFeedbackPlaceholder:!0,feedback:e.feedback,status:e.status,children:(0,p.jsx)(eC,{size:"l",maxLength:6,variant:"bordered",disabled:e.disabled,type:"tel",placeholder:e.inputVerificationCodePlaceholder,value:e.value,inputDomRef:e.inputDomRef,onChange:t=>e.onChange(t.currentTarget.value),onBlur:e.onBlur,onKeyDown:t=>{if("Enter"===t.key){var n;null==(n=e.onPressEnter)||n.call(e)}},theme:{focusBorderColor:"var(--dsw-alias-brand-primary)",padding:"0 20px 0 16px"},suffix:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"ds-verify-code-input-divider"}),(0,p.jsx)(to,{disabled:e.disabled||e.timerIsActive,onClick:()=>{e.sendCode().then(t=>{t&&e.inputDomRef.current&&e.inputDomRef.current.focus()})},className:"ds-verify-code-input-countdown"+(e.timerIsActive?" ds-verify-code-input-countdown-active":""),children:e.timerIsActive?e.verificationCodeCountDown({seconds:e.timerCountDown}):e.sendVerificationCodePlaceholder})]})})})}function tf(e){let{ticket:t,oldMobileNumber:n,onSuccess:a,onClose:s}=e,r=ex(),o=(0,eZ.dj)(),{http:i,tracker:l,baseUrl:c,captchaEnabled:d,turnstileEnabled:u,serverApiUserToUser:h}=eS(),[m,g]=(0,D.useState)(!1),f=(0,D.useMemo)(tm,[]),C=(0,D.useRef)(null),{node:v,validateForVerificationCode:b,onSubmit:_,value:S}=ta({disabled:!1,placeholder:r("inputMobilePhoneNumber"),stringValueHolder:f}),{node:E,onSubmit:x,value:y}=tn({captchaEnabled:d,turnstileEnabled:u,scenario:"bindForRebind",rebindTicket:t,disabled:!1,target:S,type:"sms",inputVerificationCodePlaceholder:r("inputSmsVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return r("verificationCodeCountDown")(t)},[r]),validateForVerificationCode:b,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:r("inputSmsVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),onPressEnter:()=>{var e;null==(e=C.current)||e.click()}})}),w=async()=>{if(_()&&x()){g(!0);try{let{data:{user:e}}=await (0,e1.Iv)({ticket:t,newMobileSmsVerificationCode:y,deviceId:"",newMobileNumber:S},{http:i,baseUrl:c},h);e$("sms"),a(S,e),o.success({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("rebindMobileChangeSuccess",eE)),description:r("rebindMobileChangeSuccess")})}catch(t){let e=e=>o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e,eE)),description:String(r(e))});tl.Q.isCode(t,e1.QK.REBIND_MOBILE_FINISH_BIZ_CODE.NEW_MOBILE_ALREADY_ON_ANOTHER_ACCOUNT)?e("rebindMobileAlreadyBoundError"):tl.Q.isCode(t,e1.QK.REBIND_MOBILE_FINISH_BIZ_CODE.ACCOUNT_BANNED)?e("commonUserIsBannedToast"):tl.Q.isCode(t,e1.QK.REBIND_MOBILE_FINISH_BIZ_CODE.NEW_MOBILE_SMS_EXPIRED)?e("mobileVerficationFormSmsExpiredCodeErrorToast"):tl.Q.isCode(t,e1.QK.REBIND_MOBILE_FINISH_BIZ_CODE.NEW_MOBILE_SMS_VERIFY_FAILED)?e("mobileVerficationFormSmsVerifyFailedCodeErrorToast"):tl.Q.isCode(t,e1.QK.REBIND_MOBILE_FINISH_BIZ_CODE.RISK_DEVICE_DETECTED)?e("exectionEnvironmentExecptionToast"):tl.Q.isBizError(t)?o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("rebindFallbackToast",eE),{args:[t.code]}),description:r("rebindFallbackToast")(t.code)}):o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("operationFailed",eE)),description:r("operationFailed")}),l.error({name:"rebindMobileFinishFailed",message:"换绑手机号完成失败",payload:l.withError(t,{oldMobileNumber:n,newMobileNumber:tc(S)})})}finally{g(!1)}}},I=(0,p.jsx)(th,{variant:"primary",size:"xl",className:"ds-mobile-verification-form__bind-button",onClick:w,loading:m,domRef:C,domProps:{"data-autofocus":!0},children:r("rebindMobileChangeButton")});return(0,p.jsxs)(es,{title:r("rebindMobileVerifyNew"),className:"ds-change-mobile-number-modal",onClose:s,hideClose:!1,variant:"dialog",footer:I,contentDomProps:{style:{paddingTop:"20px"}},children:[v,E]})}function tC(e){let{code:t,logId:n,toast:a,tracker:s,t:r,scene:o,onOk:i}=e,l=e=>a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e,eE)),description:String(r(e))});switch(t){case e1.QK.CHECK_SMS_CODE_ERROR_CODE.OK:null==i||i(),s.info({name:"checkSmsCodeOk",message:"检查短信验证码成功",payload:{}});return;case e1.QK.CHECK_SMS_CODE_ERROR_CODE.SMS_EXPIRED:l("mobileVerficationFormSmsExpiredCodeErrorToast"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码过期",payload:{scene:o,reason:"smsExpired",code:"".concat(t),logId:n}});return;case e1.QK.CHECK_SMS_CODE_ERROR_CODE.MOBILE_NOT_EXIST:l("forgotPasswordFailedMobileNotExistToast1"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，手机号未注册",payload:{scene:o,reason:"notExist",code:"".concat(t),logId:n}});return;case e1.QK.CHECK_SMS_CODE_ERROR_CODE.SMS_VERIFY_FAILED:l("mobileVerficationFormSmsVerifyFailedCodeErrorToast"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，验证码有误",payload:{scene:o,reason:"smsVerifyFailed",code:"".concat(t),logId:n}});return;case e1.QK.CHECK_SMS_CODE_ERROR_CODE.ACCOUNT_BANNED:l("userIsBannedToast"),s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，账户封禁",payload:{scene:o,reason:"accountBanned",code:"".concat(t),logId:n}});return;default:(0,e2.s)(t);{let e=(0,ev.ensureTranslateComponent)("checkCodeFallbackToast",eE);a.error({node:(0,D.createElement)(e,{args:[t]}),description:r("checkCodeFallbackToast")(t)})}throw s.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，未知错误码",payload:{scene:o,reason:"unknownCode",code:"".concat(t),logId:n}}),t}}function tv(e){let{onSuccess:t,onClose:n,ticket:a,oldMobileNumber:s}=e,r=ex(),o=(0,eZ.dj)(),{captchaEnabled:i,turnstileEnabled:l,http:c,baseUrl:d,tracker:u}=eS(),[h,m]=(0,D.useState)(!1),g=(0,D.useRef)(null),{node:f,onSubmit:C,value:v}=tn({captchaEnabled:i,turnstileEnabled:l,scenario:"unbindForRebind",rebindTicket:a,target:s,disabled:!1,type:"sms",inputVerificationCodePlaceholder:r("inputSmsVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return r("verificationCodeCountDown")(t)},[r]),validateForVerificationCode:()=>!0,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:r("inputSmsVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),onPressEnter:()=>{var e;null==(e=g.current)||e.click()}})}),b=async()=>{if(C()){m(!0);try{let{data:{code:e},context:{logId:n}}=await (0,e1.bV)({areaCode:"+86",smsVerificationCode:v,scenario:"unbind_for_rebind",ticket:a},{http:c,baseUrl:d});tC({code:e,logId:n,toast:o,tracker:u,t:r,scene:"unbindForRebind",onOk:()=>{e$("sms"),t()}})}catch{o.error({node:r("validateMobileNumberUnknownErrorToast"),description:r("validateMobileNumberUnknownErrorToast")})}finally{m(!1)}}},_=(0,p.jsx)(th,{domRef:g,variant:"primary",size:"xl",className:"ds-mobile-verification-form__bind-button",onClick:b,loading:h,children:r("rebindMobileContinue")});return(0,p.jsxs)(es,{className:"ds-change-mobile-number-modal",title:r("rebindMobileVerifyCurrent"),onClose:n,variant:"dialog",footer:_,children:[(0,p.jsxs)("div",{className:"ds-change-mobile-number-modal__old-mobile",children:["+86 ",s]}),f]})}function tb(e){let{onClose:t,onSuccess:n,ticket:a,oldMobileNumber:s}=e;(0,D.useEffect)(()=>{L()},[]);let{tracker:r}=eS(),[o,i]=(0,D.useState)("confirm");return"confirm"===o?(0,p.jsx)(tp,{oldMobileNumber:s,onConfirm:()=>{i("verifyOld")},onCancel:t}):"verifyOld"===o?(0,p.jsx)(tv,{ticket:a,oldMobileNumber:s,onSuccess:()=>{i("verifyNew")},onClose:t}):"verifyNew"===o?(0,p.jsx)(tf,{ticket:a,oldMobileNumber:s,onSuccess:(e,a)=>{r.info({name:"rebindMobileFinishOk",message:"换绑手机号成功",payload:{oldMobileNumber:tc(s),newMobileNumber:tc(e)}}),n(a),t()},onClose:t}):null}n(98216),n(59587);var t_=n(40081);let tS=(0,t_.l)({key:"apple_signature",storage:"session"}),tE=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15);var tx=n(77058);n(93649);var ty=n(9397);function tw(e){let{onClick:t,loading:n,domRef:a}=e,s=ex();return(0,p.jsx)(th,{loading:n,variant:"primary",size:"xl",onClick:t,domRef:a,children:s("signIn")})}n(51602),n(72634);let tI=tm();function tT(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:s}=e,r=ex(),{http:o,baseUrl:i,tracker:l,serverApiUserToUser:c}=eS(),d=(0,eZ.dj)(),{node:u,onSubmit:h,value:m}=eA({placeholder:r("signInEmailAndPhonePlaceholder"),stringValueHolder:tI,blurToVerify:!0}),{node:g,onSubmit:f,value:C}=function(e){let{placeholder:t}=e,[n,a]=(0,D.useState)(""),[s,r]=(0,D.useState)(void 0),[o,i]=(0,D.useState)(void 0);return{value:n,onSubmit:()=>{if(0===n.length){r("error");let e=(0,ev.ensureTranslateComponent)("signInPasswordEmptyError",eE);return i((0,p.jsx)(e,{})),!1}return void 0===s},node:(0,p.jsx)(em,{showFeedbackPlaceholder:!0,feedback:o,status:s,children:(0,p.jsx)(eC,{size:"l",variant:"bordered",type:"password",passwordVisible:!0,theme:{padding:"0 20px 0 16px"},onChange:e=>{let t=e.currentTarget.value;a(t),t.length&&(r(void 0),i(void 0))},onBlur:e=>{e.target.value||(r(void 0),i(void 0))},placeholder:t})})}}({placeholder:r("inputPassword")}),{node:v,onSubmit:b}=eB({acknowledgementRender:(0,D.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return r("passwordSignInAcknowledgement")(t,n)},[r])}),[_,S]=(0,D.useState)(!1);return(0,p.jsxs)(p.Fragment,{children:[u,g,v,(0,p.jsx)(tA,{onForgotPassword:a,onGoToSignUp:s}),(0,p.jsx)(tw,{loading:_,onClick:async()=>{if([h(),f(),b()].every(e=>e)){let e;S(!0);let a="mobile",s="";m.includes("@")?(a="email",e=(0,e1.sl)({email:m,password:C,mobile:"",areaCode:"",deviceId:await F(),os:"web"},{http:o,baseUrl:i},c)):(s="+86",e=(0,e1.sl)({email:"",password:C,mobile:m,areaCode:"+86",deviceId:await F(),os:"web"},{http:o,baseUrl:i},c)),l.info({name:"signIn",message:"登录",payload:{type:a,areaCode:s}}),e.then(e=>{let{data:{user:o,code:i},context:{logId:c}}=e;switch(i){case e1.QK.LOGIN_ERROR_CODE.OK:let u;if(!o){d.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，没拿到 user",payload:{code:"".concat(i),type:a,areaCode:s,reason:"noUser",logId:c}});break}t((u=ty.Tr.OK,{...o,status:u})),n&&n(),l.info({name:"signInOk",message:"登录成功",payload:{type:a,areaCode:s,userId:"".concat(o.id)}});break;case e1.QK.LOGIN_ERROR_CODE.PASSWORD_OR_USER_NAME_IS_WRONG:d.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInPasswordEmailErrorToast",eE)),description:r("signInPasswordEmailErrorToast")}),l.error({name:"signInFailed",message:"登录失败，用户名或密码错误",payload:{code:"".concat(i),type:a,areaCode:s,reason:"invalidPasswordOrAccount",logId:c}});break;case e1.QK.LOGIN_ERROR_CODE.USER_IS_BANNED:d.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:r("userIsBannedToast")}),l.error({name:"signInFailed",message:"登录失败，账户被停用",payload:{code:"".concat(i),type:a,areaCode:s,reason:"banned",logId:c}});break;default:{let e=(0,ev.ensureTranslateComponent)("loginFallbackToast",eE);d.error({node:(0,D.createElement)(e,{args:[i]}),description:r("loginFallbackToast")(i)}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(i),type:a,areaCode:s,reason:"unknownCode",logId:c}})}}S(!1)}).catch(e=>{d.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:r("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),S(!1)})}else l.error({name:"signInClientValidationFailed",message:"登录客户端验证失败",payload:{emailOrMobile:m}})}})]})}function tA(e){let{onForgotPassword:t,onGoToSignUp:n}=e,a=ex();return(0,p.jsxs)("div",{className:"ds-sign-in-form__form-footer",children:[(0,p.jsx)(to,{onClick:t,children:a("forgotPassword")}),(0,p.jsx)(to,{onClick:n,children:a("goToSignUp")})]})}let tj=tm();function tk(e){let{regionCode:t,beAuthenticated:n,onAfterSignInOk:a}=e,s=ex(),r=eE(),{http:o,baseUrl:i,tracker:l,serverApiUserToUser:c,captchaEnabled:d,turnstileEnabled:u}=eS(),h=(0,eZ.dj)(),{node:m,validateForVerificationCode:g,onSubmit:f,value:C}=ta({disabled:!1,placeholder:s("inputMobilePhoneNumber"),stringValueHolder:tj}),{node:v,onSubmit:b,value:_}=tn({captchaEnabled:d,turnstileEnabled:u,scenario:"mobileLogin",disabled:!1,target:C,type:"sms",inputVerificationCodePlaceholder:s("inputSmsVerificationCode"),sendVerificationCodePlaceholder:s("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return s("verificationCodeCountDown")(t)},[s]),validateForVerificationCode:g,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:s("inputSmsVerificationCode"),sendVerificationCodePlaceholder:s("sendVerificationCode"),onPressEnter:()=>{var e;null==(e=y.current)||e.click()}})}),{node:S}=eB({acknowledgementRender:(0,D.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return s("smsSignInAcknowledgement")(t,n)},[s])}),[E,x]=(0,D.useState)(!1),y=(0,D.useRef)(null);return(0,p.jsxs)(p.Fragment,{children:[m,v,S,(0,p.jsx)(tw,{loading:E,domRef:y,onClick:async()=>{[f(),b()].every(e=>e)?(x(!0),l.info({name:"signIn",message:"登录",payload:{type:"mobile_sms",areaCode:"+86"}}),(0,e1.cp)({locale:r,region:t||ty.QV,mobileNumber:C,areaCode:"+86",smsVerificationCode:_,deviceId:await F(),os:"web"},{http:o,baseUrl:i},c).then(e=>{let{data:{user:t,code:r},context:{logId:o}}=e,i=(e,t)=>({...t,status:e});function c(e){l.error({name:"signInFailed",message:"验证码登录失败，没拿到 user",payload:{code:"".concat(e),type:"mobile_sms",areaCode:"+86",reason:"noUser",logId:o}})}switch(r){case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.OK:if(!t){h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:s("signInFailed")}),c(r);break}n(i(ty.Tr.OK,t)),a&&a(),l.info({name:"signUpBySmsOk",message:"验证码注册成功",payload:{userId:"".concat(t.id)}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.LOGIN_TO_EXISTING_ACCOUNT:if(!t){h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:s("signInFailed")}),c(r);break}n(i(ty.Tr.OK,t)),a&&a(),l.info({name:"signInOk",message:"验证码登录成功",payload:{type:"mobile_sms",areaCode:"+86",userId:"".concat(t.id)}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerRegisterFromMainlandToast",eE)),description:s("registerRegisterFromMainlandToast")}),l.error({name:"signInFailed",message:"注册失败，手机验证码登录请求从海外发送",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"unexpectedRegion",logId:o}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.ACCOUNT_BANNED:h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:s("userIsBannedToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败，账户被停用",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"banned",logId:o}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_EXPIRED:h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("validateMobileNumberVerificationCodeIncorrectOrExpireToast",eE)),description:s("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码过期",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"expiredMobilePasscode",logId:o}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SMS_VERIFY_FAILED:h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("validateMobileNumberVerificationCodeIncorrectToast",eE)),description:s("validateMobileNumberVerificationCodeIncorrectToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败验证码错误",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"incorrectMobilePasscode",logId:o}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.RISK_DEVICE_DETECTED:h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("exectionEnvironmentExecptionToast",eE)),description:s("exectionEnvironmentExecptionToast")}),l.error({name:"signInFailed",message:"手机验证码登录失败风险设备",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"riskDeviceDetected",logId:o}});break;case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.INTERNAL_SERVER_ERROR:case e1.QK.LOGIN_BY_MOBILE_SMS_ERROR_CODE.SSO_SERVER_ERROR:default:{let e=(0,ev.ensureTranslateComponent)("loginFallbackToast",eE);h.error({node:(0,D.createElement)(e,{args:[r]}),description:s("loginFallbackToast")(r)}),l.error({name:"signInFailed",message:"登录失败，未知错误码",payload:{code:"".concat(r),type:"mobile_sms",areaCode:"+86",reason:"unknownCode",logId:o}})}}x(!1)}).catch(e=>{h.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:s("signInFailed")}),l.error({name:"signInFailed",message:"登录失败，其他错误",payload:l.withError(e,{reason:"other"})}),x(!1)})):l.error({name:"signInWithSmsCodeClientValidationFailed",message:"验证码登录客户端验证失败",payload:{mobile:C,verificationCode:_}})}})]})}n(52892);let tM="wxLogin";function tR(e){let{defaultLocationOrigin:t}=e,n=ex(),[a,s]=(0,D.useState)(!0),r=window.location.origin.startsWith("http://localhost")?t:window.location.origin,{baseUrl:o}=eS();return!function(){let[e]=(0,G.ok)(),{tracker:t}=eS(),n=ex(),a=(0,eZ.dj)();(0,D.useEffect)(()=>{if("WECHAT"!==e.get("provider"))return;let s=e.get("error"),r=e.get("code");if(r&&"0"!==r){let e=Number(r);switch(e){case e1.QK.OAUTH_WECHAT_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInWithWechatSwapCodeFailedToast",eE)),description:n("signInWithWechatSwapCodeFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"swapCodeFailed",code:String(r),error:s}});break;case e1.QK.OAUTH_WECHAT_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInWithWechatFailedToast",eE)),description:n("signInWithWechatFailedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unexpectedFailed",code:String(r),error:s}});break;case e1.QK.OAUTH_WECHAT_CALLBACK_ERROR_MESSAGE_CODE.ACCOUNT_BANNED:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:n("userIsBannedToast")}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"accountBanned",code:String(r),error:s}});return;default:{(0,e2.s)(e);let o=(0,ev.ensureTranslateComponent)("wechatFallbackToast",eE);a.error({node:(0,D.createElement)(o,{args:[r]}),description:n("wechatFallbackToast")(r)}),t.error({name:"signInWithWechatFailed",message:"Wechat 登录失败",payload:{reason:"unknownCode",code:String(r),error:s}})}}}},[e,n,a,t])}(),(0,D.useEffect)(()=>{M().then(()=>{s(!1);let e=new URLSearchParams(window.location.search).get("redirect");return e&&sessionStorage.setItem("oauth_redirect_url",e),R({redirectUri:encodeURIComponent("".concat(r).concat(o,"/oauth/wechat/callback")),containerId:tM})}).catch(()=>{s(!0)})},[r,o]),(0,p.jsxs)("div",{className:"ds-sign-in-with-wechat-block",children:[a&&(0,p.jsx)("div",{className:"ds-sign-in-with-wechat-block__wrapper",children:(0,p.jsx)(te.E,{style:{width:170,height:170,margin:16}})}),(0,p.jsx)("div",{id:tM,className:"ds-sign-in-with-wechat-block__wrapper"}),(0,p.jsxs)("div",{className:"ds-sign-in-with-wechat-block__description",children:[(0,p.jsx)(ez.I,{className:"ds-sign-in-with-wechat-block__logo",width:20,children:(0,p.jsx)(eU,{})}),(0,p.jsx)("span",{children:n("signInWithWechatQRcodeDialogDescription")})]})]})}function tN(e){let{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:s,headerLogoNode:r,forceShowGoogleSignIn:o,defaultLocationOrigin:i,defaultLoginMethod:l="code",regionCode:c,onLoginMethodChange:d,blockSmsLogin:u,onNavigateToMobileVerification:h,showApple:m=!0}=e,g=ex(),{isMainlandChina:f,isMobile:C}=eS(),v=f&&!u,{loading:b,onSignIn:_}=function(){let[e,t]=(0,D.useState)(!1),{baseUrl:n,captchaEnabled:a,tracker:s}=eS(),{getCaptchaResult:r}=tt(a);return!function(){let[e]=(0,G.ok)(),{tracker:t}=eS(),n=ex(),a=(0,eZ.dj)();(0,D.useEffect)(()=>{if("GOOGLE"!==e.get("provider"))return;let s=e.get("error"),r=e.get("code");if(r&&"0"!==r){let e=Number(r);switch(e){case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.ACCOUNT_BANNED:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:n("userIsBannedToast")}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"accountBanned",code:String(r),error:s}});break;case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.SWAP_CODE_INVALID:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInWithGoogleSwapCodeFailedToast",eE)),description:n("signInWithGoogleSwapCodeFailedToast")}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"swapCodeFailed",code:String(r),error:s}});break;case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.OAUTH_ACCOUNT_ALREADY_BOUND_EMAIL:{let o=(0,ev.ensureTranslateComponent)("googleSignInFail56",eE);a.error({node:(0,D.createElement)(o,{args:[e]}),description:n("googleSignInFail56")(e)}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"oauthAccountAlreadyBoundEmail",code:String(r),error:s}});break}case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.UNEXCEPTED_ERROR:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInWithGoogleFailedToast",eE)),description:n("signInWithGoogleFailedToast")}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unexpectedFailed",code:String(r),error:s}});break;case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.EMAIL_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT:{let o=(0,ev.ensureTranslateComponent)("googleSignInFail56",eE);a.error({node:(0,D.createElement)(o,{args:[e]}),description:n("googleSignInFail56")(e)}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"emailAccountAlreadyHasOauthAccount",code:String(r),error:s}});return}case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.RISK_DEVICE_DETECTED:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("exectionEnvironmentExecptionToast",eE)),description:n("exectionEnvironmentExecptionToast")}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"riskDeviceDetected",code:String(r),error:s}});return;case e1.QK.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE.REGISTER_FROM_MAINLAND:a.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("googleSignInFromMainlandToast",eE)),description:n("googleSignInFromMainlandToast")}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"registerFromMainland",code:String(r),error:s}});return;default:{(0,e2.s)(e);let o=(0,ev.ensureTranslateComponent)("googleFallbackToast",eE);a.error({node:(0,D.createElement)(o,{args:[r]}),description:n("googleFallbackToast")(r)}),t.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:{reason:"unknownCode",code:String(r),error:s}})}}}},[e,n,a,t])}(),{loading:e,onSignIn:async()=>{let e;s.info({name:"signInWithGoogleClicked",message:"点击了 Google 登录按钮",payload:{}}),t(!0);let a=await r();if(!a)return void t(!1);let{shumeiVerification:o,hcaptchaToken:i}=a,l=await F(),c=new URLSearchParams(window.location.search).get("redirect");c&&sessionStorage.setItem("oauth_redirect_url",c),window.location.href="".concat(n,"/oauth/google/authorize?os=web").concat(!(e=l)||e.length>500?"&device_id=":"&device_id=".concat(encodeURIComponent(e)),"&shumei_verification=").concat(o?JSON.stringify(o):"","&hcaptcha_token=").concat(i?encodeURIComponent(i):"")}}}(),{loading:S,onSignIn:E}=function(e){let{onNavigateToMobileVerification:t,beAuthenticated:n,onAfterSignInOk:a}=e,[s,r]=(0,D.useState)(!1),o=(0,D.useRef)(null),{baseUrl:i,tracker:l,http:c,serverApiUserToUser:d,appleClientId:u,appleRedirectURI:h}=eS(),p=(0,eZ.dj)(),m=eE(),g=(0,ee.DK)(async()=>o.current?o.current:window.AppleID&&window.AppleID.auth?Promise.resolve():(o.current=new Promise((e,t)=>{let n=document.createElement("script");n.src="https://appleid.cdn-apple.com/appleauth/static/jsapi/appleid/1/zh_CN/appleid.auth.js",n.onload=()=>{if(window.AppleID&&window.AppleID.auth){if(!u||!h)return void t(Error("Apple Sign-In configuration is required. Please provide appleClientId and appleRedirectURI in AuthConfigProvider."));try{window.AppleID.auth.init({clientId:u,scope:"name email",redirectURI:h,usePopup:!0,locale:m}),e()}catch(e){t(e)}}else t(Error("Apple Sign-In SDK failed to load"))},n.onerror=()=>{t(Error("Failed to load Apple Sign-In SDK"))},document.head.appendChild(n)}),o.current));(0,D.useEffect)(()=>{g().catch(()=>{})},[g]);let f=async()=>{if(!s){l.info({name:"signInWithAppleClicked",message:"点击了 Apple 登录按钮",payload:{}}),r(!0);try{if(await g(),window.AppleID&&window.AppleID.auth){let e=tE(),s=tE(),{authorization:r}=await window.AppleID.auth.signIn({state:e,nonce:s}),{id_token:o,state:u}=r;if(u!==e){p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInTokenVerifiedFailedToast",eE)),description:"状态参数验证失败"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，状态参数验证失败",payload:{reason:"stateMismatch"}});return}let h=await F(),{code:m,user:g,signature:f}=(await (0,e1.BM)({deviceId:h,idToken:o,os:"web"},{baseUrl:i,http:c},d)).data;if(m===e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.OK)l.info({name:"signInWithAppleOK",message:"Apple 登录成功",payload:{id:(null==g?void 0:g.id)||"",profile:JSON.stringify(g)}}),g&&n&&n(g),a&&a();else switch(m){case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.NEED_BIND_MOBILE:if(!f){p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInTokenVerifiedFailedToast",eE)),description:"移动验证签名缺失"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，移动验证签名缺失",payload:{reason:"signatureMissing",code:"".concat(m)}});return}tS.set(f),t("apple");return;case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.TOKEN_VERIFY_FAILED:p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInTokenVerifiedFailedToast",eE)),description:"Token 验证失败"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，Token 验证失败",payload:{reason:"tokenVerifyFailed",code:"".concat(m)}});return;case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.ACCOUNT_BANNED:case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.USER_IS_BANNED:p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:"账户已被禁用"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，账户已被禁用",payload:{reason:"accountBanned",code:"".concat(m)}});return;case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.EMAIL_ACCOUNT_ALREADY_HAS_APPLE_ACCOUNT:p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInAccountAlreadyHasAppleAccountToast",eE)),description:"邮箱账户已绑定 Apple 账户"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，邮箱账户已绑定 Apple 账户",payload:{reason:"emailAccountAlreadyHasAppleAccount",code:"".concat(m)}});return;case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.APPLE_ACCOUNT_ALREADY_BOUND_OTHER_EMAIL:p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInAccountAlreadyBoundOtherEmailToast",eE)),description:"Apple 账户已绑定其他邮箱"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，Apple 账户已绑定其他邮箱",payload:{reason:"appleAccountAlreadyBoundOtherEmail",code:"".concat(m)}});return;case e1.QK.OAUTH_APPLE_LOGIN_BIZ_CODE.RISK_DEVICE_DETECTED:p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("exectionEnvironmentExecptionToast",eE)),description:"检测到风险设备"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，检测到风险设备",payload:{reason:"riskDeviceDetected",code:"".concat(m)}});return;default:p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("operationFailed",eE)),description:"操作失败"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，未知错误",payload:{reason:"unknownError",code:"".concat(m)}});return}}else p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInSDKLoadFailedToast",eE)),description:"Apple Sign-In SDK 未加载"}),l.error({name:"signInWithAppleFailed",message:"Apple 登录失败，SDK 未加载",payload:l.withError(Error("Apple Sign-In SDK not loaded"),{scene:"signInWithApple",reason:"other"})})}catch(e){if("object"==typeof e&&null!==e&&"error"in e){if("popup_closed_by_user"===e.error||"user_cancelled_authorize"===e.error)return;"popup_blocked_by_browser"===e.error&&p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("appleSignInPopupBlockedToast",eE)),description:"Apple 登录弹窗被浏览器拦截"})}else p.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("operationFailed",eE)),description:"Apple 登录未知失败"});l.error({name:"signInWithAppleFailed",message:"Apple 登录未知失败",payload:l.withError(e,{scene:"signInWithApple",reason:"other"})})}finally{r(!1)}}};return{loading:s,onSignIn:f}}({onNavigateToMobileVerification:h,beAuthenticated:t,onAfterSignInOk:n}),[x,y]=(0,D.useState)(v?l:"password"),w=o||!f;return(0,D.useEffect)(()=>{L()},[]),(0,p.jsxs)("div",{className:"ds-auth-form-wrapper ds-sign-in-form-wrapper",children:[(0,p.jsx)("div",{className:"ds-sign-in-form__icon",children:r}),(0,p.jsxs)("div",{className:"ds-sign-in-form__main",children:[(0,p.jsxs)("div",{className:"ds-auth-form__main-hero",children:[v&&"code"===x&&(0,p.jsx)(tk,{regionCode:c,beAuthenticated:t,onAfterSignInOk:n}),"password"!==x&&v?null:(0,p.jsx)(tT,{beAuthenticated:t,onAfterSignInOk:n,onForgotPassword:a,onGoToSignUp:s}),(0,p.jsx)("div",{className:"ds-sign-in-form__social-buttons",children:(0,p.jsxs)("div",{className:"ds-sign-in-form__social-divider",children:[(0,p.jsx)("div",{className:"ds-sign-in-form__divider-line"}),(0,p.jsxs)("div",{className:"ds-sign-in-form__social-buttons-container",children:[v&&(0,p.jsx)(tx.m,{trigger:"hover",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,p.jsx)(th,{size:"sm",variant:"outlined",onClick:()=>{var e;y(e="password"===x?"code":"password"),null==d||d(e)},className:"ds-sign-in-form__social-button",icon:"password"===x?(0,p.jsx)(eg.DZ,{}):(0,p.jsx)(eg.Cw,{}),iconSize:16,domRef:t,domProps:n})},children:g("password"===x?"signInFormTabBySmsOption":"signInFormTabByPasswordOption")}),w&&(0,p.jsx)(tx.m,{trigger:"hover",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,p.jsx)(th,{className:"ds-sign-in-form__social-button",size:"sm",variant:"outlined",onClick:_,icon:b?(0,p.jsx)(ti.R,{}):(0,p.jsx)(eH,{}),iconSize:16,domRef:t,domProps:n})},children:g("signInWithGoogle")}),m&&(0,p.jsx)(tx.m,{trigger:"hover",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,p.jsx)(th,{className:"ds-sign-in-form__social-button",size:"sm",variant:"outlined",onClick:E,disabled:S,icon:S?(0,p.jsx)(ti.R,{}):(0,p.jsx)(eg.Xh,{}),iconSize:16,domRef:t,domProps:n})},children:g("appleSignIn")})]}),(0,p.jsx)("div",{className:"ds-sign-in-form__divider-line"})]})})]}),f&&!C?(0,p.jsx)("div",{className:"ds-sign-in-form__main-wechat",style:{marginBottom:"20px"},children:(0,p.jsx)(tR,{defaultLocationOrigin:i})}):null]})]})}function tO(e){let{onGoToSignIn:t}=e,n=ex();return(0,p.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,p.jsx)(to,{onClick:t,style:{font:"var(--dsw-font-xs-13)"},children:n("goToSignIn")})})}let tL=tm();function tF(e){let{regionCode:t,onGoToSignIn:n,beAuthenticated:a,onAfterSignUpOk:s}=e,r=ex(),o=(0,eZ.dj)(),{http:i,baseUrl:l,locale:c,serverApiUserToUser:d,tracker:u,turnstileEnabled:h,captchaEnabled:m}=eS(),{node:g,onSubmit:f,value:C,validateForVerificationCode:v}=function(e){var t;let{placeholder:n,inputProps:a,stringValueHolder:s}=e,[r,o]=(0,D.useState)(null!=(t=null==s?void 0:s.get)?t:""),[i,l]=(0,D.useState)(void 0),[c,d]=(0,D.useState)(void 0);return{validateForVerificationCode:function(){if(0===r.length){l("error");let e=(0,ev.ensureTranslateComponent)("registerEmailEmptyError",eE);return d((0,p.jsx)(e,{})),!1}if(!eT(r)){l("error");let e=(0,ev.ensureTranslateComponent)("registerEmailInputInvalidError",eE);return d((0,p.jsx)(e,{})),!1}return!0},value:r,onSubmit:()=>{if(0===r.length){l("error");let e=(0,ev.ensureTranslateComponent)("registerEmailEmptyError",eE);return d((0,p.jsx)(e,{})),!1}return void 0===i},status:i,node:(0,p.jsx)(em,{showFeedbackPlaceholder:!0,feedback:c,status:i,children:(0,p.jsx)(eC,{size:"l",value:r,variant:"bordered",theme:{padding:"0 20px 0 16px"},onChange:e=>{let t=e.currentTarget.value;o(t),null==s||s.set(t),eT(t)&&(l(void 0),d(void 0))},onBlur:e=>{let t=e.target.value;if(!t||eT(t))l(void 0),d(void 0);else{l("error");let e=(0,ev.ensureTranslateComponent)("registerEmailInputInvalidError",eE);d((0,p.jsx)(e,{}))}},placeholder:n,...a})})}}({placeholder:r("inputEmail"),stringValueHolder:tL}),{node:b,onSubmit:_,value:S}=ts({disabled:!1,passwordPlaceholder:r("inputPassword"),confirmPasswordPlaceholder:r("inputPasswordAgain")}),{node:E,onSubmit:x,value:y}=tn({turnstileEnabled:h,captchaEnabled:m,scenario:"signUp",type:"email",target:C,disabled:!1,inputVerificationCodePlaceholder:r("inputEmailVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return r("verificationCodeCountDown")(t)},[r]),validateForVerificationCode:v,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:r("inputEmailVerificationCode"),sendVerificationCodePlaceholder:r("sendVerificationCode")})}),{node:w,onSubmit:I}=eB({acknowledgementRender:(0,D.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return r("signUpAcknowledgement")(t,n)},[r])}),[T,A]=(0,D.useState)(!1);return(0,p.jsx)("div",{className:"ds-sign-up-form__main",children:(0,p.jsxs)("div",{className:"ds-auth-form__main-hero",children:[(0,p.jsxs)("div",{className:"ds-sign-up-form__description",children:[r("overseaSignUpWaysTip"),r("registerDescription")]}),g,b,E,w,(0,p.jsx)(th,{loading:T,variant:"primary",size:"xl",onClick:async()=>{[f(),_(),x(),I()].every(e=>e)?(A(!0),(0,e1.AS)({locale:c,region:t||ty.QV,payload:{email:C,emailVerificationCode:y,password:S},deviceId:await F()},{http:i,baseUrl:l},d).then(e=>{let{data:{code:t,user:n},context:{logId:i}}=e;if(t===e1.QK.REGISTER_ERROR_CODE.OK)n?(a(n),s(),u.info({name:"signUpOk",message:"注册成功",payload:{userId:"".concat(n.id)}})):(o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signUpFailedToast",eE)),description:r("signUpFailedToast")}),u.error({name:"signUpFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:i}}));else switch(t){case e1.QK.REGISTER_ERROR_CODE.EMAIL_EXISTS:o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerEmailExistToast",eE)),description:r("registerEmailExistToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱存在",payload:{code:"".concat(t),reason:"emailExist",logId:i}});break;case e1.QK.REGISTER_ERROR_CODE.EMAIL_PASSCODE_FAILED:o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerEmailPasscodeFailedToast",eE)),description:r("registerEmailPasscodeFailedToast")}),u.error({name:"signUpFailed",message:"注册失败，错误的邮箱验证码",payload:{code:"".concat(t),reason:"incorrectEmailPasscode",logId:i}});break;case e1.QK.REGISTER_ERROR_CODE.INVALID_PASSWORD:o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerInvalidPasswordToast",eE)),description:r("registerInvalidPasswordToast")}),u.error({name:"signUpFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),reason:"invalidPassword",logId:i}});break;case e1.QK.REGISTER_ERROR_CODE.REGISTER_FROM_MAINLAND:o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerRegisterFromMainlandToast",eE)),description:r("registerRegisterFromMainlandToast")}),u.error({name:"signUpFailed",message:"注册失败，注册请求从大陆发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:i}});break;case e1.QK.REGISTER_ERROR_CODE.EMAIL_EXPIRED:o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerPasswordCodeExpiredToast",eE)),description:r("registerPasswordCodeExpiredToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱过期",payload:{code:"".concat(t),reason:"emailExpired",logId:i}});break;case e1.QK.REGISTER_ERROR_CODE.EMAIL_DOMAIN_NOT_SUPPORTED:o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerEmailDomainNotSupportedToast",eE)),description:r("registerEmailDomainNotSupportedToast")}),u.error({name:"signUpFailed",message:"注册失败，邮箱域名不支持",payload:{code:"".concat(t),reason:"emailDomainNotSupported",logId:i}});break;default:{u.error({name:"signUpFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:i}});let e=(0,ev.ensureTranslateComponent)("registerFallbackToast",eE);o.error({node:(0,D.createElement)(e,{args:[t]}),description:r("registerFallbackToast")(t)})}}A(!1)}).catch(e=>{o.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signUpFailedToast",eE)),description:r("signUpFailedToast")}),u.error({name:"signUpFailed",message:"其他异常",payload:u.withError(e,{reason:"other",email:C})}),A(!1)})):u.error({name:"signUpClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:y}})},children:r("signUp")}),(0,p.jsx)(tO,{onGoToSignIn:n})]})})}let tP=tm();function tD(e){let{regionCode:t,beAuthenticated:n,onSignUpOk:a,onGoToSignIn:s}=e,[r,o]=(0,D.useState)(!1),i=ex(),l=(0,eZ.dj)(),{locale:c,http:d,baseUrl:u,tracker:h,captchaEnabled:m,turnstileEnabled:g,serverApiUserToUser:f}=eS(),{node:C,onSubmit:v,value:b,validateForVerificationCode:_}=ta({disabled:!1,placeholder:i("inputMobilePhoneNumber"),stringValueHolder:tP}),{node:S,onSubmit:E,value:x}=ts({disabled:!1,passwordPlaceholder:i("inputPassword"),confirmPasswordPlaceholder:i("inputPasswordAgain")}),{node:y,onSubmit:w,value:I}=tn({captchaEnabled:m,turnstileEnabled:g,type:"sms",disabled:!1,target:b,scenario:"signUp",inputVerificationCodePlaceholder:i("inputSmsVerificationCode"),sendVerificationCodePlaceholder:i("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return i("verificationCodeCountDown")(t)},[i]),validateForVerificationCode:_,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:i("inputSmsVerificationCode"),sendVerificationCodePlaceholder:i("sendVerificationCode")})}),{node:T,onSubmit:A}=eB({acknowledgementRender:(0,D.useCallback)(e=>{let{modelServiceAgreementNode:t,privacyPolicyNode:n}=e;return i("signUpAcknowledgement")(t,n)},[i])});return(0,p.jsx)("div",{className:"ds-sign-up-form__main",children:(0,p.jsxs)("div",{className:"ds-auth-form__main-hero",children:[(0,p.jsxs)("div",{className:"ds-sign-up-form__description",children:[i("mainlandSignUpWaysTip"),i("registerDescription")]}),C,S,y,T,(0,p.jsx)(th,{loading:r,variant:"primary",size:"xl",onClick:async()=>{[v(),E(),w(),A()].every(e=>e)?(o(!0),(0,e1.RZ)({locale:c,region:t||ty.QV,payload:{mobile:b,smsVerificationCode:I,auditJsonString:JSON.stringify({reasons:[]}),password:x},deviceId:await F()},{http:d,baseUrl:u},f).then(e=>{let{data:{code:t,user:s},context:{logId:r}}=e;if(t===e1.QK.REGISTER_BY_MOBILE_ERROR_CODE.OK)s?(n(s),a(),h.info({name:"signUpByMobileOk",message:"注册成功",payload:{userId:"".concat(s.id)}})):(l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signUpFailedToast",eE)),description:i("signUpFailedToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，缺少用户",payload:{code:"".concat(t),reason:"noUser",logId:r}}));else switch(t){case e1.QK.REGISTER_BY_MOBILE_ERROR_CODE.MOBILE_ALREADY_REGISTER:l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerMobileExistToast",eE)),description:i("registerMobileExistToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，手机号存在",payload:{code:"".concat(t),reason:"mobileExist",logId:r}});break;case e1.QK.REGISTER_BY_MOBILE_ERROR_CODE.PASSWORD_TOO_SHORT_OR_TOO_LONG:l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerInvalidPasswordToast",eE)),description:i("registerInvalidPasswordToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，密码不合法",payload:{code:"".concat(t),logId:r,reason:"invalidPassword"}});break;case e1.QK.REGISTER_BY_MOBILE_ERROR_CODE.ONLY_SUPPORT_REGISTER_FROM_MAINLAND:l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("registerRegisterFromMainlandToast",eE)),description:i("registerRegisterFromMainlandToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，手机注册请求从海外发送",payload:{code:"".concat(t),reason:"unexpectedRegion",logId:r}});break;case e1.QK.REGISTER_BY_MOBILE_ERROR_CODE.SMS_EXPIRED:l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("validateMobileNumberVerificationCodeIncorrectOrExpireToast",eE)),description:i("validateMobileNumberVerificationCodeIncorrectOrExpireToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，验证码过期",payload:{code:"".concat(t),reason:"expiredMobilePasscode",logId:r}});break;case e1.QK.REGISTER_BY_MOBILE_ERROR_CODE.SMS_VERIFY_FAILED:l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("validateMobileNumberVerificationCodeIncorrectToast",eE)),description:i("validateMobileNumberVerificationCodeIncorrectToast")}),h.error({name:"signUpByMobileFailed",message:"注册失败，验证码错误",payload:{code:"".concat(t),reason:"incorrectMobilePasscode",logId:r}});break;default:{h.error({name:"signUpByMobileFailed",message:"未知错误码",payload:{code:"".concat(t),reason:"unknownCode",logId:r}});let e=(0,ev.ensureTranslateComponent)("registerFallbackToast",eE);l.error({node:(0,D.createElement)(e,{args:[t]}),description:i("registerFallbackToast")(t)})}}o(!1)}).catch(e=>{l.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signUpFailedToast",eE)),description:i("signUpFailedToast")}),h.error({name:"signUpByMobileFailed",message:"其他错误",payload:h.withError(e,{reason:"other",mobile:b})}),o(!1)})):h.error({name:"signUpByMobileClientValidationFailed",message:"注册客户端验证失败",payload:{passcode:I}})},children:i("signUp")}),(0,p.jsx)(tO,{onGoToSignIn:s})]})})}function tB(e){let{icon:t,isIpLoading:n,regionCode:a,beAuthenticated:s,onGoToSignIn:r,onSignUpOk:o}=e,{isMainlandChina:i}=eS();return(0,D.useEffect)(()=>{L()},[]),(0,p.jsxs)("div",{className:"ds-auth-form-wrapper ds-sign-up-form-wrapper",children:[t,n?(0,p.jsx)("div",{className:"ds-auth-form-loading-wrapper",children:(0,p.jsx)(ti.R,{})}):i?(0,p.jsx)(tD,{regionCode:a,beAuthenticated:s,onSignUpOk:o,onGoToSignIn:r}):(0,p.jsx)(tF,{regionCode:a,onGoToSignIn:r,beAuthenticated:s,onAfterSignUpOk:o})]})}n(32578);let tV=tm();function tH(e){let{onNextStep:t,descriptionHeightRef:n}=e,a=ex(),{http:s,baseUrl:r,tracker:o,captchaEnabled:i,turnstileEnabled:l}=eS(),c=(0,eZ.dj)(),{node:d,validateAndGetTypeForVerificationCode:u,validateForVerificationCode:h,onSubmit:m,value:g}=eA({placeholder:a("forgotPasswordInputPlaceholder"),stringValueHolder:tV,blurToVerify:!1}),{node:f,onSubmit:C,value:v}=tn({captchaEnabled:i,turnstileEnabled:l,scenario:"forgetPassword",disabled:!1,target:g,type:"smsOrEmail",inputVerificationCodePlaceholder:a("inputSmsVerificationCode"),sendVerificationCodePlaceholder:a("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return a("verificationCodeCountDown")(t)},[a]),validateForVerificationCode:h,validateAndGetTypeForVerificationCode:u,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:a("inputSmsVerificationCode"),sendVerificationCodePlaceholder:a("sendVerificationCode")})}),[b,_]=(0,D.useState)(!1),S=(0,D.useRef)(null);return(0,D.useEffect)(()=>{S.current&&n&&(n.current=S.current.offsetHeight)},[n]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{ref:S,className:"ds-forgot-password-form__description",children:a("forgotPasswordGeneralDescription")}),d,f,(0,p.jsx)(tU,{className:"ds-forgot-password-form__main-button",loading:b,onClick:()=>{let e=u(g);[m(),C(),e].every(e=>e)&&(_(!0),"sms"===e?(o.info({name:"checkSmsCodeApi",message:"检查短信验证码",payload:{code:v}}),(0,e1.bV)({areaCode:"+86",mobilePhoneNumber:g,smsVerificationCode:v,scenario:"reset_password"},{baseUrl:r,http:s}).then(e=>{let{data:{code:n},context:{logId:s}}=e;_(!1),tC({code:n,logId:s,toast:c,tracker:o,t:a,scene:"forgetPassword",onOk:()=>{o.info({name:"checkSmsCodeOk",message:"检查短信验证码成功",payload:{code:v}}),t({code:v,email:"",mobile:g})}})}).catch(e=>{_(!1),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordCheckCodeFailedToast",eE)),description:a("forgotPasswordCheckCodeFailedToast")}),o.error({name:"checkSmsCodeFailed",message:"检查短信验证码失败，其他错误",payload:o.withError(e,{scene:"forgetPassword",reason:"other"})})})):(o.info({name:"checkEmailCodeApi",message:"检查短信验证码",payload:{code:v}}),(0,e1._5)({emailVerificationCode:v,email:g},{http:s,baseUrl:r}).then(e=>{let{data:{code:n},context:{logId:s}}=e,r=e=>c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e,eE)),description:String(a(e))});switch(_(!1),n){case e1.QK.CHECK_EMAIL_CODE_ERROR_CODE.OK:o.info({name:"checkEmailCodeOk",message:"检查邮箱验证码成功",payload:{code:v}}),t({code:v,email:g,mobile:""});return;case e1.QK.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_EXPIRED:r("forgotPasswordCodeExpiredToast"),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮件过期",payload:{scene:"forgetPassword",reason:"emailExpired",code:"".concat(n),logId:s}});return;case e1.QK.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_NOT_EXIST:r("forgotPasswordFailedEmailNotExistToast1"),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，邮箱没有被注册",payload:{scene:"forgetPassword",reason:"notExist",code:"".concat(n),logId:s}});return;case e1.QK.CHECK_EMAIL_CODE_ERROR_CODE.EMAIL_VERIFY_FAILED:r("forgotPasswordCodeInvalidToast"),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，验证码有误",payload:{scene:"forgetPassword",reason:"emailVerifyFailed",code:"".concat(n),logId:s}});return;case e1.QK.CHECK_EMAIL_CODE_ERROR_CODE.ACCOUNT_BANNED:r("userIsBannedToast"),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，账号封禁",payload:{scene:"forgetPassword",reason:"accountBanned",code:"".concat(n),logId:s}});return;default:{(0,e2.s)(n);let e=(0,ev.ensureTranslateComponent)("checkCodeFallbackToast",eE);c.error({node:(0,D.createElement)(e,{args:[n]}),description:a("checkCodeFallbackToast")(n)}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，未知错误码",payload:{scene:"forgetPassword",reason:"unknownCode",code:"".concat(n),logId:s}});return}}}).catch(e=>{_(!1),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordCheckCodeFailedToast",eE)),description:a("forgotPasswordCheckCodeFailedToast")}),o.error({name:"checkEmailCodeFailed",message:"检查邮箱验证码失败，其他错误",payload:o.withError(e,{scene:"forgetPassword",reason:"other"})})})))}})]})}function tU(e){let{onClick:t,className:n,loading:a}=e,s=ex();return(0,p.jsx)(th,{className:n,loading:a,variant:"primary",size:"xl",onClick:t,children:s("forgotPasswordNextStepButton")})}function tW(e){let{code:t,mobile:n,email:a,delayedNavigate:s,descriptionHeightRef:r}=e,[o,i]=(0,D.useState)(!1),l=ex(),c=(0,eZ.dj)(),{http:d,baseUrl:u,tracker:h}=eS(),{node:m,onSubmit:g,value:f}=ts({disabled:o,passwordPlaceholder:l("forgotPasswordPasswordInputPlaceholder"),confirmPasswordPlaceholder:l("forgotPasswordConfirmPasswordInputPlaceholder")}),C=r.current?{minHeight:"".concat(r.current,"px")}:{};return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"ds-forgot-password-form__description",style:C,children:l("forgotPasswordNewPasswordDescription")(n||a)}),m,(0,p.jsx)(tz,{className:"ds-forgot-password-form__main-button",loading:o,onClick:()=>{g()&&(i(!0),n?(h.info({name:"resetPasswordMobile",message:"手机重置密码",payload:{}}),(0,e1.Jx)({mobile:n,smsVerificationCode:t,areaCode:"+86",password:f},{http:d,baseUrl:u}).then(e=>{let{data:{code:t},context:{logId:n}}=e;switch(i(t===e1.QK.MobileResetPasswordServerErrorCode.OK),t){case e1.QK.MobileResetPasswordServerErrorCode.OK:h.info({name:"resetPasswordMobileOk",message:"手机重置密码成功",payload:{}}),c.success({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordOkToast",eE)),description:l("forgotPasswordOkToast")}),s();return;case e1.QK.MobileResetPasswordServerErrorCode.MOBILE_NOT_EXIST:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，手机号不存在",payload:{logId:n,reason:"mobileNotExist"}}),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordFailedMobileNotExistToast2",eE)),description:l("forgotPasswordFailedMobileNotExistToast2")});return;case e1.QK.MobileResetPasswordServerErrorCode.SMS_EXPIRED:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码过期",payload:{logId:n,reason:"smsExpired"}}),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordFailedCodeExpiredToast",eE)),description:l("forgotPasswordFailedCodeExpiredToast")});return;case e1.QK.MobileResetPasswordServerErrorCode.SMS_VERIFY_FAILED:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，验证码错误",payload:{logId:n,reason:"smsVerifyFailed"}}),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordFailedCodeVerifyFailedToast",eE)),description:l("forgotPasswordFailedCodeVerifyFailedToast")});return;case e1.QK.MobileResetPasswordServerErrorCode.INVALID_PASSWORD:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，密码不合法",payload:{logId:n,reason:"invalidPassword"}}),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordInvalidPasswordToast",eE)),description:l("forgotPasswordInvalidPasswordToast")});return;case e1.QK.MobileResetPasswordServerErrorCode.ACCOUNT_BANNED:h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，账号已封禁",payload:{logId:n,reason:"accountBanned"}}),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:l("userIsBannedToast")});return;default:{(0,e2.s)(t),h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，未知错误码",payload:{logId:n,reason:"unknownCode"}});let e=(0,ev.ensureTranslateComponent)("resetPasswordFallbackToast",eE);c.error({node:(0,D.createElement)(e,{args:[t]}),description:l("resetPasswordFallbackToast")(t)});return}}}).catch(e=>{i(!1),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordFailedToast",eE)),description:l("forgotPasswordFailedToast")}),h.error({name:"resetPasswordMobileFailed",message:"手机重置密失败，其他错误",payload:h.withError(e,{mobile:n,reason:"other"})})})):(h.info({name:"resetPasswordEmail",message:"邮箱重置密码",payload:{}}),(0,e1.FB)({email:a,emailVerificationCode:t,password:f},{http:d,baseUrl:u}).then(e=>{let{data:{code:t},context:{logId:n}}=e;i(t===e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.OK);let a=e=>c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e,eE)),description:String(l(e))});switch(t){case e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.OK:h.info({name:"resetPasswordEmailOk",message:"邮箱重置密码成功",payload:{}}),c.success({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordOkToast",eE)),description:l("forgotPasswordOkToast")}),s();return;case e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_NOT_EXIST:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，邮箱地址不存在",payload:{reason:"emailNotExist",logId:n}}),a("forgotPasswordFailedEmailNotExistToast2");return;case e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_EXPIRED:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码过期",payload:{reason:"emailExpired",logId:n}}),a("forgotPasswordFailedCodeExpiredToast");return;case e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.EMAIL_VERIFY_FAILED:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，验证码错误",payload:{reason:"emailVerifyFailed",logId:n}}),a("forgotPasswordFailedCodeVerifyFailedToast");return;case e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.INVALID_PASSWORD:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，密码不合法",payload:{reason:"invalidPassword",logId:n}}),a("forgotPasswordInvalidPasswordToast");return;case e1.QK.EMAIL_RESET_PASSWORD_ERROR_CODE.ACCOUNT_BANNED:h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，账号已封禁",payload:{reason:"accountBanned",logId:n}}),a("forgotPasswordFailedCodeVerifyFailedToast");return;default:{(0,e2.s)(t),h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:{reason:"unknownCode",logId:n}});let e=(0,ev.ensureTranslateComponent)("resetPasswordFallbackToast",eE);c.error({node:(0,D.createElement)(e,{args:[t]}),description:l("resetPasswordFallbackToast")(t)});return}}}).catch(e=>{i(!1),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("forgotPasswordFailedToast",eE)),description:l("forgotPasswordFailedToast")}),h.error({name:"resetPasswordEmailFailed",message:"邮箱重置密码失败，未知错误码",payload:h.withError(e,{reason:"other",email:a})})})))}})]})}function tz(e){let{onClick:t,className:n,loading:a}=e,s=ex();return(0,p.jsx)(th,{className:n,loading:a,variant:"primary",size:"xl",onClick:t,children:s("forgotPasswordButton")})}function tG(e){let{headerLogoNode:t,forgotPasswordBackToSignIn:n,delayedNavigate:a}=e,s=ex(),[r,o]=(0,D.useState)(""),[i,l]=(0,D.useState)(0),[c,d]=(0,D.useState)(""),[u,h]=(0,D.useState)(""),m=(0,D.useRef)(null);return(0,p.jsxs)("div",{className:"ds-auth-form-wrapper ds-forgot-password-form-wrapper",children:[(0,p.jsx)("div",{className:"ds-forgot-password-form__icon",children:t}),(0,p.jsx)("div",{className:"ds-sign-up-form__main",children:(0,p.jsxs)("div",{className:"ds-auth-form__main-hero",children:[(0,p.jsx)("div",{className:"ds-forgot-password-form__title",children:s("forgotPasswordTitle")}),0===i?(0,p.jsx)(tH,{onNextStep:e=>{let{code:t,email:n,mobile:a}=e;o(t),h(a),d(n),l(1)},descriptionHeightRef:m}):(0,p.jsx)(tW,{email:c,mobile:u,code:r,delayedNavigate:a,descriptionHeightRef:m}),(0,p.jsx)("div",{className:"ds-forgot-password-form__form-footer",children:0===i?(0,p.jsx)(to,{onClick:n,style:{font:"var(--dsw-font-xs-13)"},children:s("forgotPasswordBackToSignIn")},0):(0,p.jsx)(to,{onClick:()=>l(0),style:{font:"var(--dsw-font-xs-13)"},children:s("forgotPasswordGetBack")},1)})]})})]})}var tK=n(27198);function tq(e){let{size:t,variant:n,afterDeleteAccountOk:a,buttonComp:s=eG.$}=e,{http:r,baseUrl:o,tracker:i}=eS(),l=ex(),c=(0,eZ.dj)(),[d,u]=(0,D.useState)(!1),[h,m]=(0,D.useState)(!1),[g,f]=(0,D.useState)(""),C=l("deleteAccountModalConfirmText"),v=g.trim()!==C;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(s,{size:t,type:"error",variant:n,onClick:()=>{i.info({name:"deleteAccountEntryButton",message:"点击删除账户入口按钮",payload:{}}),u(!0)},children:l("deleteAccountSettingDialogButton")}),(0,p.jsx)(en,{appear:!1,show:d,onShowChange:u,onAfterClose:()=>{f("")},children:(0,p.jsxs)(es,{variant:"dialog",title:l("deleteAccount"),onClose:()=>{u(!1)},hideClose:!0,className:"ds-auth-delete-account",footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(s,{variant:"filled",size:"m",onClick:()=>{u(!1)},type:"secondary",domProps:{"data-autofocus":!0},children:l("deleteAccountModalCancel")}),(0,p.jsx)(s,{variant:"filled",size:"m",loading:h,disabled:v,onClick:()=>{g.trim()===C&&(i.info({name:"deleteAccountConfirmButton",message:"点击删除账户确认按钮",payload:{}}),m(!0),(0,e1.dP)(void 0,{http:r,baseUrl:o}).then(e=>{if("OK"===e){m(!1),u(!1),i.info({name:"deleteAccountSuccess",message:"删除账户成功",payload:{}}),c.success({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("deleteAccountOkToast",eE)),description:l("deleteAccountOkToast")}),a();return}if("TOO_FREQUENT"===e){m(!1),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("deleteAccountFrequentFailToast",eE)),description:l("deleteAccountFrequentFailToast")});return}if("ACCOUNT_BANNED"===e){m(!1),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:l("userIsBannedToast")});return}(0,e2.s)(e)}).catch(e=>{i.error({name:"deleteAccountFailed",message:"删除账户失败",payload:i.withError(e,{})}),c.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("deleteAccountFailedToast",eE)),description:l("deleteAccountFailedToast")}),m(!1)}))},type:"error",children:l("deleteAccountModalConfirm")})]}),children:[(0,p.jsx)(tZ,{}),(0,p.jsx)("div",{className:"ds-auth-delete-account__input-confirm-tip",children:(0,p.jsx)(tK.e,{showMarkdownBold:!0,children:l("deleteAccountInputConfirm")(C)})}),(0,p.jsx)(eC,{variant:"bordered",value:g,placeholder:C,onChange:e=>{f(e.currentTarget.value)},theme:{borderRadius:"22px",padding:"7px 14px",height:"44px"}})]})})]})}n(24280);let tZ=()=>{let e=ex(),t=[[e("deleteAccountWarnNoServiceTitle"),e("deleteAccountWarnNoServiceDesc")],[e("deleteAccountWarnLostDataTitle"),e("deleteAccountWarnLostDataDesc")],[e("deleteAccountWarnFrequencyTitle"),e("deleteAccountWarnFrequencyDesc")]];return(0,p.jsx)("div",{className:"ds-auth-delete-account__tips",children:t.map(e=>{let[t,n]=e;return(0,p.jsxs)("div",{className:"ds-auth-delete-account__tips-entry",children:[(0,p.jsx)("div",{className:"ds-auth-delete-account__tips-title",children:t}),(0,p.jsx)("div",{className:"ds-auth-delete-account__tips-desc",children:n})]},t)})})};n(12116);let tQ=["GOOGLE","WECHAT"];function tY(e){let{beAuthenticated:t,beUnauthenticated:n,directToHome:a}=e,{setStorageUserToken:s,http:r,baseUrl:o,tracker:i,serverApiUserToUser:l}=eS(),c=ex(),[d]=(0,G.ok)(),u=(0,eZ.dj)();return(0,D.useEffect)(()=>{let e=d.get("nonce"),c=d.get("provider");e&&tQ.includes(c)?(0,e1.aQ)({nonce:e,provider:c},{http:r,baseUrl:o}).then(e=>{let{data:{token:c}}=e;s(c),(0,e1.mE)(void 0,{http:r,baseUrl:o},l).then(e=>{var n,s;let{data:{user:r}}=e;t(r);let o=d.get("new");(null==(n=r.idProfile)?void 0:n.provider)==="GOOGLE"?"1"===o?i.info({name:"signUpWithGoogleOk",message:"Google 注册成功",payload:{id:String(r.id),profile:JSON.stringify(r.idProfile)||ty.QV}}):i.info({name:"signInWithGoogleOK",message:"Google 登录成功",payload:{id:String(r.id),profile:JSON.stringify(r.idProfile)||ty.QV,newUser:"".concat("1"===o)}}):(null==(s=r.idProfile)?void 0:s.provider)==="WECHAT"&&i.info({name:"signInWithWechatOK",message:"微信登录成功",payload:{id:String(r.id),profile:JSON.stringify(r.idProfile)||ty.QV,newUser:"".concat("1"===o)}}),a()}).catch(e=>{u.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:"signInFailed"}),n({navigateToSignIn:!0,isBanned:!1}),i.error({name:"signInWithGoogleFailed",message:"Google 登录失败",payload:i.withError(e,{scene:"signInWithGoogle",reason:"other",token:c})})})}):n({navigateToSignIn:!0,isBanned:!1})},[d,c,u,t,n,s,i,a,r,o,l]),(0,p.jsx)("div",{className:"ds-authorized-container__loading",children:(0,p.jsx)(ti.R,{})})}function tX(e){let{unavailableLogo:t,navigateHome:n}=e,a=ex();return(0,p.jsxs)("div",{className:"ds-banned-container__wrapper",children:[(0,p.jsx)("div",{className:"ds-banned-container__logo",children:t}),(0,p.jsx)("div",{className:"ds-banned-container__slogan",children:(0,p.jsx)(tK.e,{showEmailLink:!0,showMarkdownLink:!0,children:a("bannedPageSlogan")})}),(0,p.jsx)(eG.$,{size:"m",onClick:n,children:a("bannedPageBackToHome")})]})}function tJ(e){let{color:t,size:n="inherit",lineHeight:a=n,fontSize:s=n,block:r=!1,monospace:o,children:i,domRef:l,style:c}=e;return(0,p.jsx)("span",{ref:l,style:c,className:(0,Z.A)("".concat(U.V,"-text"),r&&"".concat(U.V,"-text--block"),t&&"".concat(U.V,"-text--").concat(t),o&&"".concat(U.V,"-text--monospace"),"inherit"!==s&&"".concat(U.V,"-text--f").concat(s),"inherit"!==s&&"".concat(U.V,"-text--l").concat(a)),children:i})}function t$(e){let{contactUsEmail:t,copyEmail:n}=e,a=ex(),s=(0,eZ.dj)(),r=(0,ee.DK)(()=>{n&&(navigator.clipboard.writeText(t),setTimeout(()=>{s.info(a("emailAddressCopied"))},500))});return(0,p.jsxs)("div",{className:"ds-auth-footer",children:[(0,p.jsx)(ej.A,{href:a("footerICPLink"),children:(0,p.jsx)(tJ,{style:t1,children:a("footerICPTitle")})}),(0,p.jsx)(tJ,{style:t1,children:"\xa0\xb7\xa0"}),(0,p.jsx)(ej.A,{href:"mailto:".concat(t),onClick:r,onAuxClick:r,children:(0,p.jsx)(tJ,{style:t1,children:a("contactUsButton")})})]})}n(11616),n(22152),n(52955),n(27464);let t1={color:"var(--dsw-alias-label-caption, #D4D4D4)"};n(22024),n(30696);let t0=tm();function t2(e){let{headerLogoNode:t,beAuthenticated:n,beUnauthenticated:a,directToHome:s,onGoToSignIn:r}=e,o=ex(),i=(0,eZ.dj)(),{http:l,tracker:c,baseUrl:d,captchaEnabled:u,turnstileEnabled:h,serverApiUserToUser:m}=eS(),[g,f]=(0,D.useState)(!1),[C]=(0,G.ok)(),v=(0,D.useRef)(null);(0,D.useEffect)(()=>{L()},[]);let{node:b,validateForVerificationCode:_,onSubmit:S,value:E}=ta({disabled:!1,placeholder:o("inputMobilePhoneNumber"),stringValueHolder:t0}),{node:x,onSubmit:y,value:w}=tn({captchaEnabled:u,turnstileEnabled:h,scenario:"apple"===C.get("provider")?"verifyMobileForApple":"verifyMobileForWechat",disabled:!1,target:E,type:"sms",inputVerificationCodePlaceholder:o("inputSmsVerificationCode"),sendVerificationCodePlaceholder:o("sendVerificationCode"),verificationCodeCountDown:(0,D.useCallback)(e=>{let{seconds:t}=e;return o("verificationCodeCountDown")(t)},[o]),validateForVerificationCode:_,renderNode:e=>(0,p.jsx)(tg,{...e,inputVerificationCodePlaceholder:o("inputSmsVerificationCode"),sendVerificationCodePlaceholder:o("sendVerificationCode"),onPressEnter:()=>{var e;null==(e=v.current)||e.click()}})});return(0,p.jsxs)("div",{className:"ds-auth-form-wrapper",children:[(0,p.jsx)("div",{className:"ds-mobile-verification-form__icon",children:t}),(0,p.jsx)("div",{className:"ds-sign-up-form__main",children:(0,p.jsxs)("div",{className:"ds-auth-form__main-hero",children:[(0,p.jsx)("div",{className:"ds-mobile-verification-form__title",children:o("mobileVerficationFormTitle")}),(0,p.jsx)("div",{className:"ds-mobile-verification-form__description",children:o("mobileVerficationFormDescription")}),b,x,(0,p.jsx)(th,{loading:g,variant:"primary",size:"xl",domRef:v,onClick:()=>{if(![S(),y()].every(e=>e))return;let e="apple"===C.get("provider"),t=null;if(e){var r;t=null!=(r=tS.get())?r:null}else t=C.get("signature");if(!t){i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormInvalidAddrToast",eE)),description:"mobileVerficationFormInvalidAddr"}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"访问了无效的URL地址",payload:{reason:"invalidAddress",address:window.location.href}});return}f(!0),(e?e1.fd:e1.LA)({signature:t,mobilePhoneNumber:E,areaCode:"+86",smsVerificationCode:w},{http:l,baseUrl:d},m).then(r=>{let{data:{code:l,user:d,successCode:u}}=r,h=e?e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.OK:e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.OK;switch(l){case h:if(d&&u){if(tS.consume(),n(d),e)switch(u){case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_OK_CODE.REGISTERED_APPLE_AND_MOBILE:c.info({name:"signUpWithAppleOk",message:"Apple登录绑定新手机号，成功注册",payload:{id:d.id,profile:JSON.stringify(d.idProfile)}});break;case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_OK_CODE.BOUND_APPLE_TO_EXISTING_MOBILE:c.info({name:"signInWithAppleOK",message:"Apple登录绑定已有手机号，成功登录",payload:{id:d.id,profile:JSON.stringify(d.idProfile)}})}else switch(u){case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.REGISTERED_WECHAT_AND_MOBILE:c.info({name:"signInWithWechatOK",message:"微信登录绑定新手机号，成功登录",payload:{id:String(d.id),profile:JSON.stringify(d.idProfile)||ty.QV,newUser:"true"}}),c.info({name:"signUpWithWechatOk",message:"微信登录绑定新手机号，成功注册",payload:{id:String(d.id),profile:JSON.stringify(d.idProfile)||ty.QV}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE.BOUND_WECHAT_TO_EXISTING_MOBILE:c.info({name:"signInWithWechatOK",message:"微信登录绑定已有手机号，成功登录",payload:{id:String(d.id),profile:JSON.stringify(d.idProfile)||ty.QV,newUser:"false"}})}s()}break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.ACCOUNT_ALREADY_EXISTS:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.ACCOUNT_ALREADY_EXISTS:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormAccountAlreadyExistsErrorToast",eE)),description:o("mobileVerficationFormAccountAlreadyExistsErrorToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，手机号已被绑定"),payload:{reason:"accountAlreadyExists",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.REGISTRATION_EXPIRED:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.REGISTRATION_EXPIRED:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e?"appleMobileVerificationRegistrationExpiredToast":"mobileVerficationFormRegistrationExpiredErrorToast",eE)),description:o(e?"appleMobileVerificationRegistrationExpiredToast":"mobileVerficationFormRegistrationExpiredErrorToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，授权已失效"),payload:{reason:"registrationExpired",signature:t,mobile:E,smsVerificationCode:w}}),tS.consume(),a({navigateToSignIn:!0,isBanned:!1});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.GET_PROFILE_FAILED:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormGetProfileFailedErrorToast",eE)),description:o("mobileVerficationFormGetProfileFailedErrorToast")}),c.error({name:"mobileVerificationWithWechatFailed",message:"微信手机号绑定失败，获取微信账户信息失败",payload:{reason:"getProfileFailed",signature:t,mobile:E,smsVerificationCode:w}}),a({navigateToSignIn:!1,isBanned:!1});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_VERIFY_FAILED:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.SMS_VERIFY_FAILED:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormSmsVerifyFailedCodeErrorToast",eE)),description:o("mobileVerficationFormSmsVerifyFailedCodeErrorToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，验证码错误"),payload:{reason:"smsVerifyFailed",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.SMS_EXPIRED:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.SMS_EXPIRED:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormSmsExpiredCodeErrorToast",eE)),description:o("mobileVerficationFormSmsExpiredCodeErrorToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，验证码失效"),payload:{reason:"smsExpired",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_PHONE_NUMBER_BANNED:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.MOBILE_PHONE_NUMBER_BANNED:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormMobilePhoneNumberBannedErrorToast",eE)),description:o("mobileVerficationFormMobilePhoneNumberBannedErrorToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，该手机号账户已被禁用"),payload:{reason:"mobilePhoneNumberBanned",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.INTERNAL_SERVER_ERROR:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormUnknownErrorToast",eE)),description:o("mobileVerficationFormUnknownErrorToast")}),c.error({name:"mobileVerificationWithWechatFailed",message:"微信手机号绑定失败，未知错误",payload:{reason:"unexpectedFailed",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e?"appleMobileVerificationMobileBoundToast":"wechatMobileVerificationMobileBoundToast",eE)),description:o(e?"appleMobileVerificationMobileBoundToast":"wechatMobileVerificationMobileBoundToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，手机号已绑定其他").concat(e?"Apple":"微信","号"),payload:{reason:"mobileAccountAlreadyHasOauthAccount",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)(e?"appleMobileVerificationAppleBoundToast":"wechatMobileVerificationWeChatBoundToast",eE)),description:o(e?"appleMobileVerificationAppleBoundToast":"wechatMobileVerificationWeChatBoundToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，").concat(e?"Apple":"微信","号已绑定其他手机号"),payload:{reason:"oauthAccountAlreadyBoundMobile",signature:t,mobile:E,smsVerificationCode:w}});break;case e1.QK.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE.MOBILE_PHONE_NUMBER_INVALID:case e1.QK.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE.MOBILE_PHONE_NUMBER_INVALID:i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerificationInvalidPhoneNumberToast",eE)),description:o("mobileVerificationInvalidPhoneNumberToast")}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，手机号不合法"),payload:{reason:"mobilePhoneNumberInvalid",signature:t,mobile:E,smsVerificationCode:w}});break;default:{let n=(0,ev.ensureTranslateComponent)("bindWechatFallbackToast",eE);i.error({node:(0,D.createElement)(n,{args:[l]}),description:o("bindWechatFallbackToast")(l)}),c.error({name:e?"mobileVerificationWithAppleFailed":"mobileVerificationWithWechatFailed",message:"".concat(e?"Apple":"微信","手机号绑定失败，未知错误码"),payload:{reason:"unknownCode",signature:t,mobile:E,smsVerificationCode:w}})}}}).catch(()=>{i.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("mobileVerficationFormUnknownErrorToast",eE)),description:o("mobileVerficationFormUnknownErrorToast")}),a({navigateToSignIn:!0,isBanned:!1}),e?c.error({name:"mobileVerificationWithAppleFailed",message:"Apple手机号绑定失败",payload:c.withError(Error("Mobile verification failed"),{scene:"signInWithApple",reason:"other",signature:t||null,mobile:E||null,smsVerificationCode:w||null})}):c.error({name:"mobileVerificationWithWechatFailed",message:"微信手机号绑定失败",payload:c.withError(Error("Mobile verification failed"),{scene:"signInWithWechat",reason:"other",signature:t||null,mobile:E||null,smsVerificationCode:w||null})})}).finally(()=>{f(!1)})},className:"ds-mobile-verification-form__bind-button",children:o("mobileVerficationFormSubmitButton")}),(0,p.jsx)("div",{className:"ds-sign-up-form__form-footer",children:(0,p.jsx)(to,{onClick:r,style:{font:"var(--dsw-font-xs-13)"},children:o("validateMobileNumberBackToSignIn")})})]})})]})}var t3=n(51783);(0,D.createContext)(null),(0,D.memo)(function(e){let{dialogProps:t,modalProps:n,setShowRef:a}=e,[s,r]=(0,D.useState)(!0);a.current=r;let o=null==t?void 0:t.onClose,i=(0,D.useCallback)(()=>{r(!1),null==o||o()},[o]),l={...t,onClose:i},c=null==n?void 0:n.onShowChange,d=(0,D.useCallback)(e=>{null==c||c(e),r(e)},[c]),u={...n,appear:!0,show:s,onShowChange:d,children:(0,p.jsx)(es,{...l,variant:"dialog"})};return(0,p.jsx)(en,{...u})});let t4=e=>{let{variant:t="dialog",...n}=e;return(0,p.jsx)(es,{variant:t,...n})};n(27864);let t6="wxBindModalQrCodeContainer";function t5(e){let{onClose:t,redirectTo:n}=e,a=ex(),[s,r]=(0,D.useState)("loading"),o=(0,ee.DK)(async()=>{try{r("loading"),await M(),await R({redirectUri:encodeURIComponent(n),containerId:t6,selfRedirect:!0}),r("success")}catch{r("error")}});return(0,D.useEffect)(()=>{o()},[o]),(0,p.jsx)(t4,{onClose:t,className:"ds-bind-wechat-dialog",children:(0,p.jsxs)("div",{className:"ds-bind-wechat-dialog__content",children:[(0,p.jsx)("div",{className:"ds-bind-wechat-dialog__title",children:a("bindWechatPromoTitle")}),(0,p.jsxs)("div",{className:"ds-bind-wechat-dialog__qr-section",children:[(0,p.jsx)("div",{id:t6,className:"ds-bind-wechat-dialog__qr"}),"loading"===s&&(0,p.jsx)(te.E,{className:"ds-bind-wechat-dialog__qr-skeleton",style:{height:"100%"}}),"error"===s&&(0,p.jsx)("div",{className:"ds-bind-wechat-dialog__qr-error",children:(0,p.jsx)("div",{className:"ds-bind-wechat-dialog__qr-error-message",children:a("bindWechatLoadFailed")((0,p.jsx)(to,{onClick:o,children:a("bindWechatLoadFailedRetryButton")}))})})]}),(0,p.jsx)("div",{className:"ds-bind-wechat-dialog__description",children:a("bindWechatPromoDescription")})]})})}let t9=location.origin+"/wechat_code?parent="+encodeURIComponent(location.origin);function t8(e){let{user:t,updateUser:n}=e,a=ex(),s=ei(),r=(0,eZ.dj)(),{tracker:o,baseUrl:i,http:l,serverApiUserToUser:c}=eS(),d=(0,D.useRef)(null),u=function(){let{tracker:e,baseUrl:t,http:n,serverApiUserToUser:a}=eS(),s=ex(),r=(0,eZ.dj)();return(0,D.useCallback)(async o=>{let{code:i,user:l}=(await (0,e1.tC)({code:o},{baseUrl:t,http:n},a)).data;switch(i){case e1.QK.OAUTH_WECHAT_BIND_BIZ_CODE.OK:var c;r.success({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("bindWechatBindSuccess",eE)),description:s("bindWechatBindSuccess")}),e.info({name:"bindWechatSuccess",message:"微信绑定成功",payload:{id:null!=(c=null==l?void 0:l.id)?c:""}});break;case e1.QK.OAUTH_WECHAT_BIND_BIZ_CODE.INVALID_CODE:r.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInWithWechatSwapCodeFailedToast",eE)),description:s("signInWithWechatSwapCodeFailedToast")}),e.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"invalidCode",code:String(i)}});break;case e1.QK.OAUTH_WECHAT_BIND_BIZ_CODE.ACCOUNT_NOT_FOUND:r.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("signInFailed",eE)),description:s("signInFailed")}),e.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"accountNotFound",code:String(i)}});break;case e1.QK.OAUTH_WECHAT_BIND_BIZ_CODE.ACCOUNT_BANNED:r.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("userIsBannedToast",eE)),description:s("userIsBannedToast")}),e.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"accountBanned",code:String(i)}});break;case e1.QK.OAUTH_WECHAT_BIND_BIZ_CODE.NEW_WECHAT_ALREADY_ON_ANOTHER_ACCOUNT:r.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("bindWechatAccountBoundError",eE)),description:s("bindWechatAccountBoundError")}),e.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"wechatAlreadyOnAnotherAccount",code:String(i)}});break;case e1.QK.OAUTH_WECHAT_BIND_BIZ_CODE.ACCOUNT_ALREADY_HAS_WECHAT:r.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("bindWechatAlreadyBoundError",eE)),description:s("bindWechatAlreadyBoundError")}),e.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"accountAlreadyHasWechat",code:String(i)}});break;default:{(0,e2.s)(i);let t=(0,ev.ensureTranslateComponent)("wechatFallbackToast",eE);r.error({node:(0,D.createElement)(t,{args:[i]}),description:s("wechatFallbackToast")(i)}),e.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"unknownCode",code:String(i)}})}}return l},[t,n,a,s,r,e])}();(0,D.useEffect)(()=>{let e=e=>{var t,n;let a=null==(t=e.data)?void 0:t.code;e.origin.endsWith(".deepseek.com")&&a&&(null==(n=d.current)||n.resolve(a),d.current=null)};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[]);let h=async()=>{let e=t,h=await (0,t3.w)((0,e1.mE)(void 0,{baseUrl:i,http:l},c),500);if("fulfilled"===h.status&&(e=h.value.data.user),eq(e)){r.error({node:a("bindWechatAlreadyBoundError"),description:"该账号已绑定微信"}),o.error({name:"bindWechatFailed",message:"微信绑定失败",payload:{reason:"accountAlreadyHasWechat",code:"5"}}),n(e);return}d.current=new S.c;let m=s.open({modalProps:{children:(0,p.jsx)(t5,{redirectTo:t9,onClose:()=>{d.current&&(d.current.reject(),d.current=null),m.close()}})}});try{var g;let t=await d.current.promise;e=null!=(g=await u(t))?g:e,m.close()}catch{}finally{n(e)}};return(0,p.jsx)(to,{style:{marginLeft:"8px"},onClick:h,children:a("bindWechatBind")})}function t7(e){let{user:t,updateUser:n}=e,a=ex(),{tracker:s,baseUrl:r,http:o,serverApiUserToUser:i}=eS(),l=(0,eZ.dj)(),c=ei(),d=async()=>{let{data:{code:e,user:t}}=await (0,e1.I1)({baseUrl:r,http:o},i);switch(t&&n(t),e){case e1.QK.OAUTH_WECHAT_UNBIND_BIZ_CODE.OK:l.success({node:a("bindWechatUnbindSuccess"),description:"微信解绑成功"}),s.info({name:"unbindWechatSuccess",message:"微信解绑成功",payload:{}});break;case e1.QK.OAUTH_WECHAT_UNBIND_BIZ_CODE.ACCOUNT_NOT_FOUND:l.error({node:a("operationFailed"),description:"账户不存在"}),s.error({name:"unbindWechatFailed",message:"微信解绑失败",payload:{reason:"accountNotFound",code:String(e)}});break;case e1.QK.OAUTH_WECHAT_UNBIND_BIZ_CODE.ACCOUNT_BANNED:l.error({node:a("commonUserIsBannedToast"),description:"账户已被停用"}),s.error({name:"unbindWechatFailed",message:"微信解绑失败",payload:{reason:"accountBanned",code:String(e)}});break;case e1.QK.OAUTH_WECHAT_UNBIND_BIZ_CODE.WECHAT_NOT_BOUND:l.error({node:a("bindWechatUnbindNotBoundError"),description:"该账号未绑定微信"}),s.error({name:"unbindWechatFailed",message:"微信解绑失败",payload:{reason:"accountNotBound",code:String(e)}});break;default:l.error({node:a("unbindWechatFallbackToast")(e),description:a("unbindWechatFallbackToast")(e)}),s.error({name:"unbindWechatFailed",message:"微信解绑失败",payload:{reason:"unknownCode",code:String(e)}})}},u=async()=>{var e;let u=t,h=await (0,t3.w)((0,e1.mE)(void 0,{baseUrl:r,http:o},i),500);"fulfilled"===h.status&&(u=h.value.data.user);let m=eq(u);if(!m){l.error({node:a("bindWechatUnbindNotBoundError"),description:"该账号未绑定微信"}),s.error({name:"unbindWechatFailed",message:"微信解绑失败",payload:{reason:"accountNotBound",code:"3"}}),n(u);return}let g=c.open({modalProps:{children:(0,p.jsx)(t4,{hideClose:!0,title:a("bindWechatUnbindTitle"),footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:()=>g.close(),children:a("rebindMobileCancel")}),(0,p.jsx)(th,{onClick:()=>{d(),g.close()},children:a("bindWechatConfirmUnbind")})]}),children:(0,p.jsx)("div",{children:a("bindWechatUnbindDescription")(null!=(e=m.name)?e:"")})})}})};return(0,p.jsx)(to,{style:{marginLeft:"8px"},onClick:u,children:a("bindWechatUnbind")})}let ne=(0,D.createContext)(null);function nt(e){let{children:t,beAuthenticated:n,beUnauthenticated:a}=e,s=(0,D.useMemo)(()=>({beAuthenticated:n,beUnauthenticated:a}),[n,a]);return(0,p.jsx)(ne.Provider,{value:s,children:t})}function nn(){let e=(0,D.useContext)(ne);if(!e)throw Error("`useAuth` must be used in AuthProvider");return e}var na=n(97800);let ns=(0,D.memo)(function(){let e=(0,na.XI)();return(0,p.jsx)(g.y.Banner,{condition:e?"authenticated":"unauthenticated"})});var nr=n(5544);function no(e){let{children:t}=e,n=g.R.useTranslate();return(0,p.jsxs)("div",{className:nr.frame,children:[(0,p.jsx)("style",{children:ni}),(0,p.jsx)("div",{className:nr.banner,children:(0,p.jsx)(ns,{})}),(0,p.jsxs)("div",{className:nr.main,children:[t,(0,p.jsx)("div",{className:nr.footer,children:(0,p.jsx)(t$,{contactUsEmail:n("supportEmail"),copyEmail:!0})})]})]})}let ni="body[data-ds-dark-theme] { --dsr-bg: #000; }";var nl=n(35402),nc=((u={}).ROOT="/",u.AGENT="/a/:agentId",u.AGENT_SESSION="/a/:agentId/s/:sessionId",u.AUTHORIZED="/authorized",u.SIGN_UP="/sign_up",u.SIGN_IN="/sign_in",u.FORGOT_PASSWORD="/forgot_password",u.BANNED="/banned",u.MOBILE_VERIFICATION="/mobile_verification",u.FEEDBACK="/feedback",u.SHARE="/share/:shareId",u.SHARE_MISSING="/share/missing",u.SHARE_INVALID="/share/invalid",u.NONE="[none]",u);let nd={"/authorized":{isLogoutOnly:!0},"/sign_up":{isLogoutOnly:!0},"/sign_in":{isLogoutOnly:!0},"/forgot_password":{isLogoutOnly:!0},"[none]":{isLogoutOnly:!1},"/banned":{isLogoutOnly:!0},"/a/:agentId":{isLogoutOnly:!1},"/a/:agentId/s/:sessionId":{isLogoutOnly:!1},"/mobile_verification":{isLogoutOnly:!0},"/feedback":{isLogoutOnly:!0},"/share/:shareId":{isLogoutOnly:!1,public:!0},"/share/missing":{isLogoutOnly:!1,public:!0},"/share/invalid":{isLogoutOnly:!1,public:!0},"/":{isLogoutOnly:!1}},nu=["/","/a/:agentId","/a/:agentId/s/:sessionId","/authorized","/sign_up","/sign_in","/forgot_password","/banned","/mobile_verification","/feedback","/share/:shareId","/share/missing","/share/invalid"];function nh(e){return(0,K.RQ)(e)}let np=()=>{let e=nh(nc.AGENT_SESSION);return null==e?void 0:e.params.sessionId},nm=()=>{let e=nh(nc.SHARE);return null==e?void 0:e.params.shareId};function ng(){let e=(0,K.Zp)(),t=(0,K.zy)();return(0,ee.DK)(function(n,a,s){if(n!==g.y.resolvePathRelativeToPublicPath(t.pathname))if(a){let t=n;for(let e in a){let n=a[e];void 0!==n&&(t=t.replace(":".concat(e),n))}e(t,s)}else e(n,s)})}function nf(e){return new URL((0,nl.tW)(nc.SHARE,{shareId:e}),window.location.href).href}let nC=e=>{let t=!!nm(),n=!!np(),a=e?"sidebar":t?"share":n?"session":"newChat";return()=>{setTimeout(()=>{P.gI?location.href="https://apps.apple.com/app/apple-store/id6737597349":window.open("https://download.deepseek.com/app/")},300),g.y.tracker.info({name:"openGetAppPage",message:"点击下载应用按钮",payload:{source:a}})}};var nv=n(2366);function nb(){return(0,p.jsxs)("svg",{width:"182",height:"29",viewBox:"0 0 182 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{color:"var(--dsw-alias-brand-primary)"},children:[(0,p.jsx)("path",{d:"M100.136 23.7767H98.1371V20.6775H100.136C101.374 20.6775 102.625 20.3688 103.431 19.5112C104.237 18.6535 104.542 17.3378 104.542 16.0229C104.542 14.708 104.25 13.3923 103.431 12.5354C102.613 11.6777 101.374 11.3691 100.136 11.3691C98.8981 11.3691 97.6471 11.6777 96.84 12.5354C96.0335 13.393 95.7291 14.708 95.7291 16.0229V28.7513H92.2224V8.28192H95.7291V9.58548H96.372C96.4417 9.50512 96.5114 9.43685 96.5818 9.36858C97.4594 8.56781 98.8028 8.28192 100.123 8.28192C102.193 8.28192 104.261 8.7968 105.617 10.2262C106.973 11.6557 107.452 13.851 107.452 16.0357C107.452 18.2204 106.961 20.4044 105.617 21.8452C104.273 23.286 102.193 23.7781 100.136 23.7781V23.7767Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M46.7705 8.83322H48.7689V11.9325H46.7705C45.5317 11.9325 44.2815 12.2411 43.475 13.0988C42.6685 13.9564 42.3649 15.2721 42.3649 16.587C42.3649 17.9019 42.6572 19.2169 43.475 20.0745C44.2928 20.9322 45.5317 21.2408 46.7705 21.2408C48.0094 21.2408 49.2603 20.9322 50.0668 20.0745C50.8732 19.2169 51.1769 17.9019 51.1769 16.587V3.84727H54.6829V24.3287H51.1769V23.0252H50.534C50.4636 23.1048 50.3939 23.1738 50.3235 23.2421C49.4466 24.0421 48.1025 24.3287 46.7819 24.3287C44.7131 24.3287 42.6444 23.8145 41.2889 22.3851C39.9334 20.9557 39.4541 18.7596 39.4541 16.5756C39.4541 14.3917 39.9448 12.207 41.2889 10.7662C42.6444 9.33672 44.7131 8.83322 46.7705 8.83322Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M72.2712 16.3098V17.5565H62.9329V15.0753H69.1271C68.987 14.1721 68.6599 13.3258 68.0753 12.7078C67.234 11.816 65.9362 11.496 64.6511 11.496C63.366 11.496 62.0682 11.816 61.2269 12.7078C60.3856 13.5996 60.0812 14.9608 60.0812 16.3106C60.0812 17.6603 60.3848 19.0322 61.2269 19.9126C62.0682 20.793 63.3653 21.1251 64.6511 21.1251C65.9369 21.1251 67.234 20.8051 68.0753 19.9126C68.192 19.7867 68.2972 19.6495 68.4025 19.5122H71.8623C71.5586 20.5875 71.0793 21.5596 70.3546 22.3142C68.9522 23.7891 66.7903 24.3268 64.6511 24.3268C62.5119 24.3268 60.35 23.8005 58.9476 22.3142C57.5452 20.8279 57.031 18.5635 57.031 16.3106C57.031 14.0576 57.5338 11.7819 58.9476 10.3069C60.3621 8.83199 62.5119 8.29435 64.6511 8.29435C66.7903 8.29435 68.9522 8.82061 70.3546 10.3069C71.7684 11.7933 72.2712 14.0576 72.2712 16.3106V16.3098Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M89.8732 16.3098V17.5565H80.535V15.0753H86.7292C86.5884 14.1721 86.262 13.3258 85.6774 12.7078C84.8361 11.816 83.5382 11.496 82.2532 11.496C80.9681 11.496 79.6702 11.816 78.8289 12.7078C77.9876 13.5996 77.6832 14.9608 77.6832 16.3106C77.6832 17.6603 77.9869 19.0322 78.8289 19.9126C79.6702 20.793 80.9681 21.1251 82.2532 21.1251C83.5382 21.1251 84.8361 20.8051 85.6774 19.9126C85.7947 19.7867 85.8993 19.6495 86.0038 19.5122H89.4643C89.16 20.5875 88.6806 21.5596 87.956 22.3142C86.5535 23.7891 84.3916 24.3268 82.2532 24.3268C80.1147 24.3268 77.9521 23.8005 76.5496 22.3142C75.1472 20.8279 74.6331 18.5635 74.6331 16.3106C74.6331 14.0576 75.1359 11.7819 76.5496 10.3069C77.9641 8.83199 80.114 8.29435 82.2532 8.29435C84.3923 8.29435 86.5535 8.82061 87.956 10.3069C89.3705 11.7933 89.8732 14.0576 89.8732 16.3106V16.3098Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M117.446 24.3282C119.585 24.3282 121.746 24.0195 123.148 23.1391C124.551 22.2587 125.066 20.9203 125.066 19.594C125.066 18.2677 124.562 16.9179 123.148 16.0489C121.746 15.1798 119.584 14.8591 117.446 14.8591C116.533 14.8591 115.692 14.7332 115.096 14.4018C114.5 14.0583 114.278 13.5441 114.278 13.0293C114.278 12.5144 114.489 11.9888 115.096 11.6567C115.692 11.3132 116.616 11.1994 117.527 11.1994C118.438 11.1994 119.362 11.3253 119.959 11.6567C120.555 12.0002 120.777 12.5144 120.777 13.0293H124.341C124.341 11.7022 123.886 10.3532 122.612 9.48412C121.339 8.61508 119.386 8.29435 117.446 8.29435C115.506 8.29435 113.555 8.60299 112.28 9.48412C111.007 10.3645 110.55 11.7022 110.55 13.0293C110.55 14.3563 111.006 15.7054 112.28 16.5744C113.554 17.4434 115.506 17.7642 117.446 17.7642C118.451 17.7642 119.562 17.89 120.228 18.2214C120.895 18.5536 121.128 19.0791 121.128 19.594C121.128 20.1089 120.895 20.6344 120.228 20.9665C119.562 21.2979 118.545 21.4238 117.54 21.4238C116.535 21.4238 115.506 21.2979 114.851 20.9665C114.197 20.6351 113.951 20.1089 113.951 19.594H109.837C109.837 20.921 110.339 22.2701 111.754 23.1391C113.168 24.0082 115.307 24.3282 117.446 24.3282H117.446Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M142.666 16.3098V17.5565H133.327V15.0753H139.522C139.382 14.1721 139.054 13.3258 138.471 12.7078C137.628 11.816 136.331 11.496 135.045 11.496C133.758 11.496 132.462 11.816 131.621 12.7078C130.779 13.5996 130.476 14.9608 130.476 16.3106C130.476 17.6603 130.779 19.0322 131.621 19.9126C132.462 20.793 133.76 21.1251 135.045 21.1251C136.33 21.1251 137.628 20.8051 138.471 19.9126C138.587 19.7867 138.692 19.6495 138.797 19.5122H142.256C141.952 20.5875 141.473 21.5596 140.749 22.3142C139.347 23.7891 137.184 24.3268 135.045 24.3268C132.906 24.3268 130.745 23.8005 129.342 22.3142C127.94 20.8279 127.426 18.5635 127.426 16.3106C127.426 14.0576 127.928 11.7819 129.342 10.3069C130.757 8.83199 132.907 8.29435 135.045 8.29435C137.183 8.29435 139.347 8.82061 140.749 10.3069C142.163 11.7933 142.665 14.0576 142.665 16.3106L142.666 16.3098Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M160.266 16.3098V17.5565H150.928V15.0753H157.122C156.983 14.1721 156.655 13.3258 156.07 12.7078C155.229 11.816 153.932 11.496 152.646 11.496C151.359 11.496 150.063 11.816 149.222 12.7078C148.38 13.5996 148.076 14.9608 148.076 16.3106C148.076 17.6603 148.38 19.0322 149.222 19.9126C150.063 20.793 151.361 21.1251 152.646 21.1251C153.931 21.1251 155.229 20.8051 156.07 19.9126C156.188 19.7867 156.292 19.6495 156.398 19.5122H159.857C159.553 20.5875 159.074 21.5596 158.35 22.3142C156.947 23.7891 154.785 24.3268 152.646 24.3268C150.507 24.3268 148.346 23.8005 146.943 22.3142C145.541 20.8279 145.026 18.5635 145.026 16.3106C145.026 14.0576 145.528 11.7819 146.943 10.3069C148.357 8.83199 150.508 8.29435 152.646 8.29435C154.784 8.29435 156.946 8.82061 158.35 10.3069C159.764 11.7933 160.266 14.0576 160.266 16.3106V16.3098Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M166.121 3.84727H162.615V24.3287H166.121V3.84727Z",fill:"currentColor"}),(0,p.jsx)("path",{d:"M172.106 15.83L177.855 24.3269H173.519L167.768 15.83L173.519 9.00281H177.855L172.106 15.83Z",fill:"currentColor"}),(0,p.jsx)("g",{clipPath:"url(#clip0_10227_148760)",children:(0,p.jsx)("path",{d:"M33.7472 4.32057C33.3878 4.14492 33.2334 4.48011 33.0234 4.64989C32.9516 4.70478 32.8909 4.7765 32.8302 4.84237C32.3054 5.40296 31.6921 5.77107 30.8915 5.72716C29.7206 5.6613 28.7209 6.02941 27.8368 6.92518C27.6487 5.82084 27.0245 5.16145 26.0745 4.73845C25.5776 4.51889 25.0748 4.29861 24.7265 3.82072C24.4835 3.48041 24.4169 3.10132 24.2954 2.72735C24.2179 2.50194 24.141 2.27141 23.8812 2.23263C23.5995 2.18872 23.489 2.4251 23.3784 2.6227C22.9364 3.43065 22.7652 4.32057 22.782 5.22219C22.8208 7.25012 23.677 8.86529 25.3786 10.0143C25.5718 10.146 25.6215 10.2777 25.5608 10.4702C25.4444 10.8661 25.3068 11.2504 25.1854 11.6463C25.1078 11.8988 24.9921 11.9544 24.7214 11.8439C23.7875 11.4538 22.9811 10.8764 22.2682 10.1789C21.0585 9.00873 19.9644 7.71704 18.6003 6.70563C18.2797 6.46925 17.9592 6.2497 17.6276 6.04039C16.2357 4.68868 17.8099 3.57848 18.1743 3.44675C18.5556 3.30916 18.3068 2.83639 17.0751 2.84225C15.8434 2.84737 14.7164 3.26013 13.2798 3.80974C13.0697 3.89244 12.8487 3.95245 12.6226 4.00222C11.3192 3.75485 9.96528 3.69997 8.55136 3.85951C5.88893 4.1559 3.7622 5.41467 2.19899 7.56335C0.321085 10.146 -0.120946 13.0807 0.419884 16.1412C0.988524 19.3672 2.63516 22.0377 5.16514 24.1256C7.78878 26.2904 10.8106 27.3516 14.2582 27.1481C16.352 27.0274 18.683 26.7471 21.3125 24.5215C21.9755 24.8516 22.6715 24.9833 23.8256 25.0821C24.7148 25.1648 25.571 25.0382 26.2341 24.9006C27.2726 24.6811 27.2008 23.7195 26.8254 23.5431C23.7817 22.1255 24.4499 22.7022 23.8424 22.2353C25.3888 20.4057 27.7512 17.1534 28.4801 12.725C28.5518 12.2361 28.6433 11.5475 28.6323 11.1516C28.6265 10.9101 28.6821 10.8164 28.958 10.7886C29.7206 10.7007 30.4605 10.4922 31.1403 10.1182C33.1126 9.04094 33.9082 7.27135 34.0955 5.15047C34.1233 4.82627 34.0897 4.49109 33.7472 4.32057ZM16.5613 23.4113C13.6113 21.0921 12.1806 20.3288 11.59 20.3618C11.0374 20.3947 11.137 21.027 11.2584 21.439C11.3858 21.8459 11.5512 22.1262 11.7832 22.4834C11.9434 22.7198 12.0539 23.071 11.6229 23.3352C10.673 23.9229 9.0212 23.1376 8.94363 23.0989C7.02108 21.9667 5.41396 20.4723 4.28107 18.4282C3.18697 16.4611 2.55173 14.3504 2.44708 12.0978C2.41927 11.5541 2.57954 11.3616 3.12111 11.2628C3.83392 11.1311 4.56869 11.1033 5.28077 11.2079C8.29156 11.6477 10.8545 12.9936 13.0031 15.1262C14.2297 16.3403 15.1577 17.7915 16.1135 19.2091C17.13 20.7145 18.2234 22.1489 19.6161 23.325C20.1078 23.737 20.5001 24.0502 20.8755 24.2815C19.7434 24.4081 17.8538 24.4352 16.5613 23.4128V23.4113ZM17.9753 14.3168C17.9753 14.0753 18.1685 13.8828 18.4114 13.8828C18.4663 13.8828 18.5161 13.8938 18.5607 13.9099C18.6215 13.9318 18.6771 13.9648 18.721 14.0145C18.7986 14.0914 18.8425 14.2011 18.8425 14.3168C18.8425 14.5583 18.6493 14.7508 18.4063 14.7508C18.1633 14.7508 17.9753 14.5583 17.9753 14.3168ZM22.367 16.5694C22.0853 16.685 21.8035 16.7838 21.5327 16.7948C21.1127 16.8167 20.6545 16.6462 20.4057 16.4376C20.0193 16.1134 19.7427 15.9319 19.627 15.3662C19.5773 15.1247 19.6051 14.7508 19.649 14.5363C19.7485 14.0745 19.638 13.7781 19.3123 13.5088C19.0474 13.2893 18.71 13.2285 18.3397 13.2285C18.2014 13.2285 18.0748 13.1678 17.9804 13.1187C17.826 13.0419 17.6986 12.8494 17.8201 12.613C17.8589 12.5362 18.047 12.3496 18.0909 12.3167C18.5937 12.0305 19.1733 12.1242 19.7097 12.3386C20.2066 12.5421 20.5828 12.9153 21.1236 13.443C21.6762 14.0804 21.7757 14.256 22.0904 14.7347C22.3392 15.1086 22.5654 15.4928 22.7205 15.9327C22.8142 16.2071 22.6927 16.4318 22.367 16.5694Z",fill:"currentColor"})}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_10227_148760",children:(0,p.jsx)("rect",{width:"33.8978",height:"24.9455",fill:"white",transform:"translate(0.206299 2.22727)"})})})]})}function n_(){return(0,p.jsxs)("svg",{width:"35",height:"24",viewBox:"0 0 35 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("g",{clipPath:"url(#clip0_4892_24313)",children:(0,p.jsx)("path",{d:"M26.5542 4.34393C26.2719 4.20592 26.1506 4.46928 25.9856 4.60268C25.9292 4.64581 25.8815 4.70216 25.8338 4.75391C25.4215 5.19438 24.9396 5.48361 24.3105 5.44911C23.3905 5.39736 22.605 5.68659 21.9104 6.39041C21.7626 5.52271 21.2721 5.00462 20.5258 4.67226C20.1353 4.49976 19.7403 4.32668 19.4666 3.95119C19.2757 3.68381 19.2234 3.38595 19.1279 3.09211C19.0669 2.91501 19.0066 2.73388 18.8024 2.7034C18.5811 2.6689 18.4942 2.85463 18.4074 3.00989C18.0601 3.6447 17.9255 4.34393 17.9388 5.05235C17.9692 6.64572 18.642 7.91478 19.9789 8.81756C20.1307 8.92106 20.1698 9.02457 20.1221 9.1758C20.0307 9.48688 19.9226 9.78876 19.8271 10.0998C19.7662 10.2982 19.6753 10.3419 19.4626 10.2551C18.7288 9.94862 18.0952 9.49493 17.5351 8.94694C16.5846 8.02749 15.7249 7.01258 14.6531 6.21791C14.4013 6.03218 14.1494 5.85967 13.8889 5.69522C12.7952 4.63316 14.0321 3.76086 14.3185 3.65736C14.618 3.54925 14.4225 3.17779 13.4548 3.18239C12.487 3.18642 11.6015 3.51073 10.4727 3.94256C10.3077 4.00754 10.1341 4.05469 9.95637 4.09379C8.93227 3.89944 7.86849 3.85631 6.75755 3.98167C4.66564 4.21455 2.99464 5.20358 1.7664 6.89183C0.290908 8.92106 -0.0564026 11.2269 0.368535 13.6316C0.815324 16.1663 2.10911 18.2645 4.09695 19.905C6.15838 21.6059 8.53263 22.4397 11.2415 22.2799C12.8867 22.185 14.7181 21.9648 16.7841 20.2161C17.3051 20.4755 17.8519 20.579 18.7587 20.6566C19.4574 20.7216 20.1302 20.6221 20.6511 20.514C21.4671 20.3415 21.4107 19.5859 21.1157 19.4473C18.7242 18.3335 19.2492 18.7866 18.772 18.4198C19.987 16.9822 21.8431 14.4269 22.4158 10.9474C22.4722 10.5633 22.5441 10.0222 22.5355 9.71114C22.5309 9.52138 22.5746 9.44778 22.7913 9.42593C23.3905 9.35693 23.9718 9.19305 24.506 8.89921C26.0557 8.05279 26.6808 6.6624 26.828 4.996C26.8498 4.74126 26.8234 4.47791 26.5542 4.34393ZM13.0511 19.3438C10.7332 17.5216 9.60906 16.9219 9.14502 16.9477C8.71089 16.9736 8.78909 17.4704 8.88454 17.7942C8.98459 18.1139 9.11455 18.3341 9.29683 18.6147C9.42276 18.8004 9.50959 19.0764 9.1709 19.284C8.42453 19.7458 7.12671 19.1288 7.06576 19.0983C5.55519 18.2087 4.29245 17.0346 3.40233 15.4285C2.54268 13.8829 2.04356 12.2245 1.96133 10.4546C1.93948 10.0274 2.06541 9.87617 2.49092 9.79854C3.05099 9.69504 3.62831 9.67319 4.1878 9.75541C6.55342 10.101 8.56713 11.1585 10.2554 12.8341C11.2191 13.788 11.9482 14.9283 12.6992 16.0421C13.4979 17.2249 14.357 18.3519 15.4512 19.276C15.8377 19.5997 16.1459 19.8458 16.4408 20.0275C15.5513 20.127 14.0666 20.1483 13.0511 19.345V19.3438ZM14.162 12.1981C14.162 12.0083 14.3139 11.8571 14.5048 11.8571C14.5479 11.8571 14.587 11.8657 14.6221 11.8784C14.6698 11.8956 14.7135 11.9215 14.748 11.9606C14.8089 12.021 14.8434 12.1072 14.8434 12.1981C14.8434 12.3878 14.6916 12.5391 14.5007 12.5391C14.3098 12.5391 14.162 12.3878 14.162 12.1981ZM17.6127 13.968C17.3913 14.0588 17.17 14.1365 16.9572 14.1451C16.6271 14.1623 16.2672 14.0284 16.0717 13.8645C15.7681 13.6098 15.5507 13.4671 15.4599 13.0227C15.4208 12.8329 15.4426 12.5391 15.4771 12.3706C15.5553 12.0078 15.4685 11.7749 15.2126 11.5633C15.0045 11.3908 14.7394 11.343 14.4484 11.343C14.3397 11.343 14.2403 11.2953 14.1661 11.2568C14.0447 11.1964 13.9447 11.0452 14.0401 10.8594C14.0706 10.7991 14.2184 10.6524 14.2529 10.6266C14.6479 10.4017 15.1034 10.4753 15.5248 10.6438C15.9153 10.8037 16.2108 11.0969 16.6358 11.5115C17.0699 12.0124 17.1481 12.1504 17.3954 12.5264C17.5909 12.8203 17.7686 13.1221 17.8905 13.4677C17.9641 13.6834 17.8686 13.8599 17.6127 13.968Z",fill:"var(--dsw-alias-brand-primary)"})}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_4892_24313",children:(0,p.jsx)("rect",{width:"26.634",height:"19.6",fill:"white",transform:"translate(0.199951 2.69922)"})})})]})}function nS(e){return(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 26",fill:"none",...e,children:(0,p.jsx)("g",{clipPath:"url(#a)",children:(0,p.jsx)("path",{fill:"var(--dsw-alias-brand-primary)",d:"M33.615 2.598c-.36-.176-.515.16-.726.33-.072.055-.132.127-.193.193-.526.562-1.14.93-1.943.887-1.174-.067-2.176.302-3.062 1.2-.188-1.107-.814-1.767-1.766-2.191-.498-.22-1.002-.441-1.35-.92-.244-.341-.31-.721-.433-1.096-.077-.226-.154-.457-.415-.496-.282-.044-.393.193-.504.391-.443.81-.614 1.702-.598 2.605.04 2.033.898 3.652 2.603 4.803.193.132.243.264.182.457-.116.397-.254.782-.376 1.179-.078.253-.194.308-.465.198-.936-.391-1.744-.97-2.458-1.669-1.213-1.173-2.31-2.467-3.676-3.48a16.254 16.254 0 0 0-.975-.668c-1.395-1.354.183-2.467.548-2.599.382-.138.133-.612-1.102-.606-1.234.005-2.364.42-3.803.97a4.34 4.34 0 0 1-.66.193 13.577 13.577 0 0 0-4.08-.143c-2.667.297-4.799 1.558-6.365 3.712C.116 8.436-.327 11.378.215 14.444c.57 3.233 2.22 5.91 4.755 8.002 2.63 2.17 5.658 3.233 9.113 3.03 2.098-.122 4.434-.403 7.07-2.633.664.33 1.362.463 2.518.562.892.083 1.75-.044 2.414-.182 1.04-.22.97-1.184.593-1.36-3.05-1.421-2.38-.843-2.99-1.311 1.55-1.834 3.918-5.093 4.648-9.531.072-.49.164-1.18.153-1.577-.006-.242.05-.336.326-.364a5.903 5.903 0 0 0 2.187-.672c1.977-1.08 2.774-2.853 2.962-4.978.028-.325-.006-.661-.35-.832ZM16.39 21.73c-2.956-2.324-4.39-3.089-4.982-3.056-.554.033-.454.667-.332 1.08.127.407.293.688.526 1.046.16.237.271.59-.161.854-.952.589-2.607-.198-2.685-.237-1.927-1.134-3.537-2.632-4.673-4.68-1.096-1.972-1.733-4.087-1.838-6.345-.028-.545.133-.738.676-.837A6.643 6.643 0 0 1 5.086 9.5c3.017.441 5.586 1.79 7.74 3.927 1.229 1.217 2.159 2.671 3.116 4.092 1.02 1.509 2.115 2.946 3.51 4.125.494.413.887.727 1.263.958-1.135.127-3.028.154-4.324-.87v-.002Zm1.417-9.114a.434.434 0 0 1 .587-.408c.06.022.117.055.16.105a.426.426 0 0 1 .122.303.434.434 0 0 1-.437.435.43.43 0 0 1-.432-.435Zm4.402 2.257c-.283.116-.565.215-.836.226-.421.022-.88-.149-1.13-.358-.387-.325-.664-.506-.78-1.073-.05-.242-.022-.617.022-.832.1-.463-.011-.76-.338-1.03-.265-.22-.603-.28-.974-.28a.8.8 0 0 1-.36-.11c-.155-.078-.283-.27-.161-.508.039-.077.227-.264.271-.297.504-.286 1.085-.193 1.623.022.498.204.875.578 1.417 1.107.553.639.653.815.968 1.295.25.374.476.76.632 1.2.094.275-.028.5-.354.638Z"})})})}let nE=()=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",children:(0,p.jsx)("path",{d:"M8 0.599609C3.91309 0.599609 0.599609 3.91309 0.599609 8C0.599609 9.13376 0.855461 10.2098 1.3125 11.1719L1.5918 11.7588L2.76562 11.2012L2.48633 10.6143C2.11034 9.82278 1.90039 8.93675 1.90039 8C1.90039 4.63106 4.63106 1.90039 8 1.90039C11.3689 1.90039 14.0996 4.63106 14.0996 8C14.0996 11.3689 11.3689 14.0996 8 14.0996C7.31041 14.0996 6.80528 14.0514 6.35742 13.9277C5.91623 13.8059 5.49768 13.6021 4.99707 13.2529C4.26492 12.7422 3.21611 12.5616 2.35156 13.1074L2.33789 13.1162L2.32422 13.126L1.58789 13.6436L2.01953 14.9297L3.0459 14.207C3.36351 14.0065 3.83838 14.0294 4.25293 14.3184C4.84547 14.7317 5.39743 15.011 6.01172 15.1807C6.61947 15.3485 7.25549 15.4004 8 15.4004C12.0869 15.4004 15.4004 12.0869 15.4004 8C15.4004 3.91309 12.0869 0.599609 8 0.599609ZM7.34473 4.93945V7.34961H4.93945V8.65039H7.34473V11.0605H8.64551V8.65039H11.0605V7.34961H8.64551V4.93945H7.34473Z",fill:"currentColor"})}),nx=()=>{let e="var(--dsw-alias-brand-primary)";return(0,p.jsxs)("svg",{width:"143",height:"23",viewBox:"0 0 143 23",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{d:"M78.6785 18.6823H77.1078V16.2472H78.6785C79.6513 16.2472 80.6342 16.0047 81.2672 15.3308C81.9009 14.6569 82.14 13.6232 82.14 12.59C82.14 11.5569 81.9109 10.5231 81.2672 9.84981C80.6247 9.17594 79.6513 8.93343 78.6785 8.93343C77.7056 8.93343 76.7228 9.17594 76.0886 9.84981C75.4549 10.5237 75.2158 11.5569 75.2158 12.59V22.5909H72.4605V6.50781H75.2158V7.53204H75.7209C75.7757 7.4689 75.8304 7.41525 75.8857 7.36161C76.5752 6.73244 77.6308 6.50781 78.6684 6.50781C80.2944 6.50781 81.9193 6.91236 82.9849 8.03549C84.0499 9.15861 84.4265 10.8835 84.4265 12.6001C84.4265 14.3166 84.0404 16.0326 82.9849 17.1647C81.9288 18.2967 80.2944 18.6834 78.6785 18.6834V18.6823Z",fill:e}),(0,p.jsx)("path",{d:"M36.7486 6.94097H38.3188V9.37609H36.7486C35.7753 9.37609 34.7929 9.61859 34.1593 10.2925C33.5257 10.9663 33.2871 12.0001 33.2871 13.0332C33.2871 14.0664 33.5167 15.0996 34.1593 15.7734C34.8019 16.4473 35.7753 16.6898 36.7486 16.6898C37.722 16.6898 38.7049 16.4473 39.3385 15.7734C39.9722 15.0996 40.2108 14.0664 40.2108 13.0332V3.02344H42.9655V19.116H40.2108V18.0918H39.7057C39.6503 18.1544 39.5956 18.2086 39.5403 18.2622C38.8513 18.8908 37.7952 19.116 36.7576 19.116C35.1321 19.116 33.5067 18.712 32.4416 17.5889C31.3766 16.4658 31 14.7403 31 13.0243C31 11.3083 31.3856 9.59177 32.4416 8.45971C33.5067 7.33658 35.1321 6.94097 36.7486 6.94097Z",fill:e}),(0,p.jsx)("path",{d:"M56.7855 12.8155V13.795H49.4483V11.8454H54.3152C54.2051 11.1358 53.9481 10.4709 53.4887 9.9853C52.8277 9.2846 51.808 9.03316 50.7983 9.03316C49.7886 9.03316 48.7688 9.2846 48.1078 9.9853C47.4468 10.686 47.2076 11.7555 47.2076 12.816C47.2076 13.8766 47.4462 14.9544 48.1078 15.6462C48.7688 16.338 49.788 16.5989 50.7983 16.5989C51.8085 16.5989 52.8277 16.3475 53.4887 15.6462C53.5804 15.5473 53.6631 15.4395 53.7458 15.3316H56.4642C56.2256 16.1765 55.849 16.9403 55.2796 17.5332C54.1777 18.692 52.479 19.1145 50.7983 19.1145C49.1175 19.1145 47.4188 18.701 46.3169 17.5332C45.215 16.3653 44.8111 14.5862 44.8111 12.816C44.8111 11.0458 45.2061 9.25778 46.3169 8.0989C47.4283 6.94001 49.1175 6.51758 50.7983 6.51758C52.479 6.51758 54.1777 6.93107 55.2796 8.0989C56.3904 9.26672 56.7855 11.0458 56.7855 12.816V12.8155Z",fill:e}),(0,p.jsx)("path",{d:"M70.6151 12.8155V13.795H63.2779V11.8454H68.1448C68.0341 11.1358 67.7776 10.4709 67.3183 9.9853C66.6573 9.2846 65.6376 9.03316 64.6279 9.03316C63.6182 9.03316 62.5984 9.2846 61.9374 9.9853C61.2764 10.686 61.0372 11.7555 61.0372 12.816C61.0372 13.8766 61.2758 14.9544 61.9374 15.6462C62.5984 16.338 63.6182 16.5989 64.6279 16.5989C65.6376 16.5989 66.6573 16.3475 67.3183 15.6462C67.4105 15.5473 67.4927 15.4395 67.5748 15.3316H70.2938C70.0546 16.1765 69.678 16.9403 69.1086 17.5332C68.0067 18.692 66.3081 19.1145 64.6279 19.1145C62.9476 19.1145 61.2484 18.701 60.1465 17.5332C59.0446 16.3653 58.6406 14.5862 58.6406 12.816C58.6406 11.0458 59.0357 9.25778 60.1465 8.0989C61.2579 6.94001 62.9471 6.51758 64.6279 6.51758C66.3086 6.51758 68.0067 6.93107 69.1086 8.0989C70.22 9.26672 70.6151 11.0458 70.6151 12.816V12.8155Z",fill:e}),(0,p.jsx)("path",{d:"M92.2781 19.1156C93.9589 19.1156 95.657 18.8731 96.7589 18.1813C97.8608 17.4896 98.2653 16.438 98.2653 15.3959C98.2653 14.3538 97.8697 13.2932 96.7589 12.6104C95.657 11.9276 93.9583 11.6756 92.2781 11.6756C91.5612 11.6756 90.9002 11.5767 90.4319 11.3163C89.9637 11.0464 89.7893 10.6424 89.7893 10.2379C89.7893 9.83332 89.9547 9.42039 90.4319 9.15944C90.9002 8.88955 91.626 8.80015 92.3418 8.80015C93.0576 8.80015 93.7834 8.89905 94.2528 9.15944C94.721 9.42933 94.8954 9.83332 94.8954 10.2379H97.6959C97.6959 9.1952 97.3383 8.13522 96.3376 7.4524C95.3368 6.76958 93.803 6.51758 92.2787 6.51758C90.7543 6.51758 89.2211 6.76008 88.2198 7.4524C87.219 8.14416 86.8603 9.1952 86.8603 10.2379C86.8603 11.2805 87.2185 12.3405 88.2198 13.0233C89.2205 13.7061 90.7538 13.9582 92.2787 13.9582C93.0682 13.9582 93.941 14.0571 94.464 14.3174C94.9881 14.5784 95.1714 14.9913 95.1714 15.3959C95.1714 15.8004 94.9881 16.2133 94.464 16.4743C93.941 16.7347 93.142 16.8336 92.3524 16.8336C91.5629 16.8336 90.7543 16.7347 90.2397 16.4743C89.7256 16.2139 89.5323 15.8004 89.5323 15.3959H86.2998C86.2998 16.4385 86.6943 17.4985 87.8063 18.1813C88.9171 18.8641 90.5979 19.1156 92.2787 19.1156H92.2781Z",fill:e}),(0,p.jsx)("path",{d:"M112.094 12.8155V13.795H104.757V11.8454H109.624C109.514 11.1358 109.257 10.4709 108.798 9.9853C108.136 9.2846 107.117 9.03316 106.106 9.03316C105.095 9.03316 104.077 9.2846 103.416 9.9853C102.755 10.686 102.517 11.7555 102.517 12.816C102.517 13.8766 102.755 14.9544 103.416 15.6462C104.077 16.338 105.097 16.5989 106.106 16.5989C107.116 16.5989 108.136 16.3475 108.798 15.6462C108.889 15.5473 108.972 15.4395 109.054 15.3316H111.772C111.533 16.1765 111.157 16.9403 110.588 17.5332C109.486 18.692 107.787 19.1145 106.106 19.1145C104.425 19.1145 102.727 18.701 101.625 17.5332C100.524 16.3653 100.12 14.5862 100.12 12.816C100.12 11.0458 100.515 9.25778 101.625 8.0989C102.737 6.94001 104.427 6.51758 106.106 6.51758C107.786 6.51758 109.486 6.93107 110.588 8.0989C111.699 9.26672 112.093 11.0458 112.093 12.816L112.094 12.8155Z",fill:e}),(0,p.jsx)("path",{d:"M125.924 12.8155V13.795H118.586V11.8454H123.453C123.344 11.1358 123.086 10.4709 122.627 9.9853C121.966 9.2846 120.947 9.03316 119.936 9.03316C118.926 9.03316 117.907 9.2846 117.246 9.9853C116.585 10.686 116.346 11.7555 116.346 12.816C116.346 13.8766 116.585 14.9544 117.246 15.6462C117.907 16.338 118.927 16.5989 119.936 16.5989C120.946 16.5989 121.966 16.3475 122.627 15.6462C122.719 15.5473 122.801 15.4395 122.885 15.3316H125.602C125.363 16.1765 124.987 16.9403 124.418 17.5332C123.316 18.692 121.617 19.1145 119.936 19.1145C118.256 19.1145 116.558 18.701 115.456 17.5332C114.354 16.3653 113.949 14.5862 113.949 12.816C113.949 11.0458 114.344 9.25778 115.456 8.0989C116.567 6.94001 118.256 6.51758 119.936 6.51758C121.617 6.51758 123.315 6.93107 124.418 8.0989C125.529 9.26672 125.924 11.0458 125.924 12.816V12.8155Z",fill:e}),(0,p.jsx)("path",{d:"M130.524 3.02344H127.77V19.116H130.524V3.02344Z",fill:e}),(0,p.jsx)("path",{d:"M135.227 12.4384L139.744 19.1146H136.337L131.819 12.4384L136.337 7.07422H139.744L135.227 12.4384Z",fill:e}),(0,p.jsx)("g",{clipPath:"url(#clip0_4329_19769)",children:(0,p.jsx)("path",{d:"M26.5174 3.39471C26.235 3.2567 26.1137 3.52006 25.9487 3.65346C25.8923 3.69659 25.8446 3.75294 25.7969 3.80469C25.3846 4.24516 24.9027 4.53439 24.2737 4.49989C23.3536 4.44814 22.5682 4.73737 21.8735 5.44119C21.7258 4.57349 21.2353 4.0554 20.4889 3.72304C20.0985 3.55054 19.7034 3.37746 19.4297 3.00197C19.2388 2.73459 19.1865 2.43673 19.091 2.14289C19.0301 1.96579 18.9697 1.78466 18.7656 1.75418C18.5442 1.71968 18.4574 1.90541 18.3705 2.06067C18.0232 2.69549 17.8887 3.39471 17.9019 4.10313C17.9324 5.6965 18.6051 6.96556 19.9421 7.86834C20.0939 7.97184 20.133 8.07535 20.0852 8.22658C19.9938 8.53766 19.8857 8.83955 19.7903 9.15063C19.7293 9.34901 19.6385 9.39271 19.4257 9.30588C18.692 8.9994 18.0583 8.54571 17.4982 7.99772C16.5477 7.07827 15.6881 6.06336 14.6162 5.26869C14.3644 5.08296 14.1125 4.91045 13.8521 4.746C12.7584 3.68394 13.9952 2.81164 14.2816 2.70814C14.5812 2.60003 14.3857 2.22857 13.4179 2.23317C12.4502 2.2372 11.5646 2.56151 10.4359 2.99335C10.2708 3.05832 10.0972 3.10547 9.91951 3.14457C8.8954 2.95022 7.83162 2.90709 6.72069 3.03245C4.62877 3.26533 2.95777 4.25436 1.72954 5.94261C0.254043 7.97184 -0.0932679 10.2777 0.33167 12.6824C0.778458 15.2171 2.07225 17.3153 4.06008 18.9558C6.12152 20.6567 8.49577 21.4905 11.2047 21.3306C12.8498 21.2358 14.6812 21.0155 16.7473 19.2669C17.2682 19.5262 17.8151 19.6297 18.7219 19.7074C19.4205 19.7724 20.0933 19.6729 20.6143 19.5648C21.4302 19.3923 21.3739 18.6367 21.0789 18.4981C18.6874 17.3843 19.2124 17.8374 18.7351 17.4706C19.9501 16.033 21.8063 13.4776 22.379 9.99821C22.4353 9.61409 22.5072 9.073 22.4986 8.76192C22.494 8.57216 22.5377 8.49856 22.7545 8.47671C23.3536 8.40771 23.935 8.24383 24.4692 7.94999C26.0188 7.10357 26.6439 5.71318 26.7911 4.04678C26.8129 3.79204 26.7865 3.52869 26.5174 3.39471ZM13.0143 18.3946C10.6964 16.5724 9.5722 15.9726 9.10816 15.9985C8.67402 16.0244 8.75222 16.5212 8.84768 16.8449C8.94773 17.1646 9.07768 17.3849 9.25996 17.6655C9.38589 17.8512 9.47272 18.1272 9.13404 18.3348C8.38766 18.7965 7.08985 18.1796 7.0289 18.1491C5.51833 17.2595 4.25559 16.0853 3.36546 14.4793C2.50581 12.9337 2.0067 11.2753 1.92447 9.50542C1.90262 9.07818 2.02855 8.92695 2.45406 8.84932C3.01413 8.74582 3.59144 8.72397 4.15093 8.80619C6.51656 9.15178 8.53027 10.2092 10.2185 11.8848C11.1822 12.8388 11.9114 13.979 12.6623 15.0929C13.461 16.2757 14.3201 17.4027 15.4144 18.3268C15.8008 18.6505 16.109 18.8966 16.404 19.0783C15.5144 19.1778 14.0297 19.1991 13.0143 18.3958V18.3946ZM14.1252 11.2489C14.1252 11.0591 14.277 10.9079 14.4679 10.9079C14.511 10.9079 14.5501 10.9165 14.5852 10.9292C14.6329 10.9464 14.6766 10.9723 14.7111 11.0114C14.7721 11.0718 14.8066 11.158 14.8066 11.2489C14.8066 11.4386 14.6548 11.5899 14.4639 11.5899C14.273 11.5899 14.1252 11.4386 14.1252 11.2489ZM17.5759 13.0188C17.3545 13.1096 17.1331 13.1873 16.9203 13.1959C16.5903 13.2131 16.2303 13.0791 16.0348 12.9153C15.7312 12.6605 15.5139 12.5179 15.423 12.0734C15.3839 11.8837 15.4057 11.5899 15.4402 11.4214C15.5185 11.0585 15.4316 10.8257 15.1757 10.614C14.9676 10.4415 14.7025 10.3938 14.4115 10.3938C14.3029 10.3938 14.2034 10.3461 14.1292 10.3076C14.0079 10.2472 13.9078 10.096 14.0033 9.91023C14.0338 9.84985 14.1815 9.70322 14.216 9.67734C14.6111 9.45251 15.0665 9.52612 15.488 9.6946C15.8784 9.85445 16.174 10.1477 16.5989 10.5623C17.033 11.0631 17.1112 11.2011 17.3585 11.5772C17.554 11.871 17.7317 12.1729 17.8536 12.5185C17.9272 12.7341 17.8317 12.9107 17.5759 13.0188Z",fill:e})}),(0,p.jsx)("defs",{children:(0,p.jsx)("clipPath",{id:"clip0_4329_19769",children:(0,p.jsx)("rect",{width:"26.634",height:"19.6",fill:"white",transform:"translate(0.163086 1.75)"})})})]})},ny={current:!1};var nw=n(17009);function nI(e){let{children:t}=e,n=(0,nw.Y)();return(0,p.jsx)(W,{rgbPrimary:n?"78 107 245":"77 107 254",borderedSecondaryButtonColor:"var(--dsr-text-1)",inputPrefixColor:"var(--dsr-text-1)",modalContentColor:n?"#3A3A46":void 0,label1:n?"248 250 255":void 0,label2:n?"#BBB":void 0,rgbHover:n?"68 68 77":"245 245 245",rgbInput:n?"85 85 98":void 0,rgbInputFocus:n?"58 58 70":void 0,textPrimaryButtonColor:n?"#6780FE":void 0,tabsActiveColor:n?"#6780FE":void 0,children:t})}var nT=n(66460);let nA="__ds_remote_feature_store";class nj{reset(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state={features:{},timestamp:Date.now(),uuid:(0,nT.A)(),version:-1},e||this.flush()}init(){if(this.inited)return;this.inited=!0;let e=localStorage.getItem(nA);if(!e)return void this.reset();try{this.state=JSON.parse(e)}catch(e){this.tracker.error({name:"loadRemoteFeatureStoreFail",message:"加载远程feature本地数据失败",payload:this.tracker.withError(e,{})}),this.reset()}}flush(){try{return localStorage.setItem(nA,JSON.stringify(this.state)),!0}catch(e){return this.tracker.error({name:"setRemoteFeatureStoreFail",message:"写入远程feature本地数据失败",payload:this.tracker.withError(e,{})}),!1}}getFeature(e){return this.init(),this.state.features[e]}loadFeatures(e,t){this.init(),t<this.state.version||(this.state.features=e,this.state.version=t,this.flush()&&this.tracker.info({name:"loadRemoteFeaturesSuccess",message:"成功加载并存储远程规则",payload:{}}))}get uuid(){return this.init(),this.state.uuid}constructor(e){(0,m._)(this,"tracker",void 0),(0,m._)(this,"state",null),(0,m._)(this,"inited",!1),this.tracker=e,"function"==typeof window.requestIdleCallback&&window.requestIdleCallback(()=>this.init())}}var nk=n(44468);let nM=async(e,t)=>(0,nk.K)(g.y.http.http,g.y.http.withDefaultHttpContext,e,{...t,onError:e=>{g.y.tracker.error({name:"loadSettingsFail",message:"加载settings失败",payload:{info:e.biz_msg,code:e.biz_code}})}}),nR=new class{onUpdate(e){return this.updateListeners.push(e),()=>{let t=this.updateListeners.indexOf(e);t>-1&&this.updateListeners.splice(t,1)}}notifyUpdate(e){this.updateListeners.forEach(t=>{t(e)})}async loadRemote(){let e=await this.apiLoadSettings(this.getUuid());null!==e&&(this.storage.loadFeatures(e.settings,e.version),this.notifyUpdate(e.settings))}getFeature(e,t){try{let n=this.storage.getFeature(e);if(void 0===n)return t;return n}catch(e){return this.tracker.error({name:"getRemoteFeatureFail",message:"读取规则失败",payload:this.tracker.withError(e,{})}),t}}getUuid(){return this.storage.uuid}constructor(e,t){(0,m._)(this,"tracker",void 0),(0,m._)(this,"apiLoadSettings",void 0),(0,m._)(this,"storage",void 0),(0,m._)(this,"updateListeners",[]),this.tracker=e,this.apiLoadSettings=t,this.storage=new nj(e)}}(g.y.tracker,nM),nN={search_state_on_launch:"keep",search_state_on_manually_created_chat:"keep",search_state_on_automatically_created_chat:"keep",search_state_on_login:"keep"},nO={search_state_on_launch:"launch",search_state_on_manually_created_chat:"create_session",search_state_on_automatically_created_chat:"create_session",search_state_on_login:"login"},nL=e=>{let t,n=nN[e],a="keep"===(t=nR.getFeature(e,n))||"on"===t||"off"===t?t:"keep",s=g.y.storageHandles.searchEnabledStorageHandle.get(),r=s;return"on"===a?r=!0:"off"===a&&(r=!1),r!==s&&(g.y.storageHandles.searchEnabledStorageHandle.set(r),g.y.tracker.info({name:"searchEnabledToggle",message:"搜索状态被更改",payload:{searchToggleReason:nO[e],enabled:r}})),r},nF=()=>{nL("search_state_on_login"),nR.loadRemote()},nP=()=>{nL("search_state_on_automatically_created_chat")},nD=(0,eQ.vt)(e=>({forceGoogleLogin:!1,toggleForceGoogleLogin(){e(e=>({forceGoogleLogin:!e.forceGoogleLogin}))}}));n(71060);let nB=()=>{if("undefined"!=typeof apmPlus)return apmPlus},nV=n.p+"static/fallbackWhale.3b8b290cc6.png",nH=n.p+"static/fallbackWhaleDark.90a7a060d7.png";var nU=n(11040);function nW(e){let{description:t,buttonText:n,isRecovering:a}=e,s=g.R.useTranslate(),r=(0,nw.Y)(),o=()=>{e.fatal?e.resetOnFatal():e.navigateRoot()},{fatal:i}=e;return(0,p.jsxs)("div",{className:nU.container,children:[(0,p.jsx)("div",{className:(0,Z.A)(nU.logoContainer,i&&nU.unrecoverable),onClick:i?void 0:o,children:(0,p.jsx)(nx,{})}),(0,p.jsxs)("div",{className:nU.content,children:[(0,p.jsx)("div",{className:nU.imageContainer,children:(0,p.jsx)("img",{src:r?nH:nV,alt:"Error",width:220,height:220})}),(0,p.jsx)("div",{className:nU.description,children:t}),(0,p.jsx)(th,{variant:"primary",size:"md",onClick:o,loading:a,children:null!=n?n:s("chatInputNewChatButton")})]})]})}let nz=!1,nG=e=>{if(nz)return!0;let t="string"==typeof e?e:"".concat(Object(e).message||Object(e).stack);return!!/Failed to execute '(insertBefore|removeChild)' on 'Node'/.test(t)&&(nK(t),!0)},nK=e=>{if(nz)return;nz=!0,g.y.tracker.error({name:"resetAppOnFatal",message:"app致命错误重置",payload:{info:e}});let t=document.createElement("div");t.id="reset-root",document.body.appendChild(t),g.y.resetOnFatal({node:(0,p.jsx)(nq,{from:"fatal"}),container:t})},nq=e=>{let t,{from:n}=e,a=g.R.useTranslate(),[s,r]=(0,D.useState)(!1),o=(0,D.useRef)(n);o.current=n;let i=(t=g.R.useTranslate(),"fatal"===n?t.fatalPageTip:t.errorPageTitle);return(0,D.useEffect)(()=>{g.y.tracker.info({name:"showIsolatedErrorRecovery",message:"展示独立的ErrorRecovery",payload:{from:o.current}})},[]),(0,p.jsx)(nW,{fatal:!0,description:i,buttonText:a.errorPageReloadButton,isRecovering:s,resetOnFatal:()=>{setTimeout(()=>{window.location.reload()},500),r(!0),g.y.tracker.error({name:"refreshOnBroken",message:"页面崩溃点击刷新",payload:{}})}})};function nZ(e){let{children:t}=e,n=(0,K.zy)(),a=g.R.useTranslate(),[s,r]=(0,D.useState)(!1);return(0,p.jsx)(g.y.ErrorBoundary,{onError:e=>{if(!nG(e)){let t;g.y.tracker.error({name:"routeRenderFailed",message:"触发路由 Error Boundary",payload:g.y.withError(e,{pathname:n.pathname})}),(t=nB())&&t("captureException",e)}},renderFallback:e=>{let{error:t}=e;if(!nG(t))return(0,p.jsx)(nW,{description:a.errorPageTitle,buttonText:a.errorPageReloadButton,isRecovering:s,fatal:!0,resetOnFatal:()=>{setTimeout(()=>{window.location.reload()},500),r(!0),g.y.tracker.error({name:"refreshOnBroken",message:"页面崩溃点击刷新",payload:{}})}})},renderFallbackLastResort:()=>(0,p.jsx)(nq,{from:"resort"}),children:t})}var nQ=n(47896),nY=n(32675),nX=n(52340);class nJ{ensureObserver(){return this.observer||(this.observer=new nX.j(this.callback.bind(this))),this.observer}callback(e){for(let t of e){if(!t.target.parentElement)continue;let e=this.callbacksMap.get(t.target);e&&e(t)}}observe(e,t){this.callbacksMap.set(e,t),this.ensureObserver().observe(e)}unobserve(e){this.callbacksMap.delete(e),this.ensureObserver().unobserve(e)}constructor(){(0,m._)(this,"observer",void 0),(0,m._)(this,"callbacksMap",new Map)}}function n$(){return i||(i=new nJ),i}function n1(e){let{onResize:t,children:n,forwardedRef:a}=e,s=a||(0,D.useRef)(null),r=(0,ee.SE)(t),o=(0,D.useRef)(!0);return(0,D.useLayoutEffect)(()=>{let e=s.current;if(e)return n$().observe(e,e=>{r.current({entry:e,isFirst:o.current}),o.current=!1}),()=>{n$().unobserve(e)}},[s.current]),n({ref:s})}var n0=n(44450);let n2=e=>{let{style:t,dotSize:n,dotMargin:a,className:s}=e;return(0,p.jsx)("div",{className:(0,Z.A)(s,n0.container),style:t,children:[0,1,2].map(e=>(0,p.jsx)("div",{className:n0.dot,style:{width:n,height:n,marginRight:e<2?a:void 0}},e))})};var n3=n(38499);let n4=(0,D.createContext)({setShowScrollBottomButton:n3.A,checkScrollButton:n3.A,setCheckScrollButton:n3.A}),n6=(0,eQ.vt)(e=>({show:!1,toggle:t=>e({show:t})})),n5=(0,D.memo)(function(e){let{children:t}=e,n=(0,D.useRef)(n3.A),a=(0,D.useMemo)(()=>({setShowScrollBottomButton:e=>n6.getState().toggle(e),checkScrollButton:()=>n.current(),setCheckScrollButton:e=>n.current=e}),[]);return(0,p.jsx)(n4.Provider,{value:a,children:t})}),n9=e=>{let t=(0,D.useRef)(e),n=(0,D.useRef)(n3.A);n.current=(0,D.useContext)(n4).checkScrollButton,(0,D.useLayoutEffect)(()=>{e!==t.current&&n.current(),t.current=e},[e])},n8=(0,D.createContext)({requireScrollToBottom:()=>{}}),n7=()=>(0,D.useContext)(n8).requireScrollToBottom;function ae(e){let{sessionId:t,messageId:n}=e,a=(0,T.KT)(t,n).messageBody.useTips("INFO");return(0,p.jsx)(p.Fragment,{children:a.map(e=>(0,p.jsx)("div",{style:{font:"var(--dsw-font-markdown-small)",color:"var(--dsw-alias-label-secondary)",margin:"6px 0"},children:e.content},e.content))})}let at=null,an=null,aa=()=>null===at?(null===an&&(an=Promise.all([n.e("52059").then(n.bind(n,80101)).then(e=>at=e.default),n.e("52059").then(n.bind(n,14564)),n.e("52059").then(n.t.bind(n,70429,19))]).then(e=>{let[t]=e;return t})),an):at;var as=n(85013),ar=n(49349),ao=n(60669),ai=n(59911);let al={extensions:[(0,n(95365).T)()],mdastExtensions:[(0,ai.C)()]},ac={extensions:[(0,ar.D)({singleDollarTextMath:!1})],mdastExtensions:[(0,ao.c)()]};n(87492),n(42760),n(41311),n(39070),n(32266);var ad=n(48905),au=n(65270),ah=n(61300);let ap=RegExp("(https?://)?((?:(?!-)[A-Za-z0-9-]{0,62}[A-Za-z0-9]\\.){1,3}(?:".concat("directory|tokyocom|company|finance|monster|network|website|design|garden|google|online|photos|report|school|social|travel|audio|bible|click|cloud|codes|media|movie|ninja|press|rocks|space|today|tools|video|watch|works|world|asia|bank|best|blog|cash|chat|city|club|fund|goog|help|host|info|life|link|live|maad|name|news|nico|page|sale|saxo|site|tech|town|wiki|work|zone|art|bar|biz|cat|com|dev|dog|edu|foo|fun|gle|gov|how|icu|int|men|mil|moe|net|new|one|onl|org|pro|pub|red|rip|soy|top|vip|xpi|xxx|xyz|ac|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cq|cr|cu|cv|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|eh|es|et|eu|ev|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gr|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|ie|il|im|in|io|iq|ir|is|it|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|me|mg|mh|ml|mm|mn|mo|mp|mq|mr|ms|mt|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|np|nr|nt|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|pt|pw|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|si|sj|sk|sl|sm|sn|so|sr|st|su|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|va|vc|ve|vg|vn|vu|wf|ws|ye|yt|yu|za|zm|zr|zw","))([^ 	\r\n]*)"),"ig"),am=["～","》","《","｜","？","；","、","！","】","【","）","（","’","‘","”","“","：","。","，","*","'",'"'],ag=["?","/","#"],af=e=>!e||!e.match(/^([0-9]|[a-z])/i);function aC(e){return e>=19968&&e<=40959||e>=13312&&e<=19903||e>=63744&&e<=64255||e>=12352&&e<=12447||e>=12448&&e<=12543||e>=44032&&e<=55215}let av=/\[reference:(\d+)\]/g,ab=(e,t)=>({index:Number(t),type:"deepSearchReference"}),a_=/\[citation:(\d+)\]/g,aS=(e,t)=>({value:Number(t),type:"citation"});class aE{touch(e){this.sequence.delete(e),this.sequence.add(e)}set(e,t){this.cacheMap.set(e,t),this.touch(e),this.clear()}get(e){let t=this.cacheMap.get(e);return t&&this.touch(e),t}clear(){if(this.cacheMap.size<this.config.clearAt)return;let e=this.cacheMap.size-this.config.clearTo;for(let t of this.sequence){if(e<=0)break;this.cacheMap.delete(t),this.sequence.delete(t),e--}}constructor(e){(0,m._)(this,"config",void 0),(0,m._)(this,"cacheMap",new Map),(0,m._)(this,"sequence",new Set),this.config=e}}let ax=new WeakSet,ay=(e,t)=>{e.forEach(e=>{t(e),"children"in e&&ay(e.children,t)})},aw=new class{adjustPosAndSave(e,t,n){var a,s,r,o,i;let l,c=n.nodes,d=n.offset,u=t.children.slice(0,-2),h=null==(s=u.at(-1))||null==(a=s.position)?void 0:a.end.offset;o=t,i=null==(r=c.at(-1))?void 0:r.position,(l=e=>{if(!e.position||!i||ax.has(e.position))return;ax.add(e.position);let{start:t,end:n}=e.position,a=i.end;t.line+=a.line-1,void 0!==t.offset&&(t.offset+=a.offset||0),n.line+=a.line-1,void 0!==n.offset&&(n.offset+=a.offset||0)})(o),ay(o.children,l),!u.length||void 0!==h&&Number.isInteger(h)&&this.accessor.set(e,{offset:h+d,nodes:c.concat(u)})}getAstAndTrim(e,t){let n=this.accessor.get(e);return n?{cacheRes:{nodes:n.nodes,offset:n.offset},md:t.slice(n.offset)}:{cacheRes:{nodes:[],offset:0},md:t}}joinAst(e,t){return e.children=t.concat(e.children),e}constructor(e={clearAt:80,clearTo:50}){(0,m._)(this,"accessor",void 0),this.accessor=new aE(e)}},aI=(e,t,n)=>t&&e?aw.getAstAndTrim(e,n):{md:n,cacheRes:{nodes:[],offset:0}},aT=(e,t)=>t?e.replace(/(\*\s*)+$/,""):e;var aA=n(41387);async function aj(e,t){try{await navigator.clipboard.writeText(e)}catch{var n,a;let s;n=e,a=(a=t)||document.body,(s=document.createElement("textarea")).value=n,s.style.position="fixed",s.style.opacity="0",a.appendChild(s),s.focus(),s.select(),document.execCommand("copy"),a.removeChild(s)}}n(95801);let ak=[],aM={shell:"bash",assembly:"asm6502",asm:"asm6502",vue:"markup",xml:"markup",html:"markup","c++":"cpp",cc:"cpp",cplusplus:"cpp",abap:"abap",abnf:"abnf",actionscript:"actionscript",ada:"ada",agda:"agda",al:"al",antlr4:"antlr4",apacheconf:"apacheconf",apex:"apex",apl:"apl",applescript:"applescript",aql:"aql",arduino:"arduino",arff:"arff",armasm:"armasm",arturo:"arturo",asciidoc:"asciidoc",asm6502:"asm6502",asmatmel:"asmatmel",aspnet:"aspnet",autohotkey:"autohotkey",autoit:"autoit",avisynth:"avisynth","avro-idl":"avro-idl",awk:"awk",bash:"bash",basic:"basic",batch:"batch",bbcode:"bbcode",bbj:"bbj",bicep:"bicep",birb:"birb",bison:"bison",bnf:"bnf",bqn:"bqn",brainfuck:"brainfuck",brightscript:"brightscript",bro:"bro",bsl:"bsl",c:"c",cfscript:"cfscript",chaiscript:"chaiscript",cil:"cil",cilkc:"cilkc",cilkcpp:"cilkcpp",clike:"clike",clojure:"clojure",cmake:"cmake",cobol:"cobol",coffeescript:"coffeescript",concurnas:"concurnas",cooklang:"cooklang",coq:"coq",core:"core",cpp:"cpp",crystal:"crystal",cs:"csharp","c#":"csharp",csharp:"csharp",cshtml:"cshtml",csp:"csp","css-extras":"css-extras",css:"css",csv:"csv",cue:"cue",cypher:"cypher",d:"d",dart:"dart",dataweave:"dataweave",dax:"dax",dhall:"dhall",diff:"diff",django:"django","dns-zone-file":"dns-zone-file",docker:"docker",dot:"dot",ebnf:"ebnf",editorconfig:"editorconfig",eiffel:"eiffel",ejs:"ejs",elixir:"elixir",elm:"elm",erb:"erb",erlang:"erlang",etlua:"etlua","excel-formula":"excel-formula",factor:"factor",false:"false","firestore-security-rules":"firestore-security-rules",flow:"flow",fortran:"fortran",fsharp:"fsharp",ftl:"ftl",gap:"gap",gcode:"gcode",gdscript:"gdscript",gedcom:"gedcom",gettext:"gettext",gherkin:"gherkin",git:"git",glsl:"glsl",gml:"gml",gn:"gn","go-module":"go-module",go:"go",gradle:"gradle",graphql:"graphql",groovy:"groovy",haml:"haml",handlebars:"handlebars",hs:"haskell",haskell:"haskell",haxe:"haxe",hcl:"hcl",hlsl:"hlsl",hoon:"hoon",hpkp:"hpkp",hsts:"hsts",http:"http",ichigojam:"ichigojam",icon:"icon","icu-message-format":"icu-message-format",idris:"idris",iecst:"iecst",ignore:"ignore",inform7:"inform7",ini:"ini",io:"io",j:"j",java:"java",javadoc:"javadoc",javadoclike:"javadoclike",js:"javascript",javascript:"javascript",javastacktrace:"javastacktrace",jexl:"jexl",jolie:"jolie",jq:"jq","js-extras":"js-extras","js-templates":"js-templates",jsdoc:"jsdoc",json:"json",json5:"json5",jsonp:"jsonp",jsstacktrace:"jsstacktrace",jsx:"jsx",julia:"julia",keepalived:"keepalived",keyman:"keyman",kt:"kotlin",kotlin:"kotlin",kumir:"kumir",kusto:"kusto",tex:"latex",latex:"latex",latte:"latte",less:"less",lilypond:"lilypond","linker-script":"linker-script",liquid:"liquid",lisp:"lisp",livescript:"livescript",llvm:"llvm",log:"log",lolcode:"lolcode",lua:"lua",magma:"magma",mk:"makefile",makefile:"makefile",md:"markdown",markdown:"markdown","markup-templating":"markup-templating",markup:"markup",mata:"mata",matlab:"matlab",maxscript:"maxscript",mel:"mel",mermaid:"mermaid",metafont:"metafont",mizar:"mizar",mongodb:"mongodb",monkey:"monkey",moonscript:"moonscript",n1ql:"n1ql",n4js:"n4js","nand2tetris-hdl":"nand2tetris-hdl",naniscript:"naniscript",nasm:"nasm",neon:"neon",nevod:"nevod",nginx:"nginx",nim:"nim",nix:"nix",nsis:"nsis",objectivec:"objectivec",ocaml:"ocaml",odin:"odin",opencl:"opencl",openqasm:"openqasm",oz:"oz",parigp:"parigp",parser:"parser",pascal:"pascal",pascaligo:"pascaligo",pcaxis:"pcaxis",peoplecode:"peoplecode",perl:"perl","php-extras":"php-extras",php:"php",phpdoc:"phpdoc","plant-uml":"plant-uml",plsql:"plsql",powerquery:"powerquery",powershell:"powershell",processing:"processing",prolog:"prolog",promql:"promql",properties:"properties",protobuf:"protobuf",psl:"psl",pug:"pug",puppet:"puppet",pure:"pure",purebasic:"purebasic",purescript:"purescript",py:"python",python:"python",q:"q",qml:"qml",qore:"qore",qsharp:"qsharp",r:"r",racket:"racket",reason:"reason",regex:"regex",rego:"rego",renpy:"renpy",rescript:"rescript",rest:"rest",rip:"rip",roboconf:"roboconf",robotframework:"robotframework",ruby:"ruby",rust:"rust",sas:"sas",sass:"sass",scala:"scala",scheme:"scheme",scss:"scss","shell-session":"shell-session",smali:"smali",smalltalk:"smalltalk",smarty:"smarty",sml:"sml",solidity:"solidity","solution-file":"solution-file",soy:"soy",sparql:"sparql","splunk-spl":"splunk-spl",sqf:"sqf",sql:"sql",squirrel:"squirrel",stan:"stan",stata:"stata",stylus:"stylus",supercollider:"supercollider",swift:"swift",systemd:"systemd","t4-cs":"t4-cs","t4-templating":"t4-templating","t4-vb":"t4-vb",tap:"tap",tcl:"tcl",textile:"textile",toml:"toml",tremor:"tremor",tsx:"tsx",tt2:"tt2",turtle:"turtle",twig:"twig",ts:"typescript",typescript:"typescript",typoscript:"typoscript",unrealscript:"unrealscript",uorazor:"uorazor",uri:"uri",v:"v",vala:"vala",vbnet:"vbnet",velocity:"velocity",verilog:"verilog",vhdl:"vhdl",vim:"vim","visual-basic":"visual-basic",warpscript:"warpscript",wasm:"wasm","web-idl":"web-idl",wgsl:"wgsl",wiki:"wiki",wolfram:"wolfram",wren:"wren",xeora:"xeora","xml-doc":"xml-doc",xojo:"xojo",xquery:"xquery",yaml:"yaml",yang:"yang",zig:"zig"},aR={},aN=(0,D.createContext)(null);n(14918);let aO=(0,D.createContext)({copyCodeText:"",copyCodeOkText:"",onCopyCode:void 0,citeProps:null,disableLink:!1,disableMailto:!0}),aL=aO.Provider,aF=()=>(0,D.useContext)(aO),aP=(0,D.createContext)({markdown:""}),aD=aP.Provider,aB=()=>(0,D.useContext)(aP).markdown,aV=(0,D.memo)(function(e){var t,n;let{node:a,PhasingContent:s}=e,r=null==(n=a.position)||null==(t=n.start)?void 0:t.offset,o=aB(),i=void 0===r?"*":o[r],l=["+","-","*","/","="],c=function e(t){let n="";switch(t.type){case"text":n+=t.value;break;case"emphasis":case"strong":n+=t.children.map(t=>e(t)).join("")}return n}(a),d=!1;if("*"===i){if(/^\d/.test(c)&&/\d$/.test(c))d=!0;else if(/^[a-z]$/.test(c))d=!0;else if(l.some(e=>c.includes(e)))if(/\d/.test(c))d=!0;else{let e=c.split("").reduce((e,t)=>l.includes(t)?e+1:e,0);d=e+1>=c.length-e}}return d?(0,p.jsxs)(p.Fragment,{children:["*",(0,p.jsx)(s,{nodes:a.children}),"*"]}):(0,p.jsx)("em",{children:(0,p.jsx)(s,{nodes:a.children})})}),aH=e=>{!e||e.match(/^[a-zA-Z]+:\/\//)||e.startsWith("mailto:")||(e="https://".concat(e));try{let t=new URL(e);if(["http:","https:"].includes(t.protocol))return encodeURI(e);if("mailto:"===t.protocol)return t.toString();return}catch(e){return}},aU=new Set,aW=(0,D.memo)(function(e){let{node:t,PhasingContent:n}=e,{disableLink:a,disableMailto:s}=aF(),{reportHeuristicLink:r}=(0,D.useContext)(aN)||{};if((0,D.useEffect)(()=>{var e;let n=t.children.at(0),a=(null==n?void 0:n.type)==="text"?n.value:t.url;(null==(e=t.data)?void 0:e.isHeuristic)&&!aU.has(a)&&(aU.add(a),null==r||r(a))},[t,r]),a||s&&t.url.startsWith("mailto:"))return(0,p.jsx)(n,{nodes:t.children});let o=aH(t.url);return(0,p.jsx)("a",{href:o,title:t.title||void 0,target:"_blank",rel:"noreferrer",children:(0,p.jsx)(n,{nodes:t.children})})});function az(e){var t;let{node:n}=e,a=aH(n.url);return(0,p.jsx)("a",{href:a,title:null!=(t=n.title)?t:"",target:"_blank",rel:"noreferrer",children:a})}var aG=n(55338);let aK=(0,D.memo)(function(e){let{height:t,minWidth:n,paddingLeading:a,paddingTrailing:s,inner:r,domRef:o,domProps:i,pointer:l,className:c}=e,d=(0,D.useRef)(null),u=(0,D.useRef)(null);return(0,p.jsxs)("span",{className:c,style:{display:"inline",cursor:l?"pointer":"default"},ref:o,...i,children:[(0,p.jsx)("span",{style:{opacity:0},ref:d,children:"-"}),(0,p.jsx)(n1,{onResize:e=>{let{entry:r}=e,i=d.current,l=o.current;if(!i||!l)return;let c=r.contentRect.width,{height:h,width:p}=i.getBoundingClientRect();if(l.style.paddingBottom="".concat((t-h)/2,"px"),l.style.paddingTop=l.style.paddingBottom,l.style.paddingLeft="".concat(a,"px"),l.style.paddingRight="".concat(s,"px"),c<n-a-s?i.style.margin="0 ".concat((n-a-s-p)/2,"px"):i.style.margin="0 ".concat((c-p)/2,"px"),aG.n){let e=u.current;e&&(e.style.opacity="0",e.offsetWidth,e.style.opacity="1")}},children:e=>{let{ref:t}=e;return(0,p.jsx)("span",{ref:(0,nY.P)(t,u),style:{position:"absolute",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)"},children:r})}})]})});function aq(e){let{height:t=18,minWidth:n=18,paddingLeading:a=4,paddingTrailing:s=4,text:r,domRef:o,domProps:i,pointer:l=!1}=e;return(0,p.jsx)(aK,{inner:r,domRef:o,domProps:i,minWidth:n,height:t,className:"ds-markdown-cite",paddingLeading:a,paddingTrailing:s,pointer:l})}let aZ=/(\\text{[^}]*?)·([^}]*?})/g,aQ="$1".concat("}\xb7\\text{","$2"),aY={inline:'<span class="katex">',inlineEnd:"</span>",displayMode:'<span class="katex-display"><span class="katex">',displayModeEnd:"</span></span>"},aX=(e,t)=>{let{isInline:n,useIsWIP:a,useOnKatexError:s}=t,r=(0,D.useRef)(""),[o,i]=(0,D.useState)(null),l=a(),c=(0,D.useRef)(aa()),[d,u]=(0,D.useState)(c.current instanceof Promise?null:c.current),h=s();(0,D.useEffect)(()=>{c.current instanceof Promise&&c.current.then(e=>{u(e)})},[]);let p=null===o?e:o;return(0,D.useEffect)(()=>{i(null)},[e]),(0,D.useMemo)(()=>{if(!d)return e;try{return r.current=d.renderToString(p,{throwOnError:!0,strict:!1,displayMode:!n}).slice(aY[n?"inline":"displayMode"].length,-aY[n?"inlineEnd":"displayModeEnd"].length),r.current}catch(t){if(t instanceof Error&&t.message.includes("\\cdotp")&&null===o){let t=e.match(aZ)?e.replace(aZ,aQ):null;if(null!==t)return i(t),r.current||e}if(h(t,e),!l)return e;return r.current||e}},[o,e,n,l,d,h,p])},aJ=(0,D.memo)(function(e){let{node:t,mode:n}=e,{position:a}=t,s=aB();return a&&void 0!==a.start.offset&&void 0!==a.end.offset?(0,p.jsx)("inline"===n?"span":"div",{style:{whiteSpace:"pre-wrap"},children:s.slice(a.start.offset,a.end.offset)}):null}),a$=(0,D.memo)(function(e){let{text:t,okText:n,onClick:a}=e,[s,r]=(0,D.useState)(!1);return(0,p.jsx)("div",{className:"ds-markdown-code-copy-button",onClick:()=>{s||(a(),r(!0),setTimeout(()=>{r(!1)},1e3))},children:s?n:t})}),a1=e=>e.children,a0=(0,D.memo)(function(e){let{code:t,infostring:n,offset:a}=e,s=function(e){let{markdown:t,endOffset:n}=e;return void 0!==n&&!/```\s*$/.test(t.slice(Math.max(0,n-24),n+1))}({markdown:aB(),endOffset:a}),{onCopyCode:r,copyCodeOkText:o,copyCodeText:i}=aF(),{CodeAction:l,CodeFooterAction:c,codeTheme:d,CodeContent:u,CodeInfoRow:h,CodeContext:m=a1,codeBottom:g}=(0,D.useContext)(aN)||{},f=(0,D.useState)(0)[1],C=function(e){if(!(e in aM))return!0;let t=aM[e];return t&&ak.includes(t)}(n);C||(function(e){let t=aM[e]||null;if(t){let e=aR[t];if(e)return e()}return Promise.resolve()})(n).then(()=>{f(e=>e+1)});let v=aM[n]||null,b=(0,D.useCallback)(()=>{var e;let t=null==(e=_.current)?void 0:e.textContent;t&&aj(t),null==r||r({lang:v||""})},[r,v]),_=(0,D.useRef)(null),S=(0,p.jsx)(a$,{text:i,okText:o,onClick:b}),E=(0,D.useMemo)(()=>aA.highlight(t,v&&C?aA.languages[v]:aA.languages.plaintext,v||"plaintext"),[t,v,C]),x=(0,D.useRef)(null);return(0,p.jsx)(m,{infostring:n,children:(0,p.jsxs)("div",{className:"md-code-block ".concat("dark"===d?"md-code-block-dark":"md-code-block-light"),ref:x,children:[(0,p.jsx)("div",{className:"md-code-block-banner-wrap",children:(0,p.jsx)("div",{className:"md-code-block-banner ".concat(h?"md-code-block-banner-lite":""),children:h?(0,p.jsx)(h,{isOpen:s,code:t,infostring:n,codeBlockRef:x}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"md-code-block-infostring",children:n}),(0,p.jsx)("div",{className:"md-code-block-action",children:!h&&l?(0,p.jsx)(l,{copyButton:S,code:t,infostring:n}):S})]})})}),u?(0,p.jsx)(u,{isOpen:s,code:t,infostring:n,html:E}):(0,p.jsx)("pre",{ref:_,dangerouslySetInnerHTML:{__html:E}}),c?(0,p.jsx)(c,{isOpen:s,code:t,infostring:n,renderFooter:e=>(0,p.jsx)("div",{className:"md-code-block-footer",children:e})}):null,g]})})}),a2=(0,D.memo)(function(e){let{code:t}=e;return(0,p.jsx)("code",{children:t})}),a3=(0,D.memo)(function(e){let{node:t}=e,{DeepSearchReference:n}=(0,D.useContext)(aN)||{};if(!n){let e;return e=t.index,"[reference:".concat(e,"]")}return(0,p.jsx)(n,{index:t.index})}),a4=(0,D.memo)(function(e){var t,n;let{node:a,citeProps:s}=e,{citeProps:r}=aF(),o=s||r,{value:i}=a,l=(null==o||null==(t=o.check)?void 0:t.call(o,i))||{valid:!0,text:""};if(!l.valid)return l.fallback;let{CiteWrapper:c=e=>{let{renderTrigger:t}=e;return(0,p.jsx)(p.Fragment,{children:t({domRef:{current:null},domProps:void 0})})}}=o||{},d=e=>()=>null==o?void 0:o.onOpenLink(e),u=null==o||null==(n=o.useLink)?void 0:n.call(o);return(0,p.jsx)(c,{value:i,renderTrigger:e=>{var t;let{domRef:n,domProps:a}=e,s=u||(null==o||null==(t=o.getLink)?void 0:t.call(o,i)),r=(0,p.jsx)(aq,{pointer:!!s,domRef:n,domProps:a,text:l.text});return s?(0,p.jsx)("a",{href:s,target:"_blank",rel:"noreferrer",onClick:d(s),onAuxClick:d(s),style:{cursor:"default"},children:r}):r}})}),a6=()=>()=>0,a5=()=>!1,a9=(0,D.memo)(function(e){let{value:t}=e,{useOnKatexError:n=a6,useIsWIP:a=a5}=(0,D.useContext)(aN)||{},s=aX(t,{isInline:!1,useOnKatexError:n,useIsWIP:a});return(0,p.jsx)("span",{className:(0,Z.A)("katex-display","ds-markdown-math"),children:(0,p.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:s}})})}),a8=(0,D.memo)(function(e){let{value:t}=e,{useOnKatexError:n=a6,useIsWIP:a=a5}=(0,D.useContext)(aN)||{},s=aX(t,{isInline:!0,useOnKatexError:n,useIsWIP:a});return(0,p.jsx)("span",{className:"katex",dangerouslySetInnerHTML:{__html:s}})}),a7=(0,D.memo)(function(e){let{value:t}=e;return t.match(/^<br\s*\/?>$/i)?(0,p.jsx)("br",{}):(0,p.jsx)("span",{className:"ds-markdown-html",children:t})}),se=(0,D.memo)(function(e){let{node:t}=e;return t.ordered?(0,p.jsx)("ol",{start:t.start||void 0,children:t.children.map((e,t)=>(0,p.jsx)("li",{children:(0,p.jsx)(sh,{nodes:e.children})},t))}):(0,p.jsx)("ul",{children:t.children.map((e,t)=>(0,p.jsx)("li",{children:(0,p.jsx)(sh,{nodes:e.children})},t))})}),st=(0,D.memo)(function(e){let{nodes:t}=e;return(0,p.jsx)("tr",{children:t.map((e,t)=>(0,p.jsx)("td",{children:(0,p.jsx)(sl,{nodes:e.children})},t))})}),sn=e=>{let{children:t}=e;return(0,p.jsx)("div",{className:"markdown-table-wrapper",children:t})},sa=(0,D.memo)(function(e){var t,n;let{node:a}=e,{TableWrapper:s=sn}=null!=(n=(0,D.useContext)(aN))?n:{},r=null==(t=a.children[0])?void 0:t.children.length;return(0,p.jsx)(s,{children:(0,p.jsxs)("table",{children:[a.children[0]?(0,p.jsx)("thead",{children:(0,p.jsx)("tr",{children:a.children[0].children.map((e,t)=>(0,p.jsx)("th",{children:(0,p.jsx)(sl,{nodes:e.children})},t))})}):null,a.children[1]?(0,p.jsx)("tbody",{children:a.children.slice(1).map((e,t)=>{let n=e.children.length||0;return(0,p.jsxs)("tr",{children:[e.children.map((e,t)=>(0,p.jsx)("td",{children:(0,p.jsx)(sl,{nodes:e.children})},t)),Array.from({length:r-n}).map((e,t)=>(0,p.jsx)("td",{},"ptd_".concat(t)))]},t)})}):null]})})}),ss=(0,D.memo)(function(e){let{nodes:t}=e;return(0,p.jsx)(p.Fragment,{children:t.map((e,t)=>{switch(e.type){case"heading":return(0,p.jsx)(so,{depth:e.depth,nodes:e.children},t);case"break":return(0,p.jsx)("br",{},t);case"blockquote":return(0,p.jsx)("blockquote",{children:(0,p.jsx)(sh,{nodes:e.children})},t);case"code":var n;return(0,p.jsx)(a0,{code:e.value,infostring:e.lang||"text",offset:null==(n=e.position)?void 0:n.end.offset},t);case"delete":return(0,p.jsx)(sr,{node:e},t);case"text":return(0,p.jsx)(sd,{children:e.value},t);case"table":return(0,p.jsx)(sa,{node:e},t);case"emphasis":return(0,p.jsx)(aV,{node:e,PhasingContent:sl},t);case"tableRow":return(0,p.jsx)(st,{nodes:e.children},t);case"tableCell":return(0,p.jsx)("td",{children:(0,p.jsx)(sl,{nodes:e.children})},t);case"list":return(0,p.jsx)(se,{node:e},t);case"link":return(0,p.jsx)(aW,{node:e,PhasingContent:sl},t);case"strong":return(0,p.jsx)("strong",{children:(0,p.jsx)(sl,{nodes:e.children})},t);case"listItem":return(0,p.jsx)("li",{children:(0,p.jsx)(sh,{nodes:e.children})},t);case"paragraph":return(0,p.jsx)("p",{className:"ds-markdown-paragraph",children:(0,p.jsx)(sl,{nodes:e.children})},t);case"image":return(0,p.jsx)(az,{node:e},t);case"inlineCode":return(0,p.jsx)(a2,{code:e.value},t);case"thematicBreak":return(0,p.jsx)("hr",{},t);case"html":return(0,p.jsx)(a7,{value:e.value},t);case"math":return(0,p.jsx)(a9,{value:e.value},t);case"inlineMath":return(0,p.jsx)(a8,{value:e.value},t);case"yaml":case"definition":case"linkReference":case"imageReference":case"footnoteDefinition":case"footnoteReference":case"mdxJsxFlowElement":case"mdxJsxTextElement":return(0,p.jsx)(aJ,{node:e,mode:"block"},t);case"citation":return(0,p.jsx)(a4,{node:e},t);case"deepSearchReference":return(0,p.jsx)(a3,{node:e},t);default:return si(e)}})})}),sr=(0,D.memo)(function(e){let{node:t}=e;return(0,p.jsxs)(p.Fragment,{children:[sm(t),(0,p.jsx)(sl,{nodes:t.children}),sg(t)]})}),so=(0,D.memo)(function(e){let{depth:t,nodes:n}=e;return 0===n.length?null:(0,p.jsx)(p.Fragment,{children:(0,D.createElement)("h".concat(t),null,(0,p.jsx)(sl,{nodes:n}))})}),si=e=>null,sl=(0,D.memo)(function e(t){let{nodes:n}=t;return(0,p.jsx)(p.Fragment,{children:n.map((t,n)=>{switch(t.type){case"inlineMath":return(0,p.jsx)(a8,{value:t.value},n);case"break":return(0,p.jsx)("br",{},n);case"delete":return(0,p.jsx)(sr,{node:t},n);case"emphasis":return(0,p.jsx)(aV,{node:t,PhasingContent:e},n);case"image":return(0,p.jsx)(az,{node:t},n);case"html":return(0,p.jsx)(a7,{value:t.value},n);case"inlineCode":return(0,p.jsx)(a2,{code:t.value},n);case"link":return(0,p.jsx)(aW,{node:t,PhasingContent:e},n);case"strong":return(0,p.jsx)("strong",{children:(0,p.jsx)(e,{nodes:t.children})},n);case"text":return(0,p.jsx)(sd,{children:t.value},n);case"footnoteReference":case"imageReference":case"linkReference":case"mdxJsxTextElement":return(0,p.jsx)(aJ,{node:t,mode:"inline"},n);case"citation":return(0,p.jsx)(a4,{node:t},n);case"deepSearchReference":return(0,p.jsx)(a3,{node:t},n);default:return si(t)}})})}),sc=/\\boxed\{[^}]+\}/,sd=(0,D.memo)(function(e){let{children:t}=e,n=[];return t.split("\n").forEach((e,t)=>{e.match(sc)?n.push((0,p.jsx)(su,{text:e},t+"tbm"),(0,p.jsx)("br",{},t)):n.push((0,p.jsx)("span",{children:e},t+"s"),(0,p.jsx)("br",{},t+"br"))}),n.pop(),n}),su=(0,D.memo)(function(e){let{text:t}=e,n="\\boxed{",a=n.length,s=t.indexOf(n),r=1,o=-1;for(let e=s+a;e<t.length;e++)if("}"===t[e]&&(r-=1),"{"===t[e]&&(r+=1),0===r){o=e;break}if(-1===o)return t;let i=t.slice(s+a,o);return(0,p.jsxs)(p.Fragment,{children:[t.slice(0,s),(0,p.jsx)(a8,{value:i}),t.slice(o+1)]})}),sh=(0,D.memo)(function e(t){let{nodes:n}=t;return n.map((t,n)=>{switch(t.type){case"math":return(0,p.jsx)(a9,{value:t.value},n);case"mdxJsxFlowElement":case"footnoteDefinition":case"definition":return(0,p.jsx)(aJ,{node:t,mode:"block"},n);case"thematicBreak":return(0,p.jsx)("hr",{},n);case"blockquote":return(0,p.jsx)("blockquote",{children:(0,p.jsx)(e,{nodes:t.children})},n);case"html":return(0,p.jsx)(a7,{value:t.value},n);case"heading":return(0,D.createElement)("h".concat(t.depth),{key:n},(0,p.jsx)(sl,{nodes:t.children}));case"paragraph":return(0,p.jsx)("p",{className:"ds-markdown-paragraph",children:(0,p.jsx)(sl,{nodes:t.children})},n);case"code":var a;return(0,p.jsx)(a0,{code:t.value,infostring:t.lang||"text",offset:null==(a=t.position)?void 0:a.end.offset},n);case"table":return(0,p.jsx)(sa,{node:t},n);case"list":return(0,p.jsx)(se,{node:t},n);case"citation":return(0,p.jsx)(a4,{node:t},n);case"deepSearchReference":return(0,p.jsx)(a3,{node:t},n);default:return si(t)}})}),sp=(0,D.memo)(function(e){let{ast:t,markdown:n,copyCodeText:a,copyCodeOkText:s,zoom:r=1,onCopyCode:o,citeProps:i,onUpdate:l,className:c,disableLink:d=!1,disableMailto:u=!0}=e,h=(0,D.useMemo)(()=>({copyCodeOkText:s,copyCodeText:a,onCopyCode:o,citeProps:i,disableLink:d,disableMailto:u}),[i,s,a,o,d,u]),m=(0,D.useRef)(()=>0);m.current=l,(0,D.useLayoutEffect)(()=>m.current(),[t.children]);let g=(0,D.useMemo)(()=>({markdown:n}),[n]);return(0,D.useMemo)(()=>(0,p.jsx)(aL,{value:h,children:(0,p.jsx)(aD,{value:g,children:(0,p.jsx)("div",{className:(0,Z.A)("ds-markdown",c),style:{"--ds-md-zoom":r},children:(0,p.jsx)(ss,{nodes:t.children})})})}),[h,g,c,r,t.children])}),sm=e=>{var t,n,a,s;let r=e.children[0],o=null!=(a=null==(t=e.position)?void 0:t.start.offset)?a:NaN,i=null!=(s=null==(n=r.position)?void 0:n.start.offset)?s:NaN;return Number.isInteger(o)&&Number.isInteger(i)?"~".repeat(i-o):""},sg=e=>{var t,n,a,s;let r=e.children.at(-1),o=null!=(a=null==(t=e.position)?void 0:t.end.offset)?a:NaN,i=null!=(s=null==r||null==(n=r.position)?void 0:n.end.offset)?s:NaN;return Number.isInteger(o)&&Number.isInteger(i)?"~".repeat(o-i):""};function sf(e){let{children:t,codeBottom:n,CodeAction:a,CodeFooterAction:s,codeTheme:r,CodeInfoRow:o,CodeContent:i,CodeContext:l,TableWrapper:c,reportHeuristicLink:d,DeepSearchReference:u,useOnKatexError:h,useIsWIP:m}=e;return(0,p.jsx)(aN.Provider,{value:(0,D.useMemo)(()=>({codeBottom:n,CodeAction:a,CodeFooterAction:s,codeTheme:r,CodeInfoRow:o,CodeContent:i,CodeContext:l,TableWrapper:c,reportHeuristicLink:d,DeepSearchReference:u,useOnKatexError:h,useIsWIP:m}),[a,i,l,s,o,c,n,r,d,u,h,m]),children:t})}let sC=(0,D.memo)(function(e){let{citeProps:t,cacheKey:n,loading:a,content:s,disableLink:r}=e,o=n7(),i=(0,ee.DK)(()=>{a&&o()}),l=g.R.useTranslate(),{ast:c,processedMarkdown:d}=function(e){let{ast:t,markdown:n}=(0,D.useMemo)(()=>(e=>{var t,n,a,s;let r,{markdown:o,loading:i,onAstPreprocessError:l,parseMath:c,cacheKey:d}=e,u=aT(o,i);if(!u)return{ast:null,markdown:""};let{md:h,cacheRes:p}=aI(d,i,u),m=(t={parseMath:c},(r={extensions:[],mdastExtensions:[]}).extensions.push(al.extensions["0"]),r.mdastExtensions.push(al.mdastExtensions["0"]),t.parseMath&&(r.extensions.push(ac.extensions["0"]),r.mdastExtensions.push(ac.mdastExtensions["0"])),n=(0,as.Y)(h,r),(0,ah.T)(n,[[ap,function e(t,n,a,s,r){let o="";if(!function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(void 0===e.input||void 0===e.index)return!1;let n=e.input.charCodeAt(e.index-1);return 0===e.index||(0,au.Ny)(n)||(0,au.es)(n)||aC(n)&&(!t||47!==n)}(r))return!1;void 0===n&&(n="",o="https://");let i=function(e){let t=e.at(0);if(t&&!ag.includes(t))return["",e];for(let t of am){let n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),e.substring(n)]}return[e,void 0]}(s),l=function(e){for(let t=0;t<e.length;t++)if(aC(e.charCodeAt(t)))return[e.substring(0,t),e.substring(t)];let t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],a=n.indexOf(")"),s=(0,ad.D)(e,"("),r=(0,ad.D)(e,")");for(;-1!==a&&s>r;)e+=n.slice(0,a+1),a=(n=n.slice(a+1)).indexOf(")"),r++;return[e,n]}(a+i[0]);if(!l[0]||!af(i[1])||!af(l[1]))return!1;let c={type:"link",title:null,url:o+n+l[0],children:[{type:"text",value:n+l[0]}],data:{isHeuristic:!0}},d=c;return l[1]&&(d=[c,{type:"text",value:l[1]}]),i[1]&&(d=[...Array.isArray(d)?d:[d],{type:"text",value:i[1]}]),Array.isArray(d)&&(d=d.flatMap(t=>"text"===t.type?function(t){let n=new RegExp(ap),a=n.exec(t);for(;a;){let[,s,r,o=""]=a,i=e(a[0],s,r,o,{input:t,index:a.index});if(!1!==i)return[{type:"text",value:t.substring(0,a.index)},...[i].flat()];a=n.exec(t)}return[{type:"text",value:t}]}(t.value):t)),d}]],{ignore:["link","linkReference"]}),a=n,(0,ah.T)(a,[[av,ab]],{ignore:["link","linkReference"]}),s=a,(0,ah.T)(s,[[a_,aS]],{ignore:["link","linkReference"]}),s);d&&i&&aw.adjustPosAndSave(d,m,p);let g=aw.joinAst(m,p.nodes);return!function e(t){let{ast:n,loading:a,onError:s}=t;if(a)try{let t=n.children[n.children.length-1];if(!t)return;if("list"===t.type){let n=t.children[t.children.length-1];if(n){let t=n.children[n.children.length-1];if(t)if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d|\*\s?|-\s?)$/,""))}else"thematicBreak"===t.type&&1===n.children.length?n.children=[]:"list"===t.type&&e({ast:n,loading:a,onError:s})}}else if("paragraph"===t.type){let e=t.children[t.children.length-1];e&&"text"===e.type&&(e.value=e.value.replace(/(\d|\d\d)$/,""))}}catch(e){null==s||s(e)}}({ast:g,loading:i,onError:l}),{markdown:u,ast:g}})(e),[e]);return{ast:t,processedMarkdown:n}}({markdown:(0,ee.HR)({content:s,maxWait:2e3,timeConsumingRate:2,enable:a,getNow:()=>performance.now()}),loading:a,onAstPreprocessError:null,parseMath:!0,cacheKey:n}),u=T.aU.useIsShareSelecting();return(0,p.jsx)(p.Fragment,{children:c?(0,p.jsx)(sp,{className:u?"pointer-events-none":"",markdown:d,ast:c,copyCodeText:l("copyCode"),copyCodeOkText:l("copyCodeOk"),zoom:1.143,onCopyCode:sv,citeProps:t,onUpdate:i,disableLink:r},n):null})}),sv=e=>{let{lang:t}=e;g.y.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:t}})},sb=(e,t,n)=>"S".concat(e,"_M").concat(t,"_F").concat(null===n?"[Nil]":n);var s_=n(73446),sS=n.n(s_);n(84753);let sE=new Set,sx=(0,D.memo)(function(e){let{url:t,className:n,style:a}=e,[s,r]=(0,D.useState)(sE.has(t)?"error":"loading");return(0,p.jsxs)("div",{className:(0,Z.A)(n,"site_logo_back"),style:a,children:["error"!==s?(0,p.jsx)("img",{src:t,onLoad:()=>r("loaded"),onError:()=>{sE.add(t),r("error")},style:{display:"loaded"===s?"block":"none"},className:"site_logo_img"}):null,"error"===s&&(0,p.jsx)("div",{className:"site_logo_loading site_logo_fallback",children:(0,p.jsx)(eg.P,{})}),"loading"===s&&(0,p.jsx)("div",{className:"site_logo_loading"})]})});var sy=n(50604);let sw=(0,D.memo)(function(e){let{searchResult:t,className:n,clickable:a=!0,index:s,messageIndex:r,from:o}=e,i=sT(t.siteName,t.url),l=i&&t.publishedAt,c=(0,na.XI)();return(0,p.jsx)(sI,{link:t.url&&a?t.url:null,onOpen:()=>c&&sj(t.url,r,o),children:(0,p.jsxs)("div",{className:(0,Z.A)(sy.wrap,n,a&&sy.clickable),children:[(0,p.jsxs)("div",{className:sy.meta,children:[(0,p.jsx)(sx,{url:t.siteIcon,className:sy.siteIcon}),i?(0,p.jsx)("span",{className:sy.siteName,children:i}):null,l?(0,p.jsx)("div",{className:sy.divider}):null,(0,p.jsx)("span",{className:sy.date,children:sA(t.publishedAt)}),void 0!==s?(0,p.jsx)("span",{className:(0,Z.A)("ds-markdown-cite",sy.index),children:s}):null]}),(0,p.jsx)("div",{className:(0,Z.A)(sy.title,"search-view-card__title"),children:t.title}),(0,p.jsx)("div",{className:(0,Z.A)(sy.snippet,"search-view-card__snippet"),children:t.snippet})]})})}),sI=e=>{let{link:t,onOpen:n,children:a}=e;return t?(0,p.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",onClick:n,onAuxClick:n,className:sy.cardAnchorWrap,children:a}):a},sT=(e,t)=>{if(e)return e;if(!t)return"";try{return new URL(t).hostname.replace(/^www\./,"")}catch(e){return""}},sA=e=>e?sS()(1e3*e).format("YYYY/MM/DD"):"",sj=(e,t,n)=>{(0,T.qH)({name:"search_result_click",start_time:Date.now(),end_time:Date.now(),attributes:{url:e,message_id:(null==t?void 0:t.messageId)||-1,chat_session_id:(null==t?void 0:t.sessionId)||""}}),g.y.tracker.info({name:"openSearchResult",message:"打开搜索条目",payload:{url:e,from:n}})};var sk=n(70559);let sM=(0,D.memo)(function(e){let{searchResult:t,index:n,from:a}=e;return(0,p.jsx)("div",{className:sk.floatCard,children:(0,p.jsx)(sw,{searchResult:t,messageIndex:n,from:a})})}),sR=(0,D.createContext)({sessionId:"",messageId:-100});sR.displayName="IdContext";let sN=sR.Provider,sO=()=>(0,D.useContext)(sR),sL=(0,D.createContext)("");sL.displayName="FragmentIdContext",sL.Provider;let sF=(0,D.createContext)(null),sP=sF.Provider,sD=()=>(0,D.useContext)(sF),sB=e=>{let{renderTrigger:t,citeResult:n,sessionId:a,messageId:s,from:r}=e;return(0,p.jsx)(tx.m,{renderTrigger:t,floatingAnimated:!0,size:"m",hoverable:!0,theme:{padding:"0",backgroundColor:"transparent"},children:n?(0,p.jsx)(sM,{searchResult:n,index:{sessionId:a||"",messageId:s||-1},from:r}):null})},sV=(0,D.memo)(function(e){let{renderTrigger:t}=e,{sessionId:n,messageId:a}=sO(),s=sD();return(0,p.jsx)(sB,{renderTrigger:t,citeResult:s,sessionId:n,messageId:a,from:"reference"})}),sH=(0,D.memo)(function(e){let{renderTrigger:t,value:n}=e,{sessionId:a,messageId:s}=sO(),r=(0,T.Z2)().hooks.useV1CiteSearchResult({sessionId:a||"",messageId:s||-1},n);return(0,p.jsx)(sB,{renderTrigger:t,citeResult:r,sessionId:a||"",messageId:s||-1,from:"citation"})}),sU=e=>{let{sessionId:t,messageId:n}=e,a=(0,T.Z2)(),s=(0,na.XI)();return(0,D.useMemo)(()=>({check:e=>{let s=a.convertCiteIndexToListIndex({sessionId:t,messageId:n},e);return s.valid?{valid:!0,text:s.text}:{fallback:"[citation:".concat(e,"]"),valid:!1}},CiteWrapper:sH,getLink:e=>{let s=a.getV1SearchResult({sessionId:t||"",messageId:n||0},e);return(null==s?void 0:s.url)||null},onOpenLink:e=>s&&sj(e,{sessionId:t,messageId:n},"citation"),wrapperDeps:{sessionId:t,messageId:n}}),[s,n,a,t])};function sW(e){let{children:t,justifyContent:n,alignItems:a,gap:s=12,columnGap:r=s,rowGap:o=s,flexDirection:i,flexWrap:l,style:c,className:d,domRef:u,domProps:h}=e;return(0,p.jsx)("div",{...h,ref:u,className:(0,Z.A)("".concat(U.V,"-flex"),d,null==h?void 0:h.className),style:{...null==h?void 0:h.style,...c,justifyContent:n,alignItems:a,gap:s,rowGap:o,columnGap:r,flexDirection:i,flexWrap:l},children:t})}n(87351),n(1768);let sz=e=>{let{children:t,icon:n,onClick:a,disabled:s=!1,loading:r=!1,className:o,style:i,domRef:l,domProps:c,iconColor:d,iconSize:u=16,iconAlign:h="left",iconMargin:m=3,link:g}=e;return(0,p.jsx)(td,{style:null!=i?i:{},link:g,icon:n,iconColor:d,onClick:a,disabled:s,domRef:l,domProps:c,loading:r,className:(0,Z.A)("".concat(U.V,"-text-button"),n&&"".concat(U.V,"-text-button--with-icon"),s&&"".concat(U.V,"-text-button--disabled"),o),iconSize:u,iconAlign:h||"left",iconMargin:m,suffix:(0,p.jsx)(tr.v,{}),children:t})};var sG=n(40159);let sK=e=>{let{onClick:t,children:n,style:a,className:s,disabled:r}=e,[o,i]=(0,D.useState)(!1);return(0,p.jsx)(sz,{disabled:r,style:a,onClick:()=>{o||(t(),i(!0),setTimeout(()=>{i(!1)},1e3))},className:s,icon:o?(0,p.jsx)(eg.rB,{}):(0,p.jsx)(eg.sS,{}),children:n})};function sq(e){let{onClick:t}=e,[n,a]=(0,D.useState)(!1),s=g.R.useTranslate();return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:s,domRef:r}=e;return(0,p.jsx)(ef.K,{className:sG.copyButton,domProps:s,domRef:r,onClick:()=>{n||(t(),a(!0),setTimeout(()=>{a(!1)},1e3))},size:"m",children:n?(0,p.jsx)(eg.rB,{}):(0,p.jsx)(eg.sS,{})})},children:s("copyCode")})}var sZ=n(92740);let sQ=(0,D.createContext)({searchEnabled:!1,thinkingEnabled:!1,setSearchEnabled:sZ.l,setThinkingEnabled:sZ.l}),sY=()=>(0,D.useContext)(sQ),sX=e=>{let{children:t}=e,[n,a]=g.y.storageHandles.thinkingEnabledStorageHandle.useState(),[s,r]=g.y.storageHandles.searchEnabledStorageHandle.useState(),o=(0,D.useMemo)(()=>({thinkingEnabled:n,searchEnabled:s,setThinkingEnabled:a,setSearchEnabled:r}),[s,r,a,n]);return(0,p.jsx)(sQ.Provider,{value:o,children:t})};var sJ=n(87109);let s$=(0,sJ.Qc)({getChallengeByScene:async e=>{let t=s1(e);return await (0,T.c4)({targetPath:t})},getTracker:()=>g.y.tracker}),s1=e=>{switch(e){case"completion_like":return T.Qm;case"upload_file":return T.O;default:(0,T.ZT)(e)}},s0=async e=>{let{t,setIsSolvingChallenge:n,scene:a}=e;n(!0);let s=t("r1PowComputeFail");try{let e=await s$.retrieveAnswer(a),t=null==e?void 0:e.res;if(t)return{success:!0,res:t};return{success:!1,msg:s}}catch(e){return g.y.tracker.error({name:"fetchPowBroken",message:"POW获取异常",payload:g.y.tracker.withError(e,{scene:a})}),{success:!1,msg:s}}finally{n(!1)}},s2=(0,D.createContext)(void 0),s3=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useContext)(s2);if(!a)throw Error("useHtmlRuntime must be used within HtmlRuntimeProvider");return a(t[0])},s4=e=>{let{children:t}=e,n=(0,T.Z2)(),a=(0,T.M7)(),[s]=(0,D.useState)(()=>(0,eQ.vt)(e=>({visible:!1,code:"",title:"",setCode:t=>{e({code:t,title:function(e){try{var t;let n=e.match(/<title[^>]*>([^<]*)<\/title>/i);return(null==n||null==(t=n[1])?void 0:t.trim())||null}catch(e){return null}}(t)||"HTML"})},open:()=>{n.closeSearchView(),a.closePreview(),e({visible:!0})},close:()=>{e({visible:!1})}}))),{close:r,setCode:o}=s.getState();(0,D.useEffect)(()=>{let e=[n.listenOpenView(r),a.listenPreview(r)];return()=>{e.forEach(e=>e())}},[a,n,r]);let i=(0,K.zy)();return(0,D.useEffect)(()=>{r(),o("")},[r,i,o]),(0,p.jsx)(s2.Provider,{value:s,children:t})},s6=e=>{try{let t=e.nativeEvent;if(!t)return!1;return t.isTrusted&&t instanceof Event}catch(e){return!1}};function s5(){return!(0,T.Lo)(e=>e.isMuted)}let s9="data-escape-transition",s8=(0,D.memo)(function(e){let{sessionId:t,messageId:n,style:a,className:s,feedback:r,showFeedbackModal:o,onFeedbackChange:i,onDislikeClick:l,onCopy:c}=e,d=g.R.useTranslate(),u=(0,D.useRef)(null);return((0,D.useEffect)(()=>{requestAnimationFrame(()=>{u.current&&u.current.removeAttribute(s9)})},[]),nm())?(0,p.jsx)(sW,{className:s,style:a,gap:10,alignItems:"center",children:(0,p.jsx)(sq,{onClick:c})}):(0,p.jsxs)(sW,{className:s,style:a,gap:10,alignItems:"center",domRef:u,domProps:{[s9]:!0},children:[(0,p.jsx)(sq,{onClick:c}),(0,p.jsx)(s7,{sessionId:t,messageId:n}),(0,p.jsx)(re,{active:r===T.FM.MessageFeedback.LIKE,onClick:()=>{r===T.FM.MessageFeedback.LIKE?null==i||i(null):null==i||i(T.FM.MessageFeedback.LIKE)},children:d("messageLikeButtonTooltip")}),(0,p.jsx)(rt,{active:r===T.FM.MessageFeedback.DISLIKE||!0===o,onClick:()=>{r===T.FM.MessageFeedback.DISLIKE?null==i||i(null):null==l||l()},children:d("messageDislikeButtonTooltip")}),(0,p.jsx)(rn,{sessionId:t,messageId:n})]})});function s7(e){let{sessionId:t,messageId:n}=e,a=g.R.useTranslate(),{thinkingEnabled:s,searchEnabled:r}=sY(),o=(0,T.KT)(t,n),i=T.rV.useSessionChatStatus(t),{regenerateMessage:l}=(0,T.Y_)(),c=(0,T.Z2)(),d=s3(e=>e.close),u=o.messageBody.useMessageStatus(),h=o.messageBody.useBanRegenerate(),m=i!==T.wG.idle,f=[T.FM.MessageStatus.CONTENT_FILTER,T.FM.MessageStatus.CONTEXT_LENGTH_EXCEEDED].includes(u)||h,C=m||f,v=f?a("regenerateNotAvailable"):m?a("generatingDisableTooltip"):a("regenerate"),b=async e=>{"click"===e.source&&!s6(e.evt)||("keyboard"!==e.source||(e=>{try{let t=e.nativeEvent;if(!t)return!1;return t.isTrusted&&t instanceof Element}catch(e){return!1}})(e.evt))&&(d(),c.closeSearchView(),l({chatSessionId:t,childMessageId:n,searchEnabled:r,getPowRes:()=>s0({t:a,setIsSolvingChallenge:n3.A,scene:"completion_like"}),thinkingEnabled:s}))};return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,p.jsx)(ef.K,{domProps:t,domRef:n,onClick:C?void 0:b,size:"m",disabled:C,className:sG.copyButton,children:(0,p.jsx)(eg.CO,{})})},children:v})}function re(e){let{onClick:t,active:n,children:a}=e;return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:a,domRef:s}=e;return(0,p.jsx)(ef.K,{domProps:a,domRef:s,onClick:t,size:"m",className:sG.copyButton,children:n?(0,p.jsx)(eg.ft,{}):(0,p.jsx)(eg.eG,{})})},children:a})}function rt(e){let{onClick:t,active:n,children:a}=e;return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:a,domRef:s}=e;return(0,p.jsx)(ef.K,{domProps:a,domRef:s,onClick:t,size:"m",className:sG.copyButton,children:n?(0,p.jsx)(eg.Px,{}):(0,p.jsx)(eg.iK,{})})},children:a})}function rn(e){let{sessionId:t,messageId:n}=e,a=s5(),s=(0,T.zG)(),{selectable:r}=T.aU.useMessageSelectStatus(t,n),o=()=>{g.y.tracker.info({name:"shareEntryClick",message:"分享入口点击",payload:{entryType:"message_actions",sessionId:t,messageId:n}}),s.enterSelection(t,[n])},i=g.R.useTranslate();return a?(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,p.jsx)(ef.K,{domProps:t,domRef:n,onClick:o,size:"m",className:sG.copyButton,disabled:!r,children:(0,p.jsx)(eg.cV,{})})},children:r?i.share:i.shareButtonDisabledTooltip}):null}function ra(e,t){var n;let a,s,r,o,i,l,c,d,u,h,p,m,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t){if(!t.contains(e))return}else t=function(e){let t=e;for(;t&&t!==document.body;){let e=window.getComputedStyle(t);if(("auto"===e.overflow||"scroll"===e.overflow||"auto"===e.overflowX||"scroll"===e.overflowX||"auto"===e.overflowY||"scroll"===e.overflowY)&&t.scrollHeight>t.clientHeight)return t;t=t.parentElement}return document.documentElement}(e);let f=(n=t,a=g.topOcclusion||0,s=g.bottomOcclusion||0,r=e.getBoundingClientRect(),i=(o=n.getBoundingClientRect()).top+a,c=(l=o.bottom-s)-i,d=r.top-i,u=l-r.bottom,h=Math.max(r.top,i),p=Math.max(0,Math.min(r.bottom,l)-h),{isFullyVisible:p===(m=r.height),isOverflowing:m>c,isTopClipped:d<0,isBottomClipped:u<0,isPartiallyVisible:p>0,visibleHeight:p,visibleRatio:m>0?p/m:0,topDistance:d,bottomDistance:u,containerVisibleHeight:c,elementHeight:m});if(f.isFullyVisible)return;let C=t.scrollTop,v=C+f.topDistance,b=C-f.bottomDistance,_=g.behavior;if(f.elementHeight<=f.containerVisibleHeight){if(f.isPartiallyVisible&&("either-visible"===g.allowPartial||"top-visible"===g.allowPartial&&!f.isTopClipped||"bottom-visible"===g.allowPartial&&!f.isBottomClipped))return;if(f.isTopClipped&&f.isBottomClipped){let e=Math.abs(C-v),n=Math.abs(C-b);t.scrollTo({top:e<=n?v:b,behavior:_})}else f.isTopClipped?t.scrollTo({top:v,behavior:_}):f.isBottomClipped&&t.scrollTo({top:b,behavior:_})}else if(f.isTopClipped)t.scrollTo({top:v,behavior:_});else if(f.isBottomClipped&&f.isPartiallyVisible){let e=Math.min(C+Math.min(Math.abs(f.bottomDistance),100),v);e>v&&t.scrollTo({top:e,behavior:_})}}let rs=()=>{throw Error("useMessageListScroll called outside of MessageListScrollProvider")},rr=(0,D.createContext)({setScrollEl:rs,getScrollEl:()=>null,getScrollElRef:rs,addMessageEl:rs,getMessageEls:rs}),ro=(0,D.memo)(function(e){let{children:t}=e,n=(0,D.useRef)(null),a=(0,D.useRef)(new Set),s=(0,D.useMemo)(()=>({setScrollEl:e=>{n.current=e},getScrollEl:()=>n.current,getScrollElRef:()=>n,addMessageEl:(e,t)=>{let n=[e,t];return a.current.add(n),()=>{a.current.delete(n)}},getMessageEls:()=>Array.from(a.current)}),[]);return(0,p.jsx)(rr.Provider,{value:s,children:t})}),ri=()=>(0,D.useContext)(rr).getScrollElRef(),rl=(e,t)=>{let{index:n,id:a}=t,{addMessageEl:s}=(0,D.useContext)(rr);(0,D.useEffect)(()=>s(e,{index:n,id:a}),[s,e,a,n])},rc=()=>{let e=(0,D.useContext)(rr).getScrollEl();return(0,D.useCallback)((t,n)=>{if(e){if(!e.contains(t))throw Error("el is not in scrollEl");ra(t,e,n)}},[e])},rd=new Map;var ru=n(89510);let rh=(0,D.memo)(function(e){var t;let n,{style:a,count:s,index:r,onIndexChange:o,sessionId:i,messageId:l}=e,c=r<=0,d=r>=s-1,u=(0,D.useRef)(null),h=ri(),{recordPos:m,restorePos:g}=(t=(0,T.KT)(i,l).layout.useBranchRestoreScrollPosKey(),n=(0,D.useCallback)(()=>{rd.delete(t)},[t]),{recordPos:(0,D.useCallback)(()=>{if(!u.current||!h.current)return;let e=u.current.getBoundingClientRect().top;rd.set(t,e),setTimeout(()=>{n()},0)},[h,n,t,u]),restorePos:(0,D.useCallback)(()=>{if(!u.current||!h.current)return;let e=rd.get(t);if(void 0===e)return;let a=u.current.getBoundingClientRect().top;h.current.scrollTo({top:h.current.scrollTop+(a-e)}),n()},[h,n,t,u])});return(0,D.useLayoutEffect)(()=>{g()},[]),(0,p.jsxs)("div",{className:ru.wrap,style:a,ref:u,children:[(0,p.jsx)(ef.K,{size:"s",className:ru.icon,disabled:c,onClick:()=>{c||(m(),o(-1))},children:(0,p.jsx)(eg.f9,{})}),(0,p.jsxs)("div",{className:ru.branch,children:[r+1," / ",s]}),(0,p.jsx)(ef.K,{size:"s",className:ru.icon,disabled:d,onClick:()=>{d||(m(),o(1))},children:(0,p.jsx)(eg.A8,{})})]})});function rp(e){let{options:t,onChange:n,name:a,value:s,defaultValue:r=null,variant:o="filled",disabled:i=!1,tail:l,style:c,theme:d}=e,[u,h]=(0,D.useState)(r),m=void 0===s?u:s,[g,f]=(0,D.useState)(!1);return(0,p.jsxs)("div",{className:(0,Z.A)("".concat(U.V,"-radio-button-group"),i&&"".concat(U.V,"-radio-button-group--disabled"),"".concat(U.V,"-radio-button-group--").concat("bordered"===o?"bordered1":"filled"===o?"filled1":o)),role:"radiogroup",style:{...c,"--ds-radio-button-group-button-border-radius":null==d?void 0:d.buttonBorderRadius,"--ds-radio-button-group-button-height":null==d?void 0:d.buttonHeight,"--ds-radio-button-group-button-font-size":null==d?void 0:d.buttonFontSize,"--ds-radio-button-group-gap":null==d?void 0:d.gap},children:[t.map(e=>(0,p.jsx)(rm,{disabled:i,label:e.label,value:e.value,inputDomProps:e.inputDomProps,active:m===e.value,name:a,inputFocused:g,setInputFocused:f,onClick:()=>{h(e.value),null==n||n(e.value)}},e.value)),l?(0,p.jsx)("div",{className:"".concat(U.V,"-radio-button-group-tail"),children:l}):null]})}function rm(e){let{label:t,value:n,active:a,name:s,inputDomProps:r,disabled:o,inputFocused:i,setInputFocused:l,onClick:c}=e,[d,u]=(0,D.useState)(!1),h=(0,D.useRef)(null);return(0,p.jsxs)("label",{className:(0,Z.A)("".concat(U.V,"-radio-button"),a&&"".concat(U.V,"-radio-button--active"),d&&"".concat(U.V,"-radio-button--focus")),onClick:o?void 0:c,children:[aG.n?(0,p.jsx)("div",{tabIndex:!i&&a?0:-1,style:{outline:"none"},onFocus:()=>{var e;null==(e=h.current)||e.focus()},"aria-hidden":"true"}):null,(0,p.jsx)("input",{...r,disabled:o,type:"radio",name:s,value:n,ref:h,className:"".concat(U.V,"-radio-button__input"),onFocus:()=>{u(!0),l(!0)},onBlur:()=>{u(!1),l(!1)}}),t]},n)}function rg(e){let{rows:t,onChange:n,placeholder:a,textareaDomProps:s,autoHeight:r,autoWidth:o,variant:i="filled",value:l,defaultValue:c="",footer:d,theme:u,className:h,style:m,defaultFocused:g=!1,componentRef:f,addMidLayer:C=!1,midLayerClassName:v,elRef:b}=e,[_,S]=(0,D.useState)(c),E=void 0===l?_:l,[x,y]=(0,D.useState)(E),w=(0,D.useRef)(null);(0,D.useLayoutEffect)(()=>{if(r||o){let e=I.current;e&&(e.style.overflow="hidden",e.offsetWidth,e.style.overflow="")}},[r,o,x]);let I=(0,D.useRef)(null),[T,A]=(0,D.useState)(g);(0,D.useImperativeHandle)(f,()=>({focus:()=>{var e;null==(e=I.current)||e.focus()},blur:()=>{var e;null==(e=I.current)||e.blur()},setSelectionRange:(e,t)=>{var n;null==(n=I.current)||n.setSelectionRange(e,t)}}));let j=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("textarea",{...s,onFocus:e=>{var t;A(!0),null==s||null==(t=s.onFocus)||t.call(s,e)},onBlur:e=>{var t;A(!1),null==s||null==(t=s.onBlur)||t.call(s,e)},ref:(0,nY.P)(I,b),placeholder:a,rows:t,className:(0,Z.A)("".concat(U.V,"-textarea__textarea"),null==s?void 0:s.className),value:E,onChange:e=>{y(e.currentTarget.value),S(e.currentTarget.value),null==n||n(e)}}),r||o?(0,p.jsxs)("div",{className:"".concat(U.V,"-textarea__mirror"),ref:w,children:[x,(0,p.jsx)("br",{})]}):null]});return(0,p.jsxs)("div",{className:(0,Z.A)("".concat(U.V,"-textarea"),"".concat(U.V,"-textarea--").concat(i),T&&"".concat(U.V,"-textarea--focused"),r&&"".concat(U.V,"-textarea--auto-height"),o&&"".concat(U.V,"-textarea--auto-width"),h),style:{...m,"--ds-textarea-text-color":null==u?void 0:u.textColor,"--ds-textarea-color":null==u?void 0:u.color,"--ds-textarea-border-radius":null==u?void 0:u.borderRadius,"--ds-textarea-font-size":null==u?void 0:u.fontSize,"--ds-textarea-line-height":null==u?void 0:u.lineHeight,"--ds-textarea-padding":null==u?void 0:u.padding,"--ds-textarea-focus-color":null==u?void 0:u.focusColor,"--ds-textarea-focus-border-color":null==u?void 0:u.focusBorderColor,"--ds-textarea-focus-border-width":null==u?void 0:u.focusBorderWidth},children:[C?(0,p.jsx)("div",{className:v,children:j}):j,d]})}n(61489),n(53985);var rf=n(17543);let rC=()=>rf.j.next({method:"routerNavigate",args:{to:nc.ROOT}}),rv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.pathname,n=(0,nl.B6)(nc.AGENT_SESSION,g.y.resolvePathRelativeToPublicPath(t));return n&&n.params.sessionId===e},rb=(e,t)=>{rv(e)&&(nP(),rC(),g.y.tracker.info({name:"goHomepageWhenSessionInvalid",message:"session不可用回首页",payload:{invalidSessionId:e,source:t}}))};var r_=n(79338);let rS=(e,t)=>{if(e.sessionInvalid){var n;null==(n=e.toastFn)||n.call(e),rb(t,"feedback")}};function rE(e){let{chatSessionId:t,messageId:n,show:a,onShowChange:s}=e,r=g.R.useTranslate(),o=(0,D.useRef)(""),i=(0,D.useRef)(null),l=(0,eZ.dj)(),{feedbackMessage:c}=(0,T.Y_)();return(0,p.jsx)(nI,{children:(0,p.jsx)(en,{appear:!0,show:a,onShowChange:e=>{s(e)},returnFocus:!1,children:(0,p.jsx)(es,{variant:"dialog",title:r("feedbackModalTitle"),style:{color:"var(--dsw-alias-label-primary)"},hideClose:!0,footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:()=>{s(!1)},children:r("cancel")}),(0,p.jsx)(th,{variant:"primary",onClick:async()=>{s(!1);try{let e=await c(t,n,{feedbackType:T.FM.MessageFeedback.DISLIKE,feedbackTag:i.current,description:o.current});rS(e,t)}catch(e){l.error({node:(0,D.createElement)(g.R.ensureTranslateComponent("feedbackFailedToast")),description:r("feedbackFailedToast")})}},children:r("submit")})]}),onClose:()=>{s(!1)},children:(0,p.jsxs)("div",{className:r_.content,children:[(0,p.jsx)(rp,{name:"feedbackType",variant:"bordered",theme:{buttonBorderRadius:"999px",buttonHeight:"28px",buttonFontSize:"11px",gap:"8px"},onChange:e=>{i.current=e},options:[{label:r("harmful"),value:"harmful"},{label:r("fake"),value:"fake"},{label:r("nonsense"),value:"nonsense"},{label:r("other"),value:"other"}]}),(0,p.jsx)(rg,{rows:4,theme:{focusBorderWidth:"1px",borderRadius:"18px",padding:"7px 14px"},onChange:e=>{o.current=e.currentTarget.value},variant:"bordered",placeholder:r("feedbackPlaceholder"),textareaDomProps:{"data-autofocus":!0,style:{resize:"vertical"}}})]})})})})}let rx=(0,D.memo)(function(e){let{disabled:t,onClick:n}=e,a=g.R.useTranslate(),s=t?a("generatingDisableTooltip"):void 0;return(0,p.jsx)(tx.m,{isOpen:!!t&&void 0,placement:"bottom",renderTrigger:e=>{let{domProps:s,domRef:r}=e;return(0,p.jsx)(th,{size:"sm",onClick:n,domRef:r,domProps:s,variant:"outlined",disabled:t,children:a("continueGenerationButton")})},children:s})});var ry=n(88486),rw=n(67870),rI=n(85831);let rT=(0,D.memo)(function(e){let{sessionId:t,messageId:n,isFromLastMessage:a}=e,s=(0,T.KT)(t,n),r=(0,T.Lo)(e=>{let a=e.getMessage(t,n);return a?a.feedback:null}),o=s.bottom.useBranchCount(),i=s.bottom.useBranchIndex(),{continueCompletion:l,feedbackMessage:c}=(0,T.Y_)(),d=(0,T.Z2)(),u=s.messageBody.useIsWIP(),h=!!s.messageBody.useShowLoading(),m=s.bottom.useShowContinue()&&!h,f=rA({branchCount:o,isWIP:u,showLoading:h}),C=!u,v=s.bottom.useContinueButtonDisabled(),b=(0,T.M7)(),_=s3(e=>e.close),[S,E]=(0,D.useState)(!1),x=(0,D.useCallback)(e=>{b.closePreview(),d.closeSearchView(),_(),T.Lo.getState().navigateMessageBranch(t,n,e)},[_,n,b,d,t]),y=nm(),w=(a||S)&&!y,I=T.aU.useIsShareSelecting();return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(rE,{chatSessionId:t,messageId:n,show:S,onShowChange:E}),(0,p.jsxs)(sW,{alignItems:"center",className:(0,Z.A)(rw.wrap,I&&rI.hide),gap:10,children:[f?(0,p.jsx)(rh,{onIndexChange:x,count:o,index:i,sessionId:t,messageId:n}):null,C?(0,p.jsx)(s8,{className:(0,Z.A)(ry.actions,w&&ry.alwaysShowActions),sessionId:t,messageId:n,feedback:r,showFeedbackModal:S,onFeedbackChange:async e=>{rS(await c(t,n,{feedbackType:e,feedbackTag:null,description:null}),t)},onDislikeClick:()=>{E(!0)},onCopy:()=>{aj(s.messageBody.getCopyContent()),g.y.tracker.info({name:"copyBotResponse",message:"复制机器人回复",payload:{}})}}):null,(0,p.jsx)("div",{style:{flex:1}}),m?(0,p.jsx)(rx,{disabled:v,onClick:e=>{s6(e)&&l({chatSessionId:t,messageId:n})}}):null]})]})}),rA=e=>{let{branchCount:t,isWIP:n,showLoading:a}=e;return!a&&!n&&t>1},rj=(0,eQ.vt)(()=>({width:0})),rk=()=>rj(e=>e.width),rM=e=>{rj.setState({width:e})},rR=e=>{let{sessionId:t,messageId:n,children:a,className:s,style:r,domRef:o}=e,i=(0,T.zG)(),l=T.aU.useIsShareSelecting(),{selected:c,selectable:d}=T.aU.useMessageSelectStatus(t,n),u=rk(),h=800>rk(),m=l&&d?e=>{e.stopPropagation(),i.toggleMessageSelection(n)}:void 0;return(0,p.jsx)("div",{style:{...r,"--panel-width":"".concat(u,"px")},ref:o,className:(0,Z.A)(s,"ds-message",h&&rI.smallView,c&&rI.selectedForShare,l&&rI.waitingSelection,l&&!d&&rI.unselectable),onClick:m,children:a})};var rN=n(18618);let rO=e=>{let{size:t=16,className:n,inactive:a}=e;return(0,p.jsx)("div",{className:(0,Z.A)(rN.box,n),style:{width:t,height:t},children:(0,p.jsx)("div",{className:(0,Z.A)(rN.loading,a&&rN.inactive)})})},rL=(0,D.createContext)({noRender:!1,fragmentId:-10});rL.displayName="ReferenceConfigContext";let rF=rL.Provider;var rP=n(23636);let rD=(0,D.createContext)({displayType:"code",setDisplayType:()=>{throw Error("Method [setDisplayType] not implemented.")},setSmartScroll:()=>{throw Error("Method [setSmartScroll] not implemented.")}});rD.displayName="CodeContextImpl";let rB=(0,D.memo)(function(e){let{children:t,infostring:n}=e,a=(0,D.useRef)(null),{codeDisplayType:s,setCodeDisplayType:r}=rV(n,a),o=(0,D.useMemo)(()=>({displayType:s,setDisplayType:r,setSmartScroll:e=>{a.current=e}}),[s,r]);return(0,p.jsx)(rD.Provider,{value:o,children:(0,p.jsx)(rP.zT,{children:t})})}),rV=(e,t)=>{let[n,a]=(0,D.useState)("code"),s=(0,D.useRef)(!1);return(0,D.useLayoutEffect)(()=>{(null==e?void 0:e.toLowerCase())==="mermaid"&&a("mermaid")},[e]),(0,D.useLayoutEffect)(()=>{var e;s.current&&(s.current=!1,null==(e=t.current)||e.call(t))},[n,t]),{setCodeDisplayType:e=>{s.current=!0,a(e)},codeDisplayType:n}},rH=()=>(0,D.useContext)(rD);var rU=n(34913),rW=n(46947),rz=n(26197);let rG=(0,D.memo)(function(e){let{onClose:t,children:n,className:a,scrollDomRef:s,name:r,show:o}=e;return(0,p.jsx)(rW.Ec,{show:o,scrollDomRef:s,onClose:t,className:(0,Z.A)(rz.container,a),title:(0,p.jsx)(tx.m,{checkEllipsis:!0,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:a}=e;return(0,p.jsx)("div",{role:"heading",...t,ref:(0,nY.P)(n,a),children:r})},children:r}),children:n})});var rK=n(73107);let rq=()=>(0,D.lazy)(()=>Promise.all([n.e("35164"),n.e("91851")]).then(n.bind(n,39214)).then(e=>({default:e.PreviewAll}))),rZ=(0,D.memo)(function(){let e=(0,T.M7)(),t=e.hooks.useCurrentPreviewInfo(),n=s3();return t?(0,p.jsx)(rQ,{show:!0,type:t.type,onClose:()=>e.closePreview(),name:t.name,url:t.url}):n.visible?(0,p.jsx)(rQ,{show:!0,type:"html",onClose:n.close,name:n.title||"HTML",code:n.code}):(0,p.jsx)(rQ,{show:!1})}),rQ=(0,D.memo)(function(e){let[t,n]=(0,D.useState)(0),a=(0,D.useMemo)(rq,[t]),s=(0,D.useRef)(null);return(0,p.jsx)(g.y.ErrorBoundary,{renderFallback:a=>{let{error:s,reset:r}=a;if(!nG(s))return(0,p.jsx)(rY,{error:s,onReset:()=>{n(t+1),r()},onClose:()=>{e.show&&e.onClose()}})},onError:e=>{nG(e)||g.y.tracker.error({name:"previewAllFailed",message:"触发预览 Error Boundary",payload:g.y.withError(e,{pathname:location.pathname})})},children:e.show?(0,p.jsx)(rG,{...e,scrollDomRef:s,children:(0,p.jsx)(D.Suspense,{fallback:null,children:(0,p.jsx)(a,{...e,scrollDomRef:s},t)})}):(0,p.jsx)(rG,{show:!1,scrollDomRef:s,onClose:()=>{},name:""})})});function rY(e){let{error:t,onReset:n,onClose:a,className:s}=e,r=g.R.useTranslate(),o=g.y.useIsDebug();return(0,p.jsx)("div",{className:(0,Z.A)(rK.errorContainer,s),children:(0,p.jsxs)("div",{className:rK.main,children:[(0,p.jsx)("div",{className:rK.title,children:r("errorPageTitle")}),o?(0,p.jsx)("pre",{className:rK.error,children:JSON.stringify((0,rU.P5)(t),null,2)}):null,(0,p.jsxs)("div",{className:rK.action,children:[(0,p.jsx)(eG.$,{type:"primary",variant:"filled",size:"m",onClick:()=>{n()},children:r("errorPageReloadButton")}),(0,p.jsx)(eG.$,{type:"primary",variant:"filled",size:"m",onClick:()=>{a()},children:r("cancel")})]})]})})}var rX=n(62850);let rJ=()=>(0,D.lazy)(()=>Promise.all([n.e("96259"),n.e("35164"),n.e("66233")]).then(n.bind(n,19819))),r$=e=>{let{visible:t}=e,[n,a]=(0,D.useState)(0),s=(0,D.useMemo)(rJ,[n]);return(0,p.jsx)(g.y.ErrorBoundary,{renderFallback:e=>{let{error:s,reset:r}=e;if(!nG(s))return t?(0,p.jsx)(rY,{className:rX.errorContent,error:s,onReset:()=>{a(n+1),r()},onClose:()=>void 0}):null},onError:e=>{nG(e)||g.y.tracker.error({name:"mermaidRenderBroken",message:"触发mermaid渲染ErrorBoundary",payload:g.y.withError(e,{})})},children:(0,p.jsx)(D.Suspense,{fallback:(0,p.jsx)("div",{className:rX.standIn}),children:(0,p.jsx)(s,{...e},n)})})},r1=(0,D.createContext)({wip:!1}),r0=r1.Provider,r2=()=>(0,D.useContext)(r1),r3=(0,D.memo)(function(e){let{code:t,html:n,infostring:a,isOpen:s}=e,{displayType:r}=rH(),o=!r2().wip,i=n7();return(0,p.jsxs)(p.Fragment,{children:["code"===r?(0,p.jsx)("pre",{dangerouslySetInnerHTML:{__html:n}}):null,"mermaid"===a?(0,p.jsx)(r$,{graphText:t,visible:"mermaid"===r,bypassErrorProtection:!s||o,isFinal:!s,onRenderUpdate:i}):null]})});n(3079);let r4=[];function r6(e){let{options:t=r4,defaultValue:n=null,value:a,onChange:s,className:r,style:o,theme:i,focusable:l=!0}=e,[c,d]=(0,D.useState)(n),u=void 0===a?c:a,h=t.findIndex(e=>e.value===u),[m,g]=(0,D.useState)(null),[f,C]=(0,D.useState)(()=>null===u&&t.length?t[0].value:u),[v,b]=(0,D.useState)(0),_=(0,D.useRef)(null),S=(0,D.useMemo)(()=>({...o,"--ds-segmented-color":null==i?void 0:i.color,"--ds-segmented-selected-color":null==i?void 0:i.selectedColor,"--ds-segmented-button-box-shadow":null==i?void 0:i.boxShadow}),[o,i]);(0,D.useEffect)(()=>{if(v){var e;null==(e=_.current)||e.focus()}},[v]);let E=(0,D.useRef)(null);return(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-segmented"),r),style:S,ref:E,onKeyDown:e=>{if("ArrowRight"===e.key||"ArrowLeft"===e.key||"ArrowDown"===e.key||"ArrowUp"===e.key){e.preventDefault();let n=t.findIndex(e=>e.value===m),a=n;if(-1===n)return;let r=0;for(;r<t.length;){switch(r+=1,e.key){case"ArrowRight":case"ArrowDown":a+=1;break;case"ArrowLeft":case"ArrowUp":a-=1}a<0?a=t.length-1:a>=t.length&&(a=0);let n=t[a];if(!n.disabled){C(n.value),b(e=>e+1),d(n.value),null==s||s(n.value);break}}}},onBlur:e=>{var t;(null==(t=E.current)?void 0:t.contains(e.relatedTarget))&&C(u)},role:"tablist",children:t.map((e,n)=>{let a=h===n,r=e.disabled,o=l&&!r&&f===e.value;return(0,p.jsxs)("div",{role:"tab","aria-selected":a,tabIndex:o?0:void 0,className:(0,Z.A)("".concat(U.V,"-segmented-button"),a&&"".concat(U.V,"-segmented-button--selected"),r&&"".concat(U.V,"-segmented-button--disabled")),onMouseDown:r?void 0:()=>{d(e.value),null==s||s(e.value),C(e.value)},ref:o?_:void 0,onFocus:r?void 0:()=>g(e.value),onBlur:r?void 0:()=>g(null),children:[e.label,n===t.length-1||n+1===h?null:(0,p.jsx)("div",{className:"".concat(U.V,"-segmented-separator"),"aria-hidden":!0}),(0,p.jsx)("div",{className:"".concat(U.V,"-segmented-button__shadow"),"aria-hidden":!0})]},e.value)})})}n(4029);let r5=e=>{let{children:t}=e;return t()},r9=[];function r8(e){let{options:t=r9,onSelect:n,componentRef:a,domProps:s,domRef:r,theme:o,onExit:i}=e,[l,c]=(0,D.useState)(null),d=e=>{let a=t.filter(e=>"divider"!==e.type);if(null===l)c(a[0].key);else{let t=a.findIndex(e=>e.key===l);"ArrowDown"===e.key?c(a[(t+1)%a.length].key):"ArrowUp"===e.key?c(a[(t-1+a.length)%a.length].key):"Enter"===e.key?null==n||n(l,{option:a[t]}):"Escape"===e.key&&(c(null),null==i||i())}};return(0,D.useImperativeHandle)(a,()=>({handleKeyboardEvent:d})),(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-dropdown-menu"),"".concat(U.V,"-elevated"),null==s?void 0:s.className),style:{...null==s?void 0:s.style,"--ds-dropdown-menu-font-size":null==o?void 0:o.fontSize,"--ds-dropdown-menu-color":null==o?void 0:o.color,"--ds-dropdown-menu-option-text-color":null==o?void 0:o.optionTextColor,"--ds-dropdown-menu-option-height":null==o?void 0:o.optionHeight,"--ds-dropdown-menu-option-color-hover":null==o?void 0:o.optionColorHover,"--ds-dropdown-menu-option-error-color-hover":null==o?void 0:o.optionErrorColorHover,"--ds-dropdown-menu-padding":null==o?void 0:o.padding,"--ds-dropdown-menu-option-padding":null==o?void 0:o.optionPadding,"--ds-dropdown-menu-option-line-height":null==o?void 0:o.optionLineHeight,"--ds-dropdown-menu-border-radius":null==o?void 0:o.borderRadius,"--ds-dropdown-menu-option-border-radius":null==o?void 0:o.optionBorderRadius,"--ds-dropdown-menu-option-icon-size":null==o?void 0:o.optionIconSize,"--ds-dropdown-menu-option-icon-color":null==o?void 0:o.optionIconColor,"--ds-dropdown-menu-option-icon-margin":null==o?void 0:o.optionIconMargin,"--ds-dropdown-menu-option-label-margin":null==o?void 0:o.optionLabelMargin,"--ds-dropdown-menu-width":null==o?void 0:o.width},role:"menu",ref:r,...s,children:t.map(e=>{var t;if("divider"===e.type)return(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-dropdown-menu-option"),"".concat(U.V,"-dropdown-menu-option-divider"))});let a=null!=(t=e.wrapper)?t:r5;return(0,p.jsx)(a,{children:(t,a)=>{var s,r;return(0,D.createElement)("div",{...e.domProps,...a,ref:t,style:{...null==(s=e.domProps)?void 0:s.style,...e.style},className:(0,Z.A)("".concat(U.V,"-dropdown-menu-option"),"".concat(U.V,"-dropdown-menu-option--").concat(e.type||"none"),l===e.key&&"".concat(U.V,"-dropdown-menu-option--pending"),e.className,null==(r=e.domProps)?void 0:r.className),onClick:t=>{var s,r,o;null==(r=e.domProps)||null==(s=r.onClick)||s.call(r,t),null==a||null==(o=a.onClick)||o.call(a,t),null==n||n(e.key,{option:e})},onMouseEnter:t=>{var n;c(e.key),null==a||null==(n=a.onMouseEnter)||n.call(a,t)},key:e.key},e.icon?(0,p.jsx)("div",{className:"".concat(U.V,"-dropdown-menu-option__icon"),children:e.icon}):null,(0,p.jsx)("div",{className:"".concat(U.V,"-dropdown-menu-option__label"),children:e.label}))}},e.key)})})}var r7=n(39120);function oe(e){let{renderTrigger:t,disabled:n,leaveDelay:a,enterDelay:s,wrapperStyle:r,onSelect:o,options:i,menuTheme:l,placement:c="bottom-start",trigger:d="hover",componentRef:u,dropdownMenuComponentRef:h,menuDomProps:m,menuDomRef:g,...f}=e,C=(0,D.useRef)(null),v=(e,t)=>{let n=null==o?void 0:o(e,t);if(!n||"close"===n.action){var a;null==(a=C.current)||a.setIsOpen(!1)}};return(0,D.useImperativeHandle)(u,()=>({setIsOpen(e){var t;null==(t=C.current)||t.setIsOpen(e)},getIsOpen(){var e,t;return null!=(t=null==(e=C.current)?void 0:e.getIsOpen())&&t}})),(0,p.jsx)(r7.D,{disabled:n,leaveDelay:a,enterDelay:s,wrapperStyle:r,renderTrigger:t,renderFloating:e=>{let{nodeRef:t,onMouseDown:n,onMouseEnter:a,onMouseLeave:s}=e;return(0,p.jsx)(r8,{componentRef:h,theme:l,onSelect:v,onExit:()=>{var e;return null==(e=C.current)?void 0:e.setIsOpen(!1)},options:i,domRef:(0,nY.P)(g,t),domProps:{...m,onMouseDown:e=>{var t;null==m||null==(t=m.onMouseDown)||t.call(m,e),n(e)},onMouseEnter:e=>{var t;null==m||null==(t=m.onMouseEnter)||t.call(m,e),a(e)},onMouseLeave:e=>{var t;null==m||null==(t=m.onMouseLeave)||t.call(m,e),s(e)}}})},placement:c,trigger:d,componentRef:C,...f})}let ot="code-info-button-text";var on=n(85419);let oa=e=>{let{left:t,right:n}=e,a=(0,D.useRef)(null),s=(0,D.useRef)(null),r=(0,D.useRef)(null);return(0,D.useEffect)(()=>{if(!a.current)return;let e=new nX.j(()=>{if(!a.current||!s.current||!r.current)return;r.current.querySelectorAll(".".concat(ot)).forEach(e=>{e instanceof HTMLSpanElement&&(e.style.display="")});let e=a.current.clientWidth>=s.current.clientWidth+r.current.clientWidth+100;r.current.querySelectorAll(".".concat(ot)).forEach(t=>{t instanceof HTMLSpanElement&&(t.style.display=e?"":"none")})});return e.observe(a.current),()=>e.disconnect()},[]),(0,p.jsxs)("div",{ref:a,className:on.container,children:[(0,p.jsx)("div",{ref:s,className:on.sidePart,children:t}),(0,p.jsx)("div",{ref:r,className:(0,Z.A)(on.sidePart,on.right),children:n})]})};var os=n(88737),or=n(97623),oo=n(61164);class oi{_baseGetStateSnap(){return this._baseStateController.getState()}get _baseSlideAndRect(){let e=this._baseRefs.slide.current;return e?{el:e,rect:()=>e.getBoundingClientRect()}:null}get _baseContentAndRect(){let e=this._baseRefs.content.current;return e?{el:e,rect:()=>e.getBoundingClientRect()}:null}_baseGetDragDimension(e){let{scale:t}=e,{_baseSlideAndRect:n,_baseContentAndRect:a}=this;if(!n||!a)return{x:!1,y:!1};let s=n.el.clientWidth,r=n.el.clientHeight;return{x:s<a.el.clientWidth*t,y:r<a.el.clientHeight*t}}_baseUpdateCursorByScale(e){let t=this._baseGetDragDimension({scale:e});t.x||t.y?this._baseStateController.setCursor("grab"):e>1?this._baseStateController.setCursor("zoom-out"):this._baseStateController.setCursor("zoom-in")}constructor(e,t){(0,m._)(this,"_baseRefs",void 0),(0,m._)(this,"_baseStateController",void 0),this._baseRefs=e,this._baseStateController=t}}let ol=e=>({clientX:e.clientX,clientY:e.clientY}),oc=(e,t)=>({clientX:t.clientX-e.clientX,clientY:t.clientY-e.clientY}),od=(e,t)=>{let n=e.clientX-t.clientX,a=e.clientY-t.clientY;return Math.sqrt(n*n+a*a)},ou=(e,t)=>({clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2});class oh{recordPos(e){this.positions.length>=this.MAX_POSITIONS&&this.positions.shift();let t=Date.now();this.positions.push([e,t])}calculateInertia(){if(this.positions.length<2)return null;let e=this.calculateVelocity(),t=Math.sqrt(e.x*e.x+e.y*e.y);if(t<this.config.minSpeedThreshold)return null;let{decelerationFactor:n,durationFactor:a,minDuration:s,maxDuration:r,easingCurve:o}=this.config,i=(0,or.A)(t/a,s,r),l=e.x*i*n;return{extraX:l,extraY:e.y*i*n,animation:"all ".concat(i.toFixed(3),"s ").concat(o)}}calculateVelocity(){let e=this.positions.length;if(e<2)return{x:0,y:0};let t=0,n=0,a=0;for(let s=1;s<e;s++){let[e,r]=this.positions[s-1],[o,i]=this.positions[s],l=(i-r)/1e3;if(l<=0)continue;let c=(o.clientX-e.clientX)/l,d=(o.clientY-e.clientY)/l,u=Math.pow(2,s);n+=c*u,a+=d*u,t+=u}return 0===t?{x:0,y:0}:{x:n/t,y:a/t}}reset(){this.positions=[]}constructor(e={}){(0,m._)(this,"MAX_POSITIONS",5),(0,m._)(this,"positions",[]),(0,m._)(this,"config",void 0),this.config={...op,...e}}}let op={decelerationFactor:.5,durationFactor:800,minDuration:.2,maxDuration:1.2,minSpeedThreshold:50,easingCurve:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"};class om extends oi{shouldEnableDrag(){return 1!==this._baseGetStateSnap().scale}getIsDragging(){return this.dragging}constructor(e,t,n){super(e,t),(0,m._)(this,"config",void 0),(0,m._)(this,"lastMouse",null),(0,m._)(this,"dragging",!1),(0,m._)(this,"moveAt",new Date),(0,m._)(this,"inertiaDamp",new oh({decelerationFactor:.15,durationFactor:100,minDuration:.05,maxDuration:.5,minSpeedThreshold:500})),(0,m._)(this,"extraMove",e=>{if(this.config.disableSvgInertia&&this.config.isSvgRef.current)return;let{x:t,y:n,scale:a}=this._baseGetStateSnap(),{extraX:s,extraY:r,animation:o}=e;this._baseStateController.requireTransform({x:t+s,y:n+r,scale:a},{animated:!0,animation:o,from:"move"})}),(0,m._)(this,"onMouseDown",e=>{this.lastMouse=ol(e)}),(0,m._)(this,"onMouseLeave",()=>{this.dragging=!1,this.lastMouse=null}),(0,m._)(this,"baseMove",(e,t)=>{if(!this.shouldEnableDrag())return;let n=this._baseGetDragDimension({scale:this._baseGetStateSnap().scale});if(!(n.x||n.y))return;let a=this._baseGetStateSnap(),s=0;e.clientX&&n.x&&(a.x+=e.clientX,s++),e.clientY&&n.y&&(a.y+=e.clientY,s++),s>0&&(this.dragging=!0,this._baseStateController.setCursor("grabbing"),this._baseStateController.requireTransform(a,{animated:!1,from:"move"}),t())}),(0,m._)(this,"onMouseMove",e=>{if(!this.lastMouse)return;let t=ol(e),n=oc(this.lastMouse,t);this.shouldEnableDrag()&&this.baseMove(n,()=>{this.inertiaDamp.recordPos(t),this.moveAt=new Date}),this.lastMouse=t}),(0,m._)(this,"onMouseUp",()=>{if(setTimeout(()=>{this.dragging=!1},10),this.lastMouse=null,this._baseUpdateCursorByScale(this._baseGetStateSnap().scale),Date.now()-this.moveAt.valueOf()<100){let e=this.inertiaDamp.calculateInertia();e&&this.extraMove(e)}}),this.config=n}}let og=()=>({x:0,y:0,scale:1});class of{get slideAndRect(){let e=this.refs.slide.current;return e?{el:e,rect:()=>e.getBoundingClientRect()}:null}get contentAndRect(){let e=this.refs.content.current;return e?{el:e,rect:()=>e.getBoundingClientRect()}:null}adjustPos(e,t){let n,a={scale:(n=e).scale,x:n.x,y:n.y};if(1===a.scale)return og();if("zoom"===t||"move"===t){let e=this.contentAndRect,t=this.slideAndRect;if(!e||!t)return null;let n=e.el,s=t.el.clientWidth,r=a.scale*n.clientWidth;if(r<s)a.x=.5*n.clientWidth*(1-a.scale);else{let e=(n.clientWidth-s)/2,t=s-r+e;a.x>e?a.x=e:a.x<t&&(a.x=t)}let o=t.el.clientHeight,i=a.scale*n.clientHeight;if(i<o)a.y=.5*n.clientHeight*(1-a.scale);else{let e=(n.clientHeight-o)/2,t=o-i+e;a.y>e?a.y=e:a.y<t&&(a.y=t)}}else"reset"===t||(0,e2.s)(t);return a}requireTransform(e,t){let n=this.adjustPos(e,t.from);if(!n)return!1;let{content:{current:a}}=this.refs;if(!a)return!1;t.animated?(this.animating=!0,"duration"in t?a.style.transition="transform ".concat(t.duration,"s"):a.style.transition=t.animation):a.style.transition="none";let s="translate(".concat(oC(n.x),"px, ").concat(oC(n.y),"px) scale(").concat(oC(n.scale),")");return a.style.transform=s,this.scale=n.scale,this.x=n.x,this.y=n.y,!0}getState(){return{animating:this.animating,scale:this.scale,x:this.x,y:this.y}}reset(){this.requireTransform(og(),{from:"reset",animated:!1})}constructor(e,t,n){(0,m._)(this,"refs",void 0),(0,m._)(this,"getCursor",void 0),(0,m._)(this,"setCursor",void 0),(0,m._)(this,"animating",!1),(0,m._)(this,"scale",1),(0,m._)(this,"x",0),(0,m._)(this,"y",0),this.refs=e,this.getCursor=t,this.setCursor=n}}let oC=e=>Number.isInteger(e)?"".concat(e):e.toFixed(4),ov={animated:!1};class ob extends oi{onClickZoom(e,t){if(!this.zooming&&this.baseZoom(t,{animated:!0,duration:.4,mode:e,requireScale:null})){let e=Date.now();this.zooming=e,setTimeout(()=>{this.zooming===e&&(this.zooming=null)},500)}}getClickPosInContent(e){let t=this._baseContentAndRect;if(!t)return null;let n=t.rect(),{clientX:a,clientY:s}=e;return{clickX:a-n.left,clickY:s-n.top,contentRect:n}}getZoomScale(e,t){var n;if(null!==e.requireScale)return this.clampScale(e.requireScale);if(null===e.mode)throw Error('expect at least one of "mode" "requireScale" be set');let a=this._baseGetStateSnap().scale,s=e.mode;if("auto"!==s)return this.clampScale(a*("in"===s?1.6:.5));if(a>1)return 1;let r=window.innerHeight,o=window.innerWidth;if(r/t.height>1.1||o/t.width>1.1)return this.clampScale(Math.max(r/t.height,o/t.width));let i=null==(n=this.naturalSizeRef.current)?void 0:n.height;return"number"==typeof i&&i>t.height?i/t.height:this.clampScale(1.6*a)}constructor(e,t,n,a){super(e,t),(0,m._)(this,"naturalSizeRef",void 0),(0,m._)(this,"clampScale",void 0),(0,m._)(this,"zooming",null),(0,m._)(this,"baseZoom",(e,t)=>{let n=this.getClickPosInContent(e);if(!n)return!1;let{clickX:a,clickY:s,contentRect:r}=n,o=this.getZoomScale(t,r),{scale:i,x:l,y:c}=this._baseGetStateSnap();if(o===i)return!1;this._baseUpdateCursorByScale(o);let d=a/i*(i-o)+l,u=s/i*(i-o)+c;return this._baseStateController.requireTransform({scale:o,x:d,y:u},{...t,from:"zoom"})}),(0,m._)(this,"onWheel",e=>{let t=e.ctrlKey,n=this._baseGetStateSnap().scale;n*=1-e.deltaY*(t?.005:5e-4),n=this.clampScale(n),this.baseZoom(e,{...ov,mode:null,requireScale:n})}),(0,m._)(this,"onTransitionEnd",()=>{this.zooming=null;let e=this._baseRefs.content.current;e&&(e.style.transition="none")}),this.naturalSizeRef=n,this.clampScale=a,this._baseStateController.setCursor("zoom-in")}}class o_ extends oi{onTouchStart(e){e.stopPropagation();let{touches:t}=e;if(t.length<1)return;let n=t[0];if(1===t.length){this.singleTouchPos=ol(n);return}let a=t[1];this.preTwoTouchPos=[ol(n),ol(a),od(n,a),ou(n,a)]}onTouchEnd(e){e.stopPropagation();let{touches:t}=e;if(1===t.length){let e=t[0];this.singleTouchPos=ol(e);return}if(!t.length&&(this.singleTouchPos=null,this.preTwoTouchPos=null,Date.now()-this.moveAt.valueOf()<100)){let e=this.inertiaDamp.calculateInertia();e&&this.extraMove(e)}}constructor(e,t,n,a,s,r){super(e,t),(0,m._)(this,"baseZoom",void 0),(0,m._)(this,"baseMove",void 0),(0,m._)(this,"clampScale",void 0),(0,m._)(this,"extraMove",void 0),(0,m._)(this,"singleTouchPos",null),(0,m._)(this,"preTwoTouchPos",null),(0,m._)(this,"moveAt",new Date),(0,m._)(this,"inertiaDamp",new oh({decelerationFactor:.15,durationFactor:100,minDuration:.05,maxDuration:.5,minSpeedThreshold:500})),(0,m._)(this,"onTouchMovePositive",e=>{if(!(e instanceof TouchEvent))return;e.stopPropagation(),e.preventDefault();let{touches:t}=e;if(t.length<1)return;let n=t[0];if(t.length>1){if(!this.preTwoTouchPos)return;let e=t[1],a=ou(n,e),s=od(n,e),r=this.preTwoTouchPos[2],o=this._baseGetStateSnap().scale,i=this.clampScale(s/r*o);this.baseZoom(a,{animated:!1,mode:null,requireScale:i}),this.baseMove(oc(this.preTwoTouchPos[3],a),()=>{this.inertiaDamp.recordPos(a),this.moveAt=new Date}),this.preTwoTouchPos=[n,e,s,a];return}if(!this.singleTouchPos)return;let a=oc(this.singleTouchPos,n);this.baseMove(a,()=>{this.inertiaDamp.recordPos(n),this.moveAt=new Date}),this.singleTouchPos=ol(n)}),this.baseZoom=n,this.baseMove=a,this.clampScale=s,this.extraMove=r}}class oS{setDisplayImageDefaultSize(e){let t=()=>{var t;let{imageNaturalSize:n,slide:a,caption:s}=this.refs,r=n.current;if(!r||!a.current)return null;let o=a.current.getBoundingClientRect(),i=(null==(t=s.current)?void 0:t.getBoundingClientRect().height)||0,l=o.height-i,c=o.width;return e?ox(r,c,l):oy(r,c,l)},{content:n}=this.refs,a=this.refs.imageNaturalSize.current,s=t();a&&s&&(oE(n,s),this.naturalToContentScale=s.width/a.width)}constructor(e){(0,m._)(this,"refs",void 0),(0,m._)(this,"naturalToContentScale",1),(0,m._)(this,"clampScale",e=>{let t=()=>!this.refs.imageNaturalSize.current||this.naturalToContentScale<=0?4:Math.max(4,2/this.naturalToContentScale);return(0,or.A)(e,1,t())}),this.refs=e}}let oE=(e,t)=>{let n=e.current;if(!n)return;let a=n.style,{height:s,width:r}=t;a.height="".concat(s,"px"),a.width="".concat(r,"px")},ox=(e,t,n)=>{let a=e.width/e.height,s=.9*t,r=.9*n,o={width:s,height:s/a};return o.height<=r?o:{width:r*a,height:r}},oy=(e,t,n)=>{if(n>=e.height&&t>=e.width)return e;let a=e.width/e.height;return e.height/n>e.width/t?{height:n,width:n*a}:{height:t/a,width:t}};class ow extends oi{shouldEnableSlide(){return 1===this._baseGetStateSnap().scale}getIsSliding(){return this.sliding>0}resetSliding(){this.sliding=0}constructor(e,t,n){super(e,t),(0,m._)(this,"slides",void 0),(0,m._)(this,"sliding",0),(0,m._)(this,"lastMouse",null),(0,m._)(this,"countSlide",e=>{this.shouldEnableSlide()&&(this.sliding+=e.clientX)}),(0,m._)(this,"onTouchStart",e=>{if(e.touches.length>1)return}),(0,m._)(this,"onTouchMove",()=>{}),(0,m._)(this,"onTouchEnd",()=>{}),(0,m._)(this,"onMouseDown",e=>{this.shouldEnableSlide()&&(this.lastMouse=ol(e))}),(0,m._)(this,"onMouseMove",e=>{if(!this.lastMouse||!this.shouldEnableSlide())return;let t=ol(e),n=oc(this.lastMouse,t);this.countSlide(n),this.lastMouse=t}),(0,m._)(this,"onMouseUp",()=>{this.lastMouse=null,this.shouldEnableSlide()&&(this.slide(),setTimeout(()=>{this.resetSliding()},20))}),(0,m._)(this,"onMouseLeave",()=>{}),(0,m._)(this,"slide",()=>{if(20>Math.abs(this.sliding))return;let e=this.sliding>0?-1:1,t=this.slides.index+e;t<0||t>this.slides.length||(e<0?this.slides.toPrev():this.slides.toNext())}),this.slides=n}}class oI{constructor(e,t,n){(0,m._)(this,"enableRef",void 0),(0,m._)(this,"close",void 0),(0,m._)(this,"slideDivRef",void 0),(0,m._)(this,"startPos",null),(0,m._)(this,"moved",!1),(0,m._)(this,"isValidStart",!1),(0,m._)(this,"touchId",null),(0,m._)(this,"onClick",e=>{let t=e.target;this.slideDivRef.current&&this.slideDivRef.current===t&&this.close()}),(0,m._)(this,"onTouchStart",e=>{if(1===e.touches.length){let t=e.target;if(this.slideDivRef.current&&this.slideDivRef.current===t){let t=e.touches[0];this.startPos=ol(t),this.moved=!1,this.isValidStart=!0,this.touchId=t.identifier}else this.isValidStart=!1,this.touchId=null}else this.isValidStart=!1,this.touchId=null}),(0,m._)(this,"onTouchMove",e=>{if(!this.isValidStart||null===this.touchId||!this.startPos)return;let t=Array.from(e.touches).find(e=>e.identifier===this.touchId);if(!t)return;let n=ol(t);od(this.startPos,n)>10&&(this.moved=!0)}),(0,m._)(this,"onTouchEnd",e=>{!this.isValidStart||null===this.touchId||Array.from(e.touches).some(e=>e.identifier===this.touchId)||(!this.moved&&this.enableRef.current&&this.close(),this.isValidStart=!1,this.touchId=null,this.startPos=null)}),this.enableRef=e,this.close=t,this.slideDivRef=n}}let oT=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new oS(...t)),a.current},oA=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new oI(...t)),a.current},oj=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new o_(...t)),a.current},ok=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new ob(...t)),a.current},oM=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new of(...t)),a.current},oR=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new om(...t)),a.current},oN=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let a=(0,D.useRef)(null);return a.current||(a.current=new ow(...t)),a.current},oO=(e,t)=>n=>{e(n),t(n)};class oL{on(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}off(e,t){let n=this.listeners[e];n&&n.delete(t)}offAll(e){this.listeners[e]=new Set}emit(e,t){(this.listeners[e]||[]).forEach(e=>e(t))}constructor(){(0,m._)(this,"listeners",{})}}class oF{reuseOrFetch(e,t){let n=this.fetchCache[e]||t();return n.catch(()=>this.remove(e)),this.fetchCache[e]=n,n}get(e){return this.fetchCache[e]||null}remove(e){delete this.fetchCache[e]}clear(){this.fetchCache={}}constructor(){(0,m._)(this,"fetchCache",{})}}let oP=(0,D.createContext)({eventBus:null,fetchSrcState:null}),oD=(0,D.createContext)({i18n:{loadFailRetry:"Load fail, click to retry"}}),oB=(0,D.memo)(function(e){let t=(0,D.useMemo)(()=>({eventBus:new oL,fetchSrcState:new oF}),[]),n=(0,D.useMemo)(()=>({i18n:e.i18n}),[e.i18n]);return(0,p.jsx)(oD.Provider,{value:n,children:(0,p.jsx)(oP.Provider,{value:t,children:e.children})})}),oV=()=>{let e=(0,D.useContext)(oP);if(!e.eventBus)throw Error("FancyBox Context not found");return e.eventBus};n(57649);let oH=(0,D.memo)(function(e){let{onClick:t}=e,n=(0,D.useContext)(oD).i18n;return(0,p.jsxs)("div",{className:"ds-fancy-box__load-fail",children:[(0,p.jsx)(ez.I,{size:32,className:"icon",domProps:{onClick:t},children:(0,p.jsx)(eg.$h,{})}),(0,p.jsx)("div",{onClick:t,className:"button",role:"button",children:n.loadFailRetry})]})});var oU=n(60965);let oW=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";switch(e.type){case"image":return t+e.src;case"fetch-image":return t+e.key;case"svg":return t+e.svgDataUri;default:return(0,e2.s)(e),t}},oz=(e,t)=>{let{onFetchSrcFail:n,onFetchSrcSilentFail:a}=t,s=(()=>{let e=(0,D.useContext)(oP);if(!e.fetchSrcState)throw Error("FancyBox Context not found");return e.fetchSrcState})(),[r,o]=(0,D.useState)(()=>"fetch-image"===e.type?s.reuseOrFetch(e.key,e.fetcher):null),[i,l]=(0,D.useState)("svg"===e.type||"image"===e.type?e:("fetch-image"===e.type||(0,e2.s)(e),null));(0,D.useEffect)(()=>{r&&(async()=>{try{let t=await r;if(null===t)return void a();if("fetch-image"!==e.type)return;if(!oG(e))return void l({...e,type:"image",src:t});try{let n=await s.reuseOrFetch("fetchSvg_".concat(e.key),()=>fetch(t).then(e=>e.text()));if(null===n)return void a();let r=document.createElement("div");r.innerHTML=n;let o=r.children[0];if(o instanceof SVGElement){let t=(0,oU.F)(o);l({...e,type:"svg",svgDataUri:t,svgHtml:o.outerHTML})}}catch(t){n(t,e)}}catch(t){n(t,e)}})()},[s,e,n,a,r]);let c=(0,ee.DK)(()=>{"fetch-image"===e.type&&(s.remove(e.key),o(s.reuseOrFetch(e.key,e.fetcher)))});return{retry:"fetch-image"===e.type?c:void 0,finalImage:i}},oG=e=>"isSvg"in e&&e.isSvg,oK=e=>{let{svg:t,cursorStyle:n,onClick:a,onTransitionEnd:s,onWheel:r,onTouchStart:o,onTouchEnd:i,svgRef:l,theme:c}=e,d=(0,oU.i)(t,{className:"theme_".concat(c),style:{width:"100%",height:"100%",userSelect:"none",maxWidth:"100%",transformOrigin:"0 0"},clearDefaultStyle:!0});return d?(0,p.jsx)("div",{style:{height:"fit-content",width:"fit-content",...n},className:"svg-wrapper",children:(0,p.jsx)("svg",{...d.properties,ref:l,onClick:a,onTransitionEnd:s,onWheel:r,onTouchStart:o,onTouchEnd:i,dangerouslySetInnerHTML:{__html:d.inner}})}):null};oK.displayName="SvgComponent",n(62919);let oq=(0,D.memo)(function(e){var t,n;let{image:a,showThumbnails:s,active:r,closeOnMaskTouch:o,onAnimationEnd:i,index:l,length:c,toNext:d,toPrev:u,disableSvgInertia:h}=e,m=oV(),[g,f]=(0,D.useState)("loading"),C=(0,ee.nI)("loading"===g,{showDelay:100,minDuration:100}),[v,b]=(0,D.useState)(""),_=(0,D.useRef)(null),S=(0,D.useRef)(null),E=(0,D.useRef)(null),x=(0,D.useRef)(null),y=(0,D.useRef)(null),{finalImage:w,retry:I}=oz(a,{onFetchSrcFail:(0,ee.DK)((e,t)=>{f("fail"),m.emit("onEvent",{name:"fetchImageSrcFail",payload:{err:e,image:t}})}),onFetchSrcSilentFail:(0,ee.DK)(()=>f("fail"))}),T=(null==w?void 0:w.type)==="svg",A=(0,D.useRef)(!1);A.current=T;let j=(0,D.useRef)(!0);j.current=o;let k=oA(j,()=>m.emit("close",null),S),{cursorStyle:M,setCursor:R}=(()=>{let[e,t]=(0,D.useState)("auto");return{cursorStyle:{cursor:e},setCursor:t}})(),N={slide:S,content:x},O=oM(N,()=>M.cursor,R),L=oT({imageNaturalSize:y,slide:S,caption:E,content:x}),F=ok(N,O,y,L.clampScale),P=oR(N,O,{disableSvgInertia:h,isSvgRef:A}),B=oN(N,O,{length:c,index:l,toNext:d,toPrev:u}),V=oj(N,O,F.baseZoom,P.baseMove,L.clampScale,P.extraMove),H=e=>{!x.current||P.getIsDragging()||B.getIsSliding()||F.onClickZoom("auto",e)},U=(0,ee.DK)(()=>{"success"===g&&L.setDisplayImageDefaultSize((null==w?void 0:w.type)==="svg")});(0,D.useLayoutEffect)(U,[g,U,s]),(0,D.useEffect)(()=>{let e=(0,oo.A)(U,200,{trailing:!0,leading:!0,maxWait:300});return m.on("windowResize",e),()=>m.off("windowResize",e)},[m,U]),(0,D.useLayoutEffect)(()=>{O.reset()},[s,O]),(0,D.useLayoutEffect)(()=>{"loading"!==g&&b(r?"slide-fade-in":"slide-fade-out")},[r,g]),(0,D.useEffect)(()=>{let e=x.current;if(e)return e.addEventListener("touchmove",V.onTouchMovePositive,{passive:!1}),()=>e.removeEventListener("touchmove",V.onTouchMovePositive)},[V.onTouchMovePositive,g]);let W="success"===g&&(null==w?void 0:w.type)==="svg",z="success"===g&&!T&&w,G="success"!==g&&w;return(0,p.jsxs)("div",{className:(0,Z.A)("ds-fancy-box__slide",s&&"with-thumbnails",v,r&&"loading"===g&&"active-loading"),ref:S,onClick:k.onClick,onMouseDown:oO(P.onMouseDown,B.onMouseDown),onMouseMove:oO(P.onMouseMove,B.onMouseMove),onMouseLeave:oO(P.onMouseLeave,B.onMouseLeave),onMouseUp:oO(P.onMouseUp,B.onMouseUp),onTouchStart:oO(B.onTouchStart,k.onTouchStart),onTouchMove:oO(B.onTouchMove,k.onTouchMove),onTouchEnd:oO(B.onTouchEnd,k.onTouchEnd),onAnimationEnd:i,children:[G?(0,p.jsx)("img",{ref:_,src:"image"===w.type?w.src:w.svgDataUri,onLoad:()=>{_.current&&(y.current={height:_.current.naturalHeight,width:_.current.naturalWidth},f("success"))},onError:()=>{f("fail"),m.emit("onEvent",{name:"loadImageFail",payload:{image:w}})},style:{display:"none"}}):null,W?(0,p.jsx)(oK,{svg:w.svgHtml,cursorStyle:M,theme:w.theme,svgRef:x,onClick:r?H:void 0,onTransitionEnd:F.onTransitionEnd,onWheel:F.onWheel,onTouchStart:e=>V.onTouchStart(e),onTouchEnd:e=>V.onTouchEnd(e)}):null,z?(0,p.jsx)("div",{className:"content",style:M,ref:x,onClick:r?H:void 0,onTransitionEnd:F.onTransitionEnd,onWheel:F.onWheel,onTouchStart:e=>V.onTouchStart(e),onTouchEnd:e=>V.onTouchEnd(e),children:(0,p.jsx)("img",{className:"image",src:w.src,height:null==(t=y.current)?void 0:t.height,width:null==(n=y.current)?void 0:n.width})}):null,C?(0,p.jsx)(ti.R,{size:32,className:"loading"}):null,"fail"===g?(0,p.jsx)(oH,{onClick:()=>{f("loading"),null==I||I(),m.emit("onEvent",{name:"clickRetry",payload:{image:w||a}})}}):null,(null==w?void 0:w.caption)?(0,p.jsx)("div",{ref:E,className:(0,Z.A)("caption","success"===g&&"visible"),children:w.caption}):null]})}),oZ=(0,D.memo)(function(e){let{images:t,currentIndex:n,closeOnMaskTouch:a,showThumbnails:s,toNext:r,toPrev:o,disableSvgInertia:i}=e,[l,c]=(0,D.useState)(null),[d,u]=(0,D.useState)([]);return(0,D.useEffect)(()=>{null!==l&&l!==n&&u(e=>[...e,l]),c(n)},[n,l]),[...new Set([...d,n])].map(e=>{let l=t.at(e);return l?(0,p.jsx)(oq,{showThumbnails:s,image:l,active:e===n,closeOnMaskTouch:a,index:n,length:t.length,onAnimationEnd:()=>{u(t=>t.filter(t=>t!==e))},toNext:r,toPrev:o,disableSvgInertia:i},oW(l,e)):null})});n(35043);let oQ=[()=>{let e=oV();return(0,p.jsx)(ef.K,{iconSize:20,onClick:()=>e.emit("close",null),size:"xl",children:(0,p.jsx)(eg.Q0,{})})}],oY=e=>{let{buttons:t}=e;return(0,p.jsx)("div",{className:"ds-fancy-box__top-toolbar",children:(t||oQ).map((e,t)=>"function"==typeof e?(0,D.createElement)(e,{key:t}):e)})},oX=e=>{let{index:t,length:n,setIndex:a}=e;return n<2?null:(0,p.jsxs)("div",{className:"ds-fancy-box__side-toolbar",children:[(0,p.jsx)(ef.K,{iconSize:20,onClick:()=>a((0,or.A)(t-1,0,n-1)),size:"xl",disabled:!t,focusable:!1,children:(0,p.jsx)(eg.f9,{})}),(0,p.jsx)(ef.K,{iconSize:20,onClick:()=>a((0,or.A)(t+1,0,n-1)),size:"xl",disabled:t===n-1,focusable:!1,children:(0,p.jsx)(eg.A8,{})})]})};n(84099);let oJ=e=>{let{images:t,index:n,setIndex:a,showThumbnails:s}=e;return(0,p.jsx)("div",{className:(0,Z.A)("ds-fancy-box__thumbnails",s&&"visible"),children:(0,p.jsx)("div",{className:"image-wrap",children:t.map((e,t)=>(0,p.jsx)(o$,{image:e,onClick:()=>a(t),current:n===t},oW(e,t)))})})},o$=e=>{let{image:t,onClick:n,current:a}=e,{finalImage:s}=oz(t,{onFetchSrcFail:n3.A,onFetchSrcSilentFail:n3.A}),r=(0,Z.A)("image",a&&"current");return null===s?(0,p.jsx)("div",{className:r}):(0,p.jsx)("img",{src:"image"===s.type?s.src:s.svgDataUri,className:r,onClick:n})};n(439),n(16586),n(59653);let o1=(0,D.memo)((0,D.forwardRef)((e,t)=>{var n;let a,s,r,o,{defaultImages:i=[],onShowChange:l,initIndex:c,defaultShow:d=!1,closeOnEscapeKeydown:u,showThumbnails:h=!1,topToolbarButtons:m,closeOnMaskTouch:g=!0,disableSvgInertia:f=!1,onEvent:C}=e,[v,b]=(0,D.useState)(d),[_,S]=(0,D.useState)(c||0),[E,x]=(0,D.useState)(i),y=(0,D.useRef)(null),w=E.map(oW).join(),I=oV(),T=(0,ee.DK)(e=>{b(e),null==l||l(e)}),A=(0,ee.DK)(()=>{_>0&&S(_-1)}),j=(0,ee.DK)(()=>{_<E.length-1&&S(_+1)}),k=(0,ee.DK)(()=>T(!1)),M=(0,ee.DK)(function(){let{images:e,index:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e||i;e&&x(n),"number"==typeof t&&S((0,or.A)(t,0,n.length)),T(!0),I.emit("onEvent",{name:"revealFancyBox",payload:null})});return(0,D.useImperativeHandle)(t,()=>({reveal:M,close:k})),a=oV(),(0,D.useEffect)(()=>{let e=e=>{a.emit("keydown",e)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),(0,D.useEffect)(()=>{let e=e=>{e.ctrlKey&&e.preventDefault()},t=e=>{e.preventDefault()};if(v)return document.addEventListener("wheel",e,{passive:!1}),document.addEventListener("touchmove",t,{passive:!1}),()=>{document.removeEventListener("wheel",e),document.removeEventListener("touchmove",t)}},[v]),n=null==u||u,s=oV(),(0,D.useEffect)(()=>{if(n){let e=e=>{"Escape"===e.key&&k()};return s.on("keydown",e),()=>s.off("keydown",e)}},[n,k,s]),r=oV(),(0,D.useEffect)(()=>{if(v){let e=e=>{"ArrowLeft"===e.key||"ArrowUp"===e.key?A():("ArrowRight"===e.key||"ArrowDown"===e.key)&&j()};return r.on("keydown",e),()=>r.off("keydown",e)}},[v,A,j,r]),(o=oV(),(0,D.useEffect)(()=>{let e=()=>o.emit("windowResize",null);return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[o]),(0,D.useEffect)(()=>(I.on("close",k),()=>I.off("close",k)),[k,I]),(0,D.useEffect)(()=>{S(0)},[E.length]),(0,D.useEffect)(()=>(I.on("onEvent",C),()=>I.offAll("onEvent")),[C,I]),!v||E.length<1)?null:(0,q.createPortal)((0,p.jsxs)("div",{className:"ds-fancy-box",style:{"--fancy-box-thumbnails-height":h?"96px":"0px"},children:[(0,p.jsx)("div",{className:"bg-mask",ref:y}),(0,p.jsx)(oY,{buttons:m}),(0,p.jsx)(oX,{index:_,setIndex:S,length:E.length}),(0,p.jsx)(oZ,{images:E,currentIndex:_,showThumbnails:h,toPrev:A,toNext:j,closeOnMaskTouch:g,disableSvgInertia:f},"ca"+w),(0,p.jsx)(oJ,{images:E,index:_,setIndex:S,showThumbnails:h},"tn"+w)]}),document.body)}));o1.displayName="FancyBoxImpl";let o0=(0,D.memo)(function(e){let{apiRef:t,i18n:n,...a}=e;return(0,p.jsx)(oB,{i18n:n,children:(0,p.jsx)(o1,{...a,ref:t})})});o0.displayName="FancyBox";let o2=(0,D.createContext)(null),o3=e=>{switch(e.type){case"svg":return null;case"image":return e.src;case"fetch-image":return e.key;default:return(0,e2.s)(e),null}},o4=(0,D.memo)(function(e){let{children:t}=e,n=(0,D.useRef)(null),a=g.R.useTranslate(),s=(0,D.useMemo)(()=>({loadFailRetry:a("imageLoadFailRetry")}),[a]),r=(0,ee.DK)(e=>{switch(e.name){case"clickRetry":{let t=e.payload.image,n="svg"===t.type;g.y.tracker.info({name:"fancyBoxClickRetry",message:"fancyBox点击重试加载",payload:{isSvg:n,info:o3(t)}});return}case"revealFancyBox":g.y.tracker.info({name:"fancyBoxReveal",message:"fancyBox手动开启",payload:{}});return;case"loadImageFail":{let t=e.payload.image;g.y.tracker.error({name:"fancyBoxLoadFail",message:"fancyBox图片加载失败",payload:{isSvg:"svg"===t.type,info:o3(t)}});return}case"fetchImageSrcFail":{let{image:t,err:n}=e.payload;g.y.tracker.error({name:"fancyBoxFetchImageSrcFail",message:"fancyBox获取图片src失败",payload:g.y.tracker.withError(n,{info:o3(t)})});return}default:(0,e2.s)(e)}});return(0,p.jsxs)(o2.Provider,{value:n,children:[(0,p.jsx)(o0,{apiRef:n,defaultShow:!1,i18n:s,disableSvgInertia:P.nr,onEvent:r}),t]})}),o6=()=>{let e=(0,D.useContext)(o2);if(!e)throw Error("not in FancyBoxProvider");return e};var o5=n(40101);let o9=e=>{let{code:t,infostring:n,disabled:a,style:s}=e,r=g.R.useTranslate();return(0,p.jsx)(sK,{style:s,disabled:a,onClick:()=>{aj(t),g.y.tracker.info({name:"copyCodeBlock",message:"复制代码块",payload:{lang:n||""}})},children:(0,p.jsx)("span",{className:ot,children:r("copyCode")})})},o8=e=>{let{domRef:t,domProps:n,onClick:a,disabled:s}=e,r=g.R.useTranslate();return(0,p.jsx)(sz,{disabled:s,domRef:t,domProps:n,onClick:a,icon:(0,p.jsx)(eg.FQ,{}),children:(0,p.jsx)("span",{className:ot,children:r("codeDownload")})})},o7=e=>{let{disabled:t}=e,n=g.R.useTranslate(),{getSvg:a}=(0,rP.dU)(),s=o6(),r=g.y.useTheme();return(0,p.jsx)(sz,{disabled:t,onClick:()=>{var e;let t=a();if(!t)return;let n=ie(t);null==(e=s.current)||e.reveal({images:[{type:"svg",svgDataUri:n,svgHtml:t.outerHTML,theme:r}],index:0})},icon:(0,p.jsx)(eg._Z,{}),children:(0,p.jsx)("span",{className:ot,children:n("fullScreen")})})},ie=e=>{let t=new XMLSerializer().serializeToString(e);return"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t))},it=e=>{let{infostring:t}=e;return(0,p.jsx)("span",{className:o5.codeInfoName,children:t})},ia=e=>{let{left:t,right:n}=e;return(0,p.jsx)("div",{className:o5.verticalLine,style:{marginLeft:t,marginRight:n}})};var is=n(53049);let ir=e=>{let{code:t,infostring:n,codeBlockRef:a}=e,s=g.R.useTranslate(),{displayType:r,setDisplayType:o}=rH(),i=[{label:s("mermaidDiagram"),value:"mermaid"},{label:s("mermaidCode"),value:"code"}],{zoomOut:l,zoomIn:c,downloadSvg:d,downloadPng:u}=(0,rP.dU)(),h="success"===(0,rP.e5)(),m=rc(),f=(0,is.kn)(),C="mermaid"===r&&!f;return rH().setSmartScroll(()=>{a.current&&m(a.current,{topOcclusion:0,bottomOcclusion:138,allowPartial:"top-visible"})}),(0,p.jsx)(oa,{left:(0,p.jsx)(r6,{className:o5.switch,options:i,value:r,onChange:o,theme:{color:"var(--dsw-alias-markdown-code-segment-unselected)",boxShadow:"0 0 4px 0 rgba(0,0,0,0.02), 0 6px 10px 0 rgba(0,0,0,0.04)",selectedColor:"var(--dsw-alias-markdown-code-segment-selected)"}}),right:(0,p.jsxs)("div",{className:o5.buttons,children:[C?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(io,{onClick:l,icon:(0,p.jsx)(eg.y7,{}),tooltipText:s("mermaidZoomOut"),disabled:!h}),(0,p.jsx)(io,{onClick:c,icon:(0,p.jsx)(eg.Tz,{}),tooltipText:s("mermaidZoomIn"),disabled:!h}),(0,p.jsx)(ia,{})]}):(0,p.jsx)(o9,{code:t,infostring:n}),(0,p.jsx)(oe,{trigger:"click",renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,p.jsx)(o8,{domRef:t,domProps:n})},menuDomProps:{style:{minWidth:100}},placement:"bottom-end",options:[{label:s("mermaidDownloadSvg"),key:"download_svg",domProps:{className:h?"":o5.disableOption},style:{justifyContent:"center"}},{label:s("mermaidDownloadPng"),key:"download_png",domProps:{className:h?"":o5.disableOption},style:{justifyContent:"center"}},{label:s("mermaidDownloadCode"),key:"download_code",style:{justifyContent:"center"}}],onSelect:e=>{switch(e){case"download_code":(0,os.WB)(t,"mermaid");break;case"download_svg":h&&d();break;case"download_png":h&&u();break;default:(0,e2.s)(e)}}}),(0,p.jsx)(o7,{disabled:!h})]})})},io=e=>{let{onClick:t,icon:n,tooltipText:a,disabled:s}=e;return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domRef:a,domProps:r}=e;return(0,p.jsx)(ef.K,{domRef:a,domProps:r,disabled:s,className:(0,Z.A)(o5.zoomButton),onClick:s?void 0:t,children:n})},children:a})},ii=e=>{let{code:t,infostring:n,isOpen:a}=e,{wip:s}=r2();return(0,p.jsx)(oa,{left:(0,p.jsx)(it,{infostring:n}),right:(0,p.jsxs)("div",{className:o5.buttons,children:[(0,p.jsx)(o9,{style:{marginRight:"4px"},disabled:s&&a,code:t,infostring:n}),(0,p.jsx)(o8,{disabled:s&&a,onClick:()=>(0,os.WB)(t,n)})]})})};var il=n(98834);let ic=e=>{let{code:t,isOpen:n,infostring:a}=e;(0,D.useEffect)(()=>{(0,il.Mw)()},[]);let{wip:s}=r2();return(0,p.jsx)(oa,{left:(0,p.jsx)(it,{infostring:a}),right:(0,p.jsxs)("div",{className:o5.buttons,children:[(0,p.jsx)(o9,{style:{marginRight:"4px"},disabled:s&&n,code:t,infostring:a}),(0,p.jsx)(o8,{disabled:s&&n,onClick:()=>(0,os.WB)(t,a)}),(0,p.jsx)(ia,{}),(0,p.jsx)(id,{disabled:n,code:t,infostring:a})]})})},id=e=>{let{disabled:t,code:n,infostring:a}=e,s=g.R.useTranslate(),r=s3(e=>e.setCode),o=s3(e=>e.open),i=(0,ee.DK)(()=>{g.y.tracker.info({name:"runMarkdownCode",message:"运行markdown code",payload:{infostring:a||""}}),r(n),o()});return(0,p.jsx)(sz,{disabled:t,onClick:i,icon:(0,p.jsx)(eg.fg,{}),children:(0,p.jsx)("span",{className:ot,children:s("runHtml")})})},iu=(0,D.memo)(function(e){let t=ih(e.infostring);return(0,p.jsx)(t,{...e})}),ih=e=>{switch(null==e?void 0:e.toLowerCase()){case"html":case"svg":case"xml":return ic;case"mermaid":return ir;default:return ii}};var ip=n(47231);function im(e){let{children:t}=e,n=(0,is.bN)(),{containerDomRef:a,onContainerScroll:s,ScrollAreaGutters:r,className:o}=(0,nQ.Qh)({horizontalScrollbarInsets:{leading:0,trailing:0,top:0,bottom:4}}),i=T.aU.useIsShareSelecting();return(0,p.jsxs)("div",{className:(0,Z.A)(o,ip.wrapper,!i&&!n&&ip.expand),ref:a,onScroll:s,children:[(0,p.jsx)(r,{}),t]})}var ig=n(9431);let iC=e=>{let{pos:t}=e;return(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",className:(0,Z.A)(ig.item,ig[t]),children:(0,p.jsx)("path",{d:"M-5.24537e-07 0C-2.34843e-07 6.62742 5.37258 12 12 12L0 12L-5.24537e-07 0Z",fill:"currentColor"})})};var iv=n(78985);let ib=e=>{let t=(0,D.useId)(),n=(0,T.Z2)(),a=g.R.useTranslate();return(0,p.jsx)(tx.m,{placement:"bottom",offsetOptions:6,renderTrigger:a=>{let{domProps:s,domRef:r}=a;return(0,p.jsx)(aK,{domRef:r,className:iv.item,paddingLeading:0,paddingTrailing:0,minWidth:18,height:18,pointer:!0,domProps:{...s,onClick:()=>{s.onClick();let{isOpen:a,count:r}=n.autoToggleView({...e,from:t});g.y.tracker.info({name:"toggleSearchList",message:"展示搜索结果列表",payload:{from:"referenceComposed",open:a,count:r}})}},inner:(0,p.jsx)("span",{className:iv.icon,children:(0,p.jsx)(eg.P,{})})})},children:a("composeResultTooltip")})},i_=(0,D.memo)(function(e){let{index:t}=e,{sessionId:n,messageId:a}=sO(),s=(0,T.KT)(n,a),r=s.messageBody.useReferenceSchema(),{noRender:o,fragmentId:i}=(0,D.useContext)(rL),l=s.reference.useReferenceResult(i,t),c=l.results,d=c.map(e=>e.url)||[],u=s.reference.useReferenceIndexMap(d),h=!l.composedList.length&&!c.length,m=iS();if(o||"DEEP_SEARCH"!==r||h)return"[reference:".concat(t,"]");return(0,p.jsxs)(p.Fragment,{children:[c.map((e,t)=>{var n,a;return(0,p.jsx)(sP,{value:e,children:(0,p.jsx)(a4,{node:{type:"citation",value:null!=(a=null==(n=u[e.url])?void 0:n.count)?a:-233},citeProps:m},t)},t)}),l.composedList.map((e,t)=>(0,p.jsx)(ib,{sessionId:n,messageId:a,fragmentId:e.fragmentId},"c".concat(t)))]})}),iS=()=>{let{sessionId:e,messageId:t}=sO();return(0,D.useMemo)(()=>({CiteWrapper:sV,check:e=>{if(-233===e){let t;return{valid:!1,fallback:(t=+e,"[reference:".concat(t,"]"))}}return{valid:!0,text:"".concat(e)}},useLink:()=>{let e=sD();return null==e?void 0:e.url},onOpenLink:n=>{sj(n,{sessionId:e,messageId:t},"reference")}}),[e,t])},iE=()=>{let{wip:e}=r2();return e?n3.A:ix},ix=(e,t)=>{let{tracker:n}=g.y;n.error({name:"katexRenderError",message:"katex终态渲染失败",payload:n.withError(e,{source:t})})},iy=e=>{g.y.tracker.info({name:"heuristcDetectLink",message:"启发式链接识别",payload:{url:e}})},iw=(0,p.jsx)(()=>[(0,p.jsx)(iC,{pos:"left"},1),(0,p.jsx)(iC,{pos:"right"},2)],{}),iI=()=>r2().wip;function iT(e){let{children:t,wrapTable:n=!0}=e,a=(0,nw.Y)();return(0,p.jsx)(sf,{CodeAction:void 0,CodeFooterAction:void 0,codeTheme:a?"dark":"light",CodeInfoRow:iu,CodeContent:r3,CodeContext:rB,codeBottom:iw,TableWrapper:n?im:void 0,reportHeuristicLink:iy,DeepSearchReference:i_,useOnKatexError:iE,useIsWIP:iI,children:t})}var iA=n(93300);n(60446);let ij=(0,D.memo)(function(e){let{loading:t,style:n,sessionId:a,messageId:s,fragmentId:r,isLastFragment:o}=e,i=(0,T.KT)(a,s).fragment.useIsWIPThinking(r),l=(0,D.useMemo)(()=>(0,p.jsx)(rO,{className:iA.contentIcon}),[]);return t?(0,p.jsx)(iM,{style:n,icon:l,isLastFragment:!0}):(0,p.jsx)(iM,{isLastFragment:o,style:n,icon:i?l:iR,children:(0,p.jsx)(ik,{sessionId:a,messageId:s,fragmentId:r})})}),ik=(0,D.memo)(function(e){let{messageId:t,sessionId:n,fragmentId:a}=e,s=(0,T.KT)(n,t),r=s.messageBody.useMessageStatus(),o=[T.FM.MessageStatus.CONTENT_FILTER].includes(r),i=s.fragment.useThinkFragment(a),l=null==i?void 0:i.content,c=s.messageBody.useIsWIP(),d=iN({thinkingContent:l,isDangerous:o}),u=l||"",h=sb(n,t,a),m=sU({sessionId:n,messageId:t}),g=(0,D.useMemo)(()=>({fragmentId:a,noRender:!0}),[a]);return d?(0,p.jsx)(iT,{wrapTable:!1,children:(0,p.jsx)(rF,{value:g,children:(0,p.jsx)(sC,{citeProps:m,cacheKey:h,loading:c,content:u,disableLink:!0})})}):null}),iM=e=>{let{children:t,style:n,icon:a,isLastFragment:s}=e;return(0,p.jsxs)("div",{className:(0,Z.A)(iA.contentWrap,"ds-think-content",s&&iA.lastFragment),style:n,children:[a,(0,p.jsx)("div",{className:iA.contentLine}),t]})},iR=(0,p.jsx)(rO,{className:iA.contentIcon,inactive:!0}),iN=e=>{let{thinkingContent:t,isDangerous:n}=e;return!n&&"string"==typeof t};var iO=n(49558);let iL=(0,D.memo)(function(e){let{text:t,shimmerWidth:n=120,className:a,style:s,onAnimationEnd:r,onAnimationStart:o,paused:i,disabled:l}=e,c=(0,D.useRef)(null);return(0,p.jsxs)("span",{ref:c,className:(0,Z.A)(iO.shimmer,a),style:s,onAnimationEnd:r,onAnimationStart:o,children:[t,l?null:(0,p.jsxs)("span",{className:iO.overlay,style:{animationPlayState:i?"paused":"running"},children:[(0,p.jsx)("span",{className:iO.moveBlock,style:{width:n}}),(0,p.jsx)("span",{className:iO.mirrorText,children:t})]})]})});var iF=n(29430);let iP=(0,D.forwardRef)(function(e,t){let{sessionId:n,messageId:a,isShowDetail:s,domRef:r,onToggle:o}=e,i=(0,T.KT)(n,a),l=i.collapsible.useCollapsibleAreaTitle(),c=i.collapsible.useIsCollapsibleAreaWIP(),d=i.collapsible.useShowCollapsibleGroupTitle(),u=i.collapsible.useCollapsibleAreaStopped(),{selected:h}=T.aU.useMessageSelectStatus(n,a),m=(0,D.useRef)(null);return((0,D.useImperativeHandle)(t,()=>({onCoveringContent:e=>{m.current&&(m.current.style.opacity=e&&s?"1":"0")}})),d)?(0,p.jsxs)("div",{ref:r,className:(0,Z.A)(iF.titleWrap,h&&iF.selected),onClick:e=>{e.stopPropagation(),o()},children:[(0,p.jsxs)("div",{className:iF.clickArea,children:[(0,p.jsx)(ez.I,{size:16,className:(0,Z.A)(iF.titleIcon,u&&iF.stoppedIcon),children:(0,p.jsx)(eg.di,{})}),(0,p.jsx)(iL,{className:iF.titleText,text:l,disabled:!c}),(0,p.jsx)(ez.I,{size:14,children:s?(0,p.jsx)(eg.uj,{}):(0,p.jsx)(eg.A8,{})})]}),(0,p.jsx)("div",{ref:m,className:(0,Z.A)(iF.mask),onClick:e=>e.stopPropagation()})]}):null});var iD=n(77651);let iB="search-query-item",iV=e=>{let{queries:t}=e,n=(0,D.useRef)(null);return(0,p.jsx)(n1,{onResize:()=>{if(!n.current)return;let e=Array.from(n.current.querySelectorAll(".".concat(iB))).filter(e=>e instanceof HTMLElement);e.forEach(e=>{e.style.setProperty("display",null),e.style.setProperty("width",null)});let t=n.current.getBoundingClientRect().width;e.forEach(e=>{if(0===t){e.style.display="none";return}let n=e.getBoundingClientRect().width+6;if(t>n){t-=n;return}e.style.display=t<30?"none":"inline-block",e.style.width="".concat(t-6,"px"),t=0})},forwardedRef:n,children:e=>{let{ref:n}=e;return(0,p.jsx)("div",{className:iD.queryGroup,ref:n,children:t.map((e,t)=>(0,p.jsx)("span",{className:(0,Z.A)(iD.query,iB),style:{marginLeft:6},children:e},t))})}})};var iH=n(96165);let iU=e=>{let{results:t}=e;return(0,p.jsx)("div",{className:iH.siteLogoGroup,children:t.slice(0,4).map((e,t)=>(0,p.jsx)(sx,{url:e.siteIcon,className:iH.siteLogo,style:{"--site-icon-index":t,pointerEvents:"none"}},t))})};var iW=n(28258);let iz=(0,D.memo)(function(e){let{style:t,sessionId:n,messageId:a,fragmentId:s}=e,r=(0,D.useId)(),o=T.aU.useIsShareSelecting(),i=(0,T.Z2)(),l=(0,T.KT)(n,a),c=l.fragment.useSearchTitle(s),d=(null==c?void 0:c.phase)!=="read_results"||o?void 0:iW.clickable,u=l.collapsible.useSearchQueries(s),h=l.collapsible.useSearchResults(s);return c?(0,p.jsxs)("div",{className:(0,Z.A)(iW.searchRow,d),style:t,onClick:()=>{if("read_results"!==c.phase||o)return;let{isOpen:e,count:t}=i.autoToggleView({sessionId:n,messageId:a,fragmentId:s,from:r});g.y.tracker.info({name:"toggleSearchList",message:"展示搜索结果列表",payload:{from:"top",open:e,count:t}})},children:[(0,p.jsx)(iG,{phase:c.phase}),(0,p.jsx)("span",{className:iW.contentPrefix,children:c.text}),"querying"===c.phase?(0,p.jsx)(iV,{queries:u.map(e=>e.query)}):null,"read_results"===c.phase?(0,p.jsx)(iU,{results:h}):null]}):null}),iG=e=>{let{phase:t}=e;switch(t){case"wait_query":case"querying":case"read_results":return(0,p.jsx)(iK,{children:(0,p.jsx)(eg.FG,{})});case"found_nothing":case"failed":case"interrupted":return(0,p.jsx)(iK,{children:(0,p.jsx)(eg.xM,{})});default:return(0,T.sL)(t),null}},iK=e=>{let{children:t}=e;return(0,p.jsx)(ez.I,{size:14,className:(0,Z.A)(iW.icon),children:t})};var iq=n(58388);let iZ=e=>{let{sessionId:t,messageId:n,fragmentId:a}=e,s=(0,T.KT)(t,n).fragment.useFragment(a),r=g.R.useTranslate();return(0,p.jsxs)("div",{className:iq.wrap,children:[(0,p.jsx)(ez.I,{size:16,className:iq.icon,children:(0,p.jsx)(eg.sB,{})}),(0,p.jsx)("span",{children:iQ(s)||r("unsupportedFragment")})]})},iQ=e=>e&&"content"in e&&"string"==typeof e.content?e.content:null,iY=new Set,iX=e=>{(0,D.useEffect)(()=>(iY.add(e),()=>{iY.delete(e)}),[e])};var iJ=n(73330);let i$=(0,D.memo)(function(e){let{className:t,style:n,onClick:a,viewable:s,selected:r,fail:o,text:i,icon:l,loading:c,tooltip:d}=e,u=function(){let{domProps:e,domRef:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,p.jsxs)("div",{ref:d,className:(0,Z.A)(iJ.item,s&&iJ.viewable,r&&iJ.selected,c&&iJ.loading,o&&iJ.fail,t),style:n,onClick:a,...e,children:[l,(0,p.jsx)("div",{className:iJ.text,children:i})]})};return d?(0,p.jsx)(tx.m,{renderTrigger:u,children:d}):u()});var i1=n(49005);let i0=(0,D.memo)(function(e){let{sessionId:t,messageId:n,fragmentId:a}=e,s=(0,T.KT)(t,n),r=s.fragment.useToolFindStatus(a),o=s.fragment.useToolFindPattern(a),i=g.R.useTranslate(),l="NO_RESULT"===r||"FAILED"===r;return(0,p.jsx)(i$,{fail:l,text:o,tooltip:l?i("toolFindFailTooltip"):void 0,icon:"WIP"===r?null:(0,p.jsx)(ez.I,{className:i1.icon,size:12,children:l?(0,p.jsx)(eg.cf,{}):(0,p.jsx)(eg.K8,{})})})});var i2=n(17585);let i3=e=>{let{children:t,icon:n,style:a,hideLine:s,isLastFragment:r}=e;return(0,p.jsxs)("div",{className:(0,Z.A)(i2.toolWrapper,!s&&i2.withLine,r&&i2.lastFragment),style:a,children:[(0,p.jsx)(ez.I,{size:14,className:i2.icon,children:n}),(0,p.jsx)("div",{className:i2.right,children:t})]})},i4=e=>{let{sessionId:t,messageId:n,ids:a,style:s,isLastFragment:r}=e,o=(0,T.KT)(t,n).fragment.useToolFindParallelStatus(a),i=g.R.useTranslate();if("error"===o)return null;let l="failed"===o||"noResult"===o?(0,p.jsx)(eg.lN,{}):(0,p.jsx)(eg.ze,{});return(0,p.jsxs)(i3,{icon:l,style:s,hideLine:!1,isLastFragment:r,children:["noResult"===o?i("toolFindFailTooltip"):null,"failed"===o?i("toolFindFail"):null,"display"===o?[(0,p.jsx)("div",{className:i1.intro,children:i("toolFindIntro")},"f1"),...a.map(e=>(0,p.jsx)(i0,{sessionId:t,messageId:n,fragmentId:e},e))]:null]})};var i6=n(10575);let i5=(0,D.memo)(function(e){let{sessionId:t,messageId:n,fragmentId:a}=e,s=g.R.useTranslate(),r=(0,T.KT)(t,n),o=r.fragment.useToolOpenTitle(a),i="FAILED"===r.fragment.useToolOpenStatus(a);return null===o?null:(0,p.jsxs)("div",{className:(0,Z.A)(i6.item,i?i6.failed:i6.success),children:[i?(0,p.jsx)(tx.m,{renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,p.jsx)("span",{className:i6.text,ref:t,...n,children:o.title})},children:s("toolOpenFailTooltip")}):(0,p.jsx)("a",{href:o.url,target:"_blank",rel:"noreferrer",className:i6.text,onClick:()=>i9(o.url),onAuxClick:()=>i9(o.url),children:o.title}),(0,p.jsx)(ez.I,{size:14,className:i6.icon,children:(0,p.jsx)(eg.Wh,{})})]})}),i9=e=>{g.y.tracker.info({name:"toolOpenClick",message:"点击TOOL_OPEN链接",payload:{url:e}})},i8=e=>{let{sessionId:t,messageId:n,ids:a,style:s,isLastFragment:r}=e,o=g.R.useTranslate(),i=(0,T.KT)(t,n).fragment.useToolOpenParallelStatus(a);if("error"===i)return null;let l="failed"===i?(0,p.jsx)(eg.lN,{}):(0,p.jsx)(eg.ze,{});return(0,p.jsxs)(i3,{icon:l,style:s,hideLine:!1,isLastFragment:r,children:["failed"===i?o("toolOpenFail"):null,"mixed"===i?o("toolOpenIntro"):null,"detailed"===i?[(0,p.jsx)("div",{className:(0,Z.A)(i6.item,i6.intro),children:o("toolOpenIntro")},"i1"),...a.map(e=>(0,p.jsx)(i5,{sessionId:t,messageId:n,fragmentId:e},e))]:null]})};var i7=n(69124);let le=(0,D.memo)(function(e){let{sessionId:t,messageId:n,ids:a,style:s,isLastFragment:r}=e,o=g.R.useTranslate(),i=(0,T.KT)(t,n).fragment.useToolSearchParallelStatus(a);return"error"===i.status?null:(0,p.jsxs)(i3,{style:s,icon:(0,p.jsx)(ez.I,{size:14,children:"failed"===i.status||"noResult"===i.status?(0,p.jsx)(eg.xM,{}):(0,p.jsx)(eg.FG,{})}),hideLine:!1,isLastFragment:r,children:[(0,p.jsx)("div",{className:i7.intro,children:(()=>{switch(i.status){case"error":return"";case"failed":return o("toolSearchFail");case"noResult":return o("toolSearchNoResult");case"detailed":{if(i.allWIP)return o("toolSearchIntro");let e=i.results.resultCount;return e<2?o("toolSearch1Result"):o("toolSearchResults")(e)}default:return(0,T.sL)(i),""}})()}),"detailed"===i.status?i.results.queries.map(e=>{let{query:a,fragmentId:s,viewable:r,wip:o}=e,i="".concat(s,"@").concat(a);return(0,p.jsx)(lt,{query:a,messageId:n,sessionId:t,fragmentId:s,viewable:r,failed:!(o||r)},i)}):null]})}),lt=e=>{let{sessionId:t,messageId:n,fragmentId:a,query:s,viewable:r,failed:o}=e,i=(0,D.useId)(),l=(0,T.KT)(t,n).messageBody.useIsWIP(),c=(0,T.Z2)(),d=c.hooks.useIsSelected({sessionId:t,messageId:n,fragmentId:a,from:i}),u=g.R.useTranslate();return(0,p.jsx)(i$,{viewable:r,selected:d,loading:!r&&l,fail:o,text:s,tooltip:o?u("toolSearchNoResult"):void 0,onClick:()=>{if(!r)return;let{isOpen:e,count:s}=c.autoToggleView({sessionId:t,messageId:n,fragmentId:a,from:i});g.y.tracker.info({name:"toggleSearchList",message:"展示搜索结果列表",payload:{from:"fragments",open:e,count:s}})}})};var ln=n(61002);let la={marginTop:4,marginBottom:"var(--assistant-last-margin-bottom)"},ls={marginTop:4},lr=e=>{let{sessionId:t,messageId:n,smartScrollRef:a}=e,s=(0,T.KT)(t,n),r=s.messageBody.useIsWIPRef(),o=s.collapsible.useCollapsibleAreaFragmentsMeta(),[i,l]=(0,D.useState)(!0),c=(0,D.useRef)(null),{topRef:d,bottomRef:u}=lo(c),h=n7(),m=s.messageBody.useShowLoading(),f=6*!!nm(),C=!s.collapsible.useShowCollapsibleArea(),v=rc();(0,D.useLayoutEffect)(()=>{a.current&&v(a.current,{topOcclusion:f})},[f,i,v,a]),(0,D.useLayoutEffect)(()=>{r.current&&h()},[o.length,r,h]),(0,D.useLayoutEffect)(()=>{m&&"dot-multi"!==m&&h()},[m,h]);let b=li(o);(0,D.useLayoutEffect)(()=>{h()},[b,h]);let _=!i||!o.length,S=i&&"dot-single"===m;return C?null:(0,p.jsxs)("div",{className:(0,Z.A)(ln.collapsibleArea,_&&ln.noDetail),style:{"--collapsible-area-title-height":"38px","--group-title-sticky-top":f+"px"},children:[(0,p.jsx)(iP,{messageId:n,sessionId:t,isShowDetail:i,ref:c,onToggle:()=>{l(e=>{let t=!e;if(t){var n;null==(n=c.current)||n.onCoveringContent(!1)}return g.y.tracker.info({name:"toggleCollapsibleArea",message:(t?"展开":"收起")+"可折叠区域",payload:{open:t}}),t})}}),(0,p.jsx)("div",{ref:d,className:ln.topCoverDetect}),...(i?o:[]).map((e,a)=>{let s=e=>e===o.length-1&&!S;switch(e.type){case"parallelGroup":switch(e.toolType){case"TOOL_SEARCH":return(0,p.jsx)(le,{messageId:n,sessionId:t,ids:e.ids,style:a?ls:void 0,isLastFragment:s(a)},a);case"TOOL_OPEN":return(0,p.jsx)(i8,{messageId:n,sessionId:t,ids:e.ids,style:a?ls:void 0,isLastFragment:s(a)});case"TOOL_FIND":return(0,p.jsx)(i4,{messageId:n,sessionId:t,ids:e.ids,style:a?ls:void 0,isLastFragment:s(a)});default:return(0,T.sL)(e.toolType),null}case"generalFragment":switch(e.fragmentType){case"THINK":return(0,p.jsx)(ij,{messageId:n,sessionId:t,fragmentId:e.id,loading:!1,style:a?ls:void 0,isLastFragment:s(a)},a);case"SEARCH":return(0,p.jsx)(iz,{messageId:n,sessionId:t,fragmentId:e.id,style:a?ls:void 0},a);default:return(0,p.jsx)(iZ,{sessionId:t,messageId:n,fragmentId:e.id},a)}default:return(0,T.sL)(e),null}}),S?(0,p.jsx)(ij,{style:la,loading:!0,fragmentId:"loading",sessionId:t,messageId:n,isLastFragment:!0},o.length):null,(0,p.jsx)("div",{ref:u,className:ln.bottomCoverDetect})]})},lo=e=>{let t=ri(),n=(0,ee.DK)(()=>{let e=a.current,n=s.current,r=t.current;if(!e||!n||!r)return!1;let o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),l=r.getBoundingClientRect();return o.top<l.top&&i.bottom>=l.top}),a=(0,D.useRef)(null),s=(0,D.useRef)(null),r=(0,ee.DK)(()=>{var t;let a=n();null==(t=e.current)||t.onCoveringContent(a)});return(0,D.useLayoutEffect)(()=>{r()},[r]),iX(r),{topRef:a,bottomRef:s}},li=e=>e.reduce((e,t)=>"generalFragment"===t.type?e+t.id:e+t.ids.reduce((e,t)=>e+t,0),0);var ll=n(31812);let lc=e=>{let{messageId:t}=e;return g.y.useIsDebug()?(0,p.jsxs)("div",{className:ll.id,children:["(debug) message_id: ",t]}):null};function ld(e){var t;let{size:n="m",status:a="none",children:s,defaultValue:o,checked:i,halfChecked:l,disabled:c,block:d,onChange:u,className:h,style:m,theme:g}=e,f=ep(),C=null!=(t=null==f?void 0:f.status)?t:a,v=(0,D.useMemo)(()=>({...m,"--line-height":null==g?void 0:g.lineHeight,"--font-size":null==g?void 0:g.fontSize,"--gap":null==g?void 0:g.gap}),[m,null==g?void 0:g.fontSize,null==g?void 0:g.gap,null==g?void 0:g.lineHeight]),[b,_]=(0,D.useState)(o),S=void 0!==i?i:b,E=e=>{if(c)return;let t=!S;void 0===i&&_(t),null==u||u(t,e)},x=(0,D.useRef)(null),y=(0,p.jsx)("div",{className:"".concat(U.V,"-checkbox-align-wrapper"),children:(0,p.jsx)("div",{ref:x,className:(0,Z.A)("".concat(U.V,"-checkbox"),"".concat(U.V,"-checkbox--").concat(n),(S||l)&&"".concat(U.V,"-checkbox--active"),c&&"".concat(U.V,"-checkbox--disabled"),"".concat(U.V,"-checkbox--").concat(C)),style:s?void 0:v,onClick:E,tabIndex:c?void 0:0,onKeyDown:e=>{"Enter"===e.key&&E(e)},children:S?r||(r=(0,p.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M11.5625 4.49518L7.61331 8.98248C7.35059 9.28094 7.11252 9.55346 6.89359 9.75201C6.66498 9.95932 6.38424 10.1559 6.0137 10.2217C5.81985 10.2561 5.62112 10.2582 5.42679 10.2266C5.05515 10.1662 4.77171 9.97269 4.54007 9.76862C4.31832 9.57324 4.07657 9.30444 3.8096 9.00983L2.44437 7.50397L3.55569 6.49615L4.92093 8.00299C5.21161 8.32377 5.38783 8.51724 5.53128 8.64362C5.60927 8.71232 5.65159 8.73725 5.668 8.74518C5.69553 8.74962 5.72354 8.75 5.75101 8.74518C5.72562 8.74984 5.75469 8.75955 5.88577 8.64069C6.02738 8.51225 6.20131 8.31621 6.48734 7.99127L10.4375 3.50494L11.5625 4.49518Z",fill:"currentColor"})})):l?(0,p.jsx)("svg",{width:"8",height:"2",viewBox:"0 0 8 2",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,p.jsx)("path",{d:"M0 0V2H8V0H0Z",fill:"white"})}):null})});return s?(0,p.jsxs)("div",{className:(0,Z.A)("".concat(U.V,"-checkbox-wrapper"),c&&"".concat(U.V,"-checkbox-wrapper--disabled"),d&&"".concat(U.V,"-checkbox-wrapper--block"),"".concat(U.V,"-checkbox-wrapper--").concat(n),h),style:v,children:[y,(0,p.jsx)("div",{className:"".concat(U.V,"-checkbox-label"),onClick:E,onMouseDown:e=>{var t;c||(e.preventDefault(),null==(t=x.current)||t.focus())},children:s})]}):y}n(63103);var lu=n(774);let lh=e=>{let{sessionId:t,messageId:n,stickyMargin:a}=e,s=(0,T.zG)(),r=T.aU.useIsShareSelecting(),{selected:o,selectable:i}=T.aU.useMessageSelectStatus(t,n),l=800>rk();return r?(0,p.jsx)("div",{className:(0,Z.A)(lu.checkboxWrap,l&&lu.inSmallView),children:(0,p.jsx)("div",{className:lu.checkbox,style:a?{paddingTop:a+"px",paddingBottom:a+"px"}:void 0,children:(0,p.jsx)(ld,{size:"l",theme:{lineHeight:"unset"},style:{alignSelf:"flex-start"},checked:o,disabled:!i,onChange:(e,t)=>{t.stopPropagation(),s.toggleMessageSelection(n)}})})}):null};var lp=n(52845);let lm=(0,D.memo)(function(e){let{sessionId:t,messageId:n}=e,a=(0,T.KT)(t,n),s=a.messageBody.useTips("WARNING"),r=a.messageBody.useIsWIP(),o=n7();return((0,D.useLayoutEffect)(()=>{!r&&s.length&&o()},[r,o,s.length]),r)?null:(0,p.jsx)(p.Fragment,{children:s.map(e=>(0,p.jsx)("div",{className:lp.messageRiskWarn,children:e.content},e.content))})});var lg=n(55079);let lf=e=>{let{sessionId:t,messageId:n}=e,a=(0,D.useId)(),s=(0,T.KT)(t,n),r=s.collapsible.useShowSearchSitesSummary(),o=s.collapsible.useSearchResults("composed"),i=s.collapsible.useSearchSitesText(o.length),l=(0,T.Z2)(),c=T.aU.useIsShareSelecting(),d={sessionId:t,messageId:n,fragmentId:"composed",from:a};return r&&o.length?(0,p.jsxs)("div",{className:lg.sites,onClick:c?void 0:()=>{let{isOpen:e,count:t}=l.autoToggleView(d);g.y.tracker.info({name:"toggleSearchList",message:"展示搜索结果列表",payload:{from:"summary",open:e,count:t}})},children:[(0,p.jsx)(iU,{results:o}),(0,p.jsx)("span",{className:lg.text,children:i})]}):null};var lC=n(50892);let lv=e=>{let{sessionId:t,messageId:n}=e,a=(0,T.KT)(t,n).fragment.useReadLinkStatus(),s=g.R.useTranslate(),[r,o]=(0,D.useState)("none"!==a);return((0,D.useEffect)(()=>{"none"===a?o(!1):o(!0)},[a]),"none"===a)?null:r?"interrupted"===a?(0,p.jsx)(iL,{className:lC.title,text:s("readingStopped"),paused:!0}):(0,p.jsx)("div",{className:(0,Z.A)(lC.relativeWrapper,"finishRead"===a&&lC.disappearing),onAnimationEnd:()=>o(!1),children:(0,p.jsx)(iL,{className:lC.title,text:s("readingLink")})}):null},lb=(0,D.memo)(function(e){let{messageId:t,sessionId:n,index:a,isLast:s}=e,r=(0,T.KT)(n,t),o=r.messageBody.useResponseContentFragmentId();n9(r.bottom.useBranchIndex());let i=r.messageBody.useMessageContent()||"",l=r.messageBody.useIsWIP(),c=(0,D.useRef)(null),d=n7();rl(c,{index:a,id:t});let u=sb(n,t,null),h=r.messageBody.useShowLoading(),m=!r.fragment.useIsAnyInfoExistInMessage(),g=sU({sessionId:n,messageId:t}),f=r.bottom.useShowAssistantBottomThings(),C=(0,D.useMemo)(()=>({wip:l}),[l]),v=nm(),b=(0,D.useMemo)(()=>({fragmentId:o||-1,noRender:!1}),[o]);return(0,D.useLayoutEffect)(()=>{l||d()},[l,d]),(0,p.jsxs)("div",{style:{"--assistant-last-margin-bottom":"32px"},className:(0,Z.A)(ry.assistantMessage,s&&ry.isLast,f&&ry.showActions,v&&ry.shareView,h&&ry.showLoading),ref:c,children:[(0,p.jsx)(lh,{messageId:t,sessionId:n}),(0,p.jsxs)(rR,{sessionId:n,messageId:t,children:[(0,p.jsx)(lc,{messageId:t}),(0,p.jsx)(ae,{messageId:t,sessionId:n}),(0,p.jsxs)(r0,{value:C,children:[(0,p.jsx)(lv,{messageId:t,sessionId:n}),(0,p.jsx)(lr,{sessionId:n,messageId:t,smartScrollRef:c}),(0,p.jsx)(rF,{value:b,children:(0,p.jsx)(sC,{citeProps:g,cacheKey:u,loading:l,content:i,disableLink:!1})})]}),"dot-multi"===h?(0,p.jsx)(n2,{className:ry.loading}):null,m?(0,p.jsx)("div",{className:ry.blank}):null,f&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(lm,{messageId:t,sessionId:n}),(0,p.jsx)(lf,{sessionId:n,messageId:t})]})]}),f?(0,p.jsx)(rT,{sessionId:n,messageId:t,isFromLastMessage:s}):null]})});var l_=n(66980),lS=n(96171);let lE=()=>document.body.clientWidth,lx=(0,D.createContext)({width:lE()}),ly=e=>{let{getWrap:t,children:n}=e,[a,s]=(0,D.useState)(lE);(0,D.useEffect)(()=>{let e=new nX.j(()=>{let e=t();e?s(lw(e)):s(lE())}),n=t();return n&&e.observe(n),()=>e.disconnect()},[t]);let r=(0,D.useMemo)(()=>({width:a}),[a]);return(0,p.jsx)(lx.Provider,{value:r,children:n})},lw=e=>{let t=getComputedStyle(e);return e.clientWidth-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)};function lI(e){let{type:t}=e;return T.BP.getIsImageExt(t)?(0,p.jsx)(lA,{}):T.BP.getIsPdfExt(t)?(0,p.jsx)(lj,{}):T.BP.getIsTableExt(t)?(0,p.jsx)(lk,{}):(0,p.jsx)(lT,{})}function lT(){let e=(0,ee.ip)();return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,p.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#"+e+")"}),(0,p.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,p.jsx)("path",{d:"M6 11.784c0-.433.351-.784.784-.784h10.432a.784.784 0 1 1 0 1.568H6.784A.784.784 0 0 1 6 11.784zM6 15.784c0-.433.351-.784.784-.784h10.432a.784.784 0 1 1 0 1.568H6.784A.784.784 0 0 1 6 15.784zM6.114 19.817c0-.433.35-.784.784-.784h6.318a.784.784 0 1 1 0 1.568H6.898a.784.784 0 0 1-.784-.784z",fill:"#fff"}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:e,x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#6D93FF"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#5A71F0"})]})})]})}let lA=()=>{let e=(0,ee.ip)();return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,p.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#"+e+")"}),(0,p.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,p.jsx)("path",{d:"M8.654 16.592a.4.4 0 0 1 .692 0l2.803 4.806a.4.4 0 0 1-.345.602H6.196a.4.4 0 0 1-.345-.602l2.803-4.806z",fill:"#fff"}),(0,p.jsx)("path",{d:"M14.15 13.63a.4.4 0 0 1 .7 0l4.32 7.776a.4.4 0 0 1-.35.594h-8.64a.4.4 0 0 1-.35-.594l4.32-7.777z",fill:"#fff"}),(0,p.jsx)("circle",{cx:"7.3",cy:"11.8",r:"1.8",fill:"#fff"}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:e,x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#84C4FF"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#2DA5DC"})]})})]})},lj=()=>{let e=(0,ee.ip)();return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,p.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#"+e+")"}),(0,p.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,p.jsx)("path",{d:"M16.72 18.7a4.618 4.618 0 0 1-2.678-1.086c-1.484.326-2.896.796-4.307 1.375-1.122 1.99-2.172 3.004-3.077 3.004-.18 0-.398-.036-.543-.145a1.067 1.067 0 0 1-.615-.977c0-.325.072-1.23 3.51-2.714a25.767 25.767 0 0 0 1.919-4.488c-.434-.869-1.375-3.004-.724-4.09.217-.398.652-.615 1.122-.579a1.2 1.2 0 0 1 .941.47c.47.652.434 2.027-.18 4.054a10.916 10.916 0 0 0 2.243 2.896c.76-.145 1.52-.254 2.28-.254 1.701.036 1.955.833 1.918 1.303 0 1.23-1.194 1.23-1.81 1.23zM6.586 20.944l.108-.037c.507-.18.905-.543 1.195-1.013a2.86 2.86 0 0 0-1.303 1.05zm4.813-10.858h-.108c-.036 0-.109 0-.145.036-.145.615-.036 1.267.217 1.846a3.041 3.041 0 0 0 .036-1.882zm.254 5.248l-.036.072-.037-.036a29.881 29.881 0 0 1-1.085 2.461l.072-.036v.072c.796-.29 1.665-.543 2.461-.724l-.036-.036h.108a11.088 11.088 0 0 1-1.447-1.773zm4.922 1.918c-.326 0-.615 0-.941.072.362.181.724.254 1.086.29a1.6 1.6 0 0 0 .724-.073c0-.108-.145-.29-.869-.29z",fill:"#fff"}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:e,x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#FD6D3A"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#F05A6B"})]})})]})},lk=()=>{let e=(0,ee.ip)();return(0,p.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"28",viewBox:"0 0 24 28",fill:"none",children:[(0,p.jsx)("path",{d:"M16.5 0l7 7v15.6c0 2.25 0 3.375-.573 4.164a3 3 0 0 1-.663.663C21.475 28 20.349 28 18.1 28H5.9c-2.25 0-3.375 0-4.164-.573a3 3 0 0 1-.663-.663C.5 25.975.5 24.849.5 22.6V5.4c0-2.25 0-3.375.573-4.164a3 3 0 0 1 .663-.663C2.525 0 3.651 0 5.9 0h10.6z",fill:"url(#"+e+")"}),(0,p.jsx)("path",{d:"M16.5 0l7 7h-3.8c-1.12 0-1.68 0-2.108-.218a2 2 0 0 1-.874-.874C16.5 5.48 16.5 4.92 16.5 3.8V0z",fill:"#fff",fillOpacity:".55"}),(0,p.jsx)("path",{d:"M8.203 11a.455.455 0 0 0-.37.717l2.986 4.224-3.236 4.592a.454.454 0 0 0 .372.716h1.25c.15 0 .29-.073.374-.197l2.415-3.507 2.428 3.508a.455.455 0 0 0 .374.196h1.25a.455.455 0 0 0 .37-.718l-3.26-4.59 3.01-4.222a.455.455 0 0 0-.37-.719h-1.249a.455.455 0 0 0-.374.196l-2.178 3.14-2.168-3.14A.455.455 0 0 0 9.453 11h-1.25z",fill:"#fff"}),(0,p.jsx)("defs",{children:(0,p.jsxs)("linearGradient",{id:e,x1:"1.5",y1:"-1",x2:"23.5",y2:"28",gradientUnits:"userSpaceOnUse",children:[(0,p.jsx)("stop",{stopColor:"#84C768"}),(0,p.jsx)("stop",{offset:"1",stopColor:"#4BB477"})]})})]})};var lM=n(43110);let lR=e=>{let{children:t,className:n,wrapperClassName:a,style:s,domRef:r}=e,{showLeftArrow:o,showRightArrow:i,beginRef:l,endRef:c,scroll:d,containerRef:u,onWheel:h}=function(){let[e,t]=(0,D.useState)(!1),[n,a]=(0,D.useState)(!1),s=(0,D.useRef)(null),r=(0,ee.iL)(e=>{t(!e)});return{showLeftArrow:e,showRightArrow:n,beginRef:r,endRef:(0,ee.iL)(e=>{a(!e)}),scroll:function(e){var t,n;null==(t=s.current)||t.focus(),null==(n=s.current)||n.scrollBy({left:"left"===e?-200:200,behavior:"instant"})},containerRef:s,onWheel:e=>{0!==e.deltaX||0!==e.deltaY&&e.currentTarget.scrollBy({left:Math.min(e.deltaY,60),behavior:"instant"})}}}();return(0,p.jsxs)("div",{className:(0,Z.$)(lM.container,a),ref:(0,nY.P)(u,r),onWheel:h,children:[o&&(0,p.jsx)("div",{className:(0,Z.$)(lM.navMask,lM.left),children:(0,p.jsx)("div",{className:(0,Z.$)(lM.navMaskContent),children:(0,p.jsx)(ef.K,{className:lM.button,onClick:()=>d("left"),children:(0,p.jsx)(eg.A8,{})})})}),(0,p.jsx)("div",{style:{position:"relative",zIndex:100,left:"1px"},ref:l}),(0,p.jsx)("div",{className:n,children:t}),(0,p.jsx)("div",{style:{position:"relative",zIndex:100,right:"5px"},ref:c}),i&&(0,p.jsx)("div",{className:(0,Z.$)(lM.navMask,lM.right),style:s,children:(0,p.jsx)("div",{className:(0,Z.$)(lM.navMaskContent),children:(0,p.jsx)(ef.K,{className:lM.button,onClick:()=>d("right"),children:(0,p.jsx)(eg.A8,{})})})})]})};lR.displayName="ScrollArrows";var lN=n(78110);function lO(e){let{fileList:t,readOnly:n,onFileDelete:a,closeButtonOffset:s,style:r,lastLineLeft:o,sessionId:i,messageId:l}=e,c=g.R.useTranslate();t.every(e=>!1===e.previewable)&&(t=t.slice(0,1).map(e=>({...e,fileName:c.shareFile,status:T.QQ.FileParseStatus._CUSTOM_FROM_SHARE})));let d=(0,D.useRef)(null);return(0,p.jsx)(ly,{getWrap:()=>d.current||null,children:(0,p.jsx)("div",{ref:d,className:lN.inMessage,style:{...r,marginTop:-(s||0),paddingTop:s},children:(0,p.jsx)(lF,{fileList:t,readOnly:n,onFileDelete:a,lastLineLeft:o,info:{unsent:!1,sessionId:i,messageId:l}})})})}function lL(e){let{fileList:t,readOnly:n,onFileDelete:a,closeButtonOffset:s,style:r,domRef:o}=e,i=(0,D.useRef)(t.length);return(0,D.useLayoutEffect)(()=>{if(t.length>i.current){var e;null==(e=o.current)||e.scrollTo({left:o.current.scrollWidth,behavior:"smooth"})}i.current=t.length},[t.length,o]),(0,p.jsx)(lR,{domRef:o,className:(0,Z.A)(lN.inInput),style:{...r,marginTop:-(s||0),paddingTop:s},children:(0,p.jsx)(lF,{fileList:t,readOnly:n,onFileDelete:a,info:{unsent:!0}})})}let lF=(0,D.memo)(function(e){let{fileList:t,readOnly:n,onFileDelete:a,lastLineLeft:s,info:r}=e;return(0,p.jsx)(p.Fragment,{children:t.map((e,o)=>(0,p.jsx)(lB,{info:r,file:e,readOnly:n,onDelete:n?()=>{}:()=>a(e),sideNode:(0,p.jsx)(lP,{idx:o,fileList:t,lastLineLeft:s})},e.renderKey))})}),lP=(0,D.memo)(function(e){let{idx:t,fileList:n,lastLineLeft:a}=e,s=616>(0,D.useContext)(lx).width?2:3;return a&&lD(t,n.length,s)?a:null}),lD=(e,t,n)=>{let a=t%n;return a?e===t-a:e===t-n};function lB(e){let t,{file:n,readOnly:a,onDelete:s,sideNode:r,info:o}=e,i=n.status===T.QQ.FileParseStatus._CUSTOM_FROM_SHARE,l=g.R.useTranslate(),c=g.R.useLocale(),d=(0,eZ.dj)(),u=(t=(0,l_.useTranslateWithLocale)(),(e,n)=>{let a=e?"error".concat(e):"default";return t(a in lS.zh_CN?a:"default",n)}),h=(0,T.M7)(),{isRequireDelete:m,isUploadFailed:f}=(0,T.Oc)(e=>e.getIsRequireDelete(n.id)),C=o6(),v=(0,T.vE)(n.fileName,"upper"),{formatStr:b}=(0,T.eO)(n.fileSize),_=h.hooks.usePreviewType(n),S=g.y.useTheme(),E=(0,D.useCallback)(e=>{e.stopPropagation(),h.matchCurrentPreviewFile(n)&&h.closePreview(),s()},[n,s,h]),x=async e=>{if(e.stopPropagation(),_){if(g.y.tracker.info({name:"previewFile",message:"点击预览文件",payload:{type:_,fileName:n.fileName,id:n.id}}),"image"===_){var t;null==(t=C.current)||t.reveal({images:[{type:"fetch-image",fetcher:()=>h.getPreviewInfo(n,o).then(e=>(null==e?void 0:e.url)||null),key:n.id,isSvg:"SVG"===v,theme:S}]});return}(await h.toggleFilePreview(n,o)).success||d.error(l("previewFileFail"))}},y=!m&&[T.QQ.FileParseStatus.PENDING,T.QQ.FileParseStatus.PARSING].includes(n.status);return(0,p.jsxs)("div",{tabIndex:null===_?void 0:0,className:(0,Z.A)(lN.fileItem,m&&lN.failed,!!_&&lN.couldPreview),onClick:x,onKeyDown:e=>{"Enter"===e.key&&x(e)},children:[r,(0,p.jsxs)("div",{className:lN.fileItemBox,children:[(0,p.jsx)(ez.I,{className:(0,Z.A)(lN.fileIcon,m&&lN.failedFile),size:28,children:y?(0,p.jsx)(ti.R,{size:20,className:lN.loadingWrapper}):(0,p.jsx)(lI,{type:v})}),(0,p.jsxs)("div",{className:lN.content,children:[(0,p.jsx)(tx.m,{hoverable:!0,checkEllipsis:!0,theme:{maxWidth:"80vw"},disabled:i,renderTrigger:e=>{let{domProps:t,domRef:s,ellipsisDomRef:r}=e;return(0,p.jsxs)("div",{className:lN.captionRow,ref:s,children:[(0,p.jsx)("div",{...t,className:(0,Z.A)(lN.caption,i&&lN.shareCaption),ref:r,children:n.fileName}),(0,p.jsx)("div",{className:(0,Z.A)(m&&!a&&lN.forceShow,!a&&lN.hoverToShow)})]})},children:n.fileName}),(0,p.jsx)("div",{className:(0,Z.A)(lN.subCaption,!i&&lN.ellipsis),children:(e=>{var t,n;if(null==(t=T.Oc.getState().getFileUploadInfo(e.id))?void 0:t.isUploading)return l("uploadFileStatusUploading");if(f)return(null==(n=T.Oc.getState().getFileUploadInfo(e.id))?void 0:n.failedMsg)||l("uploadFileStatusFailed");switch(e.status){case T.QQ.FileParseStatus.SUCCESS:return"".concat(v," ").concat(b);case T.QQ.FileParseStatus.PENDING:return l("fileParseQueuing");case T.QQ.FileParseStatus.PARSING:return l("uploadFileStatusParsing");case T.QQ.FileParseStatus.CONTENT_FILTER:return g.y.isMobile?l("uploadFileStatusContentFilterForMobile"):l("uploadFileStatusContentFilter");case T.QQ.FileParseStatus.CONTENT_EMPTY:return l("uploadFileStatusContentEmpty");case T.QQ.FileParseStatus.CONTENT_TOO_LONG:return l("fileContentTooLong");case T.QQ.FileParseStatus.FAILED:return u(e.errorCode,c);case T.QQ.FileParseStatus.CANCELLED:return l("fileParseFailed");case T.QQ.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL:return l("systemServiceException");case T.QQ.FileParseStatus._CUSTOM_FROM_SHARE:return l.shareFileNoPreview;default:return(0,T.sL)(e.status),""}})(n)})]}),!a&&(m?(0,p.jsx)(lH,{onClick:E}):(0,p.jsx)(lV,{onClick:E}))]}),(0,p.jsx)(tr.v,{})]})}function lV(e){let{onClick:t}=e;return(0,p.jsxs)("div",{onClick:t,className:(0,Z.A)(lN.closeButton,g.y.isMobile&&lN.opaque),tabIndex:0,onKeyDown:e=>{"Enter"===e.key&&t(e)},children:[(0,p.jsx)(ez.I,{size:14,children:(0,p.jsx)(eg.cf,{})}),(0,p.jsx)(tr.v,{offset:2})]})}function lH(e){let{onClick:t}=e;return(0,p.jsxs)("div",{onClick:t,className:(0,Z.A)(lN.closeButton,lN.failedCloseButton,g.y.isMobile&&lN.opaque),tabIndex:0,onKeyDown:e=>{"Enter"===e.key&&t(e)},children:[(0,p.jsx)(ez.I,{size:14,children:(0,p.jsx)(eg.cf,{})}),(0,p.jsx)(tr.v,{offset:2})]})}let lU=(0,D.memo)(function(e){let{messageId:t,sessionId:n,lastLineLeft:a}=e,s=T.aU.useIsShareSelecting(),r=(0,T.Lo)(e=>e.getMessage(n,t));if(!r)return null;let o=r.files;return(null==o?void 0:o.length)?(0,p.jsx)(lO,{readOnly:!0,fileList:o.map(e=>({...e,renderKey:e.id})),onFileDelete:()=>{},messageId:t,sessionId:n,style:{marginBottom:0,maxHeight:"none",position:"relative",overflow:"visible",pointerEvents:s?"none":"auto"},lastLineLeft:a}):null});var lW=n(10449);let lz=e=>{let{sessionId:t,messageId:n,mode:a}=e,{resendMessage:s}=(0,T.Y_)(),r=g.R.useTranslate(),o=(0,D.useRef)(!1),i=T.rV.useSessionChatStatus(t)===T.wG.idle,{thinkingEnabled:l,searchEnabled:c}=sY(),d=i?r("resendButtonTooltip"):r("generatingDisableTooltip");return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:d,domRef:u}=e;return(0,p.jsx)(ef.K,{size:"s",domProps:d,domRef:u,disabled:!i,className:(0,Z.A)(lW.resendButton,"files"===a?lW.besideFiles:lW.besideContent),onClick:e=>{"click"===e.source&&e.evt.stopPropagation(),!i||o.current||s({sessionId:t,messageId:n,getPowRes:()=>s0({t:r,scene:"completion_like",setIsSolvingChallenge:e=>{o.current=e}}),thinkingEnabled:l,searchEnabled:c,replacePrompt:null})},children:(0,p.jsx)(eg.Ct,{})})},children:d})},lG=()=>{let e=(0,D.useRef)(!1),t=10*!!P.nr;return{isComposingRef:e,onCompositionStart:()=>{e.current=!0},onCompositionEnd:()=>{setTimeout(()=>{e.current=!1},t)}}};var lK=n(37803);let lq=(0,D.forwardRef)(function(e,t){let{sessionId:n,messageId:a,onCancelEdit:s}=e,{editMessage:r,resendMessage:o}=(0,T.Y_)(),i=g.R.useTranslate(),l=(0,D.useRef)(null),c=(0,T.KT)(n,a),d=c.messageBody.useFilesCount(),u=c.messageBody.useMessageContent()||"",h=0===u.trim().length,[m,f]=(0,D.useState)(()=>h),C=(0,D.useRef)(""),{isComposingRef:v,onCompositionStart:b,onCompositionEnd:_}=lG(),S=(0,T.Z2)(),E=(0,T.Lo)(e=>{let t=e.getMessage(n,a);return!!t&&t.isEditing});(0,D.useEffect)(()=>{E&&(C.current=u)},[E,u]),(0,D.useEffect)(()=>{if(E){var e,t;null==(e=l.current)||e.focus(),null==(t=l.current)||t.setSelectionRange(u.length,u.length)}},[E]);let{thinkingEnabled:x,searchEnabled:y}=sY(),w=(0,T.Lo)(e=>{if(!E)return!1;let t=e.getSession(n);return!!t&&t.state!==T.FM.SessionStateEnum.idle})||m;(0,D.useImperativeHandle)(t,()=>({setEditingPromptEmpty:f}));let I=()=>s0({t:i,scene:"completion_like",setIsSolvingChallenge:e=>{T.Lo.getState().updateSession(n,t=>{t.state=e?T.FM.SessionStateEnum.sending:T.FM.SessionStateEnum.idle})}}),A=async()=>{(S.closeSearchView(),(0,T.oL)(a))?o({sessionId:n,messageId:a,replacePrompt:C.current,searchEnabled:y,getPowRes:I,thinkingEnabled:x}):(g.y.tracker.info({name:"editMessageSubmited",message:"用户编辑消息",payload:{sessionId:n,messageId:String(a)}}),r({chatSessionId:n,messageId:a,prompt:C.current,searchEnabled:y,getPowRes:I,thinkingEnabled:x},{onSent:()=>{rf.j.next({method:"onStartReceiveEditMessage",args:null})}}))},{ScrollAreaGutters:j,containerDomRef:k,onContainerScroll:M,className:R}=(0,nQ.Qh)({verticalScrollbarWidth:6,verticalScrollbarInsets:{top:22,bottom:0,leading:0,trailing:2}}),N=(0,p.jsx)(rg,{defaultFocused:!0,componentRef:l,elRef:k,defaultValue:u,onChange:e=>{C.current=e.currentTarget.value,f(!e.currentTarget.value.trim().length)},autoHeight:!0,variant:"bordered",className:(0,Z.A)(lK.textarea,d&&lK.belowFiles),theme:{padding:"10px 16px 0 16px",borderRadius:"22px",lineHeight:"24px",fontSize:"16px",focusColor:"var(--dsw-alias-bg-layer-2)",focusBorderColor:"var(--dsw-alias-brand-primary)"},addMidLayer:!0,midLayerClassName:lK.textareaMidLayer,footer:(0,p.jsxs)(sW,{justifyContent:"flex-end",style:{margin:"6px 10px 10px 10px"},children:[(0,p.jsx)(th,{size:"sm",variant:"outlined",onClick:s,children:i("editMessageCancelButton")}),(0,p.jsx)(tx.m,{placement:"bottom",isOpen:!!w&&void 0,renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,p.jsx)(th,{useDiv:!0,size:"sm",domProps:t,domRef:n,disabled:w,onClick:A,children:i("editMessageSendButton")})},children:m?i("chatInputEmptyPromptButtonTooltip"):!!w&&i("generatingDisableTooltip")})]}),textareaDomProps:{name:"user query",className:(0,Z.A)(R,lK.overscrollContain),onScroll:M,onKeyDown:e=>{!v.current&&"Enter"===e.key&&(e.ctrlKey||g.y.isMobile?(e.preventDefault(),document.execCommand("insertText",!1,"\n")):e.shiftKey||!C.current.trim().length||w||(e.preventDefault(),A()))},onCompositionStart:b,onCompositionEnd:_}});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(j,{}),N]})}),lZ=(0,D.memo)(lq);var lQ=n(48050);let lY="data-escape-transition",lX=e=>{let{messageContent:t,onStartEdit:n,sessionId:a,messageId:s,style:r}=e,o=nm(),i=(0,T.KT)(a,s).layout.useIsLastUserMessage(),l=T.aU.useIsShareSelecting(),c=(0,D.useRef)(null);return(0,D.useEffect)(()=>{requestAnimationFrame(()=>{c.current&&c.current.removeAttribute(lY)})},[]),(0,p.jsxs)("div",{className:(0,Z.A)(lQ.actionsWithBranch,l&&rI.hide),style:r,children:[(0,p.jsxs)(sW,{alignItems:"flex-end",className:(0,Z.A)(lQ.userMessageActions,i&&!o?lQ.alwaysShow:null),gap:0,domRef:c,domProps:{[lY]:!0},children:[(0,p.jsx)(sq,{onClick:()=>{aj(t),g.y.tracker.info({name:"copyUserMessage",message:"复制用户prompt",payload:{}})}}),!o&&(0,p.jsx)(l1,{onStartEdit:n})]}),(0,p.jsx)(lJ,{messageId:s,sessionId:a})]})},lJ=e=>{let{sessionId:t,messageId:n}=e,a=(0,T.Z2)(),s=(0,T.M7)(),r=(0,T.KT)(t,n),o=r.bottom.useBranchCount(),i=r.bottom.useBranchIndex(),l=s3(e=>e.close);n9(i);let c=(0,D.useCallback)(e=>{s.closePreview(),a.closeSearchView(),l(),T.Lo.getState().navigateMessageBranch(t,n,e)},[l,n,s,a,t]);return o<=1?null:(0,p.jsx)(rh,{onIndexChange:c,count:o,index:i,style:l$,sessionId:t,messageId:n})},l$={marginLeft:10,top:1,position:"relative"},l1=e=>{let{onStartEdit:t}=e,n=g.R.useTranslate();return(0,p.jsx)(tx.m,{placement:"bottom",renderTrigger:e=>{let{domProps:n,domRef:a}=e;return(0,p.jsx)(ef.K,{style:{marginLeft:10},className:lQ.editButton,onClick:t,domRef:a,domProps:{...n,onKeyDown:e=>{e.key}},children:(0,p.jsx)(eg.PT,{})})},children:n("editMessageTooltip")})};var l0=n(19099);let l2=e=>{let{messageId:t,sessionId:n}=e,a=(0,T.Lo)(e=>{let a=e.getMessage(n,t);return!!a&&a.isEditing}),s=(0,D.useRef)(null),r=(0,T.KT)(n,t),o=r.layout.useIsLastUserMessage(),i=r.bottom.useMessageHint(),l=r.messageBody.useMessageContent()||"",c=0===l.trim().length,d=(0,p.jsx)(lX,{messageId:t,sessionId:n,messageContent:l,onStartEdit:()=>f(!0)}),u=(0,T.oL)(t),h=(0,T.Lo)(e=>e.updateMessage),m=(0,D.useRef)(()=>void 0);m.current=()=>{g.y.tracker.info({name:"clickEditMessageButton",message:"用户点击消息编辑按钮",payload:{isLastUserMessage:o,isFakeMessage:u}})};let f=(0,D.useCallback)(e=>{if(h(n,t,t=>{t.isEditing=e}),e)m.current();else{var a;null==(a=s.current)||a.setEditingPromptEmpty(c)}},[h,n,t,c]),C=(0,T.zG)();return(0,D.useEffect)(()=>C.subscribeIsSelecting(e=>{e&&a&&f(!1)})),(0,p.jsxs)(p.Fragment,{children:[a?(0,p.jsx)(lZ,{messageId:t,sessionId:n,onCancelEdit:()=>{f(!1),g.y.tracker.info({name:"cancelEditMessage",message:"退出消息编辑",payload:{isFakeMessage:u}})},ref:s}):null,a?null:(0,p.jsx)("div",{className:l0.bottomWrap,children:i?(0,p.jsxs)("div",{className:l0.hintWithBranch,children:[i.content?(0,p.jsx)("span",{className:l0.hint,children:i.content}):null,d]}):d})]})},l3=(0,D.memo)(function(e){let{messageId:t,sessionId:n,index:a}=e,s=(0,T.KT)(n,t),r=s.messageBody.useMessageContent()||"",o=s.bottom.useMessageHint(),i=(0,T.Lo)(e=>{let a=e.getMessage(n,t);return!!a&&a.isEditing}),l=(0,D.useRef)(null),c=0===r.trim().length,d=s.messageBody.useFilesCount(),{textMessageRef:u}=l4(l,t);rl(l,{index:a,id:t});let h=(null==o?void 0:o.clickBehavior)===T.bE.CloseClickBehavior.retry,m=!(i||c),g=!i&&h&&c,f=e=>(0,p.jsx)(lz,{messageId:t,sessionId:n,mode:e});return(0,p.jsxs)("div",{className:(0,Z.A)(lQ.userMessageContainer,i&&lQ.editing),ref:l,children:[(0,p.jsx)(lh,{messageId:t,sessionId:n}),(0,p.jsxs)(rR,{sessionId:n,messageId:t,className:lQ.wrapForShare,children:[(0,p.jsx)(lc,{messageId:t}),(0,p.jsx)(lU,{messageId:t,sessionId:n,lastLineLeft:g?f("files"):void 0}),m?(0,p.jsxs)("div",{className:(0,Z.A)(lQ.userMessage,d&&lQ.belowFiles),ref:u,children:[r,h?f("content"):null]}):null]}),(0,p.jsx)(l2,{sessionId:n,messageId:t})]})}),l4=(e,t)=>{let n=(0,D.useRef)(null),a=(0,D.useRef)(null),s=ri(),r=(0,ee.DK)(()=>{let t=s.current,n=e.current;if(!n||!t)return;let a=.25*t.clientHeight,r=n.getBoundingClientRect().top-a,o=t.scrollTop+r;t.scrollTop=o}),o=(0,ee.DK)(()=>{n.current&&(n.current.style.background="var(--dsw-specific-bubble-highlight)"),a.current=setTimeout(()=>{n.current&&(n.current.style.background="")},500)});return(0,D.useEffect)(()=>{let e=rf.j.subscribe({next:e=>{"scrollNavActivateMessage"===e.method&&e.args.id===t&&(r(),o())}});return()=>e.unsubscribe()},[t,o,r]),(0,D.useEffect)(()=>()=>{null!==a.current&&clearTimeout(a.current)},[]),{textMessageRef:n}},l6=(0,D.createContext)({historyMessageCache:null});var l5=n(19270);function l9(){let e=g.R.useTranslate(),t=(0,na.xM)();return(0,p.jsxs)("div",{className:(0,Z.A)(l5.warning,P.fQ&&"no"===t&&l5.withMargin),children:[(0,p.jsx)("span",{className:l5.icon,children:(0,p.jsx)(ez.I,{size:14,children:(0,p.jsx)(eg.NE,{})})}),(0,p.jsx)("span",{children:e.shareContentWarning})]})}var l8=n(4070);n(66635);let l7={md:{padding:"6px 15px",fontSize:13,lineHeight:"20px",iconSize:14,iconMargin:4},lg:{padding:"9px 19px",fontSize:14,lineHeight:"22px",iconSize:14,iconMargin:6}},ce=e=>{let{size:t="md",link:n,icon:a,children:s,iconColor:r,onClick:o,disabled:i=!1,domRef:l,domProps:c,variant:d,loading:u=!1,iconAlign:h="left",className:m,style:g}=e;ct({icon:a,variant:d,children:s});let f=l7[t],{iconSize:C,iconMargin:v}=f,b="icon"===d?0:v,_=(0,l8.A)(f,["iconSize","iconMargin"]);return(0,p.jsx)(td,{style:{..._,...((e,t)=>{if("icon"!==t)return{};let n=parseInt(String(e.padding));if(Number.isNaN(n))throw Error("unexpected padding style ".concat(e.padding));return{padding:n}})(_,d),...g},link:n,icon:a,iconColor:r,disabled:i,onClick:o,domRef:l,domProps:c,loading:u,className:(0,Z.A)(m,"".concat(U.V,"-floating-button"),i&&"".concat(U.V,"-floating-button--disabled"),"".concat(U.V,"-floating-button--").concat(d),"".concat(U.V,"-floating-button--").concat(t)),iconSize:C,iconAlign:h,iconMargin:b,suffix:null,children:s})},ct=e=>{let{icon:t,variant:n,children:a}=e;if("icon"===n&&!t&&a)throw Error("unexpected variant 'icon' with no icon but children")},cn=(0,D.createContext)({height:120,set:n3.A});cn.displayName="InputHeightContext";let ca=(0,D.memo)(function(e){let{children:t}=e,[n,a]=(0,D.useState)(120),s=(0,D.useMemo)(()=>({height:n,set:a}),[n]);return(0,p.jsx)(cn.Provider,{value:s,children:t})}),cs=(0,D.memo)(function(e){let{onActive:t,sessionId:n,shareId:a,clickRef:s}=e,r=ri(),o=(0,D.useContext)(cn).height,i=(0,D.useContext)(rr).getMessageEls,l=T.rV.useScrollNavItems(n,a),c=(0,ee.DK)(()=>{if(!n&&!a)return;let e=r.current;if(!e||s.current)return;let l=cr(e,o),c=co(i().sort((e,t)=>e[1].index-t[1].index),{sessionId:n,shareId:a},e,l);null!==c&&t(c)}),d=(0,D.useMemo)(()=>(0,oo.A)(c,50,{maxWait:100,trailing:!0,leading:!0}),[c]);return(0,D.useEffect)(()=>d(),[d,l]),iX(d),null}),cr=(e,t)=>{let{scrollTop:n,clientHeight:a,scrollHeight:s}=e,r=s-a,o=a-t,i=e.getBoundingClientRect().top;return r<o?i+n/r*o:n>=o?i+a-t:i+n/o*o},co=(e,t,n,a)=>{let s=ci(e,a,n);return s?cc(t,s):null},ci=(e,t,n)=>{let a=e.map(e=>[e[0].current,e[1]]).filter(e=>!!e[0]);if(!a.length)return null;let s=0,r=a.length-1,o=-1;for(;s<=r;){let e=s+Math.floor((r-s)/2),n=a[e];if(!n)break;n[0].getBoundingClientRect().bottom<t?(o=e,s=e+1):r=e-1}return -1!==o&&o+1<a.length?a[o+1]:cl(a,n)},cl=(e,t)=>{let{scrollTop:n}=t,a=t.scrollHeight-t.clientHeight;return 0===a||n/a<.15?e[0]:n/a>.85&&e.at(-1)||null},cc=(e,t)=>{let{sessionId:n,shareId:a}=e,{id:s}=t[1],r=n?T.Lo.getState().getMessage(n,s):a?T.QT.getState().getMessage(a,s):null;return(null==r?void 0:r.role)===T.FM.MessageRole.ASSISTANT?r.parentId:s},cd=(0,eQ.vt)()(e=>({isExpand:!1,setIsExpand:t=>{e({isExpand:t})}}));var cu=n(92498);let ch={"--scroll-nav-page-padding":"".concat(20,"px ").concat(0,"px ").concat(20,"px ").concat(24,"px")},cp=(0,D.memo)(function(e){let{sessionId:t,shareId:n}=e,a=T.rV.useScrollNavItems(t,n),[s,r]=(0,D.useState)(-1),o=(0,D.useRef)(null),[i,l]=(0,D.useState)(!1),c=(0,D.useRef)(null),d=(0,is.Y8)(),u=cd(e=>e.isExpand),h=(0,ee.DK)(()=>{null!==c.current&&Date.now()-c.current>20&&(c.current=null)}),m=(0,D.useRef)(!0),g=(0,D.useRef)(new Map),[f,C]=(0,D.useState)("none"),v=(0,ee.DK)(()=>{let e=o.current;if(!e)return;let{scrollTop:t,scrollHeight:n,clientHeight:a}=e;n===a?C("none"):t<3?C("bottom"):t>n-a-3?C("top"):C("both")});(0,D.useEffect)(v,[a,v,i]);let{className:b,containerDomRef:_,onContainerScroll:S,ScrollAreaGutters:E}=(0,nQ.Qh)({verticalScrollbarWidth:4,verticalScrollbarInsets:{leading:12,trailing:0,top:4,bottom:44}});return((0,D.useLayoutEffect)(()=>{if(!o.current||s<0)return;let e=g.current.get(s);if(!e)return;let t=e.getBoundingClientRect(),n=o.current.getBoundingClientRect();if(t.top>=n.bottom-20-12||t.bottom<=n.top+20+12){let e=t.top-n.top+o.current.scrollTop-(n.height-t.height)/2;o.current.scrollTo({top:e,behavior:m.current?"instant":"smooth"}),m.current=!1}},[s]),a.length<2||d&&u)?null:(0,p.jsxs)("div",{className:(0,Z.A)(cu.scrollNav),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),style:ch,children:[(0,p.jsx)("div",{className:cu.bg,style:{"--bg-height":30*a.length+30+"px"}}),(0,p.jsx)(cm,{onScroll:h}),(0,p.jsx)(cs,{sessionId:t,shareId:n,onActive:r,clickRef:c}),(0,p.jsx)("div",{className:(0,Z.A)(cu.scrollWrapper,i&&cu.show,cu[f]),children:(0,p.jsxs)("div",{className:(0,Z.A)(b,cu.page),ref:(0,nY.P)(_,o),onScroll:()=>{S(),v()},children:[(0,p.jsx)(E,{theme:{disappearDelay:"0"}}),a.map((e,t)=>{let n=e.id===s;return(0,p.jsx)(tx.m,{enterDelay:1e3,placement:"left",floatingWrapperClassName:cu.tooltip,checkEllipsis:!0,offsetOptions:8,isOpen:!n&&void 0,renderTrigger:a=>{let{domRef:s,domProps:o,ellipsisDomRef:l}=a;return(0,p.jsxs)("div",{ref:(0,nY.P)(s,t=>{g.current.set(e.id,t)}),className:(0,Z.A)(cu.scrollNavItem,!t&&cu.first,n&&cu.active),...o,onClick:()=>{r(e.id),c.current=Date.now(),rf.j.next({method:"scrollNavActivateMessage",args:{id:e.id}}),o.onClick()},children:[(0,p.jsx)("div",{className:(0,Z.A)(cu.itemTitle,i&&cu.show),ref:l,children:e.title}),(0,p.jsx)("div",{className:cu.itemIndicator,children:(0,p.jsx)("div",{className:cu.indicatorLine})})]})},children:(0,p.jsx)("div",{className:cu.tooltipContent,children:e.title})},e.id)})]})})]})}),cm=e=>{let{onScroll:t}=e;return iX(t),null};var cg=n(43366);let cf=e=>{let{loadHistory:t}=e,n=g.R.useTranslate();return(0,p.jsx)("div",{className:cg.error,children:(0,p.jsx)("div",{style:{textAlign:"center"},children:n.historyLoadFailed((0,p.jsx)(eG.$,{theme:{textColor:"var(--dsw-alias-brand-text)"},variant:"text",onClick:t,children:n.historyLoadFailedButton}))})})},cC=(e,t)=>"S".concat(e,"_M").concat(t),cv=(0,D.memo)(function(e){let{inputNode:t}=e,n=np(),a=nm(),s=(0,T.zG)(),r=T.aU.useShareContent(a),o=T.aU.useIsShareSelecting(),{fetchSessionHistory:i}=(0,T.GO)(),l=(()=>{let e=(0,D.useContext)(l6).historyMessageCache;if(!e)throw Error("historyMessageCache not provided");return e})(),c=(0,T.Lo)(e=>e.getMessage),d=a?(0,T.aw)(a):n,u=T.rV.useMessagePath(d),h=null==r?void 0:r.messages.map(e=>e.id),m=null!=h?h:u,f=(0,D.useCallback)(()=>{if(!n){a&&s.fetchShareContent(a);return}i(n,{cache:l,isManual:!0}).then(e=>{let{exist:t,sessionDeleted:a,gotSession:s}=e;t||(a||!s)&&rb(n,"loadHistory")})},[n,i,l,a,s]);(0,D.useEffect)(()=>{(e=>{if(!e)return!1;let t=T.Lo.getState().getSession(e);return!t||t.state===T.FM.SessionStateEnum.idleWithNoHistory})(d)&&f()},[f,d]),(0,D.useEffect)(()=>{s.switchSession(n)},[n,s]);let C=(0,T.Lo)(e=>{if(!d)return"loaded";let t=e.getSession(d);return t&&t.state!==T.FM.SessionStateEnum.fetchingHistory&&t.state!==T.FM.SessionStateEnum.idleWithNoHistory?t.state===T.FM.SessionStateEnum.historyError?"error":"loaded":"loading"}),v=(0,D.useMemo)(()=>m.map((e,t)=>{let n=c(d,e);if(!n)return null;switch(n.role){case T.FM.MessageRole.ASSISTANT:return(0,p.jsx)(sN,{value:{sessionId:d,messageId:n.id},children:(0,p.jsx)(lb,{sessionId:d,messageId:n.id,isLast:t===m.length-1,index:t})},cC(d,n.id));case T.FM.MessageRole.USER:return(0,p.jsx)(l3,{index:t,messageId:n.id,sessionId:d},cC(d,n.id));default:return(0,T.sL)(n.role),null}}),[c,m,d]),b=(0,ee.nI)("loading"===C,{showDelay:500,minDuration:200},d),_="loading"===C||b,S=(0,na.xM)(),E="yes"===S||"pending"===S&&null!=g.y.getStorageUserToken(),x=n||a;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(cb,{sessionLoading:_,isShareSelecting:o,children:[a&&!_&&(0,p.jsx)(l9,{}),_?b?(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(ti.R,{className:cg.messageListLoading})}):null:"error"===C?(0,p.jsx)(cf,{loadHistory:f}):(0,p.jsx)("div",{className:cg.messageListScrollWrapper,children:v}),x?(0,p.jsx)(cp,{sessionId:n,shareId:a},d):null,E&&t,"no"===S&&a&&(0,p.jsx)("div",{style:{paddingBottom:"72px"}})]}),"no"===S&&a&&!_&&(0,p.jsx)(c_,{shareId:a})]})});function cb(e){let{sessionLoading:t,children:n,isShareSelecting:a}=e,s=(0,D.useRef)(null),r=(()=>{let{setShowScrollBottomButton:e}=(0,D.useContext)(n4);return(0,ee.DK)(t=>{n6.getState().show!==t&&e(t)})})();(e=>{let{setScrollEl:t}=(0,D.useContext)(rr);(0,D.useEffect)(()=>{t(e.current)},[e,t])})(s);let o=(0,D.useCallback)(()=>{if(!s.current)return;let e=s.current;e.scrollTop+e.offsetHeight>e.scrollHeight-300?r(!1):r(!0)},[r]);(0,D.useLayoutEffect)(()=>()=>r(!1),[r]);let i=(0,D.useCallback)(e=>{s.current&&(e.slice(),s.current.scrollTop=s.current.scrollHeight)},[]),l=(0,D.useRef)(!0);(0,D.useEffect)(()=>{let e=rf.j.subscribe({next:e=>{let{method:t}=e;"clickButtonToScrollToBottom"===t&&i(t)}});return()=>e.unsubscribe()},[i]);let c=(0,D.useCallback)(()=>{let e=s.current;e&&(l.current=e.scrollTop+e.offsetHeight>=e.scrollHeight-1,o())},[o]);(0,D.useContext)(n4).setCheckScrollButton(c);let d=np(),u=(0,D.useRef)(!1),h=T.rV.useScrollToBottomCounter(d),m=T.rV.useScrollToBottomCounter(d,!0);(0,D.useEffect)(()=>{rf.j.subscribe({next:e=>{let{method:t}=e;"onStartReceiveEditMessage"===t&&i("onStartReceiveEditMessage")}})},[i]),(0,D.useLayoutEffect)(()=>{u.current=!0},[d]);let g=(0,D.useCallback)(()=>{!u.current&&l.current&&i("scrollToBottomTrigger")},[i]),f=!!nm();(0,D.useLayoutEffect)(()=>{f||g()},[f,g,h]),(0,D.useLayoutEffect)(()=>{u.current||i("forceScrollToBottomTrigger")},[m,i]),(0,D.useLayoutEffect)(()=>{t||f||(i("sessionLoading"),c())},[t,i,c,f]),(0,D.useLayoutEffect)(()=>{t||!u.current||f||(i("sessionId"),c())},[d]),(0,D.useLayoutEffect)(()=>{u.current=!1},[d]);let{containerDomRef:C,onContainerScroll:v,className:b,ScrollAreaGutters:_}=(0,nQ.Qh)({hideHorizontalScrollbar:!0,verticalScrollbarInsets:{leading:0,trailing:0,top:0,bottom:2+66*!!a}}),S=(0,D.useMemo)(()=>(0,nY.P)(s,C),[C]),E=(0,T.KF)().triggerScrollToBottom,x=(0,D.useMemo)(()=>({requireScrollToBottom:()=>E(d)}),[d,E]),y=(0,p.jsx)(n1,{onResize:e=>{var t,n,a,s,r;let{entry:o}=e;c(),document.documentElement.style.setProperty("--message-area-width","".concat(null!=(r=null!=(s=null==(n=o.borderBoxSize)||null==(t=n[0])?void 0:t.inlineSize)?s:null==(a=o.borderBoxSize)?void 0:a.inlineSize)?r:o.contentRect.width,"px"))},children:e=>{let{ref:t}=e;return(0,p.jsx)("div",{className:cg.messageListContainer,ref:t,children:(0,p.jsx)(n1,{onResize:o,forwardedRef:s,children:()=>(0,p.jsxs)("div",{className:cg.messageListScrollContainer,children:[(0,p.jsx)(_,{verticalGutterPadding:"0 4px 0 0"}),(0,p.jsx)("div",{ref:S,onScroll:()=>{c(),v(),iY.forEach(e=>e())},className:(0,Z.A)(cg.scrollContentWrapper,b),children:n})]})})})}});return(0,p.jsx)(n8.Provider,{value:x,children:y})}let c_=e=>{let{shareId:t}=e,n=(0,K.Zp)(),a=(0,K.zy)(),s=g.R.useTranslate();return(0,p.jsx)("div",{className:cg.loginButtonContainer,children:(0,p.jsx)(ce,{icon:(0,p.jsx)(eg.A8,{}),iconAlign:"right",variant:"primary",onClick:()=>{if((P.fQ||g.y.isMobile)&&(window.location.href="dpsk://chat/share?share_id=".concat(t),P.fQ))return;let e=new URLSearchParams;e.set("redirect",a.pathname),n("".concat(nc.SIGN_IN,"?").concat(e.toString()))},size:"lg",style:{padding:"9px 16px 9px 20px"},children:s.shareContinueChat})})};function cS(e){let{className:t,collapsed:n,size:a,sizing:s,onCollapsedChange:r,tooltipPlacement:o,hideTooltip:i=!1}=e,l=g.R.useTranslate();return(0,p.jsx)(tx.m,{placement:o,disabled:i,renderTrigger:e=>{let{domProps:o,domRef:i}=e;return(0,p.jsx)(ef.K,{size:a,sizing:s,domProps:o,hoverBgRef:i,className:t,onClick:()=>r(!n),children:(0,p.jsx)(eg.ee,{})})},children:l(n?"expandSiderbarButton":"collapseSiderbarButton")})}let cE=e=>{let t=ng(),n=nh(nc.ROOT);return{onClick:()=>{g.y.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:e}}),n||(nL("search_state_on_manually_created_chat"),t(nc.ROOT))},isInNewChat:null!=n}};var cx=n(73068);function cy(e){let{className:t,collapsed:n,setCollapsed:a}=e,s=g.R.useTranslate(),{onClick:r}=cE("top");return(0,p.jsxs)("div",{className:(0,Z.A)(t,cx.sider),children:[(0,p.jsx)("div",{className:cx.logo,onClick:()=>a(!1),children:(0,p.jsx)(n_,{})}),(0,p.jsxs)("div",{className:cx.group,children:[(0,p.jsx)("div",{style:{width:"3px"}}),(0,p.jsx)(cS,{size:"l",sizing:"container",className:cx.icon,collapsed:!0,hideTooltip:!n,onCollapsedChange:()=>{a(!1)}}),(0,p.jsx)(tx.m,{renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,p.jsx)(ef.K,{domProps:t,domRef:n,size:"l",sizing:"container",className:cx.icon,onClick:r,children:(0,p.jsx)(nE,{})})},children:s.agentSelectionCreateSessionTooltip})]})]})}function cw(e){let[t,n]=e.split("@"),a=[],s=Math.floor(t.length/2),r=Math.max(s-2,0),o=Math.min(s+2,t.length);for(let e=0;e<t.length;e++)e<r||e>=o?a.push(t[e]):a.push("*");return"".concat(a.join(""),"@").concat(n)}function cI(e){let{sessionId:t,onClose:n,deleteSession:a}=e,s=g.R.useTranslate(),[r,o]=(0,D.useState)(!1);return(0,p.jsx)(es,{onClose:n,title:s("deleteSessionModalContentTitle"),variant:"dialog",hideClose:!0,footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:()=>{n()},children:s("deleteSessionModalContentCancelButton")}),(0,p.jsx)(th,{variant:"danger",loading:r,onClick:()=>{o(!0),a(t),n(),o(!1)},children:s("deleteSessionModalContentConfirmButton")})]}),children:s("deleteSessionModalContentDescription")})}var cT=n(70076);let cA=e=>(0,T.Lo)((0,cT.k)(t=>{if(!e)return null;let n=t.getSession(e);return{title:(null==n?void 0:n.title)||"",titleType:(null==n?void 0:n.titleType)||"WIP"}})),cj=(0,D.memo)(function(e){let{sessionId:t}=e,n=g.R.useTranslate(),a=cA(t),s=(0,D.useRef)(a||{}),r=(0,D.useRef)(t),o=t!==r.current,[i,l]=(0,D.useState)(null==a?void 0:a.title),c=n("untitledChat");return(0,D.useEffect)(()=>{var e,n;if(r.current!==t)return r.current=t,s.current.title=null==a?void 0:a.title,s.current.titleType=null==a?void 0:a.titleType,l(null==a?void 0:a.title),sZ.l;if((null==(e=s.current)?void 0:e.titleType)===(null==a?void 0:a.titleType)||(null==(n=s.current)?void 0:n.title)===(null==a?void 0:a.title)||(null==a?void 0:a.titleType)==="USER")return l(null==a?void 0:a.title),sZ.l;let{play:o,abort:i}=ck(e=>{let t=(null==a?void 0:a.title)||"";l(t.slice(0,Math.ceil(t.length*e)))},400);return s.current.title=null==a?void 0:a.title,s.current.titleType=null==a?void 0:a.titleType,o(),i},[null==a?void 0:a.title,null==a?void 0:a.titleType,t]),(0,p.jsx)(p.Fragment,{children:(o?null==a?void 0:a.title:i)||c})}),ck=(e,t)=>{let n=performance.now(),a=!1,s=null,r=()=>{if(a)return;let o=Math.min((performance.now()-n)/t,1);e(o),o<1&&(s=requestAnimationFrame(r))};return{play:r,abort:()=>{a=!0,null!==s&&cancelAnimationFrame(s)}}};var cM=n(35078);let cR=(0,D.memo)(function(e){let t,n,a,s,r,{id:o,active:i,onDeleteSession:l,onSelectSession:c,elIdRefCallback:d}=e,u=g.R.useTranslate(),h=ng(),m=(e=>{let{sessionId:t,deleteSession:n}=e,a=ei();return(0,D.useCallback)(()=>{g.y.tracker.info({name:"openDeleteSessionModal",message:"打开删除session modal",payload:{}});let e=a.open({modalProps:{children:(0,p.jsx)(cI,{sessionId:t,deleteSession:n,onClose:()=>{g.y.tracker.info({name:"closeDeleteSessionModal",message:"关闭删除session modal",payload:{}}),e.close()}})}})},[n,a,t])})({sessionId:o,deleteSession:l}),f=(0,T.zG)(),C=(0,D.useRef)(null),v=(0,D.useRef)(null),b=(0,D.useRef)(null),_=(0,D.useRef)(null),[S,E]=(0,D.useState)(!1),{renameSession:x}=(0,T.GO)(),y=(t=g.R.useTranslate(),n=T.rV.load.useIsNewEmptySession(o),a=T.rV.usePinned(o),s=s5(),(0,D.useMemo)(()=>{let e=[];return n||e.push({icon:(0,p.jsx)(eg.PT,{}),label:t("sessionItemMenuRenameOption"),key:"rename"}),n||(a?e.push({key:"unpin",label:t("unpinSession"),icon:(0,p.jsx)(eg.TE,{})}):e.push({key:"pin",label:t("pinSession"),icon:(0,p.jsx)(eg.m6,{})})),s&&!n&&e.push({icon:(0,p.jsx)(eg.cV,{}),label:t.share,key:"share"}),e.push({icon:(0,p.jsx)(eg.Vd,{}),label:t("sessionItemMenuDeleteOption"),key:"delete",type:"error"}),e},[n,a,s,t])),{pin:w,unpin:I}=(r=(0,T.GO)(),{pin:()=>r.updateSessionPinned(o,!0),unpin:()=>r.updateSessionPinned(o,!1)}),A=(0,T.Lo)(e=>{let t=e.getSession(o);return t?t.agentId:null}),j=(0,T.Lo)(e=>{let t=e.getSession(o);return t?t.title:""});(0,D.useEffect)(()=>{if(S){var e;null==b||null==(e=b.current)||e.focus()}},[S]);let k=()=>{var e,t;(null==(e=b.current)?void 0:e.value)?x(o,null==(t=b.current)?void 0:t.value.trim(),"list").then(e=>{let{deleted:t}=e;E(!1),t?rb(o,"rename"):rf.j.next({method:"adjustScrollOnSessionUpdated",args:{sessionId:o}})}):E(!1)};return null===A?null:S?(0,p.jsx)(eC,{domRef:e=>{null==d||d({el:e,id:o})},theme:{height:"40px",padding:"0 10px",color:"#fff",borderRadius:"12px",focusBorderColor:"var(--dsw-alias-brand-text)"},className:cM.input,variant:"bordered",onBlur:()=>k(),defaultValue:j||u("untitledChat"),onKeyDown:e=>{var t;null!=(t=_.current)&&t.isComposingRef.current||"Enter"===e.key&&k()},componentRef:_,inputDomRef:b}):(0,p.jsx)(oe,{placement:"bottom-start",offsetOptions:{mainAxis:4,crossAxis:-5},trigger:"click",componentRef:C,dropdownMenuComponentRef:v,menuDomProps:{onMouseDown(e){e.preventDefault()}},onSelect:e=>{"rename"===e?E(!0):"delete"===e?m():"share"===e?null!==A&&(g.y.tracker.info({name:"shareEntryClick",message:"分享入口点击",payload:{entryType:"session_item",sessionId:o}}),i||h(nc.AGENT_SESSION,{agentId:A,sessionId:o}),f.enterSelection(o,"all")):"pin"===e?w():"unpin"===e&&I()},options:y,renderTrigger:e=>{let{domRef:t,domProps:n}=e;return(0,p.jsxs)("a",{ref:e=>{null==d||d({el:e,id:o})},className:(0,Z.A)(cM.sessionItem,i&&cM.active),href:(0,nl.tW)(nc.AGENT_SESSION,{agentId:A,sessionId:o}),onClick:e=>{var n;null===A||e.metaKey||e.ctrlKey||(e.preventDefault(),ra(e.currentTarget,void 0,{topOcclusion:26,bottomOcclusion:48}),null!=(n=t.current)&&n.contains(e.target)||(c(o),h(nc.AGENT_SESSION,{agentId:A,sessionId:o})))},tabIndex:0,children:[(0,p.jsx)(tr.v,{}),(0,p.jsx)(tx.m,{wrapperStyle:{maxWidth:"50%"},checkEllipsis:!0,placement:"bottom",hoverable:!0,enterDelay:500,renderTrigger:e=>{let{domProps:t,domRef:n,ellipsisDomRef:a}=e;return(0,p.jsx)("div",{...t,ref:(0,nY.P)(n,a),className:cM.content,children:(0,p.jsx)(cj,{sessionId:o})})},children:j}),(0,p.jsx)("div",{className:cM.actionButtonMask,children:(0,p.jsx)(ef.K,{...n,size:"m",className:cM.actionButton,focusable:!0,domRef:t,onFocus:()=>{var e;null==(e=n.onFocus)||e.call(n)},onBlur:()=>{var e,t;null==(e=n.onBlur)||e.call(n),null==(t=C.current)||t.setIsOpen(!1)},onKeyDown:e=>{var t,n,a;(null==(t=C.current)?void 0:t.getIsOpen())?(e.preventDefault(),null==(n=v.current)||n.handleKeyboardEvent(e)):("ArrowDown"===e.key||"Enter"===e.key)&&(e.preventDefault(),null==(a=C.current)||a.setIsOpen(!0))},children:(0,p.jsx)(ez.I,{size:16,style:{color:"var(--dsw-alias-label-tertiary)"},children:(0,p.jsx)(eg.sB,{})})})})]})}})});var cN=n(51560),cO=n(84988);let cL=(0,D.memo)(function(e){let{onDeleteSession:t,onSelectSession:n,onFold:a,domRef:s}=e,r=T.rV.usePinnedSessions(),o=np()||null,i=T.rV.load.useNoMorePinned(),l=(0,T.GO)(),c=r.length>0,[d,u]=(0,D.useState)(!1),h=(0,ee.iL)(e=>{e&&!i&&l.fetchSessions({})});return((0,D.useLayoutEffect)(()=>{d&&a()},[d,a]),c)?(0,p.jsxs)("div",{className:cO.section,ref:s,children:[(0,p.jsx)(cF,{folded:d,setFolded:u,count:r.length}),d?null:r.map(e=>(0,p.jsx)(cR,{id:e.id,active:o===e.id,onDeleteSession:t,onSelectSession:n},e.id)),d?null:(0,p.jsx)("div",{ref:h,className:cN.sentinel})]}):null}),cF=e=>{let{count:t,folded:n,setFolded:a}=e,s=g.R.useTranslate(),r=t>10;return(0,p.jsxs)("div",{className:(0,Z.A)(cO.sectionHeader,r&&cO.foldable),onClick:r?()=>a(e=>!e):void 0,children:[(0,p.jsx)("span",{children:n?s("pinNCountChats")(t):s("pinnedSectionTitle")}),r?(0,p.jsx)(ez.I,{size:14,children:n?(0,p.jsx)(eg.uj,{}):(0,p.jsx)(eg.fZ,{})}):null]})};var cP=n(91762);let cD=e=>{let{showLoading:t}=e,n=(0,D.useRef)(null);return(0,p.jsx)(Y.A,{in:t,timeout:150,classNames:{enterActive:cP.show,enterDone:cP.show},unmountOnExit:!0,nodeRef:n,children:(0,p.jsx)("div",{ref:n,className:(0,Z.A)(cP.skeletonWrap),children:Array.from({length:4}).map((e,t)=>(0,p.jsx)("div",{className:cP.skeletonContainer,children:(0,p.jsx)(te.E,{variant:"text",className:cP.skeleton})},t))})})},cB=(0,D.memo)(function(e){let t,{onSelectSession:n}=e,a=g.R.useTranslate(),s=T.rV.load.useState(),r=(0,T.Y_)().deleteSession,o=ng(),i=np()||null,l=T.rV.load.useNoMore(),c=T.rV.load.useFirstPageSettled(),d=T.rV.load.useVisibleSessionsCount(),u=!c,{containerDomRef:h,onContainerScroll:m,onContentResize:f,className:C,ScrollAreaGutters:v}=(0,nQ.Qh)({verticalScrollbarInsets:{trailing:-12,leading:0,top:0,bottom:0}}),{adjustPinnedListPosition:b,pinnedListRef:_}=(t=(0,D.useRef)(null),{adjustPinnedListPosition:(0,ee.DK)(()=>{t.current&&h.ref.current&&ra(t.current,h.ref.current)}),pinnedListRef:t}),{collectItems:S}=((e,t)=>{let n,[a,s]=(0,D.useState)(""),{getEl:r,collectItems:o}=(n=(0,D.useRef)({}),{collectItems:(0,D.useCallback)(e=>{if(!e)return;let{el:t,id:a}=e;n.current[a]=t},[]),getEl:e=>n.current[e]});(0,D.useEffect)(()=>{let e=rf.j.subscribe({next:e=>{e&&"adjustScrollOnSessionUpdated"===e.method&&s(e.args.sessionId)}});return()=>e.unsubscribe()},[s]);let i=(0,ee.DK)(()=>{let n=r(a);if(n&&e.ref.current){if(ra(n,e.ref.current,{topOcclusion:30,behavior:"smooth"}),t===a)return;n.style.background="var(--dsw-alias-interactive-bg-hover)",setTimeout(()=>{n.style.background=""},2e3)}});return(0,D.useLayoutEffect)(()=>{i()},[i,a]),{collectItems:o}})(h,i),E=(0,ee.nI)(u,{showDelay:800,minDuration:500}),x=T.rV.useGroupedSession(),y=(0,ee.DK)(e=>{r(e),i===e&&o(nc.ROOT)}),w=(0,ee.DK)(e=>(0,p.jsx)(cR,{id:e,active:i===e,onDeleteSession:y,onSelectSession:n,elIdRefCallback:S},e)),I=(0,T.GO)().fetchSessions,[A,j]=(0,D.useState)(!0),k=(0,ee.iL)(e=>{l||"error"===s?j(!e):e&&I()}),M=l&&0===d;return(0,D.useLayoutEffect)(()=>{f()},[x,f]),(0,D.useLayoutEffect)(()=>{let e=h.ref.current;d>0&&e&&cV(e)&&e.scrollHeight<=e.offsetHeight&&!l&&I()},[h.ref,I,x,l,d]),(0,p.jsxs)("div",{className:(0,Z.A)(cP.scrollContainerWrap,C),children:[(0,p.jsx)(v,{}),(0,p.jsxs)("div",{className:(0,Z.A)(cP.scrollContainer,M&&cP.empty,C),ref:h,onScroll:m,children:[(0,p.jsx)(cD,{showLoading:E}),(0,p.jsxs)("div",{className:(0,Z.A)(cP.sessionList,!u&&!E&&cP.show),children:[(0,p.jsx)(cL,{onDeleteSession:y,onSelectSession:n,onFold:b,domRef:_}),0===x.todaySessions.length?null:(0,p.jsxs)("div",{className:cO.section,children:[(0,p.jsx)("div",{className:cO.sectionHeader,children:a("sessionHistoryTimelineLabelToday")},"header"),x.todaySessions.map(w)]}),0===x.yesterdaySessions.length?null:(0,p.jsxs)("div",{className:cO.section,children:[(0,p.jsx)("div",{className:cO.sectionHeader,children:a("sessionHistoryTimelineLabelYesterday")},"header"),x.yesterdaySessions.map(w)]}),0===x.days7Sessions.length?null:(0,p.jsxs)("div",{className:cO.section,children:[(0,p.jsx)("div",{className:cO.sectionHeader,children:a("sessionHistoryTimelineLabel7days")},"header"),x.days7Sessions.map(w)]}),0===x.days30Sessions.length?null:(0,p.jsxs)("div",{className:cO.section,children:[(0,p.jsx)("div",{className:cO.sectionHeader,children:a("sessionHistoryTimelineLabel30days")},"header"),x.days30Sessions.map(w)]}),x.previousSessions.map(e=>(0,p.jsxs)("div",{className:cO.section,children:[(0,p.jsx)("div",{className:cO.sectionHeader,children:e.month},"header"),e.sessions.map(w)]},e.month))]}),M?(0,p.jsxs)("div",{className:cP.emptyContent,children:[(0,p.jsx)(eg.eT,{}),(0,p.jsx)("span",{children:a("historyIsEmpty")})]}):null,(0,p.jsx)("div",{ref:k,className:(0,Z.A)(cP.loadmoreSentinel,l&&cP.noMore)}),"error"===s&&(0,p.jsx)("div",{className:(0,Z.A)(cP.error,x.isEmpty&&cP.errorEmpty),children:(0,p.jsx)("div",{children:a.historyLoadFailed((0,p.jsx)(eG.$,{variant:"text",onClick:I,children:a.historyLoadFailedButton}))})}),c&&"loading"===s&&(0,p.jsx)(ti.R,{className:cP.sessionLoading})]}),A&&(0,p.jsx)("div",{className:cP.gradientMask})]})}),cV=e=>{let t=e.getBoundingClientRect();return t.height>0&&t.width>0};var cH=n(39096);function cU(e){let{hideCollapseTooltip:t,onCollapsedChange:n}=e,a=ng();return(0,p.jsxs)("div",{className:cH.topContainer,children:[(0,p.jsx)("div",{className:cH.deepseekIconContainer,onClick:()=>{a(nc.ROOT)},children:(0,p.jsx)(nx,{})}),(0,p.jsx)(cS,{className:cH.collapsedDrawerButton,tooltipPlacement:"bottom",size:"l",sizing:"icon",collapsed:!1,onCollapsedChange:n,hideTooltip:t})]})}var cW=n(53236);function cz(e){let{onClick:t}=e,n=g.R.useTranslate().agentSelectionCreateSessionTooltip,{onClick:a}=cE("top"),s=(0,D.useMemo)(()=>navigator.userAgent.toLowerCase().includes("windows"),[]),r=(0,D.useRef)(null),o=(0,D.useRef)(null),[i,l]=(0,D.useState)(!1),c=(0,D.useCallback)(()=>{r.current&&o.current&&l(r.current.offsetWidth/o.current.offsetWidth>.6)},[]);return(0,D.useLayoutEffect)(()=>{c()},[c,n]),(0,p.jsxs)("div",{ref:o,className:(0,Z.A)(cW.button,s&&cW.windows),style:{justifyContent:i?"flex-start":"center"},onClick:()=>{a(),t()},tabIndex:0,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(a(),t(),e.preventDefault())},children:[(0,p.jsx)(ez.I,{size:16,className:cW.icon,children:(0,p.jsx)(nE,{})}),(0,p.jsx)("span",{ref:r,children:n}),(0,p.jsx)(tr.v,{})]})}var cG=n(44788);function cK(e){let{onClose:t}=e,n=g.R.useTranslate(),a=(0,eZ.dj)(),[s,r]=(0,D.useState)(!1),o=(0,T.Lo)(e=>e.clearSessions);return(0,p.jsx)(es,{variant:"dialog",title:n("deleteAllHistoryModalTitle"),onClose:t,hideClose:!0,footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:()=>{t()},children:n("deleteAllHistoryModalCancel")}),(0,p.jsx)(th,{variant:"danger",loading:s,onClick:()=>{r(!0),(0,T.lj)().then(()=>{r(!1),a.success({node:(0,D.createElement)(g.R.ensureTranslateComponent("deleteAllHistoryOkToast")),description:n("deleteAllHistoryOkToast")}),g.y.tracker.info({name:"deleteAllHistoryOk",message:"删除所有历史成功",payload:{}}),t(),o(),rC()}).catch(e=>{a.error({node:(0,D.createElement)(g.R.ensureTranslateComponent("deletAllHistoryFailedToast")),description:n("deletAllHistoryFailedToast")}),g.y.tracker.error({name:"deleteAllHistoryFailed",message:"删除所有历史出错",payload:g.y.withError(e,{})}),r(!1)})},children:n("deleteAllHistoryModalConfirm")})]}),children:(0,p.jsx)(tK.e,{splitParagraph:!0,showMarkdownBold:!0,showEmailLink:!0,children:n("deleteAllHistoryModalContent")})})}function cq(e,t){return void 0===t?e:t}function cZ(e){let{value:t,defaultValue:n=!1,disabled:a=!1,size:s="m",domProps:r,domRef:o,onChange:i}=e,[l,c]=(0,D.useState)(n),d=cq(l,t),u=(0,D.useCallback)(e=>{null==i||i(e),void 0===t&&c(e)},[i,t]),{className:h,...m}=null!=r?r:{},g=(0,Z.A)("".concat(U.V,"-switch"),d&&"".concat(U.V,"-switch--checked"),a&&"".concat(U.V,"-switch--disabled"),"".concat(U.V,"-switch--size-").concat(s),h);return(0,p.jsx)("button",{className:g,style:null==m?void 0:m.style,role:"switch","aria-checked":d,onClick:e=>{var t;null==r||null==(t=r.onClick)||t.call(r,e),a||u(!d)},tabIndex:0,ref:o,...m,children:(0,p.jsx)("div",{className:"".concat(U.V,"-switch-thumb"),"aria-hidden":"true"})})}n(22525);var cQ=n(72743),cY=n(46163),cX=n(3325),cJ=n(91405);function c$(){return(0,cJ.Ay)(T.b2.users_settings,T.Hj)}function c1(){let e=g.R.useTranslate(),t=(0,eZ.dj)(),{data:n,isLoading:a,error:s,mutate:r}=c$(),[o,i]=(0,D.useState)(!1),l=(0,ee.Qj)({value:o,delay:200,defaultValue:!1,shouldDelay:()=>!0}),c=null==n?void 0:n.data.training_allowed;async function d(a){i(!0);try{g.y.tracker.info({name:"switchAllowTraining",payload:{to:a},message:"切换允许训练开关"}),await (0,T.ky)({training_allowed:a}),n&&r((0,cX.jM)(e=>{e.data.training_allowed=a},n),{revalidate:!1})}catch(n){t.error(e("allowTrainingSwitchNetworkError")),g.y.tracker.error({name:"switchAllowTrainingFailed",payload:g.y.tracker.withError(n,{to:a}),message:"切换允许训练开关"})}finally{i(!1)}}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:cY.labelContainer,children:[(0,p.jsx)("span",{children:e("allowTrainingSwitchLabel")}),(0,p.jsx)("div",{className:cY.description,children:e("allowTrainingDescription")})]}),(0,p.jsx)("div",{className:cQ.switchContainer,children:a||s||l?(0,p.jsx)(ti.R,{}):(0,p.jsx)(cZ,{value:c,onChange:d,domProps:{className:cQ.customSwitch}})})]})}let c0="/api/v0/users",c2=async()=>{let{http:e}=g.y,t=await e.http.post("/api/v0/users/logout_all_sessions",{context:e.withDefaultHttpContext({withToken:!0})});if(0!==t.json.data.biz_code)throw t.json.data},c3=()=>{let e=(0,eZ.dj)(),t=g.R.useTranslate(),{beUnauthenticated:n}=nn();return async()=>{let{tracker:a}=g.y;a.info({name:"logout",message:"开始登出"});try{let e=g.y.httpWithCoreType;await (0,e1.d9)(void 0,{http:e,baseUrl:c0}),n({navigateToSignIn:!0,isBanned:!1})}catch(n){g.y.tracker.error({name:"logoutFailed",message:"登出失败",payload:g.y.withError(n,{})}),e.error({node:t("logoutFail"),description:"退出登录失败"})}}},c4=e=>{let{onSuccess:t}=e,n=g.R.useTranslate(),a=ei(),{tracker:s}=g.y;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{children:n("logoutAllDevicesTitle")}),(0,p.jsx)(th,{variant:"danger",onClick:()=>{s.info({name:"openLogoutAllDevicesModal",message:"打开登出所有设备对话框",payload:{}});let e=a.open({modalProps:{children:(0,p.jsx)(c6,{onSuccess:t,onClose:()=>{e.close()}})}})},children:n("logoutAllDevicesButton")})]})},c6=e=>{let{onClose:t,onSuccess:n}=e,a=g.R.useTranslate(),[s,r]=(0,D.useState)(!1),o=(0,eZ.dj)(),i=(()=>{let{beUnauthenticated:e}=nn();return async()=>(await c2(),{clear:()=>e({navigateToSignIn:!0,isBanned:!1})})})(),{tracker:l}=g.y;return(0,p.jsx)(es,{variant:"dialog",onClose:t,domProps:{"data-autofocus":!0},title:a("logoutAllDevices"),hideClose:!0,footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:()=>{l.info({name:"cancelLogoutAllDevicesModal",message:"关闭登出所有设备对话框",payload:{}}),t()},children:a("logoutAllDevicesCancel")}),(0,p.jsx)(th,{variant:"danger",loading:s,onClick:()=>{r(!0),l.info({name:"confirmLogoutAllDevices",message:"开始登出所有设备",payload:{}}),i().then(e=>{let{clear:a}=e;g.y.tracker.info({name:"logoutAllDevicesSuccess",message:"登出所有设备成功",payload:{}}),t(),a(),n()}).catch(e=>{o.error({node:(0,D.createElement)(g.R.ensureTranslateComponent("logoutAllDevicesFail")),description:a("logoutAllDevicesFail")}),g.y.tracker.error({name:"logoutAllDevicesFail",message:"登出所有设备失败",payload:g.y.withError(e,{})})}).finally(()=>{r(!1)})},children:a("logoutAllDevicesConfirm")})]}),children:a("logoutAllDevicesDesc")(a("logoutAllDevicesConfirm"))})},c5=e=>({rgbHover:e?"255 255 255 / 8%":"0 0 0 / 4%"});var c9=n(2923);function c8(e,t){if(!e)return;let n=document.createElement("a");n.href=e,t&&(n.download=t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}function c7(){let{data:e,isLoading:t,error:n,mutate:a}=(0,cJ.Ay)(T.b2.download_export_history,T.tf,{refreshInterval:e=>5e3*((null==e?void 0:e.data.status)==="PENDING"),revalidateOnFocus:!1}),s=(0,eZ.dj)(),r=g.R.useTranslate(),o=null==e?void 0:e.data,i=(null==o?void 0:o.status)==="PENDING",l=(null==o?void 0:o.status)==="FINISHED",c=(null==o?void 0:o.status)==="EMPTY",d=(0,D.useCallback)(()=>{g.y.tracker.info({name:"exportAllData",payload:{},message:"导出所有历史数据"}),(0,T.Kd)().then(e=>{e.data.code===T.QQ.ExportAllDataErrorCode.RATE_LIMIT&&(s.error(r.exportAllRateLimit),g.y.tracker.error({name:"exportAllDataFailed",message:"导出所有历史数据失败-频控",payload:{}}))}).catch(e=>{s.error(r.exportAllFailed),g.y.tracker.error({name:"exportAllDataFailed",payload:g.y.tracker.withError(e,{}),message:"导出所有历史数据失败-其他错误"})}).finally(a)},[a,r,s]),u=(0,D.useCallback)(()=>{c?d():(null==o?void 0:o.status)==="FINISHED"&&(c8(o.historyDownloadUrl),setTimeout(()=>{c8(o.legacyHistoryDownloadUrl)},1e3))},[o,d,c]);function h(e){return sS()(1e3*e).format("YYYY-MM-DD HH:mm")}return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:cY.labelContainer,children:[(0,p.jsx)("span",{children:r.exportAllLabel}),(0,p.jsx)("div",{className:cY.description,children:l?r.exportAllExpiryNoticeDesc(h(o.exportAt),h(o.expireAt),(0,p.jsx)(eG.$,{variant:"text",onClick:d,style:{fontSize:"unset"},theme:{lineHeight:"unset"},children:r.exportAllReexportBtn})):r.exportAllDesc})]}),t||n?(0,p.jsx)(ti.R,{}):(0,p.jsx)(th,{className:c9.button,variant:"outlined",loading:i,style:i?{pointerEvents:"none"}:{},onClick:u,icon:l?(0,p.jsx)(eg.FQ,{}):null,children:l?(0,p.jsx)(p.Fragment,{children:r.exportAllDownload}):r.exportAllButton})]})}var de=n(82067);let dt=e=>{let{selected:t,children:n,link:a,icon:s,iconColor:r,onClick:o,disabled:i=!1,domRef:l,domProps:c,loading:d=!1,className:u}=e;return(0,p.jsx)(td,{style:{},link:a,icon:s,iconColor:null!=r?r:"var(--dsw-alias-label-primary)",disabled:i,onClick:i?void 0:o,domRef:l,domProps:{tabIndex:0,...c},loading:d,className:(0,Z.A)(u,de.blockSelector,t&&de.selected),iconSize:16,iconAlign:"left",iconMargin:0,suffix:(0,p.jsx)(tr.v,{}),children:n})},dn=e=>{let{options:t,value:n,onChange:a,disabled:s=!1,className:r}=e;return(0,p.jsx)("div",{className:(0,Z.A)(de.blockSelectorGroup,r),children:t.map(e=>(0,p.jsx)(dt,{selected:n===e.value,onClick:()=>a(e.value),disabled:s||e.disabled,icon:e.icon,children:e.label},e.value))})};var da=n(76755),ds=n.n(da),dr=n(72057),di=n(84886);function dl(e){let{onClose:t,onConfirm:n}=e,a=g.R.useTranslate(),[s,r]=(0,D.useState)(!1),o=async()=>{r(!0);try{await n(),t()}catch{}finally{r(!1)}};return(0,p.jsx)(es,{onClose:t,title:a.shareLinksManageDeleteConfirmTitle,variant:"dialog",hideClose:!0,footer:(0,p.jsxs)(er,{children:[(0,p.jsx)(th,{variant:"outlined",onClick:t,children:a.cancel}),(0,p.jsx)(th,{variant:"danger",loading:s,onClick:o,children:a.shareLinksManageDelete})]}),children:a.shareLinksManageDeleteConfirmDesc})}sS().extend(ds());let dc=()=>{let[e,t]=(0,D.useState)(!1),[n,a]=(0,D.useState)(!1),[s,r]=(0,D.useState)(),[o,i]=(0,D.useState)(!0),l=(0,T.zG)(),c=(0,eZ.dj)(),d=ei(),u=g.R.useTranslate();(0,D.useEffect)(()=>{g.y.tracker.info({name:"shareLinksManageOpenModal",message:"打开分享链接管理弹窗",payload:{}})},[]);let{containerDomRef:h,onContainerScroll:m,onContentResize:f,ScrollAreaGutters:C,className:v}=(0,nQ.Qh)({verticalScrollbarInsets:{leading:0,trailing:-16,top:0,bottom:4}}),b=(0,ee.DK)(async()=>{try{var e;t(!0);let n=null!=s?s:[],o=null==(e=n.at(-1))?void 0:e.createdAt,c=await l.listShares(20,o),d=(0,dr.A)(n,c,e=>e.shareId);r(d),i(d.length-n.length!=0),t(!1),a(!1),f()}catch(e){a(!0)}}),_=(0,ee.iL)(t=>{t&&!e&&o&&b()}),S=async e=>{let t=nf(e);try{await l.deleteShare(e),r(s.filter(t=>t.shareId!==e)),c.success(u.shareLinksManageDeleteOkToast),g.y.tracker.info({name:"shareLinksManageDeleteLink",message:"删除分享链接",payload:{shareLink:t}})}catch(e){throw c.error(u.shareLinksManageDeleteFailedToast),e}},E=async e=>{let t=nf(e);await navigator.clipboard.writeText(t),c.success(u.shareCreateLinkCopiedToast),g.y.tracker.info({name:"shareLinksManageCopyLink",message:"复制分享链接",payload:{shareLink:t}})};return(0,p.jsxs)("div",{className:di.content,children:[(0,p.jsx)(C,{}),(0,p.jsx)("div",{ref:h,onScroll:m,className:(0,Z.A)(v,di.scrollContainer),children:(null==s?void 0:s.length)!==0||n?(0,p.jsxs)("div",{className:di.sharesList,children:[null==s?void 0:s.map(e=>{let t;return(0,p.jsxs)("div",{className:di.shareItem,children:[(0,p.jsx)(ez.I,{size:14,children:(0,p.jsx)(eg.du,{})}),(0,p.jsxs)("div",{className:di.shareTitleAndDate,children:[(0,p.jsx)(tx.m,{checkEllipsis:!0,wrapperStyle:{maxWidth:"50%"},hoverable:!0,enterDelay:500,placement:"top",renderTrigger:t=>{let{domProps:n,domRef:a,ellipsisDomRef:s}=t;return(0,p.jsx)("div",{...n,onFocus:void 0,ref:(0,nY.P)(a,s),className:di.shareTitle,children:(0,p.jsx)("a",{href:nf(e.shareId),className:di.shareLink,target:"_blank",rel:"noopener noreferrer",title:"点击在新窗口打开",onClick:()=>{let t;return t=nf(e.shareId),void g.y.tracker.info({name:"shareLinksManageClickLink",message:"点击分享链接",payload:{shareLink:t}})},children:e.hint||nf(e.shareId)})})},children:e.hint||nf(e.shareId)}),(0,p.jsxs)("div",{className:di.shareDate,children:[u.shareLinksManageSharedAt," ",(t=e.createdAt,sS()(1e3*t).format("LL"))]})]}),(0,p.jsx)(tx.m,{trigger:"hover",renderTrigger:t=>(0,p.jsx)(ef.K,{...t,size:"l",className:di.copyButton,onClick:()=>E(e.shareId),children:(0,p.jsx)(eg.sS,{})}),children:u.shareLinksManageCopy}),(0,p.jsx)(tx.m,{trigger:"hover",renderTrigger:t=>(0,p.jsx)(ef.K,{...t,size:"l",className:di.deleteButton,onClick:()=>{var t;let n;return t=e.shareId,void(n=d.open({modalProps:{children:(0,p.jsx)(dl,{onClose:()=>n.close(),onConfirm:()=>S(t)})}}))},children:(0,p.jsx)(eg.Vd,{})}),children:u.shareLinksManageDelete})]},e.shareId)}),o&&!e&&(0,p.jsx)("div",{ref:_,className:di.loadingSentinel}),n&&(0,p.jsx)(sW,{alignItems:"center",justifyContent:"center",gap:0,style:{flex:"1",alignSelf:"center",minHeight:"4em",paddingBottom:"48px",color:"var(--dsw-alias-label-tertiary)"},children:u("historyLoadFailed")((0,p.jsx)(eG.$,{variant:"text",onClick:b,style:{color:"var(--dsw-alias-brand-text)"},children:u("historyLoadFailedButton")}))})]}):(0,p.jsxs)("div",{className:di.empty,children:[(0,p.jsx)(ez.I,{size:20,children:(0,p.jsx)(eg.H4,{})}),(0,p.jsx)("p",{children:u.shareLinksManagementEmpty})]})})]})},dd=()=>(0,p.jsx)(T.JA,{children:(0,p.jsx)(dc,{})});var du=n(25452);let dh=(0,D.createContext)({DatePicker:{startDay:0,parseInput:e=>{let{input:t,dayjs:n}=e;return n(t,"YYYY/MM/DD")},formatInput:e=>{let{day:t}=e;return t.format("YYYY/MM/DD")},formatDay:e=>{let{day:t}=e;switch(t.day()){case 0:case 6:return"S";case 1:return"M";case 2:case 4:return"T";case 3:return"W";case 5:return"F";default:throw Error("Invalid day")}},formatTitle:e=>{let{day:t}=e;return"".concat(t.format("MMMM")," ").concat(t.year())}},Select:{notFound:"Not found",empty:"No data"}});n(39129);let dp=[];function dm(e){let{status:t,variant:n="filled",disabled:a=!1,loading:s=!1,options:r=dp,optionLoading:o=!1,size:i="m",style:l,className:c,placeholder:d,defaultValue:u,value:h,filter:m,filterable:g,renderSelectedOption:f,renderOptionLabel:C,onChange:v,onBlur:b,onFilterChange:_,inputDomProps:S,menuWidthPolicy:E,menuClassName:x,menuFloatingWrapperClassName:y,deriveStyleOnOpen:w,offsetOptions:I}=e,T=a||s,A=ep(),j=(null!=t?t:null==A?void 0:A.status)||"none",[k,M]=(0,D.useState)(!1),[,R]=(0,D.useState)(!1),[N,O]=(0,D.useState)(u),L=cq(N,h),F=(e,t)=>{v&&v(e,{option:t}),O(e)},P=(0,D.useMemo)(()=>r.find(e=>e.value===L)||null,[r,L]),B=(0,D.useRef)(null),[V,H]=(0,D.useState)(0),W=(0,ee.DK)(e=>{if(g&&e){var t;G(""),null==(t=B.current)||t.focus()}e&&(P&&Q(P),H(e=>e+1)),e&&(w&&X.current?et(w(X.current)):et({})),M(e)}),[z,G]=(0,D.useState)(""),K=(0,D.useMemo)(()=>{if(!g||!z.length)return r;if(m)return r.filter(e=>m(z,e));let e=z.toLowerCase();return r.filter(t=>t.label.toLowerCase().includes(e))},[m,g,r,z]),[q,Q]=(0,D.useState)(K[0]||null),Y=(0,D.useRef)(null),X=(0,D.useRef)(null),J=(0,D.useRef)(null),[$,et]=(0,D.useState)({}),en=(0,ee.DK)(e=>{let t=-1,n=null;switch(e.key){case"ArrowDown":case"ArrowUp":if("ArrowDown"===e.key&&!k&&!T){W(!0);break}if(!k)break;-1===(t=q?K.findIndex(e=>e.value===q.value):-1)&&(n="ArrowUp"===e.key?K[K.length-1]||null:K[0]||null),(n="ArrowUp"===e.key?K[t-1]||K[K.length-1]||null:K[t+1]||K[0]||null)?(Q(n),H(e=>e+1)):Q(null);break;case"Enter":k&&q&&(F(q.value,q),W(!1))}});return(0,D.useLayoutEffect)(()=>{var e;null==(e=Y.current)||e.scrollIntoView({block:"nearest"})},[V]),(0,D.useLayoutEffect)(()=>{K.length?Q(K[0]):Q(null)},[z]),(0,p.jsx)(r7.D,{trigger:"none",isOpen:k,onIsOpenChange:W,wrapperStyle:{},wrapperDisplayPolicy:"keepAfterFirstOpen",widthPolicy:E||"minConsistent",placement:"bottom-start",flipOptions:{fallbackPlacements:["bottom-end","top-start"]},offsetOptions:I,floatingWrapperClassName:y,renderTrigger:e=>{let{domRef:t}=e;return(0,p.jsxs)("div",{className:(0,Z.A)(c,"".concat(U.V,"-select"),"".concat(U.V,"-select--").concat(n),"".concat(U.V,"-select--").concat(j),"".concat(U.V,"-select--").concat(i),k&&"".concat(U.V,"-select--open"),T&&"".concat(U.V,"-select--disabled")),tabIndex:T?void 0:g?-1:0,style:l,ref:(0,nY.P)(t,X),onKeyDown:en,onMouseDown:()=>{k||T||W(!0)},onFocus:g?void 0:()=>{R(!0)},onBlur:g?void 0:e=>{R(!1),null==b||b(e),k&&W(!1)},children:[k&&g&&z.length?null:P?(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-select__select"),k&&g&&!z.length&&"".concat(U.V,"-select__select--placeholder")),children:f?f(P):P.label},"selectedOption"):(0,p.jsx)("div",{className:"".concat(U.V,"-select__placeholder"),children:d},"placeholder"),g?(0,p.jsx)("input",{disabled:T,...S,onFocus:e=>{var t;null==S||null==(t=S.onFocus)||t.call(S,e),R(!0)},onBlur:e=>{var t;null==S||null==(t=S.onBlur)||t.call(S,e),R(!1),null==b||b(e),k&&W(!1)},ref:B,className:(0,Z.A)("".concat(U.V,"-select__input"),null==S?void 0:S.className),value:k?z:"",onChange:e=>{var t;null==S||null==(t=S.onChange)||t.call(S,e),k?(G(e.currentTarget.value),null==_||_(e.currentTarget.value)):(W(!0),e.currentTarget.value&&" "!==e.currentTarget.value&&(G(e.currentTarget.value),null==_||_(e.currentTarget.value)))}}):null,(0,p.jsx)("div",{className:"".concat(U.V,"-select__arrow"),"aria-hidden":!0,children:s?(0,p.jsx)(ti.R,{}):(0,p.jsx)(df,{})})]})},renderFloating:e=>{let{nodeRef:t}=e;return(0,p.jsx)(dg,{optionLoading:o,onMouseEnterOption:e=>{Q(e)},showNotFound:!!(g&&r.length&&!K.length),options:K,selectedOption:P,pendingOption:q,domRef:(0,nY.P)(t,J),pendingOptionDomRef:Y,renderOptionLabel:C,onSelect:e=>{F(e.value,e),Q(e),W(!1)},className:x,style:$})}})}function dg(e){let{options:t,showNotFound:n,pendingOption:a,selectedOption:s,domRef:r,pendingOptionDomRef:o,onMouseEnterOption:i,onSelect:l,optionLoading:c,className:d,renderOptionLabel:u,style:h}=e,m=(0,D.useContext)(dh),{containerDomRef:g,className:f,onContainerScroll:C,ScrollAreaGutters:v}=(0,nQ.Qh)({verticalScrollbarWidth:6,verticalScrollbarInsets:{top:4,bottom:12,leading:0,trailing:-4},horizontalScrollbarInsets:{top:0,bottom:12,leading:0,trailing:0}});return(0,p.jsxs)("div",{className:(0,Z.A)("".concat(U.V,"-select-menu"),"".concat(U.V,"-elevated"),d,f),style:h,ref:(0,nY.P)(r,g),onMouseDown:e=>e.preventDefault(),onScroll:C,children:[(0,p.jsx)(v,{theme:{bgColor:"var(--dsw-alias-scrollbar-bg-l2)",hoverColor:"var(--dsw-alias-scrollbar-hover-l2)"}}),c?(0,p.jsxs)("div",{className:"".concat(U.V,"-select-menu__skeleton"),children:[(0,p.jsx)(te.E,{className:"".concat(U.V,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:250}}),(0,p.jsx)(te.E,{className:"".concat(U.V,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:220}}),(0,p.jsx)(te.E,{className:"".concat(U.V,"-select-menu__skeleton-item"),variant:"text",size:"xs",style:{width:200}})]}):n?(0,p.jsx)("div",{className:"".concat(U.V,"-select-menu__not-found"),children:m.Select.notFound}):t.length?(0,p.jsx)(p.Fragment,{children:t.map(e=>{let t=a&&e.value===a.value;return(0,p.jsxs)(D.Fragment,{children:[(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-select-option"),s&&e.value===s.value&&"".concat(U.V,"-select-option--selected"),t&&"".concat(U.V,"-select-option--pending")),onMouseEnter:()=>{i(e)},ref:t?o:void 0,onClick:()=>l(e),children:(null==u?void 0:u(e,(null==s?void 0:s.value)===e.value))||e.label}),e.divider&&(0,p.jsx)("div",{className:"".concat(U.V,"-select-divider")})]},e.value)})}):(0,p.jsx)("div",{className:"".concat(U.V,"-select-menu__not-found"),children:m.Select.empty})]})}function df(){return(0,p.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512",enableBackground:"new 0 0 512 512",xmlSpace:"preserve",children:(0,p.jsx)("path",{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n	c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z",fill:"currentColor"})})}var dC=n(51409);let dv=e=>{let{menuClassName:t,renderOptionLabel:n,...a}=e;return null!=n||(n=(e,t)=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("span",{children:e.label}),t&&(0,p.jsx)(eg.rB,{})]})),(0,p.jsx)(dm,{...a,offsetOptions:{mainAxis:4},className:(0,Z.A)(dC.selectOverride,a.className),menuClassName:(0,Z.A)(dC.selectMenuOverride,t),renderOptionLabel:n})};function db(e){let{className:t,style:n}=e,a=g.R.useTranslate(),s=g.y.useApp(e=>e.localePreference),r=g.y.useApp(e=>e.setLocalePreference),o=(0,eZ.dj)(),[i,l]=(0,D.useState)(!1),c=(0,ee.nI)(!1!==i,{showDelay:200,minDuration:200},String(i)),d=(0,D.useMemo)(()=>[...new Set((0,du.Be)())].sort(),[]),u=(0,D.useMemo)(()=>d.flatMap(e=>"zh_CN"!==e&&"en_US"!==e?[{label:du.vK[e],value:e}]:[]),[d]);return(0,p.jsx)(dv,{className:t,style:n,value:s,onChange:e=>{if(e!==s){l(e);let t=(0,A.g)(e),n=(0,A.g)(s);g.y.tracker.info({name:"switchLocale",message:"用户切换语言",payload:{fromLocale:n,toLocale:t}}),(0,du.Xq)(t).then(()=>{r(e)}).catch(s=>{g.y.tracker.error({name:"loadLocaleFailed",message:"组件语言切换失败",payload:g.y.withError(s,{targetLocalePreference:e,fromLocale:n,toLocale:t,initiator:"settings"})}),o.error(a("failedToSwitchLocaleToast"))}).finally(()=>{l(!1)})}},loading:c,deriveStyleOnOpen:e=>{let t=e.getBoundingClientRect();return{maxHeight:Math.max(t.top-16,window.innerHeight-t.bottom-16)+"px"}},options:[{label:du.vK.zh_CN,value:"zh_CN"},{label:du.vK.en_US,value:"en_US"},{label:a("settingsLocalePreferenceSystem"),value:"system",divider:!0},...u]})}var d_=n(76547);function dS(e){let{children:t}=e;return(0,p.jsx)(sW,{className:d_.settingsItem,justifyContent:"space-between",alignItems:"center",style:{padding:"12px 0",minHeight:"60px",boxSizing:"border-box"},children:t})}function dE(e){let{children:t,style:n}=e;return(0,p.jsx)("div",{style:{display:"flex",alignItems:"center",minHeight:"var(--ds-input-height-m)",...n},children:t})}function dx(e){var t;let n,{defaultSelectedSection:a,onClose:s}=e,r=g.R.useTranslate(),o=g.R.useLocale(),i=(0,nw.Y)(),{tracker:l}=g.y,c=(0,na.kH)(e=>e.user),d=(null==c?void 0:c.email)||(null==c||null==(t=c.idProfile)?void 0:t.email),u=g.y.useIsMainlandChina(),h=g.y.useApp(e=>e.themePreference),m=g.y.useApp(e=>e.setThemePreference),{beUnauthenticated:f}=nn(),[C,v]=(0,D.useState)(a),[b,_]=(0,D.useState)("settings"),S=eF({isMainlandChina:u,locale:o}),E=ei();c$(),n=(0,ee.DK)(s),(0,D.useEffect)(()=>{let e=rf.j.subscribe({next(e){let{method:t}=e;"beUnauthenticated"===t&&n()}});return()=>{e.unsubscribe()}},[n]),(0,ee.ML)("popstate",e=>{var t;(null==(t=e.state)?void 0:t.settingsModal)||s()});let x=(0,D.useMemo)(()=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{style:{marginTop:10},children:[r("avatarMenuSettingsDialogThemeItemLabel"),(0,p.jsx)(dn,{className:d_.themeSelect,value:h,onChange:e=>{m(e),l.info({name:"changeAppTheme",message:"修改颜色主题",payload:{appTheme:e}})},options:[{label:r("avatarMenuSettingsDialogThemeSelectLightOption"),value:"light",icon:(0,p.jsx)(eg.RI,{})},{label:r("avatarMenuSettingsDialogThemeSelectDarkOption"),value:"dark",icon:(0,p.jsx)(eg.VO,{})},{label:r("avatarMenuSettingsDialogThemeSelectSystemOption"),value:"system",icon:(0,p.jsx)(eg.Bk,{})}]})]}),(0,p.jsxs)(dS,{children:[r("settingsLocalePreference"),(0,p.jsx)(db,{})]})]}),[m,r,h,l]),y=(0,ev.useTranslate)(o),w=function(e){let{locale:t,isMainlandChina:n}=e,a=(0,ev.useTranslateWithLocale)(),{termsOfUse:s,termsOfUseFile:r}=eS(),o=eF({isMainlandChina:n,locale:t});return{termsOfUse:{link:r||o.termsOfUse,label:s||a("termsOfUse",t)},privacyPolicy:{link:o.privacyPolicy,label:a("privacyPolicy",t)}}}({locale:o,isMainlandChina:u}),I=(0,D.useMemo)(()=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(dS,{children:[w.termsOfUse.label,(0,p.jsx)(th,{variant:"outlined",link:{target:"_blank",url:S.termsOfUse},children:r("viewPolicyButton")})]}),(0,p.jsxs)(dS,{children:[w.privacyPolicy.label,(0,p.jsx)(th,{variant:"outlined",link:{target:"_blank",url:S.privacyPolicy},children:r("viewPolicyButton")})]})]}),[w,S,r]),T=(0,D.useMemo)(()=>(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(dS,{children:(0,p.jsx)(c1,{})}),(0,p.jsxs)(dS,{children:[r.shareLinksManageDescription,(0,p.jsx)(th,{variant:"outlined",onClick:()=>{_("shareManagement")},children:r.shareLinksManageButton})]}),(0,p.jsx)(dS,{children:(0,p.jsx)(c7,{})}),(0,p.jsxs)(dS,{children:[r("avatarMenuSettingsDialogDeleteAllHistoryLabel"),(0,p.jsx)(th,{variant:"danger",onClick:()=>{let e=E.open({modalProps:{children:(0,p.jsx)(cK,{onClose:()=>{e.close(),g.y.tracker.info({name:"closeDeleteAllHistoryModal",message:"关闭删除所有历史 modal",payload:{}})}})}});l.info({name:"openDeleteAllHistoryModal",message:"打开删除所有历史 modal",payload:{}})},children:r("avatarMenuSettingsDialogDeleteAllHistoryButton")})]})]}),[E,r,l]),A=(0,D.useMemo)(()=>{var e;return(0,p.jsxs)(p.Fragment,{children:[(null==c||null==(e=c.idProfile)?void 0:e.name)?(0,p.jsxs)(dS,{children:[(0,p.jsx)("span",{children:r("profileUserName")}),(0,p.jsxs)(dE,{children:[c.idProfile.name,"GOOGLE"===c.idProfile.provider&&(0,p.jsxs)(p.Fragment,{children:["\xa0",(0,p.jsx)(eH,{})]}),"WECHAT"===c.idProfile.provider&&(0,p.jsxs)(p.Fragment,{children:["\xa0",(0,p.jsx)(dy,{})]})]})]}):null,d?(0,p.jsxs)(dS,{children:[(0,p.jsx)("span",{children:r("profileEmailTitle")}),(0,p.jsx)(dE,{children:cw(d)})]}):u||c?null:(0,p.jsxs)(dS,{children:[(0,p.jsx)(te.E,{variant:"text",children:r("profileEmailTitle")}),(0,p.jsx)(dE,{children:(0,p.jsx)(te.E,{variant:"text",children:"********@*****.***"})})]}),(0,p.jsxs)(dS,{children:[r("profilePhoneNumberTitle"),c?(0,p.jsxs)(dE,{style:{fontVariantLigatures:"contextual"},children:[c.mobile?tc(c.mobile):"-",c.mobile&&"+86"===c.areaCode&&(0,p.jsx)(dT,{})]}):(0,p.jsx)(dE,{children:(0,p.jsx)(te.E,{variant:"text",children:"**************"})})]}),(null==c?void 0:c.mobile)&&(0,p.jsxs)(dS,{children:[(0,p.jsx)("span",{children:y("wechat")}),c?(0,p.jsx)(dE,{children:eq(c)?(0,p.jsxs)(p.Fragment,{children:[y("bindWechatStatusBound"),(0,p.jsx)(t7,{user:c,updateUser:e=>{na.kH.setState({user:{...na.kH.getState().user,...e}})}})]}):(0,p.jsxs)(p.Fragment,{children:[y("bindWechatStatusUnbound"),(0,p.jsx)(t8,{user:c,updateUser:e=>{na.kH.setState({user:{...na.kH.getState().user,...e}})}})]})}):(0,p.jsx)(dE,{children:(0,p.jsx)(te.E,{variant:"text",children:"***********"})})]}),c&&eK(c,"APPLE")&&(0,p.jsxs)(dS,{children:[(0,p.jsx)("span",{children:"Apple ID"}),(0,p.jsx)(dE,{children:y("bindWechatStatusBound")})]}),(0,p.jsx)(dS,{children:(0,p.jsx)(c4,{onSuccess:s})}),(0,p.jsxs)(dS,{children:[r("avatarMenuSettingsDialogDeleteAccountItemLabel"),(0,p.jsx)(tq,{size:"m",variant:"filled",afterDeleteAccountOk:()=>{s(),f({navigateToSignIn:!0,isBanned:!1})},buttonComp:dI})]})]})},[c,r,d,u,s,f,y]),j=(e,t)=>(0,p.jsx)(W,{...c5(i),children:(0,p.jsx)(es,{onClose:s,domProps:{"data-autofocus":!0},title:e,className:d_.settingDialogModalContent,headerWrapperStyle:{marginBottom:"8px"},contentDomProps:{className:d_.main},children:t})});return"settings"===b?j(r.avartarMenuSettingsDialogTitle,(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(dw,{value:C,onChange:e=>v(e),items:[{label:r("settingDialogAsideGeneralOptionLabel"),value:"general",icon:(0,p.jsx)(eg.Ec,{})},{label:r("settingDialogAsideAccountOptionLabel"),value:"account",icon:(0,p.jsx)(eg.gD,{})},{label:r("settingDialogAsideDataOptionLabel"),value:"data",icon:(0,p.jsx)(eg.tq,{})},{label:r("settingDialogAsidePolicyOptionLabel"),value:"policy",icon:(0,p.jsx)(eg.ch,{})}]}),(0,p.jsxs)("div",{className:d_.content,children:["general"===C&&x,"account"===C&&A,"data"===C&&T,"policy"===C&&I]})]})):j((0,p.jsxs)("div",{className:d_.shareLinksManageHeader,children:[(0,p.jsx)(ef.K,{size:"s",onClick:()=>_("settings"),sizing:"icon",children:(0,p.jsx)(eg.f9,{})}),r.shareLinksManageDescription]}),(0,p.jsx)(dd,{}))}let dy=()=>(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"22",height:"22",viewBox:"0 0 24 24",children:(0,p.jsx)("path",{fill:"#00c70a",d:"M9.5 4C5.36 4 2 6.69 2 10c0 1.89 1.08 3.56 2.78 4.66L4 17l2.5-1.5c.89.31 1.87.5 2.91.5A5.22 5.22 0 0 1 9 14c0-3.31 3.13-6 7-6c.19 0 .38 0 .56.03C15.54 5.69 12.78 4 9.5 4m-3 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m5 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1M16 9c-3.31 0-6 2.24-6 5s2.69 5 6 5c.67 0 1.31-.08 1.91-.25L20 20l-.62-1.87C20.95 17.22 22 15.71 22 14c0-2.76-2.69-5-6-5m-2 2.5a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1"})}),dw=e=>{let{items:t,value:n,onChange:a}=e;return(0,p.jsx)(lR,{wrapperClassName:d_.navigationWrapper,className:d_.navigation,children:t.map(e=>(0,p.jsx)(sz,{className:(0,Z.A)(d_.item,e.value===n&&d_.active),icon:e.icon,iconMargin:8,onClick:()=>a(e.value),children:e.label},e.value))})},dI=e=>{let{onClick:t,disabled:n,children:a,type:s}=e;return(0,p.jsx)(th,{disabled:n,variant:"error"===s?"danger":"outlined",onClick:t,children:a})},dT=()=>{let{beAuthenticated:e}=nn(),{RebindMobileButton:t}=function(){let e=ei(),t=(0,eZ.dj)(),{tracker:n,http:a,baseUrl:s}=eS(),r=ex(),o=(0,D.useCallback)(async o=>{let{onSuccess:i,stopLoading:l}=o;try{let{data:{oldMobileNumber:t,ticket:r}}=await (0,e1.l7)({http:a,baseUrl:s});null==l||l();let o=e.open({modalProps:{returnFocus:!1,children:(0,p.jsx)(tb,{onClose:()=>o.close(),onSuccess:i,oldMobileNumber:t,ticket:r})}});n.info({name:"openChangeMobileNumberModal",message:"打开换绑手机号弹窗",payload:{}})}catch(e){null==l||l(),tl.Q.isCode(e,e1.QK.REBIND_MOBILE_START_BIZ_CODE.ACCOUNT_BANNED)?(t.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("commonUserIsBannedToast",eE)),description:r("commonUserIsBannedToast")}),n.error({name:"rebindMobileStartFailed",message:"换绑手机号开始失败，账号已被封禁",payload:n.withError(e,{})})):tl.Q.isBizError(e)?(t.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("rebindFallbackToast",eE),{args:[e.code]}),description:r("rebindFallbackToast")(e.code)}),n.error({name:"rebindMobileStartFailed",message:"换绑手机号开始失败",payload:n.withError(e,{})})):t.error({node:(0,D.createElement)((0,ev.ensureTranslateComponent)("operationFailed",eE)),description:r("operationFailed")})}},[s,a,e,r,t,n]),i=(0,D.useCallback)(function(e){let{onSuccess:t}=e,n=ex(),[a,s]=(0,D.useState)(!1);return(0,p.jsxs)(to,{onClick:()=>{s(!0),o({onSuccess:t,stopLoading:()=>{s(!1)}})},style:{marginLeft:"8px",position:"relative"},disabled:a,children:[(0,p.jsx)("span",{style:{visibility:a?"hidden":"visible"},children:n("rebindMobileChangeButton")}),a&&(0,p.jsx)(ti.R,{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})]})},[o]);return{start:o,RebindMobileButton:i}}();return(0,p.jsx)(t,{onSuccess:t=>{e({...na.kH.getState().user,...t})}})},dA=n.p+"static/qrcode.9cc32b1ee3.svg",dj=e=>"".concat("https://static.deepseek.com/faq/index.html","?lang=").concat(e),dk=()=>{let e="zh_CN"===g.R.useLocale()?"zh":"en",t=dj(e);return{helpLinkLang:e,helpLinkHref:t,openHelp:()=>{g.y.openLink({href:dj(e)})}}};function dM(e){let{children:t,offsetOptions:n,placement:a}=e,s=g.R.useTranslate(),{openHelp:r}=dk(),o=(0,D.useRef)(null),i=(0,D.useRef)(null),l=nC(!0),c=dL(),d=c3(),u=(0,D.useRef)(null),h=(0,D.useMemo)(()=>function(e){let{children:t}=e;return(0,p.jsx)(dR,{menuDomRef:u,children:t})},[]),m=(0,ee.DK)(()=>g.y.isMobile?void l():{action:"none"});return(0,p.jsx)(oe,{trigger:"click",dropdownMenuComponentRef:o,onSelect:e=>{if("settings"===e)c();else if("help"===e)r();else if("logout"===e)ny.current=!1,d();else if("download"===e)return m()},options:[{label:s.avartarMenuDownloadAppOption,icon:(0,p.jsx)(eg.DZ,{}),key:"download",wrapper:h,domProps:{onMouseDownCapture:e=>{e.stopPropagation(),e.preventDefault()}}},{label:s("avartarMenuSettingsOption"),icon:(0,p.jsx)(eg.Ec,{}),key:"settings"},{label:s("helpFeedback"),key:"help",icon:(0,p.jsx)(eg.U5,{})},{label:s("logout"),key:"logout",icon:(0,p.jsx)(eg.Rx,{})}],placement:a,offsetOptions:n,menuDomRef:u,menuDomProps:{onMouseDown(e){e.preventDefault()}},componentRef:i,renderTrigger:e=>{let{domRef:n,domProps:a,positionDomRef:s}=e;return t({domRef:n,positionDomRef:s,domProps:{...a,onBlur:()=>{var e;a.onBlur(),null==(e=i.current)||e.setIsOpen(!1)},onKeyDown:e=>{var t,n,a;(null==(t=i.current)?void 0:t.getIsOpen())?null==(a=o.current)||a.handleKeyboardEvent(e):("ArrowDown"===e.key||"Enter"===e.key)&&(null==(n=i.current)||n.setIsOpen(!0))}}})}})}let dR=e=>{let{children:t,menuDomRef:n}=e,a=g.R.useTranslate();return(0,p.jsxs)(tx.m,{className:cG.downloadAppContainer,theme:{backgroundColor:"var(--dsw-specific-menu)",padding:"8px 8px 12px 8px"},trigger:"hover",hoverable:!0,showArrow:!1,floatingAnimated:!0,renderTrigger:e=>{let{domProps:a,domRef:s,positionDomRef:r}=e;return r.current=null==n?void 0:n.current,t(s,a)},placement:"right-start",flipOptions:{fallbackPlacements:["top-start"]},children:[(0,p.jsx)("img",{src:dA}),(0,p.jsx)("div",{className:cG.text,children:a.scanDownloadApp})]})},dN={},dO=e=>{var t;let{className:n}=e,a=(0,na.kH)(e=>e.user),s=null==a||null==(t=a.idProfile)?void 0:t.picture,[r,o]=(0,D.useState)(s?dN[s]:null),i=(0,D.useMemo)(()=>{var e,t,n,s;return null==(n=(null==a||null==(s=a.idProfile)?void 0:s.name)||(null==a?void 0:a.email))||null==(t=n.match(/[a-zA-Z]/))||null==(e=t[0])?void 0:e.toUpperCase()},[a]);return(0,p.jsx)("div",{className:(0,Z.A)(cG.userAvatar,n),children:s&&!r?(0,p.jsx)("img",{className:cG.picture,style:{display:!1===r?"block":"none"},src:s,alt:"","aria-hidden":"true",onLoad:()=>{o(!1)},onError:e=>{e.currentTarget.style.display="none",o(!0),dN[s]=!0}}):i||(a?(0,p.jsx)(ez.I,{children:(0,p.jsx)(eg.gD,{})}):null)})},dL=()=>{let e=ei(),t=(0,ee.DK)(()=>{let t=e.open({modalProps:{wrapperClassName:cG.settingDialogModalWrapper,children:(0,p.jsx)(dx,{defaultSelectedSection:"general",onClose:()=>{t.close()}}),onAfterClose(){var e;g.y.tracker.info({name:"closeSettingModal",message:"关闭设置 modal",payload:{}}),(null==(e=window.history.state)?void 0:e.settingsModal)&&window.history.back()}}})});return(0,ee.ML)("popstate",e=>{var n;(null==(n=e.state)?void 0:n.settingsModal)&&t()}),(0,ee.DK)(()=>{t(),window.history.pushState({settingsModal:!0},"")})};var dF=n(71130);let dP=(0,D.memo)(function(e){let{domRef:t,className:n,setCollapsed:a,isTransitioning:s}=e,r=(0,D.useMemo)(()=>(0,p.jsx)(cB,{onSelectSession:()=>{g.y.isMobile&&a(!0)}}),[a]);return(0,p.jsxs)("div",{className:(0,Z.A)(dF.sider,n),ref:t,children:[(0,p.jsx)(cU,{hideCollapseTooltip:s,onCollapsedChange:a}),(0,p.jsx)(cz,{onClick:()=>{g.y.isMobile&&a(!0)}}),r,(0,p.jsx)(dD,{})]})});function dD(){var e;let t=g.R.useTranslate(),n=(0,na.kH)(e=>e.user),a=(null==n||null==(e=n.idProfile)?void 0:e.name)||((null==n?void 0:n.email)?cw(n.email):void 0)||((null==n?void 0:n.mobile)?tc(n.mobile):void 0)||"";return(0,p.jsx)(dM,{placement:"top-start",offsetOptions:{mainAxis:4,crossAxis:-10},children:e=>{let{domRef:s,domProps:r}=e;return(0,p.jsxs)("div",{className:dF.menuContainer,tabIndex:0,...r,ref:s,children:[(0,p.jsx)(dO,{}),n&&(0,p.jsx)("div",{className:dF.username,children:a||t.siderProfile}),(0,p.jsx)(ez.I,{size:16,className:dF.actionIcon,children:(0,p.jsx)(eg.sB,{})}),(0,p.jsx)(tr.v,{})]})}})}var dB=n(46030);let dV=(0,D.memo)(function(e){let{componentRef:t,toggleHeader:n}=e,a=(0,T.M7)(),s=(0,T.Z2)(),r=(0,is.UF)(),[o,i]=(0,D.useState)(()=>r||g.y.getLastSessionValue().siderCollapsed),l=(0,ee.Qj)({value:o,delay:100,defaultValue:o}),c=(0,D.useRef)(null),d=(0,D.useCallback)(e=>{g.y.setLastSessionValue(t=>({...t,siderCollapsed:e})),i(e)},[]);dH({searchViewController:s,previewController:a,toggleSider:(0,D.useCallback)(e=>d(!e),[d]),collapsed:o,toggleHeader:n}),(0,D.useImperativeHandle)(t,()=>({setCollapsed:d})),(0,D.useEffect)(()=>{cd.getState().setIsExpand(!o)},[o]);let u=(0,D.useRef)(),h=(0,D.useRef)(null);(0,D.useMemo)(()=>{u.current=void 0!==u.current,h.current&&!o&&(h.current.style.display="",h.current.offsetWidth)},[o]),(0,D.useLayoutEffect)(()=>{o&&h.current&&(h.current.style.display="none")},[]);let[,m]=(0,D.useReducer)(e=>e+1,0);return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{ref:c,className:(0,Z.A)(dB.sider,o&&dB.collapsed),onTransitionEnd:e=>{e.target==e.currentTarget&&u.current&&(u.current=!1,o&&h.current&&(h.current.style.display="none"),m())},children:[(o||u.current)&&(0,p.jsx)(cy,{collapsed:o,className:(0,Z.A)(dB.shrinkSider,(!l||!o)&&dB.hide),setCollapsed:d}),(0,p.jsx)(dP,{domRef:h,className:(0,Z.A)(dB.wideSider,o&&dB.hide),setCollapsed:d,isTransitioning:!!u.current})]}),(0,p.jsx)("div",{className:(0,Z.A)(dB.mask,o&&dB.transparent),onClick:()=>{d(!0)}})]})}),dH=e=>{let{searchViewController:t,previewController:n,toggleSider:a,collapsed:s,toggleHeader:r}=e,o=(0,is.kn)(),i=(0,is.UF)(),l=!(0,is.iV)(),c=s3(e=>e.visible),d=t.hooks.useIsShowSearchView(),u=n.hooks.useIsShowPreview(),h=s3(e=>e.close),p=(0,D.useRef)(n3.A),m=(0,D.useCallback)(()=>{p.current=()=>{a(!0)}},[a]),g=(0,ee.DK)(()=>{p.current(),p.current=n3.A}),f=(0,ee.DK)(()=>{i&&!s&&(a(!1),m())}),C=(0,ee.DK)(()=>{l&&!s&&(a(!1),m())});(0,D.useEffect)(()=>{d&&f()},[f,d]),(0,D.useEffect)(()=>{u&&C()},[C,u]),(0,D.useEffect)(()=>{c&&C()},[c,C]);let v=(0,ee.DK)(()=>{i&&t.closeSearchView(),l&&(n.closePreview(),h())});(0,D.useEffect)(()=>{s||v()},[s,v]);let b=c||d||u,_=(0,ee.DK)(()=>{i?(s||(m(),a(!1)),b&&r(!1)):(r(!0),g())});(0,D.useEffect)(()=>{_()},[i,o,_]);let S=(0,ee.DK)(()=>{r(!0),g()});(0,D.useEffect)(()=>{b||S()},[S,b])};function dU(){let e=nh(nc.ROOT),t=nh(nc.AGENT),n=nh(nc.AGENT_SESSION),a=nm(),s=(null==t?void 0:t.params.agentId)||"";return t?{type:"agent",agentId:s}:e?{type:"agent",agentId:T.FM.AgentId.CHAT}:n?{type:"session",agentId:s,sessionId:n.params.sessionId||""}:a?{type:"share",shareId:a,agentId:T.FM.AgentId.CHAT}:{type:"none"}}var dW=n(69566);let dz=(0,eQ.vt)(()=>({title:null}));function dG(){let e=g.R.useTranslate(),t=dz(e=>e.title);return(0,p.jsx)(dW.m,{children:(0,p.jsx)("title",{children:t?"".concat(t," - DeepSeek"):"DeepSeek - ".concat(e("chatHtmlTitle"))})})}var dK=n(40814);let dq={flex:1,minWidth:0,display:"flex",justifyContent:"center",alignContent:"center",zIndex:12};function dZ(){var e,t;let n,a,{renameSession:s}=(0,T.GO)(),r=(0,nw.Y)(),o=g.R.useTranslate(),i=np(),l=(0,T.Lo)(e=>i&&e.getSession(i)?i:null),c=null!=(t=null==(e=T.aU.useShareContent(nm()))?void 0:e.fakeSession.id)?t:null,d=null!=l?l:c,u=(0,T.Lo)(e=>{if(!d)return!1;let t=e.getSession(d);return!!t&&(t.state===T.FM.SessionStateEnum.idleWithNoHistory||t.state===T.FM.SessionStateEnum.fetchingHistory)}),h=cA(d);a=null==(n=cA(d))?void 0:n.title,(0,D.useEffect)(()=>{dz.setState({title:a})},[a]);let[m,f]=(0,D.useState)(!1),C=(0,D.useRef)(null);(0,D.useEffect)(()=>{if(m){var e;null==(e=C.current)||e.focus()}},[m]);let v=T.rV.load.useIsNewEmptySession(d),b=()=>{if(d)if(C.current){var e;s(d,null==(e=C.current)?void 0:e.value.trim(),"header").then(e=>{let{deleted:t}=e;f(!1),t?rb(d,"rename"):rf.j.next({method:"adjustScrollOnSessionUpdated",args:{sessionId:d}})})}else f(!1)},_=null!=l&&!v,S=()=>{!v&&l&&f(!0)};return d&&(u?(0,p.jsx)("div",{style:dq,children:(0,p.jsx)(te.E,{className:dK.skeleton,style:{width:180,height:24},variant:"text"})}):(0,p.jsx)("div",{style:dq,children:m?(0,p.jsx)(eC,{maxLength:32,onBlur:b,onKeyDown:e=>{"Enter"===e.key&&b()},autosize:!0,defaultValue:(null==h?void 0:h.title)||o("untitledChat"),style:{maxWidth:"100%"},variant:"bordered",inputDomRef:C,className:dK.titleShared,theme:{height:"40px",fontWeight:"500",textColor:"var(--dsw-alias-label-primary)",focusBorderColor:"var(--dsw-alias-brand-primary)",focusColor:r?"#32333E":void 0,lineHeight:"22px",fontSize:"14px",padding:"0 12px",borderRadius:"22px"}}):(0,p.jsx)("div",{className:(0,Z.A)(dK.titleText,dK.titleShared,_&&dK.editable),tabIndex:_?0:void 0,style:{outline:"none"},onFocus:S,onClick:S,children:(0,p.jsx)(cj,{sessionId:d})})}))}var dQ=n(31938);let dY=e=>{let{className:t}=e,n=s5(),a=np(),s=(0,T.zG)(),r=T.aU.useIsShareSelecting(),o=T.rV.load.useIsNewEmptySession(a),i=(0,is.kn)(),l=g.R.useTranslate();return n&&a&&!r?(0,p.jsx)(tx.m,{renderTrigger:e=>{let{domProps:n,domRef:r}=e;return(0,p.jsx)(ef.K,{className:(0,Z.A)(t,dQ.shareButton),size:i?"xl":"l",onClick:()=>{g.y.tracker.info({name:"shareEntryClick",message:"分享入口点击",payload:{entryType:"page_header",sessionId:a}}),s.enterSelection(a,"all")},disabled:o,domProps:n,domRef:r,children:i?(0,p.jsx)(eg.NC,{}):(0,p.jsx)(eg.cV,{})})},children:l.share}):null};var dX=n(43286);let dJ=e=>{let{className:t}=e,n=g.R.useTranslate(),a=nC(!1);return g.y.isMobile?(0,p.jsx)(th,{className:t,style:{marginLeft:4},variant:"outlined",icon:(0,p.jsx)(eg.Dy,{}),onClick:a,children:n.downloadAppInMobile}):null},d$=(0,D.memo)(function(e){let{onMenuClick:t,className:n,showEmpty:a}=e,s=dU(),r=!a&&"session"===s.type,{onClick:o}=cE("mobile_top_right"),i=!!nm(),l=T.aU.useIsShareSelecting(),c=(0,T.zG)(),d=(0,na.xM)(),u=g.R.useTranslate(),h=ng();if(i){if("pending"===d)return(0,p.jsx)("div",{className:(0,Z.A)(dX.messageListHeader,dX.share,n)});if("no"===d)return P.fQ?null:(0,p.jsxs)("div",{className:(0,Z.A)(dX.messageListHeader,dX.share,dX.guest,n),children:[(0,p.jsx)("div",{className:dX.logo,onClick:()=>h(nc.SIGN_IN),children:(0,p.jsx)(nx,{})}),(0,p.jsx)(dJ,{className:dX.downloadApp})]})}return(0,p.jsxs)("div",{className:(0,Z.A)(dX.messageListHeader,i&&dX.share,n),children:[r&&(0,p.jsx)("div",{className:dX.sessionHeader,children:(0,p.jsx)(dZ,{})}),(0,p.jsx)("div",{className:(0,Z.A)(dX.mobileHeader,l&&dX.shareSelect),children:l?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:dX.shareSelectTitle,children:u.shareHeaderSelectConversation}),(0,p.jsx)(th,{style:{marginLeft:"auto"},variant:"outlined",onClick:()=>c.exitSelection(),children:u.cancel})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(ef.K,{size:"xl",onClick:t,children:(0,p.jsx)(eg.FY,{})}),(0,p.jsx)(dJ,{}),(0,p.jsx)("div",{className:dX.sep}),(0,p.jsx)(ef.K,{size:"xl",onClick:o,children:(0,p.jsx)(eg.Yp,{})})]})}),(0,p.jsx)(dY,{className:dX.shareBtn})]})});var d1=n(69318);let d0=(0,D.memo)(function(){let e=(0,T.Z2)(),t=e.hooks.useShowingSearchResult(),n=e.hooks.useIndexOffset(),a=g.R.useTranslate(),s=(0,D.useRef)(null),r=e.getShowingSearchView(),o=r||{sessionId:"",messageId:-1},i=(0,T.KT)(o.sessionId,o.messageId).messageBody.useReferenceSchema(),l="DEEP_SEARCH"===i&&(null==r?void 0:r.fragmentId)!=="composed",c=!!t.length,d=(0,D.useCallback)(t=>{let{count:n}=e.closeSearchView();t&&g.y.tracker.info({name:"toggleSearchList",message:"点击按钮关闭搜索列表",payload:{from:"closeButton",open:!1,count:n}})},[e]),u=(0,D.useRef)(c);return(0,D.useEffect)(()=>{!c&&u.current&&d(!1),u.current=c},[d,c]),(0,D.useLayoutEffect)(()=>{s.current&&(s.current.scrollTop=0)},[t]),(0,p.jsxs)(rW.Ec,{className:(0,Z.A)(d1.container,"scrollable"),onClose:()=>d(!0),show:c,title:a.searchResult,scrollDomRef:s,children:[(0,p.jsx)("div",{className:d1.content,children:t.map((e,t)=>(0,p.jsx)(sw,{searchResult:e,index:l?void 0:t+1+n,className:d1.item,messageIndex:o,from:"DEEP_SEARCH"===i?"reference":"citation"},e.url))}),(0,p.jsx)(d2,{index:r})]})}),d2=e=>{let{index:t}=e,[n,a]=(0,D.useState)(!1),[s,r]=(0,D.useState)(!1),o=(0,D.useRef)();return(0,D.useLayoutEffect)(()=>{r(!1),a(!1)},[t]),(0,D.useEffect)(()=>(o.current=setTimeout(()=>{a(!0)},100),()=>clearTimeout(o.current)),[t]),(0,p.jsxs)("div",{className:(0,Z.A)(d1.maskWrap,n&&d1.leave,s&&d1.dispose),onTransitionEnd:()=>r(!0),children:[(0,p.jsx)("div",{className:d1.gradient}),(0,p.jsx)("div",{className:d1.solid})]})};var d3=n(8485);function d4(e){let t,n,{children:a,className:s,type:r,showIcon:o=!1,bordered:i=!0,style:l}=e;switch(r){case"warning":t="".concat(U.V,"-alert__icon--warning"),n=(0,p.jsx)(eZ.id,{});break;case"success":t="".concat(U.V,"-alert__icon--success"),n=(0,p.jsx)(eZ.BK,{});break;case"info":t="".concat(U.V,"-alert__icon--info");break;default:t="".concat(U.V,"-alert__icon--error"),n=(0,p.jsx)(eZ.IJ,{})}return(0,p.jsxs)("div",{className:(0,Z.A)("".concat(U.V,"-alert"),"".concat(U.V,"-alert--").concat(r),i&&"".concat(U.V,"-alert--bordered"),s),style:l,children:[o?(0,p.jsx)("div",{className:(0,Z.A)("".concat(U.V,"-alert__icon"),t),children:n}):null,(0,p.jsx)("div",{className:"".concat(U.V,"-alert__content"),children:a})]})}n(38743);var d6=n(17394);function d5(e){var t,n,a,s;return e?{token:e.token,id:e.id,email:e.email,mobile:e.mobile||e.mobile_number||"",areaCode:e.area_code||"",status:e.status,idProfile:e.id_profile?e.id_profile:null,idProfiles:e.id_profiles?e.id_profiles:null,featureGates:{},avatarUrl:(null==(t=e.id_profile)?void 0:t.picture)?e.id_profile.picture.replace("s96-c","s".concat(64,"-c")):null,chat:{isMuted:!!(null==(n=e.chat)?void 0:n.is_muted),muteUntil:e.chat?1e3*e.chat.mute_until:0},hasLegacyChatHistory:null!=(a=e.has_legacy_chat_history)&&a,needBirthday:null!=(s=e.need_birthday)&&s}:null}let d9=(0,D.memo)(function(e){var t;let n,{muteUntil:a,className:s}=e,r=g.R.useTranslate(),o=g.R.useLocale(),{openHelp:i}=dk();return(0,cJ.Ay)(T.b2.users_current,()=>(0,e1.mE)(void 0,{http:g.y.httpWithCoreType,baseUrl:c0},d5).then(e=>{let{data:{user:t}}=e;return t}),{onSuccess(e){T.Lo.getState().setMuted(e.chat)},refreshInterval:12e5}),(0,D.useEffect)(()=>{a||(0,cJ.Tk)(T.b2.users_current)},[a]),(0,p.jsx)("div",{className:(0,Z.A)(d6.input,s),style:{paddingTop:16,paddingBottom:8},children:(0,p.jsx)(d4,{type:"warning",children:r.muteAlert(a?sS()(a).format(null!=(t=(n={zh_CN:"YYYY [年] M [月] D [日] HH:mm",en_US:"MMMM D, YYYY HH:mm"})[o])?t:n.en_US):"...",(0,p.jsx)(eG.$,{variant:"text",theme:{textColor:"inherit",ringColor:"currentColor"},style:{textDecoration:"underline"},onClick:()=>{i()},children:r.contactUs}))})})});var d8=n(73074),d7=n(71426);let ue=(0,D.createContext)({getUploadFileController:()=>{throw Error("getUploadFileController is not implemented")}});ue.displayName="ChatInputUploadUiContext";let ut=()=>{let{getUploadFileController:e}=(0,D.useContext)(ue);return e()},un=(0,D.memo)(function(e){let{fileBelongInfo:t,onFileDelete:n,domRef:a}=e,s=ut(),r=s.hooks.useFileList(t);return r.length?(0,p.jsx)(lL,{domRef:a,fileList:r.map(e=>({...e.serverInfo||e.localInfo,renderKey:e.localInfo.id})),readOnly:!1,onFileDelete:e=>{let{id:t}=e;s.deleteFile(t),n()},closeButtonOffset:5}):null}),ua=(0,D.memo)(function(e){let{disabledByChatting:t,fileBelongInfo:n,onBeforeChooseFile:a,allowFileWithSearch:s=!1}=e,r=g.R.useTranslate(),o=(0,eZ.dj)(),i=ut(),l=(0,D.useRef)(null),c=(0,D.useRef)(null),[d]=g.y.storageHandles.searchEnabledStorageHandle.useState(),u=t||d&&!s;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(tx.m,{componentRef:c,renderTrigger:e=>{let{domProps:t,domRef:n}=e;return(0,p.jsx)(ef.K,{size:"l",disabled:u,className:d7.uploadLaunchButton,focusable:!0,domRef:n,domProps:t,onClick:()=>{var e,t,s;null==(e=n.current)||e.blur(),a(),null==(t=l.current)||t.click(),null==(s=c.current)||s.setIsOpen(!1)},children:(0,p.jsx)(eg.jL,{})})},children:d&&!s?r("searchNotSupportFiles"):(0,p.jsxs)("span",{className:d7.uploadButtonTooltipText,children:[(0,p.jsx)("span",{role:"title",children:r.uploadFileButtonTooltipTitle}),r.uploadFileButtonTooltipDesc(50,100)]})}),(0,p.jsx)("input",{type:"file",multiple:!0,disabled:u,ref:l,style:{display:"none"},onChange:e=>{let t=e.target.files,{validFiles:a,problem:s}=i.checkFilesCountOrSize(Array.from(t||[]),n);if(s){let e="exceedCount"===s?r("uploadMaxFiles")(50):r("uploadMaxMBSize")(100);o.error(e)}a.length&&Array.from(a).forEach(e=>{i.addFileAndUpload({file:e,fileBelongInfo:n,thinkingEnabled:g.y.storageHandles.thinkingEnabledStorageHandle.get()})}),e.target.value=""},accept:T.Bn.getAcceptFileTypes()})]})}),us=async e=>{let t=ur(e),n=(await uo(Array.from(e||[]).map(e=>e.webkitGetAsEntry()),!0)).map(e=>e.file);return n.length>=t.length?n:t},ur=e=>Array.from(e||[]).map(e=>e.getAsFile()).filter(e=>!!e),uo=async(e,t)=>{let n=[],{tracker:a}=g.y,s=async e=>{for(let r of e)if(r){if(t&&r.isDirectory){let e,t=r.createReader(),n=[];try{do e=await new Promise((e,n)=>{t.readEntries(e,n)}),n=n.concat(e);while(e.length>0)}catch(e){a.info({name:"dragFileResolveFailed",message:"拖拽文件readEntries方法未成功",payload:a.withError(e,{fileName:r.name,api:"readEntries"})})}await s(n)}else if(r.isFile)try{let e=await new Promise((e,t)=>{r.file(e,t)});n.push({file:e,entry:r,source:"dnd"})}catch(e){a.info({name:"dragFileResolveFailed",message:"拖拽文件file方法未成功",payload:a.withError(e,{fileName:r.name,api:"file"})})}}};return await s(e),n},ui=(e,t,n)=>{n.filteredBySize&&e.error(t("uploadMaxMBSize")(100)),n.filteredByName&&e.error(t("dragFileErrorTip")),n.filteredByCount&&e.error(t("uploadMaxFiles")(50))},ul=(e,t)=>{let n=uc(e),a=n.length<e.length,s=ud(n),r=s.length<n.length,o=uu(s,t),i=o.length<s.length;return{files:o,filteredBySize:r,filteredByName:a,filteredByCount:i}},uc=e=>{let t=T.Bn.getAcceptFileTypeList();return e.map(e=>({file:e,ext:(0,T.vE)(e.name,"lower")})).filter(e=>t.includes(e.ext)).map(e=>e.file)},ud=e=>e.filter(e=>e.size<=T.Bn.maxFileSize),uu=(e,t)=>t+e.length>T.Bn.maxFileCount?[]:e;var uh=n(77586);let up=()=>{let e=g.R.useTranslate();return(0,p.jsx)("div",{className:uh.mask,children:(0,p.jsxs)("div",{className:uh.wrap,children:[(0,p.jsx)(ez.I,{width:46,height:55,children:(0,p.jsx)(um,{})}),(0,p.jsx)("div",{className:uh.title,children:e("dragFileToUpload")}),(0,p.jsx)("div",{className:uh.desc,children:e("dragFileDesc")})]})})},um=()=>(0,p.jsxs)("svg",{width:"46",height:"55",viewBox:"0 0 46 55",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12.884V4a2 2 0 0 1 2-2h.186a2 2 0 0 1 2 2v8.884a2.93 2.93 0 0 0 2.93 2.93H39a2 2 0 0 1 2 2V18a2 2 0 0 1-2 2h-8.884A7.116 7.116 0 0 1 23 12.884zM35.5 36.535a2 2 0 0 1 2 2v14a2 2 0 0 1-4 0v-14a2 2 0 0 1 2-2z",fill:"currentColor"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M33.31 34.34a3 3 0 0 1 4.381 0l7.094 7.582a1.9 1.9 0 0 1-2.774 2.596l-4.32-4.617a3 3 0 0 0-4.38 0l-4.322 4.617a1.9 1.9 0 0 1-2.774-2.596l7.096-7.582z",fill:"currentColor"}),(0,p.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.471 4.14c-3.47 0-6.282 2.78-6.282 6.21v28.982c0 3.43 2.812 6.21 6.282 6.21h9.31a2 2 0 0 1 2 2v.14a2 2 0 0 1-2 2h-9.31C4.688 49.682 0 45.048 0 39.332V10.35C0 4.635 4.688 0 10.471 0h15.301c2.763 0 5.414 1.08 7.375 3.002l7.317 7.176a10.291 10.291 0 0 1 3.097 7.348v10.283a2 2 0 0 1-2 2h-.189a2 2 0 0 1-2-2V17.526a6.174 6.174 0 0 0-1.858-4.409l-7.317-7.175a6.32 6.32 0 0 0-4.425-1.802h-15.3z",fill:"currentColor"})]});n(80677);let ug=e=>{let{selected:t,size:n="md",link:a,icon:s,iconColor:r,children:o,onClick:i,disabled:l=!1,domRef:c,domProps:d,loading:u=!1,className:h,iconMargin:m=4,style:g,useDiv:f}=e;return(0,p.jsx)(td,{style:g||{},link:a,icon:s,iconColor:null!=r?r:t?"var(--dsw-alias-brand-text)":"var(--dsw-alias-label-primary)",disabled:l,onClick:l?()=>{}:e=>{var t;l||(null==d||null==(t=d.onClick)||t.call(d,e),null==i||i({source:"click",evt:e}))},domRef:c,domProps:{tabIndex:0,onKeyDown:e=>{var t;if(!l&&(null==d||null==(t=d.onKeyDown)||t.call(d,e),i&&("Enter"===e.key||" "===e.key))){if(e.isDefaultPrevented())return;e.preventDefault(),i({source:"keyboard",evt:e})}},...d},loading:u,className:(0,Z.A)(h,"".concat(U.V,"-toggle-button"),t&&"".concat(U.V,"-toggle-button--selected"),l&&"".concat(U.V,"-toggle-button--disabled"),"".concat(U.V,"-toggle-button--").concat(n)),iconSize:14,iconAlign:"left",iconMargin:m,suffix:(0,p.jsx)(tr.v,{}),useDiv:f,children:o})};var uf=n(27389);let uC=(0,D.memo)(function(e){let{enabled:t,disabled:n,onToggle:a,tooltipText:s,icon:r,text:o,placement:i,style:l}=e,c=(0,ee.Qj)({value:s,shouldDelay:e=>!e,delay:50,defaultValue:s}),d=(0,D.useRef)(null);return(0,p.jsx)(tx.m,{trigger:"hover",isOpen:!!s&&void 0,componentRef:d,placement:i,renderTrigger:e=>{let{domProps:s,domRef:i}=e;return(0,p.jsx)(ug,{style:l,selected:t,disabled:n,icon:r,onClick:()=>a(!t),domProps:s,domRef:i,className:(0,Z.A)(uf.button),iconMargin:0,useDiv:!0,children:(0,p.jsx)("span",{className:uf.text,children:o})})},children:c})}),uv=(0,D.memo)(function(e){let{enabled:t,setEnabled:n,isFileEmpty:a}=e,s=g.R.useTranslate();return(0,p.jsx)(uC,{placement:"top",enabled:t,disabled:!1,onToggle:()=>{let e=!t;g.y.tracker.info({name:"thinkingSwitchToggled",message:"点击了深度思考开关",payload:{enabled:"".concat(e),fileEmpty:"".concat(a)}}),n(e)},tooltipText:s("deactivatedThinkTooltip"),icon:(0,p.jsx)(eg.RX,{}),text:s("thinkingSwitch"),style:{transform:"translateZ(0)"}})});var ub=n(89463);let u_=()=>n6(e=>e.show)?(0,p.jsx)(ce,{className:ub.scrollToBottomButton,variant:"icon",size:"lg",onClick:()=>{rf.j.next({method:"clickButtonToScrollToBottom",args:null})},icon:(0,p.jsx)(eg.uj,{})}):null,uS=(0,D.memo)(function(e){let{enabled:t,disabled:n,onToggle:a,tooltipText:s}=e,r=g.R.useTranslate(),o=(0,D.useCallback)(e=>{a(e),g.y.tracker.info({name:"searchEnabledToggle",message:"搜索状态被更改",payload:{searchToggleReason:"user_click",enabled:e}})},[a]);return(0,p.jsx)(uC,{placement:"top",enabled:t,disabled:n,onToggle:o,icon:(0,p.jsx)(eg.U0,{}),tooltipText:s,text:r("search"),style:{transform:"translateZ(0)"}})}),uE=()=>{let e=(0,K.zy)();return!!(0,nl.B6)(nc.ROOT,e.pathname)},ux=(0,D.memo)(function(e){let{placeholder:t,status:n,onChange:a,onSubmit:s,onStop:r,onRequestHistoryValue:o,value:i,textareaProps:l,componentRef:c,fileBelongInfo:d,className:u,routeType:h}=e,m=g.y.useIsDebug(),[f,C]=(0,D.useState)(!1),[v,b]=(0,D.useState)(!1),_=(0,D.useRef)(null),S=(0,D.useRef)(null),E=ut(),x=(0,T.ER)(),{thinkingEnabled:y,searchEnabled:w,setThinkingEnabled:I,setSearchEnabled:A}=sY(),j=nR.getFeature("allow_file_with_search",!1);g.y.storageHandles.searchEnabledStorageHandle.useState();let k=E.hooks.useIsMaxCount(d),M=E.hooks.useFilesTokenCount(d),R=E.hooks.useIsAllReady(d),N=E.hooks.useIsAllSettled(d),O=E.hooks.useIsContainFilesRequireDelete(d),L=E.hooks.useFilesCountScale(d),F=uE(),B=x.hooks.useBranchAndProcessingFilesTokenCount(d),V=x.hooks.useIsProcessingTokenCountExceeded(d,{thinkingEnabled:y}),H=x.hooks.useIsFirstCompletion(d),U=x.hooks.useMaxTokenNewFilesAllowed(d,{thinkingEnabled:y}),W="empty"!==L&&!j,z=(e=>{let{isAllFilesParsed:t,isContainFilesRequireDelete:n,tokenCountState:a,inputValue:s,chatStatus:r,isMobile:o}=e,[i,l]=(0,D.useState)("none"),c=g.R.useTranslate(),d=!t,u=!s.trim().length&&"empty"===a.filesCountScale,h=!(d||n)&&!a.isFirstCompletion&&a.currentExceeded&&"single"===a.filesCountScale,p=(0,D.useRef)(i);p.current=i,(0,D.useEffect)(()=>{d&&"user"!==p.current&&l("none"),!d&&h&&l("system")},[h,d]);let m=(()=>{if(o&&r!==T.wG.idle)return null;if(r===T.wG.receiving)return c("chatInputStopButtonTooltip");if(d)return c("uploadingFiles");if(n)return c("uploadFileDeleteInvalidFilePrompt");let e=(()=>{if(!a.currentExceeded)return null;let{filesCountScale:e,maxTokenNewFilesAllowed:t,filesTokenCount:n}=a;return"multi"!==e?null:t<=0?c("uploadMultipleFileTokenCountExceededPrompt2"):c("uploadMultipleFileTokenCountExceededPrompt")(Math.max(1,Math.floor(t/n*100))+"")})();return e||(h?c("chatInputNewChatButtonTooltip"):o?null:u&&r===T.wG.idle?c("chatInputEmptyPromptButtonTooltip"):null)})(),f="none"!==i&&!!m||o;return{tipText:m,isShowTip:f||void 0,shouldOpenNewChat:h,onTryToSubmit:()=>l("user"),onTriggerClear:()=>l("none")}})({isAllFilesParsed:N,isContainFilesRequireDelete:O,tokenCountState:{currentExceeded:V,filesCountScale:L,isFirstCompletion:H,maxTokenNewFilesAllowed:U,filesTokenCount:M},inputValue:i,chatStatus:n,isMobile:g.y.isMobile}),{shouldOpenNewChat:G}=z,{isComposingRef:K,onCompositionStart:Q,onCompositionEnd:Y}=lG(),X=(0,D.useRef)(null),J=n===T.wG.verifying,{couldSubmit:$,submitOrStopButtonUsable:et}=(e=>{let{files:t,status:n,textEmpty:a,currentExceeded:s}=e,r=n!==T.wG.verifying&&(n===T.wG.receiving||("multi"!==t.filesCountScale||!s)&&!!t.isAllReady&&(!t.isEmpty||!a));return{couldSubmit:!!r&&(t.isEmpty?!a:t.isAllReady),submitOrStopButtonUsable:r}})({status:n,textEmpty:0===i.trim().length,currentExceeded:V,files:{containFilesRequireDelete:O||"multi"===L&&V,isAllReady:R,isEmpty:"empty"===L,isMaxCount:k,filesCountScale:L}}),en=g.R.useTranslate(),ea=(0,D.useCallback)(e=>{n===T.wG.idle&&$?s(i.trim(),{newChat:G,thinkingEnabled:y,searchEnabled:w}):"enter"===e&&z.onTryToSubmit()},[n,$,s,G,z,i,y,w]),es=n===T.wG.idle?"send":n===T.wG.verifying?"loading":"stop";(0,D.useImperativeHandle)(c,()=>({focus:()=>{var e,t,n,a;null==(e=X.current)||e.focus(),null==(a=X.current)||a.setSelectionRange((null==(t=X.current)?void 0:t.value.length)||0,(null==(n=X.current)?void 0:n.value.length)||0)}}),[]),((e,t,n)=>{let{disable:a,thinkingEnabled:s}=n,r=ut(),o=(0,eZ.dj)(),i=g.R.useTranslate(),l=(0,D.useCallback)(async e=>{var n;let l,c,d,u;if(a)return;let h=null==(n=e.clipboardData)?void 0:n.items;if(!h||(c=(l=Array.from(h)).some(e=>"text/plain"===e.type),d=l.some(e=>"image/png"===e.type),u=l.some(e=>"text/rtf"===e.type),Number(c)+Number(d)+Number(u)>1)||!Array.from(h).some(e=>e.webkitGetAsEntry()||e.getAsFile()))return;e.preventDefault();let p=ul(await us(h),r.getFilesCount(t));ui(o,i,p),p.files.forEach(e=>{r.addFileAndUpload({file:e,fileBelongInfo:t,thinkingEnabled:s})})},[a,r,t,o,i,s]);(0,D.useEffect)(()=>{let t=e.current;return null==t||t.addEventListener("paste",l),()=>{null==t||t.removeEventListener("paste",l)}},[l,e])})(X,d,{disable:w&&!j,thinkingEnabled:y}),((e,t,n)=>{let{disable:a,thinkingEnabled:s}=n,r=ut(),o=(0,D.useRef)(0),i=(0,eZ.dj)(),l=g.R.useTranslate(),c=(0,D.useCallback)(()=>t(!0),[t]),d=(0,D.useCallback)(()=>t(!1),[t]),u=(0,D.useCallback)(async t=>{var n;if(a)return;o.current=0,d(),t.preventDefault();let c=null==(n=t.dataTransfer)?void 0:n.items,u=ul(await us(c),r.getFilesCount(e));ui(i,l,u),u.files.forEach(t=>{r.addFileAndUpload({file:t,fileBelongInfo:e,thinkingEnabled:s})})},[e,d,l,i,r,a,s]);(0,D.useEffect)(()=>{let e=document.body;e.addEventListener("drop",u);let t=e=>{e.preventDefault()},n=e=>{var t;let n;!(!P.nr&&(!(n=null==(t=e.dataTransfer)?void 0:t.items)||Array.from(n).every(e=>"string"===e.kind)))&&(e.preventDefault(),a||c(),o.current++)},s=e=>{e.preventDefault(),o.current--,0===o.current&&d()};return e.addEventListener("dragover",t),e.addEventListener("dragenter",n),e.addEventListener("dragleave",s),()=>{e.removeEventListener("drop",u),e.removeEventListener("dragover",t),e.removeEventListener("dragenter",n),e.removeEventListener("dragleave",s)}},[u,c,d,a])})(d,C,{disable:w&&!j,thinkingEnabled:y});let er=(0,D.useMemo)(()=>(0,p.jsx)(ua,{disabledByChatting:J||k,fileBelongInfo:d,onBeforeChooseFile:()=>z.onTriggerClear(),allowFileWithSearch:j}),[d,k,z,J,j]),eo=function(){let{containerDomRef:e,onContentResize:t,onContainerScroll:n,className:a,ScrollAreaContextProvider:s}=(0,nQ.Qh)({verticalScrollbarInsets:{leading:0,trailing:0,top:20,bottom:0},verticalScrollbarWidth:6,guttersPosition:"absolute"}),r=(0,D.useRef)(null),o=(0,D.useCallback)(e=>{e&&(e.scrollTop+e.offsetHeight+5<e.scrollHeight?e.classList.remove(d8.scrollEnd):e.classList.add(d8.scrollEnd))},[]),i=(0,ee.DK)(()=>{n(),o(e.ref.current)});return(0,D.useLayoutEffect)(()=>{let n=new nX.j(()=>{t(),o(e.ref.current)});return r.current&&n.observe(r.current),()=>n.disconnect()},[e.ref,r,t,o]),{containerDomRef:e,contentDomRef:r,onScroll:i,className:a,Provider:s}}(),ei=(0,p.jsx)(eo.Provider,{children:(0,p.jsxs)("div",{className:d8.textareaAlignWrapper,children:[(0,p.jsx)(nQ.x$,{}),(0,p.jsx)("textarea",{...l,ref:(0,nY.P)(eo.containerDomRef,X),onScroll:eo.onScroll,className:(0,Z.A)(d8.textarea,eo.className),onFocus:()=>b(!0),onBlur:()=>b(!1),placeholder:t,rows:2,value:i,readOnly:n===T.wG.verifying&&F,onChange:e=>{a(e.currentTarget.value)},onKeyDown:e=>{if(z.onTriggerClear(),!K.current){if("ArrowUp"===e.key&&!i.length){o(),e.preventDefault();return}if("Enter"===e.key&&!e.shiftKey){if(e.ctrlKey){e.preventDefault(),document.execCommand("insertText",!1,"\n");return}g.y.isMobile||(e.preventDefault(),ea("enter"))}}},onCompositionStart:Q,onCompositionEnd:Y}),(0,p.jsx)("div",{ref:eo.contentDomRef,className:d8.textareaMirror,children:i+"\n"})]})}),el=(e=>{let{filesCountScale:t,t:n,allowFileWithSearch:a}=e;return n("empty"===t||a?"deactivatedSearchTooltip":"deleteFilesToSearchTooltip")})({t:en,filesCountScale:L,enabled:w,allowFileWithSearch:j}),ec=(0,D.useMemo)(()=>(0,p.jsx)(uw,{icon:es,disabled:!et,extraTooltip:z.tipText,showNewChat:G,showTooltip:z.isShowTip,onMouseDown:e=>{var t;e.preventDefault(),null==(t=X.current)||t.focus()},onMouseLeave:()=>z.onTriggerClear(),onClick:()=>{var e;n===T.wG.receiving?r():ea("click"),null==(e=X.current)||e.focus()}}),[es,n,r,G,et,z,ea]);!function(e){let{containerRef:t}=e,n=(0,ee.DK)(()=>{let e,n=t.current;if(!n)return;let a={elements:e=[...n.getElementsByClassName(uf.text)],hide:()=>{e.forEach(e=>e.classList.add(uf.hide))},show:()=>{e.forEach(e=>e.classList.remove(uf.hide))}};a.show(),a.elements.some(e=>e.offsetHeight>parseFloat(getComputedStyle(e).lineHeight))&&a.hide()}),a=g.R.useLocale();(0,D.useLayoutEffect)(()=>{n()},[n,a]),(0,D.useEffect)(()=>{if(!t.current)return;let e=new nX.j(n);return e.observe(t.current),()=>e.disconnect()},[t,n])}({containerRef:_});let ed=(0,D.useRef)(null);return(0,p.jsxs)("div",{className:(0,Z.A)(d8.inputFullContainer,u),children:[m?(0,p.jsxs)("span",{className:d8.debugTip,children:["(debug) file token: ",M,"; all token: ",B]}):null,f?(0,q.createPortal)((0,p.jsx)(up,{}),document.body):null,(0,p.jsx)(u_,{}),(0,p.jsxs)("div",{ref:ed,className:(0,Z.A)(d8.inputWrapper,h&&d8[h],v&&"focused","empty"!==L&&d8.withFile),onMouseDown:e=>{var t,n,a,s;let r=e.target;if(!(r instanceof Node)||ed.current&&!ed.current.contains(r))return;let o=null==(t=_.current)?void 0:t.contains(r.parentNode),i=null==(n=X.current)?void 0:n.contains(r),l=null==(a=S.current)?void 0:a.contains(r);i||o||l||(e.preventDefault(),null==(s=X.current)||s.focus())},children:["empty"===L?null:(0,p.jsx)("div",{className:d8.ocrTip,children:en("onlyExtractTextFromFiles")}),(0,p.jsx)(un,{fileBelongInfo:d,onFileDelete:()=>z.onTriggerClear(),domRef:S}),(0,p.jsxs)("div",{className:d8.belowInputWrapper,children:[ei,(0,p.jsxs)("div",{className:d8.functionRow,ref:_,children:[(0,p.jsx)(uv,{enabled:y,setEnabled:I,isFileEmpty:"empty"===L}),(0,p.jsx)(uS,{enabled:w,disabled:W,onToggle:A,tooltipText:el}),(0,p.jsxs)("div",{className:d8.functionRowRightColumn,children:[er,ec]})]})]})]})]})}),uy=e=>(0,p.jsx)(ef.K,{...e,size:"l"});function uw(e){let{icon:t,disabled:n,extraTooltip:a,showNewChat:s,showTooltip:r,onClick:o,onMouseDown:i,onMouseLeave:l}=e,c=g.R.useTranslate(),d=(0,D.useMemo)(()=>"send"===t&&s?c("chatInputNewChatButton"):null,[t,s,c]),u=(0,D.useMemo)(()=>"loading"===t?(0,p.jsx)(ti.R,{}):"send"===t?(0,p.jsx)(eg.NH,{}):(0,p.jsx)(eg.uN,{}),[t]);return(0,p.jsx)(V,{disabled:!a,children:(0,p.jsx)(tx.m,{isOpen:r,renderTrigger:e=>{let{domProps:t,domRef:a}=e,s=d?th:uy;return(0,p.jsx)("div",{style:{width:"fit-content"},ref:a,children:(0,p.jsx)(s,{domProps:{...t,onMouseLeave:e=>{var n;null==(n=t.onMouseLeave)||n.call(t,e),l()},onMouseDown:i},disabled:n,"aria-disabled":n,className:(0,Z.A)(d8.sendButton,n&&d8.disabled),onClick:n?()=>{}:o,focusRingProps:{offset:2},children:d||u})})},children:a})})}function uI(e,t){T.Lo.getState().updateSession(e,e=>{e.state=t})}let uT=(0,D.memo)(function(e){let{componentRef:t,className:n}=e,a=dU(),{startCompletion:s,abortCompletion:r}=(0,T.Y_)(),o=(0,D.useRef)({setValue:()=>{}}),i=(()=>{let{createSessionAndStartCompletion:e}=(0,T.Y_)(),t=ng(),n=ut(),{tracker:a}=g.y,s=g.R.useTranslate();return async r=>{let{agentId:o,prompt:i,thinkingEnabled:l,searchEnabled:c,fileBelongInfo:d,isCreateNewChat:u,setIsSolvingChallenge:h,sessionId:p}=r;if(!o)return;let m=u&&p,g=e=>{m&&T.Lo.getState().updateSession(p,t=>{t.state=e?T.FM.SessionStateEnum.sending:T.FM.SessionStateEnum.idle})};g(!0),e({agentId:o,prompt:i,thinkingEnabled:l,searchEnabled:c,getPowRes:()=>s0({t:s,setIsSolvingChallenge:h,scene:"completion_like"}),refFileIds:n.getRefFileIds(d),eagerlyActivateSession:!0},{onCreate:e=>{let{sessionId:s}=e;a.info({name:"createSessionAndStartCompletion",message:"创建会话并开始补全",payload:{agentId:o,newSessionId:s,oldSessionId:p||null,isCreateNewChat:u?"true":"false",thinkingEnabled:l?"true":"false",searchEnabled:c?"true":"false"}}),n.removeAgentFilesAfterCreateSession(o),m&&(n.removeSessionFilesAfterCreateSession(p),T.Lo.getState().clearPrompt({sessionId:p})),g(!1),t(nc.AGENT_SESSION,{agentId:o,sessionId:s})},onSent:e=>{let{sessionId:t}=e;a.info({name:"newSessionSentCompletion",message:"创建session后第一条消息发送成功",payload:{sessionId:t}})},onUnsent:()=>{g(!1)}})}})(),l=(()=>{let{startCompletion:e}=(0,T.Y_)(),t=ng(),n=ut(),a=(0,T.zG)(),{fetchSessionHistory:s}=(0,T.GO)(),r=g.R.useTranslate(),o=(0,eZ.dj)();return async i=>{let{shareId:l,prompt:c,thinkingEnabled:d,searchEnabled:u,fileBelongInfo:h}=i,p=(0,T.aw)(l),m=T.Lo.getState();uI(p,T.FM.SessionStateEnum.sending);try{let o=await a.forkShare(l);await s(o).catch(n3.A),m.updateSession(o,e=>{e.prompt=c});try{await e({chatSessionId:o,prompt:c,refFileIds:n.getRefFileIds(h),thinkingEnabled:d,searchEnabled:u,getPowRes:()=>s0({t:r,setIsSolvingChallenge:n3.A,scene:"completion_like"})},{onSent(){n.moveFilesBelongingSession(p,o)}}),g.y.tracker.info({name:"forkShareAndChat",message:"分享对话继续聊",payload:{shareId:l,newSessionId:o,thinkingEnabled:"".concat(d),searchEnabled:"".concat(u)}})}finally{t(nc.AGENT_SESSION,{agentId:T.FM.AgentId.CHAT,sessionId:o}),m.clearPrompt({sessionId:p})}}catch(n){g.y.tracker.error({name:"forkShareAndChatError",message:"分享对话继续聊失败",payload:g.y.tracker.withError(n,{shareId:l})});let e=null;if(n&&"object"==typeof n&&"code"in n&&(e=n.code),null!==e)switch(e){case T.QQ.ForkShareErrorCode.SHARE_DOES_NOT_EXIST:t(nc.SHARE_MISSING,void 0,{replace:!0}),a.removeShareContent(l);return;case T.QQ.ForkShareErrorCode.SHARE_IS_DELETED_OR_BANNED:case T.QQ.ForkShareErrorCode.ORIGINAL_SESSION_DELETED:t(nc.SHARE_INVALID,void 0,{replace:!0}),a.removeShareContent(l);return;case T.QQ.ForkShareErrorCode.USER_IS_MUTED:}o.error(r.shareNetworkError)}finally{uI(p,T.FM.SessionStateEnum.idle)}}})(),c=(0,T.Lo)(e=>e.updateSession),d=(0,T.Lo)(e=>e.updateAgent),u="none"!==a.type?a.agentId:null,h="session"===a.type?a.sessionId:"share"===a.type?(0,T.aw)(a.shareId):void 0,m=(0,T.Lo)(e=>{var t,n;return"agent"===a.type?(null==(t=e.getAgent(a.agentId))?void 0:t.prompt)||"":h?(null==(n=e.getSession(h))?void 0:n.prompt)||"":(a.type,"")}),f=g.R.useTranslate(),C=T.rV.useChatStatus({isAgentOrSession:"none"!==a.type,sessionId:h,agentId:u}),v=ut(),b=(0,D.useMemo)(()=>({sessionId:h||null,agentId:u}),[h,u]);return(0,D.useEffect)(()=>(v.startPollingFilesInfo(b),()=>v.stopPolling()),[b,v]),(0,p.jsx)(ux,{className:n,routeType:a.type,fileBelongInfo:b,componentRef:t,value:m,onChange:e=>{switch(a.type){case"session":case"share":h&&c(h,t=>{t.prompt=e});break;case"agent":u&&d(u,t=>{t.prompt=e})}},onStop:()=>{"session"===a.type&&h&&r(h)},onSubmit:async(e,t)=>{let{newChat:n,thinkingEnabled:r,searchEnabled:o}=t;"share"===a.type?l({shareId:a.shareId,prompt:e,thinkingEnabled:r,searchEnabled:o,fileBelongInfo:b}):"agent"===a.type||n?i({agentId:u||T.FM.AgentId.CHAT,prompt:e,thinkingEnabled:r,searchEnabled:o,fileBelongInfo:b,isCreateNewChat:n,sessionId:h,setIsSolvingChallenge:n3.A}):"session"!==a.type||h&&s({chatSessionId:h,prompt:e,refFileIds:v.getRefFileIds(b),thinkingEnabled:r,searchEnabled:o,getPowRes:()=>s0({t:f,setIsSolvingChallenge:n3.A,scene:"completion_like"})})},onRequestHistoryValue:()=>{},placeholder:f("chatInputPlaceholderChat"),status:C,handle:o})});var uA=n(41727);let uj=(0,D.memo)(function(e){let{className:t}=e,n=g.R.useTranslate();return"it"===g.R.getLocale()?(0,p.jsx)(tx.m,{renderTrigger:e=>{let{domProps:n,domRef:a}=e;return(0,p.jsx)(ej.A,{href:"https://cdn.deepseek.com/policies/en-US/deepseek-terms-of-use.html?locale=it",target:"_blank",rel:"noopener noreferrer",className:(0,Z.A)(uA.contentCaveat,uA.italianCaveat,t),...n,domRef:a,children:eP})},children:"Consulta le Condizioni Generali di Utilizzo"}):(0,p.jsx)("div",{className:(0,Z.A)(uA.contentCaveat,t),children:n("contentCaveat")})});var uk=n(32238);let uM=(0,D.memo)(function(){let e=(0,T.Lo)(e=>e.muteUntil),t=(0,T.Lo)(e=>e.isMuted),n=(0,D.useRef)(null),a=(0,D.useRef)(null),s=(0,D.useContext)(cn).set,r=np(),o=T.aU.useIsShareSelecting();return(0,D.useEffect)(()=>{var e;g.y.isMobile||null==(e=n.current)||e.focus()},[r]),(0,D.useLayoutEffect)(()=>{a.current&&s(a.current.clientHeight)},[s]),(0,p.jsx)(n1,{onResize:()=>{a.current&&s(a.current.clientHeight)},forwardedRef:a,children:a=>{let{ref:s}=a;return(0,p.jsxs)("div",{className:(0,Z.A)(uk.messageInputContainer,o&&rI.hide),ref:s,children:[(0,p.jsx)("div",{className:uk.backgroundMask}),t?(0,p.jsx)(d9,{muteUntil:e}):(0,p.jsx)(uT,{componentRef:n}),(0,p.jsx)(uj,{})]})}})});var uR=n(63439);let uN=(0,D.memo)(function(e){let{onMenuClick:t}=e;(0,D.useEffect)(()=>{dz.setState({title:null})},[]);let n=(0,T.Lo)(e=>e.isMuted),a=g.R.useTranslate(),s=(0,T.Lo)(e=>e.muteUntil),r=(0,D.useRef)(null),o=(0,D.useMemo)(()=>(e=>{let t,{count:n,interval:a,onTrigger:s}=e,r=0;return()=>{r++,clearTimeout(t),r===n?(s(),r=0):t=setTimeout(()=>{r=0},a)}})({count:5,interval:2e3,onTrigger:g.y.toggleDebugPanel}),[]);return(0,D.useEffect)(()=>{var e;g.y.isMobile||null==(e=r.current)||e.focus()},[]),(0,p.jsxs)("div",{className:uR.onboardingContainer,children:[(0,p.jsx)(d$,{onMenuClick:t,className:uR.header}),(0,p.jsxs)("div",{className:uR.onboarding,children:[(0,p.jsx)("div",{className:(0,Z.A)(uR.sayHi,n&&uR.muted),children:(0,p.jsxs)("div",{className:uR.sayHiMain,onClick:o,children:[(0,p.jsx)(nS,{className:uR.logo}),a.welcomeMessageChat250808]})}),n?(0,p.jsx)(d9,{muteUntil:s,className:uR.muteAlert}):(0,p.jsx)(uT,{componentRef:r})]})]})});var uO=n(34666);let uL=e=>{let{show:t,onFinish:n,onCancel:a,onConfirm:s}=e,r=(0,eZ.dj)(),[o,i]=(0,D.useState)(!1),[l,c]=(0,D.useState)(),d=g.R.useTranslate(),[u,h]=(0,D.useState)(!1),m=(0,D.useRef)(null),f=(0,D.useRef)(null),C=()=>{let e=m.current,t=f.current;if(e&&t){let n=e.scrollLeft+e.clientWidth>=e.scrollWidth-10;t.style.display=n?"none":"block"}};(0,D.useLayoutEffect)(()=>{C()},[]);let v=(0,D.useMemo)(()=>(0,oo.A)(()=>{h(!1)},5e3),[]),b=async(e,t)=>{try{await new Promise((t,n)=>setTimeout(()=>navigator.clipboard.writeText(e).then(t,n),0)),h(!0),v(),g.y.tracker.info({name:"copyShareLinkSuccess",message:"链接复制成功",payload:{from:t}})}catch(e){g.y.tracker.error({name:"copyShareLinkError",message:"复制分享链接失败",payload:g.y.tracker.withError(e,{})}),r.warning({node:d.shareCreateLinkCopyFailed,description:"复制分享链接失败"})}},_=async()=>{i(!0);try{let e=await s();c(e),b(e,"auto")}catch{}finally{i(!1)}},S=()=>{l?n():a()};return(0,p.jsx)(en,{appear:!0,show:t,closeOnEscapeKeydown:!o,closeOnMaskClick:!o,onShowChange:S,children:(0,p.jsx)(es,{variant:"dialog",style:{width:"408px"},title:d.shareCreateLink,onClose:S,footer:l?(0,p.jsxs)("div",{className:uO.linkLine,children:[(0,p.jsx)("div",{ref:m,className:uO.linkContainer,onScroll:C,children:(0,p.jsx)("span",{className:uO.link,children:l})}),(0,p.jsx)("div",{style:{position:"relative",zIndex:1},children:(0,p.jsxs)(th,{variant:"primary",disabled:u,onClick:()=>b(l,"click"),style:{userSelect:"none",zIndex:"unset",opacity:1,...u?{background:"var(--dsw-alias-button-primary-dimmed)"}:{}},icon:(0,p.jsx)(ez.I,{size:14,children:u?(0,p.jsx)(eg.rB,{}):(0,p.jsx)(eg.sS,{})}),children:[(0,p.jsx)("div",{className:uO.mask,ref:f}),u?d.shareCreateLinkCopied:d.shareCreateLinkCopy]})})]}):(0,p.jsx)(th,{variant:"primary",size:"xl",onClick:_,loading:o,disabled:o,children:d.shareCreateLinkButton}),children:(0,p.jsx)("div",{children:d.shareCreateLinkInform})})})};var uF=n(3330);let uP=()=>{let e=np(),t=(0,T.Lo)(t=>{let n=e&&t.getSession(e);return!n||n.state===T.FM.SessionStateEnum.fetchingHistory||n.state===T.FM.SessionStateEnum.idleWithNoHistory}),n=(0,T.zG)(),[a,s]=(0,D.useState)(!1),r=(0,D.useRef)(!1),o=g.R.useTranslate(),i=T.aU.useSelectedMessagesCount(e),l=0===T.aU.useSelectableMessageIds(e).length,c=T.aU.useIsAllSelected()&&i>0,d=Math.floor(i/2),u=800>rk(),h=rk()>=640&&!t,m=()=>{e&&(r.current||c||(g.y.tracker.info({name:"clickSelectAll",message:"点击全选checkbox",payload:{sessionId:e}}),r.current=!0),n.toggleAllMessagesSelection())},f=()=>{g.y.tracker.info({name:"clickCancelShareSelect",message:"点击取消分享",payload:{}}),n.exitSelection()},C=async()=>{e&&i>0&&(g.y.tracker.info({name:"clickCreateShareLink",message:"点击创建分享链接",payload:{sessionId:e,selectedCount:i}}),s(!0))},v=async()=>{if(!(e&&i>0))throw Error();try{g.y.tracker.info({name:"clickConfirmCreateAndCopy",message:"点击创建并复制",payload:{sessionId:e,selectedCount:i,isAllSelected:c}});let t=n.getSelectedMessages(e),a=await n.createShare(e,t),s=nf(a);return g.y.tracker.info({name:"createShareOk",message:"创建分享链接",payload:{shareId:a,messageCount:i}}),s}catch(t){throw g.y.tracker.error({name:"createShareError",message:"创建分享链接失败",payload:g.y.tracker.withError(t,{sessionId:e})}),t}};return(0,p.jsx)(n1,{onResize:e=>{let{entry:t}=e;return requestAnimationFrame(()=>{rM(t.borderBoxSize[0].inlineSize)})},children:e=>{let{ref:t}=e;return(0,p.jsx)("div",{className:(0,Z.A)(uF.panel,u&&uF.smallView),ref:t,children:(0,p.jsxs)("div",{className:uF.content,children:[(0,p.jsx)(ld,{size:"l",variant:"bordered",disabled:l,checked:c,onChange:m,className:uF.checkbox,style:{color:"inherit"},theme:{fontSize:"inherit",gap:"12px"},children:o.shareSelectAll}),h&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"2",height:"15",viewBox:"0 0 2 15",fill:"none",style:{color:"var(--dsw-alias-border-l3)"},children:(0,p.jsx)("path",{d:"M1 0.5V14.5",stroke:"currentColor"})}),(0,p.jsx)("span",{className:uF.count,children:l?o.sharePanelNoShareable:o(1===d?"shareSingularMessageSelected":"sharePluralMessageSelected")(d)})]}),(0,p.jsxs)("div",{className:uF.actions,children:[(0,p.jsx)(th,{className:uF.cancel,variant:"outlined",onClick:f,children:o.cancel}),(0,p.jsx)(th,{variant:"primary",onClick:C,disabled:0===i,icon:(0,p.jsx)(ez.I,{size:14,children:(0,p.jsx)(eg.du,{})}),children:o.shareCreateLink})]}),(0,p.jsx)(uL,{show:a,onConfirm:v,onFinish:n.exitSelection,onCancel:()=>s(!1)})]})})}})};var uD=n(59244);let uB=(0,D.memo)(function(){let e,t,n;e=(0,K.Zp)(),t=(0,K.RQ)(nc.ROOT),(0,D.useEffect)(()=>{let n=rf.j.subscribe(n=>{"shortcutCreateNewChat"===n.method&&(g.y.tracker.info({name:"createSessionClicked",message:"点击了开启新对话按钮",payload:{position:"keyboard_shortcut"}}),t||e(nc.ROOT))});return()=>n.unsubscribe()},[e,t]);let[a,s]=(0,D.useState)(!0),r=(0,ee.SE)(np());(0,D.useEffect)(()=>{let e=()=>{var e;g.y.tracker.info({name:"printed",message:"打印页面",payload:{sessionId:null!=(e=r.current)?e:""}})};return window.addEventListener("afterprint",e),()=>window.removeEventListener("afterprint",e)},[r]),(0,d3.m)();let o=(0,D.useRef)(null),i=(0,D.useRef)(null),l=(0,D.useCallback)(()=>{var e;null==(e=o.current)||e.setCollapsed(!1)},[]),c=(n=(0,na.xM)(),nm()?"pending"===n?"pending":"no"===n?"yes":"no":"no"),d=(0,T.zG)();return(0,D.useEffect)(()=>d.subscribeIsSelecting(e=>{if(e&&(i.current&&rM(i.current.getBoundingClientRect().width),(0,is.Df)())){var t;null==(t=o.current)||t.setCollapsed(!0)}}),[d]),(0,p.jsxs)("div",{className:uD.frame,children:[(0,p.jsx)("div",{className:uD.banner,children:(0,p.jsx)(ns,{})}),(0,p.jsxs)("div",{className:uD.layout,children:["no"===c&&(0,p.jsx)(dV,{toggleHeader:s,componentRef:o}),(0,p.jsxs)("div",{className:uD.main,children:[(0,p.jsx)("div",{className:uD.messageColumn,ref:i,children:(0,p.jsx)(iT,{children:(0,p.jsx)(uV,{showHeader:a,onMenuClick:l})})}),(0,p.jsx)(rZ,{}),(0,p.jsx)(d0,{})]})]})]})}),uV=(0,D.memo)(function(e){let{onMenuClick:t,showHeader:n}=e,a=uE(),s=T.aU.useIsShareSelecting();return a?(0,p.jsx)(uN,{onMenuClick:t}):(0,p.jsx)(ro,{children:(0,p.jsxs)(ca,{children:[(0,p.jsx)(d$,{showEmpty:!n,onMenuClick:t}),(0,p.jsx)(cv,{inputNode:(0,p.jsx)(uM,{})}),s&&(0,p.jsx)(uP,{})]})})}),uH=function(e){e(window.Android&&"function"==typeof window.Android.getUserInfo?JSON.parse(window.Android.getUserInfo()):"Service not available")};var uU=n(31472),uW=n(88487);let uz="deepseek-chat",uG="__close_idb_signal",uK={idbPromise:null,set:e=>{uK.idbPromise=e},get:()=>uK.idbPromise,unset:()=>{uK.idbPromise=null}};class uq{static sendSignal(){try{let e=Math.random()+Date.now()+"";return localStorage.setItem(uG,e),g.y.tracker.info({name:"sendCloseIDBSignal",message:"发送关闭IDB信号",payload:{}}),e}catch(e){return""}}initializeListening(e){if(!this.isListening){var t;let n;this.currentSignal=(()=>{try{return localStorage.getItem(uG)||""}catch(e){return""}})(),this.unsubscribe=(t=this.currentSignal,n=n=>{n.key===uG&&n.newValue!==t&&e()},window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)),this.isListening=!0}}stopListening(){var e;this.isListening&&(null==(e=this.unsubscribe)||e.call(this),this.unsubscribe=null,this.isListening=!1)}constructor(){(0,m._)(this,"currentSignal",""),(0,m._)(this,"isListening",!1),(0,m._)(this,"unsubscribe",null)}}class uZ extends T.hU{set(){return Promise.resolve()}async get(){return null}async delete(){}dispose(){}}class uQ extends T.hU{dispose(){var e;this.signalManager.stopListening(),null==(e=this.historyIdbPromise)||e.then(e=>e.close()),uK.unset(),this.toDispose.forEach(e=>e()),this.toDispose.clear()}getHistoryIdb(){if(this.connectionTerminated||!this.historyIdbPromise){this.lastOpen=Date.now(),g.y.tracker.info({name:"idbOpen",message:"idb开启连接",payload:{}});let e=(0,uW.P2)(uz,1,{upgrade:e=>{e.createObjectStore("history-message")},blocked:(e,t)=>{g.y.tracker.info({name:"idbConnectionBlocked",message:"idb连接被阻塞",payload:{info:"cur version: ".concat(e,", blocked version: ").concat(t)}})},terminated:()=>{this.connectionTerminated=!0;let e=Date.now()-this.lastOpen;g.y.tracker.info({name:"idbConnectionTerminated",message:"IndexedDB connection terminated",payload:{duration:e}})}});this.signalManager.initializeListening(this.closeIDBOnSignal),this.historyIdbPromise=e,uK.set(e),this.connectionTerminated=!1}return this.historyIdbPromise}constructor(...e){super(...e),(0,m._)(this,"historyIdbPromise",null),(0,m._)(this,"connectionTerminated",!1),(0,m._)(this,"lastOpen",0),(0,m._)(this,"signalManager",new uq),(0,m._)(this,"toDispose",new Set),(0,m._)(this,"getTimeoutCount",0),(0,m._)(this,"closeIDBOnSignal",async()=>{let e=await this.historyIdbPromise;null==e||e.close(),uK.unset(),this.historyIdbPromise=null,this.connectionTerminated=!0,g.y.tracker.info({name:"closeIDBOnSignal",message:"收到信号，关闭indexedDB",payload:{}})}),(0,m._)(this,"set",async e=>{let{data:t,frontendVersion:n}=e;if(!(this.getTimeoutCount>=3))try{let{dispose:e,promise:a}=uY(async()=>{let e=await this.getHistoryIdb();await e.put("history-message",{...t,timestamp:(0,T.ps)(),frontendVersion:n},t.key)},3e3,()=>{g.y.tracker.error({name:"idbOperateTimeout",message:"idb.put超时",payload:{scene:"set",timeout:3e3}}),uq.sendSignal()});this.toDispose.add(e),await a}catch(e){g.y.tracker.error({name:"idbOperateError",message:"indexedDB set 出错",payload:g.y.tracker.withError(e,{scene:"set"})})}}),(0,m._)(this,"get",async e=>{let{key:t,frontendVersion:n}=e;if(this.getTimeoutCount>=3)return g.y.tracker.info({name:"idbMaxTimeoutTimes",message:"idb超时达最大次数,忽略get请求",payload:{}}),null;try{let{promise:e,dispose:a}=uY(async()=>(await this.getHistoryIdb()).get("history-message",t),3e3,()=>{g.y.tracker.error({name:"idbOperateTimeout",message:"idb.get超时",payload:{timeout:3e3,scene:"get"}}),this.getTimeoutCount++,uq.sendSignal()});this.toDispose.add(a);let s=await e;if(!s)return null;let{getGuardedFrontendVersion:r}=this.versionHelper,o=r(s.frontendVersion);if(o===n)return s;return g.y.tracker.info({name:"invalidateHistoryMessageCache",message:"淘汰不符合版本的缓存",payload:{targetFrontendVersion:n,cacheFrontendVersion:o,key:t}}),this.delete(t),null}catch(e){return g.y.tracker.error({name:"idbOperateError",message:"indexedDB get 出错",payload:g.y.tracker.withError(e,{scene:"get"})}),null}}),(0,m._)(this,"delete",async e=>{if(!(this.getTimeoutCount>=3))try{let{dispose:t,promise:n}=uY(async()=>{let t=await this.getHistoryIdb();await t.delete("history-message",e)},3e3,()=>{g.y.tracker.error({name:"idbOperateTimeout",message:"idb.delete超时",payload:{scene:"delete",timeout:3e3}}),uq.sendSignal()});this.toDispose.add(t),await n}catch(e){g.y.tracker.error({name:"idbOperateError",message:"indexedDB delete 出错",payload:g.y.tracker.withError(e,{scene:"delete"})})}})}}let uY=(e,t,n)=>{let a=!1,s=new S.c,r=e();r.finally(()=>{a=!0}),r.then(e=>s.resolve(e)),r.catch(e=>s.reject(e));let o=setTimeout(()=>{a||(n(),s.resolve(null))},t);return{dispose:()=>clearTimeout(o),promise:s.promise}},uX=(0,D.memo)(function(e){let{children:t}=e,n=u0(),a=uJ(n),s=u$(),r=u1(),o=(0,K.zy)(),i=u2();(0,D.useEffect)(()=>{let e=g.y.visibilityChange$.subscribe(e=>{e?n.resume():n.pause()});return()=>e.unsubscribe()},[n]),(0,D.useEffect)(()=>()=>r.dispose(),[r]),(0,D.useEffect)(()=>nR.onUpdate(e=>{s.updateSettings({normalHistoryAndFileTokenLimit:e.normal_history_and_file_token_limit,thinkingHistoryAndFileTokenLimit:e.r1_history_and_file_token_limit})}),[s]);let l=(0,D.useMemo)(()=>i.resumeCompletion.bind(i),[i]),c=(0,D.useMemo)(()=>({historyMessageCache:r}),[r]),d=(0,D.useMemo)(()=>({chatController:i}),[i]),u=(0,D.useMemo)(()=>({getUploadFileController:()=>a}),[a]),h=(0,D.useMemo)(()=>({getTokenCountController:()=>s}),[s]);return(0,p.jsx)(l6.Provider,{value:c,children:(0,p.jsx)(T.i0,{resumeCompletion:l,children:(0,p.jsx)(o4,{children:(0,p.jsx)(T.JA,{children:(0,p.jsx)(T.UK.Provider,{value:d,children:(0,p.jsx)(sX,{children:(0,p.jsx)(n5,{children:(0,p.jsx)(T.pU,{location:o,children:(0,p.jsx)(ue.Provider,{value:u,children:(0,p.jsx)(T.UZ.Provider,{value:h,children:(0,p.jsx)(T.Yi,{location:o,children:(0,p.jsx)(s4,{children:t})})})})})})})})})})})})}),uJ=e=>{let t=(0,D.useRef)(null),n=g.R.useTranslate();return t.current||(t.current=new T.Bn(()=>g.R.getLocale(),e,async(e,t)=>{let{file:a,headers:s}=e,r=await s0({t:n,setIsSolvingChallenge:()=>void 0,scene:"upload_file"});if(!r.success)throw Error("Fail to retrieve pow for upload file");let[o,i]=(0,sJ.Bx)(r.res,T.O,btoa);return(0,T.g4)({file:a,headers:{...s,[o]:i}},t)})),t.current},u$=()=>{let e=(0,D.useRef)(null);if(!e.current){let t=new T.Jg;t.updateSettings({normalHistoryAndFileTokenLimit:nR.getFeature("normal_history_and_file_token_limit",void 0),thinkingHistoryAndFileTokenLimit:nR.getFeature("r1_history_and_file_token_limit",void 0)}),e.current=t}return e.current},u1=()=>{let e=(0,D.useRef)(null);return e.current||(e.current="undefined"==typeof indexedDB||g.y.getFgByKey("enableNoIdbCache")?(g.y.getFgByKey("enableNoIdbCache")&&g.y.logger.error("IndexedDB disabled by debug panel"),new uZ):new uQ),e.current},u0=()=>{let e=(0,D.useRef)(null);return e.current||(e.current=new T.oN),e.current},u2=()=>{let e=(0,D.useRef)();return e.current||(e.current=new T.v({onSessionInvalid:e=>{let{sessionId:t,toastFn:n}=e;n(),rb(t,"sse")},onSessionUpdatedAtChange:e=>{let{sessionId:t}=e;rf.j.next({method:"adjustScrollOnSessionUpdated",args:{sessionId:t}})}})),e.current};function u3(e){let{type:t}=e,n=g.R.useTranslate(),a="missing"===t?n.shareNotFound:n.shareInvalid,s=ng();return(0,p.jsx)(nW,{description:a,fatal:!1,navigateRoot:()=>{(P.fQ||g.y.isMobile&&!P.gI)&&(window.location.href="dpsk://chat/new",P.fQ)||s(nc.ROOT)}})}var u4=n(86313),u6=n(62365);n(70826);let u5=e=>{let{cookieBanner:t,i18n:n,className:a,cookieDomain:s,onShow:r,onClose:o}=e,{settled:i,setSettled:l}=(e=>{let[t,n]=(0,D.useState)(!0);return(0,D.useEffect)(()=>{n(e.getPreferenceSettled())},[e]),{settled:t,setSettled:n}})(t);return((0,D.useEffect)(()=>{i?null==o||o():null==r||r()},[o,r,i]),i)?null:(0,p.jsxs)("div",{className:"cookie_banner-wrap ".concat(a),children:[(0,p.jsx)("div",{className:"cookie_banner-title",children:n.cookieBannerTitle}),(0,p.jsx)("div",{className:"cookie_banner-description",children:n.cookieBannerDesc}),(0,p.jsx)(eG.$,{type:"secondary",variant:"bordered",className:"cookie_banner-accept-essential-button",theme:{textColor:"var(--dsr-text-1)",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("essential",{domain:s}),l(!0)},children:n.cookieBannerAcceptEssential}),(0,p.jsx)(eG.$,{type:"secondary",variant:"borderless",className:"cookie_banner-accept-all-button",theme:{color:"var(--dsr-main, #4D6BFE)",hoverColor:"var(--dsr-button-main-bg-hover)",textColor:"#fff",fontSize:"14px",lineHeight:"140%"},onClick:()=>{t.setAcceptLevel("all",{domain:s}),l(!0)},children:n.cookieBannerAcceptAll})]})};var u9=n(41282);n(19610);let u8="ds_cookie_preference",u7=["Hm_lpvt","Hm_lvt","Hm_up","Hm_ct","Hm_cv","HMACCOUNT","HMVT"],he=["all","essential"],ht="deepseek.com",hn=e=>{let t=decodeURIComponent(e);try{let e=JSON.parse(t),n=null==e?void 0:e.level;if(he.includes(n))return{level:n,isValidValue:!0};return{level:"all",isValidValue:!1}}catch(e){return{level:"all",isValidValue:!1}}};class ha{listenLevelChange(e){return this.levelChangeListeners.add(e),()=>{this.levelChangeListeners.delete(e)}}getPreferenceSettled(){return hn(this.accessor.read(u8)||"").isValidValue}getAcceptLevel(){return hn(this.accessor.read(u8)||"").level}setAcceptLevel(e,t){let n=encodeURIComponent(JSON.stringify({level:e})),a={expires:365,domain:ht,...Object.fromEntries(Object.entries(t).filter(e=>{let[t,n]=e;return null!=n}))};this.accessor.write(u8,n,a),this.levelChangeListeners.forEach(t=>t(e))}deleteByName(e,t){let{domain:n}=t;for(let t of e(this.accessor.getAll()))this.accessor.remove(t,{domain:n||ht})}clearBaiduAnalytics(e){this.deleteByName(e=>Object.keys(e).filter(e=>u7.some(t=>e.startsWith(t))),{domain:e})}constructor(e){(0,m._)(this,"accessor",void 0),(0,m._)(this,"levelChangeListeners",new Set),this.accessor=e}}n(76408);let hs=(0,u9.$)(()=>new ha({read:u6.A.get.bind(u6.A),write:u6.A.set.bind(u6.A),remove:u6.A.remove.bind(u6.A),getAll:u6.A.get.bind(u6.A)})),hr=()=>{let e=g.y.useRegion(),t=g.R.useTranslate(),n=hs(),a=location.port.length?location.hostname:void 0;if((0,D.useEffect)(()=>{n.clearBaiduAnalytics(a)},[n,a]),!e||!ty.Ns.cookieBannerRegions.includes(e))return null;let s={cookieBannerAcceptAll:t("cookieBannerAcceptAll"),cookieBannerAcceptEssential:t("cookieBannerAcceptEssential"),cookieBannerDesc:(0,p.jsx)(ho,{str:t("cookieBannerDesc")}),cookieBannerTitle:t("cookieBannerTitle")};return(0,p.jsx)(u5,{cookieDomain:a,cookieBanner:n,i18n:s})},ho=e=>{let{str:t}=e,n=t.split(/<\/?a>/);return(0,p.jsxs)(p.Fragment,{children:[n[0],(0,p.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://cdn.deepseek.com/policies/en-US/cookies-policy.html",children:n[1]}),n[2]]})},hi=e=>({label:"".concat(e),value:"".concat(e)}),hl=async e=>{let{year:t,month:n}=e,{http:{http:a,withDefaultHttpContext:s}}=g.y,{biz_code:r}=(await a.post("/api/v0/users/set_birthday",{context:s({withToken:!0}),json:{year:t,month:n}})).json.data;return r};var hc=n(33654);let hd=()=>(0,na.XI)()?(0,p.jsx)(hu,{}):null,hu=(0,D.memo)(function(){let e=(0,na.kH)(e=>{var t;return null==(t=e.user)?void 0:t.needBirthday}),t=g.R.useTranslate(),[n,a]=(0,D.useState)(0),[s,r]=(0,D.useState)(0),o=(0,eZ.dj)(),i=c3(),[l,c]=(0,D.useState)(!1);(0,D.useEffect)(()=>{e&&g.y.tracker.info({name:"showAgeGate",message:"展示年龄门弹窗",payload:{}})},[e]);let d=!(n*s);return e?(0,p.jsx)(en,{show:!0,children:(0,p.jsxs)("div",{className:hc.wrap,children:[(0,p.jsx)("div",{className:hc.title,children:t("ageGateTitle")}),(0,p.jsx)("div",{className:hc.desc,children:t("ageGateDesc")}),(0,p.jsxs)("div",{className:hc.selects,children:[(0,p.jsx)(dv,{className:hc.select,menuWidthPolicy:"consistent",options:hm,onChange:e=>a(+e),placeholder:t("ageGateYear"),size:"l"}),(0,p.jsx)(dv,{className:hc.select,menuWidthPolicy:"consistent",options:hg,onChange:e=>r(+e),placeholder:t("ageGateMonth"),size:"l"})]}),(0,p.jsx)(th,{variant:"primary",className:hc.confirmButton,disabled:d,loading:l,onClick:async()=>{let e={year:n,month:s};c(!0);let a=await hh(e);if(c(!1),null===a)return void o.error(t("ageGateNetworkError"));let r=hp(a,e);if("ok"===r)return void na.kH.getState().updateNeedBirthday(!1);if("tooYoung"===r){o.error(t("ageGateRejectText")),i();return}if("error"===r){o.error(t("ageGetInvalidDate")),i();return}(0,T.sL)(r)},children:t("ageGateConfirm")})]})}):null}),hh=async e=>{let{year:t,month:n}=e,{tracker:a}=g.y;a.info({name:"submitBirthday",message:"提交生日信息",payload:{year:t,month:n}});try{return await hl({year:t,month:n})}catch(e){return a.error({name:"submitBirthdayFail",message:"提交生日信息失败",payload:a.withError(e,{})}),null}},hp=(e,t)=>{let{tracker:n}=g.y;try{var a=e;switch(a){case 0:return"ok";case 2:return"tooYoung";case 1:throw Error("code ".concat(a,", invalid date"));default:throw Error("unexpected code ".concat(a))}}catch(e){return n.error({name:"verifyBirthdayFail",message:"验证生日异常",payload:n.withError(e,t)}),"error"}},hm=Array.from({length:Math.max(new Date().getFullYear(),2025)-1900+1}).map((e,t)=>t+1900).sort((e,t)=>t-e).map(hi),hg=Array.from({length:12}).map((e,t)=>t+1).map(hi),hf=async()=>{if("undefined"==typeof indexedDB)return;let e=Date.now();g.y.tracker.info({name:"idbClearStart",message:"开始清除历史消息数据库",payload:{name:uz}}),uq.sendSignal();try{let t=await uK.get();t&&t.close(),await (0,uW.MR)(uz,{blocked:()=>{g.y.tracker.error({name:"idbClearError",message:"历史消息数据库清除失败",payload:{name:uz,reason:"blocked"}})}});let n=Date.now()-e;g.y.tracker.info({name:"idbClearSuccess",message:"历史消息数据库清除成功",payload:{name:uz,duration:n}})}catch(e){g.y.tracker.error({name:"idbClearError",message:"历史消息数据库清除失败",payload:g.y.tracker.withError(e,{name:uz})})}};var hC=n(75510);let hv=new T.KS({endPoints:{leim:{url:hC.KV?"https://hif-leim.deepseek.com/query":"https://hif-test.deepseek.com/query"},dliq:{url:hC.KV?"https://hif-dliq.deepseek.com/query":"https://hif-test.deepseek.com/query"}},maxBackoffMs:1e3*nR.getFeature("hif_max_retry_interval_secs",600),onRefresh:(e,t)=>{"leim"===e?hb().leim.set(t):"dliq"===e?hb().dliq.set(t):(0,T.sL)(e)}}),hb=(0,u9.$)(()=>({leim:(0,t_.l)({key:"hif_leim_cached",defaultValue:""}),dliq:(0,t_.l)({key:"hif_dliq_cached",defaultValue:""})})),h_={placement:"top"},hS=e=>(0,p.jsx)(nt,{beAuthenticated:hw,beUnauthenticated:hy,children:(0,p.jsx)(nZ,{children:(0,p.jsx)(g.y.WithToastAndNotification,{toastProviderProps:h_,children:(0,p.jsx)(ec,{children:(0,p.jsxs)(g.y.PageVisit,{children:[e,(0,p.jsx)(hr,{}),(0,p.jsx)(hd,{})]})})})})});/^\/\/+$/.test(window.location.pathname)&&history.replaceState(null,"","/");let hE=(0,G.Ys)([{path:nc.ROOT,element:hS((0,p.jsx)(uX,{children:(0,p.jsx)(uB,{})}))},{path:nc.AGENT,element:hS((0,p.jsx)(uX,{children:(0,p.jsx)(uB,{})}))},{path:nc.AGENT_SESSION,element:hS((0,p.jsx)(uX,{children:(0,p.jsx)(uB,{})}))},{path:nc.AUTHORIZED,element:hS((0,p.jsx)(function(){let e=ng(),t=(0,K.Zp)(),{beAuthenticated:n,beUnauthenticated:a}=nn();return(0,p.jsx)(no,{children:(0,p.jsx)(tY,{beAuthenticated:n,beUnauthenticated:a,directToHome:()=>{let n=sessionStorage.getItem("oauth_redirect_url");n?(sessionStorage.removeItem("oauth_redirect_url"),t(n)):"coder"===g.y.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(g.y.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),g.y.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(nc.AGENT,{agentId:T.FM.AgentId.CODER})):e(nc.ROOT)}})})},{}))},{path:nc.SIGN_UP,element:hS((0,p.jsx)(function(){let e=g.y.useIsIpLoading(),t=g.y.useRegion(),n=ng(),{beAuthenticated:a}=nn();return(0,p.jsx)(no,{children:(0,p.jsx)(nI,{children:(0,p.jsx)(tB,{icon:(0,p.jsx)("div",{className:nv.icon,children:(0,p.jsx)(nb,{})}),isIpLoading:e,regionCode:t,beAuthenticated:a,onSignUpOk:()=>{ny.current?(g.y.logger.info("从 coder 跳过来的，导航到 coder，signup"),n(nc.AGENT,{agentId:T.FM.AgentId.CODER})):(g.y.logger.info("不是从 coder 跳过来的，导航到 chat，signup"),nF(),n(nc.ROOT))},onGoToSignIn:()=>n(nc.SIGN_IN)})})})},{}))},{path:nc.SIGN_IN,element:hS((0,p.jsx)(function(){let e=ng(),t=(0,K.Zp)(),n=(0,G.ok)()[0].get("redirect"),{beAuthenticated:a}=nn(),s=g.y.useRegion(),r=nD(e=>e.forceGoogleLogin);return(0,p.jsx)(no,{children:(0,p.jsx)(nI,{children:(0,p.jsx)(ec,{children:(0,p.jsx)(tN,{beAuthenticated:a,onAfterSignInOk:()=>{ny.current?(g.y.logger.info("从 coder 跳过来的，导航到 coder"),e(nc.AGENT,{agentId:T.FM.AgentId.CODER})):n?t(n):(g.y.logger.info("不是从 coder 跳过来的，导航到 coder"),nF(),e(nc.ROOT))},onForgotPassword:()=>e(nc.FORGOT_PASSWORD),onGoToSignUp:()=>e(nc.SIGN_UP),headerLogoNode:(0,p.jsx)(nb,{}),forceShowGoogleSignIn:r,defaultLocationOrigin:"https://chat-dev.deepseek.com",defaultLoginMethod:g.y.getLastSessionValue().loginMethod,regionCode:s,onLoginMethodChange:e=>{g.y.setLastSessionValue(t=>({...t,loginMethod:e}))},onNavigateToMobileVerification:e=>{t("/mobile_verification?provider=".concat(e))}})})})})},{}))},{path:nc.FORGOT_PASSWORD,element:hS((0,p.jsx)(function(){let e=ng();return(0,p.jsx)(no,{children:(0,p.jsx)(nI,{children:(0,p.jsx)(tG,{headerLogoNode:(0,p.jsx)(nb,{}),forgotPasswordBackToSignIn:()=>e(nc.SIGN_IN),delayedNavigate:()=>{setTimeout(()=>{e(nc.SIGN_IN)},3e3)}})})})},{}))},{path:nc.BANNED,element:hS((0,p.jsx)(function(){let e=ng();return(0,p.jsx)(no,{children:(0,p.jsx)(tX,{unavailableLogo:(0,p.jsx)(eW,{}),navigateHome:()=>e(nc.SIGN_IN)})})},{}))},{path:nc.MOBILE_VERIFICATION,element:hS((0,p.jsx)(function(){let e=ng(),{beAuthenticated:t,beUnauthenticated:n}=nn();return(0,p.jsx)(nI,{children:(0,p.jsx)(no,{children:(0,p.jsx)(t2,{headerLogoNode:(0,p.jsx)(nb,{}),beAuthenticated:t,beUnauthenticated:n,onGoToSignIn:()=>e(nc.SIGN_IN),directToHome:()=>{"coder"===g.y.storageHandles.targetBeforeOauthLoginStorageHandle.get()?(g.y.logger.info("oauth 登录之前从 coder 跳过来的，导航到 coder"),g.y.storageHandles.targetBeforeOauthLoginStorageHandle.set("chat"),e(nc.AGENT,{agentId:T.FM.AgentId.CODER})):e(nc.ROOT)}})})})},{}))},{path:nc.FEEDBACK,element:hS((0,p.jsx)(function(){let[e,t]=(0,D.useState)("");return(0,D.useEffect)(()=>(uH(e=>{"string"==typeof e?t(e):window.location.href="https://trtgsjkv6r.feishu.cn/share/base/form/shrcnhcHE4A6lQaQ3v0raCXmBAg"}),()=>{}),[]),(0,p.jsx)("div",{className:uU.content,children:e||(0,p.jsx)("div",{className:uU.loadingWrapper,children:(0,p.jsx)(ti.R,{size:40})})})},{}))},{path:nc.SHARE,element:hS((0,p.jsx)(uX,{children:(0,p.jsx)(uB,{})}))},{path:nc.SHARE_MISSING,element:hS((0,p.jsx)(u3,{type:"missing"}))},{path:nc.SHARE_INVALID,element:hS((0,p.jsx)(u3,{type:"invalid"}))},{path:"*",element:(0,p.jsx)(K.C5,{to:nc.ROOT})}],{basename:void 0});function hx(e,t){return function(e){let{path:t,location:n,navigate:a,params:s}=e;if(t===g.y.resolvePathRelativeToPublicPath(n.pathname))return!1;if(s){let e=t;for(let t in s){let n=s[t];void 0!==n&&(e=e.replace(":".concat(t),n)),a(e)}}else a(t);return!0}({path:e,location:hE.state.location,navigate:hE.navigate,params:t})}function hy(e){let{navigateToSignIn:t,isBanned:n}=e;g.y.logger.info("身份失效，navigateToSignIn: ".concat(t)),hv.stop(),hf(),g.y.setStorageUserToken(null),s$.clearAllPow(),na.kH.getState().reset(),na.kH.getState().settlePending(),T.np.getState().onUnauthenticated(),T.Lo.getState().onUnauthenticated(),T.Oc.getState().abortAllUpload(),T.Oc.getState().clear(),u4.N.clearUserUniqueId(),t&&hx(n?nc.BANNED:nc.SIGN_IN)}function hw(e){var t;let n,a,s;hv.start(),u4.N.setUserUniqueId(e.id),e.token&&g.y.setStorageUserToken(e.token),na.kH.getState().setUser(e),na.kH.getState().settlePending(),T.Lo.getState().setMuted(e.chat),e.featureGates,b({userId:e.id,email:e.email,mobile:e.mobile}),P.Mf&&(t={token:e.token},n=document.createElement("a"),a=new URLSearchParams(t),s=t?"?".concat(a.toString()):"",n.href="deepseek://".concat("chatSignIn").concat(s),n.style.position="fixed",n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n))}let hI=e=>{let{name:t,props:a}=e,[s,r]=(0,D.useState)(null);return((0,D.useEffect)(()=>{let e=!0;return Promise.resolve(n.e("66419").then(n.bind(n,10782)).then(e=>e.i[t])).then(t=>{e&&r(t||(()=>null))}).catch(e=>{g.y.logger.warn("load dynamic component error",e)}),()=>{e=!1}},[t]),s)?(0,p.jsx)(s,{...a}):null},hT="undefined"!=typeof navigator&&!!(navigator.userAgent.toLowerCase().includes("electron")||window&&"process"in window&&"renderer"===Object(window.process).type),hA="undefined"!=typeof navigator&&(navigator.userAgent.includes("Tauri")||"__TAURI__"in window&&void 0!==window.__TAURI__),hj=()=>{let e=g.R.useTranslate(),[t,n]=g.y.storageHandles.closeUnsafeEnvWarnStorageHandle.useState();return!t&&(hT||hA)?(0,p.jsx)(en,{show:!0,children:(0,p.jsx)(es,{onClose:()=>n(!0),title:e("usageEnvUnsafeTitle"),children:e("usageEnvUnsafeWarn")})}):null};var hk=n(39169);let hM=()=>{P.tR&&P.nr||(document.body.style.cssText="--app-height: ".concat(window.innerHeight,"px;"))};function hR(){return hO(g.y.resolvePathRelativeToPublicPath(hE.state.location.pathname))}function hN(e){var t,n;return null==(t=nd[null==(n=e.matches[0])?void 0:n.route.path])?void 0:t.public}function hO(e){return e in nd&&nd[e].isLogoutOnly}let hL={lang:"abap",loader:()=>n.e("97548").then(n.t.bind(n,76775,19)).then(()=>{ak.push("abap")})},hF={lang:"abnf",loader:()=>n.e("97548").then(n.t.bind(n,16410,19)).then(()=>{ak.push("abnf")})},hP={lang:"actionscript",loader:async()=>(await mF.loader(),n.e("97548").then(n.t.bind(n,26924,19)).then(()=>{ak.push("actionscript")}))},hD={lang:"ada",loader:()=>n.e("97548").then(n.t.bind(n,83541,19)).then(()=>{ak.push("ada")})},hB={lang:"agda",loader:()=>n.e("97548").then(n.t.bind(n,50914,19)).then(()=>{ak.push("agda")})},hV={lang:"al",loader:()=>n.e("97548").then(n.t.bind(n,18176,19)).then(()=>{ak.push("al")})},hH={lang:"antlr4",loader:()=>n.e("97548").then(n.t.bind(n,72628,19)).then(()=>{ak.push("antlr4")})},hU={lang:"apacheconf",loader:()=>n.e("97548").then(n.t.bind(n,43049,19)).then(()=>{ak.push("apacheconf")})},hW={lang:"apex",loader:()=>n.e("97548").then(n.t.bind(n,19749,19)).then(()=>{ak.push("apex")})},hz={lang:"apl",loader:()=>n.e("97548").then(n.t.bind(n,59606,19)).then(()=>{ak.push("apl")})},hG={lang:"applescript",loader:()=>n.e("97548").then(n.t.bind(n,44922,19)).then(()=>{ak.push("applescript")})},hK={lang:"aql",loader:()=>n.e("97548").then(n.t.bind(n,55395,19)).then(()=>{ak.push("aql")})},hq={lang:"arduino",loader:async()=>(await pw.loader(),n.e("97548").then(n.t.bind(n,61089,19)).then(()=>{ak.push("arduino")}))},hZ={lang:"arff",loader:()=>n.e("97548").then(n.t.bind(n,62946,19)).then(()=>{ak.push("arff")})},hQ={lang:"armasm",loader:()=>n.e("97548").then(n.t.bind(n,73836,19)).then(()=>{ak.push("armasm")})},hY={lang:"arturo",loader:()=>n.e("97548").then(n.t.bind(n,68410,19)).then(()=>{ak.push("arturo")})},hX={lang:"asciidoc",loader:()=>n.e("97548").then(n.t.bind(n,1366,19)).then(()=>{ak.push("asciidoc")})},hJ={lang:"asm6502",loader:()=>n.e("32549").then(n.t.bind(n,47893,19)).then(()=>{ak.push("asm6502")})},h$={lang:"asmatmel",loader:()=>n.e("97548").then(n.t.bind(n,91821,19)).then(()=>{ak.push("asmatmel")})},h1={lang:"aspnet",loader:async()=>(await gi.loader(),n.e("97548").then(n.t.bind(n,7978,19)).then(()=>{ak.push("aspnet")}))},h0={lang:"autohotkey",loader:()=>n.e("97548").then(n.t.bind(n,99416,19)).then(()=>{ak.push("autohotkey")})},h2={lang:"autoit",loader:()=>n.e("97548").then(n.t.bind(n,52287,19)).then(()=>{ak.push("autoit")})},h3={lang:"avisynth",loader:()=>n.e("97548").then(n.t.bind(n,59069,19)).then(()=>{ak.push("avisynth")})},h4={lang:"avro_idl",loader:()=>n.e("97548").then(n.t.bind(n,23687,19)).then(()=>{ak.push("avro_idl")})},h6={lang:"awk",loader:()=>n.e("97548").then(n.t.bind(n,4320,19)).then(()=>{ak.push("awk")})},h5={lang:"bash",loader:()=>n.e("32549").then(n.t.bind(n,24227,19)).then(()=>{ak.push("bash")})},h9={lang:"basic",loader:()=>n.e("97548").then(n.t.bind(n,11075,19)).then(()=>{ak.push("basic")})},h8={lang:"batch",loader:()=>n.e("97548").then(n.t.bind(n,58497,19)).then(()=>{ak.push("batch")})},h7={lang:"bbcode",loader:()=>n.e("97548").then(n.t.bind(n,47116,19)).then(()=>{ak.push("bbcode")})},pe={lang:"bbj",loader:()=>n.e("97548").then(n.t.bind(n,91727,19)).then(()=>{ak.push("bbj")})},pt={lang:"bicep",loader:()=>n.e("97548").then(n.t.bind(n,61790,19)).then(()=>{ak.push("bicep")})},pn={lang:"birb",loader:async()=>(await pf.loader(),n.e("97548").then(n.t.bind(n,57288,19)).then(()=>{ak.push("birb")}))},pa={lang:"bison",loader:async()=>(await pd.loader(),n.e("97548").then(n.t.bind(n,37714,19)).then(()=>{ak.push("bison")}))},ps={lang:"bnf",loader:()=>n.e("97548").then(n.t.bind(n,71383,19)).then(()=>{ak.push("bnf")})},pr={lang:"bqn",loader:()=>n.e("97548").then(n.t.bind(n,41468,19)).then(()=>{ak.push("bqn")})},po={lang:"brainfuck",loader:()=>n.e("97548").then(n.t.bind(n,97102,19)).then(()=>{ak.push("brainfuck")})},pi={lang:"brightscript",loader:()=>n.e("97548").then(n.t.bind(n,5030,19)).then(()=>{ak.push("brightscript")})},pl={lang:"bro",loader:()=>n.e("97548").then(n.t.bind(n,28772,19)).then(()=>{ak.push("bro")})},pc={lang:"bsl",loader:()=>n.e("97548").then(n.t.bind(n,9140,19)).then(()=>{ak.push("bsl")})},pd={lang:"c",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,23948,19)).then(()=>{ak.push("c")}))},pu={lang:"cfscript",loader:async()=>(await pf.loader(),n.e("97548").then(n.t.bind(n,13751,19)).then(()=>{ak.push("cfscript")}))},ph={lang:"chaiscript",loader:async()=>(await pf.loader(),n.e("97548").then(n.t.bind(n,31007,19)).then(()=>{ak.push("chaiscript")}))},pp={lang:"cil",loader:()=>n.e("97548").then(n.t.bind(n,99885,19)).then(()=>{ak.push("cil")})},pm={lang:"cilkc",loader:()=>n.e("97548").then(n.t.bind(n,16703,19)).then(()=>{ak.push("cilkc")})},pg={lang:"cilkcpp",loader:()=>n.e("97548").then(n.t.bind(n,23631,19)).then(()=>{ak.push("cilkcpp")})},pf={lang:"clike",loader:()=>n.e("32549").then(n.t.bind(n,41911,19)).then(()=>{ak.push("clike")})},pC={lang:"clojure",loader:()=>n.e("32549").then(n.t.bind(n,27173,19)).then(()=>{ak.push("clojure")})},pv={lang:"cmake",loader:()=>n.e("32549").then(n.t.bind(n,3794,19)).then(()=>{ak.push("cmake")})},pb={lang:"cobol",loader:()=>n.e("97548").then(n.t.bind(n,21626,19)).then(()=>{ak.push("cobol")})},p_={lang:"coffeescript",loader:async()=>(await mF.loader(),n.e("97548").then(n.t.bind(n,33998,19)).then(()=>{ak.push("coffeescript")}))},pS={lang:"concurnas",loader:()=>n.e("97548").then(n.t.bind(n,89929,19)).then(()=>{ak.push("concurnas")})},pE={lang:"cooklang",loader:()=>n.e("97548").then(n.t.bind(n,24409,19)).then(()=>{ak.push("cooklang")})},px={lang:"coq",loader:()=>n.e("97548").then(n.t.bind(n,16676,19)).then(()=>{ak.push("coq")})},py={lang:"core",loader:async()=>(await pM.loader(),n.e("97548").then(n.t.bind(n,4902,19)).then(()=>{ak.push("core")}))},pw={lang:"cpp",loader:async()=>(await pd.loader(),n.e("32549").then(n.t.bind(n,40660,19)).then(()=>{ak.push("cpp")}))},pI={lang:"crystal",loader:async()=>(await fh.loader(),n.e("97548").then(n.t.bind(n,88559,19)).then(()=>{ak.push("crystal")}))},pT={lang:"csharp",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,9066,19)).then(()=>{ak.push("csharp")}))},pA={lang:"cshtml",loader:async()=>(await Promise.all([gi.loader(),pT.loader()]),n.e("97548").then(n.t.bind(n,52994,19)).then(()=>{ak.push("cshtml")}))},pj={lang:"csp",loader:()=>n.e("97548").then(n.t.bind(n,53047,19)).then(()=>{ak.push("csp")})},pk={lang:"css_extras",loader:()=>n.e("97548").then(n.t.bind(n,35480,19)).then(()=>{ak.push("css_extras")})},pM={lang:"css",loader:()=>n.e("97548").then(n.t.bind(n,75318,19)).then(()=>{ak.push("css")})},pR={lang:"csv",loader:()=>n.e("97548").then(n.t.bind(n,4753,19)).then(()=>{ak.push("csv")})},pN={lang:"cue",loader:()=>n.e("97548").then(n.t.bind(n,67602,19)).then(()=>{ak.push("cue")})},pO={lang:"cypher",loader:()=>n.e("97548").then(n.t.bind(n,24110,19)).then(()=>{ak.push("cypher")})},pL={lang:"d",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,69461,19)).then(()=>{ak.push("d")}))},pF={lang:"dart",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,86284,19)).then(()=>{ak.push("dart")}))},pP={lang:"dataweave",loader:()=>n.e("97548").then(n.t.bind(n,17651,19)).then(()=>{ak.push("dataweave")})},pD={lang:"dax",loader:()=>n.e("97548").then(n.t.bind(n,11528,19)).then(()=>{ak.push("dax")})},pB={lang:"dhall",loader:()=>n.e("97548").then(n.t.bind(n,37345,19)).then(()=>{ak.push("dhall")})},pV={lang:"diff",loader:()=>n.e("97548").then(n.t.bind(n,86454,19)).then(()=>{ak.push("diff")})},pH={lang:"django",loader:async()=>(await go.loader(),n.e("97548").then(n.t.bind(n,41330,19)).then(()=>{ak.push("django")}))},pU={lang:"dns_zone_file",loader:()=>n.e("97548").then(n.t.bind(n,29604,19)).then(()=>{ak.push("dns_zone_file")})},pW={lang:"docker",loader:()=>n.e("32549").then(n.t.bind(n,67733,19)).then(()=>{ak.push("docker")})},pz={lang:"dot",loader:()=>n.e("97548").then(n.t.bind(n,16766,19)).then(()=>{ak.push("dot")})},pG={lang:"ebnf",loader:()=>n.e("81800").then(n.t.bind(n,76118,19)).then(()=>{ak.push("ebnf")})},pK={lang:"editorconfig",loader:()=>n.e("81800").then(n.t.bind(n,37970,19)).then(()=>{ak.push("editorconfig")})},pq={lang:"eiffel",loader:()=>n.e("81800").then(n.t.bind(n,61766,19)).then(()=>{ak.push("eiffel")})},pZ={lang:"ejs",loader:async()=>(await go.loader(),n.e("81800").then(n.t.bind(n,83629,19)).then(()=>{ak.push("ejs")}))},pQ={lang:"elixir",loader:()=>n.e("81800").then(n.t.bind(n,88234,19)).then(()=>{ak.push("elixir")})},pY={lang:"elm",loader:()=>n.e("81800").then(n.t.bind(n,46837,19)).then(()=>{ak.push("elm")})},pX={lang:"erb",loader:async()=>(await go.loader(),n.e("81800").then(n.t.bind(n,92950,19)).then(()=>{ak.push("erb")}))},pJ={lang:"erlang",loader:()=>n.e("32549").then(n.t.bind(n,30830,19)).then(()=>{ak.push("erlang")})},p$={lang:"etlua",loader:async()=>(await go.loader(),n.e("81800").then(n.t.bind(n,64600,19)).then(()=>{ak.push("etlua")}))},p1={lang:"excel_formula",loader:()=>n.e("81800").then(n.t.bind(n,1629,19)).then(()=>{ak.push("excel_formula")})},p0={lang:"factor",loader:()=>n.e("81800").then(n.t.bind(n,19666,19)).then(()=>{ak.push("factor")})},p2={lang:"false",loader:()=>n.e("81800").then(n.t.bind(n,3098,19)).then(()=>{ak.push("false")})},p3={lang:"firestore_security_rules",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,949,19)).then(()=>{ak.push("firestore_security_rules")}))},p4={lang:"flow",loader:async()=>(await mF.loader(),n.e("81800").then(n.t.bind(n,22065,19)).then(()=>{ak.push("flow")}))},p6={lang:"fortran",loader:()=>n.e("32549").then(n.t.bind(n,37935,19)).then(()=>{ak.push("fortran")})},p5={lang:"fsharp",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,82079,19)).then(()=>{ak.push("fsharp")}))},p9={lang:"ftl",loader:async()=>(await go.loader(),n.e("81800").then(n.t.bind(n,39951,19)).then(()=>{ak.push("ftl")}))},p8={lang:"gap",loader:()=>n.e("81800").then(n.t.bind(n,30173,19)).then(()=>{ak.push("gap")})},p7={lang:"gcode",loader:()=>n.e("81800").then(n.t.bind(n,1349,19)).then(()=>{ak.push("gcode")})},me={lang:"gdscript",loader:()=>n.e("81800").then(n.t.bind(n,70069,19)).then(()=>{ak.push("gdscript")})},mt={lang:"gedcom",loader:()=>n.e("81800").then(n.t.bind(n,88372,19)).then(()=>{ak.push("gedcom")})},mn={lang:"gettext",loader:()=>n.e("81800").then(n.t.bind(n,85978,19)).then(()=>{ak.push("gettext")})},ma={lang:"gherkin",loader:()=>n.e("81800").then(n.t.bind(n,45059,19)).then(()=>{ak.push("gherkin")})},ms={lang:"git",loader:()=>n.e("81800").then(n.t.bind(n,70465,19)).then(()=>{ak.push("git")})},mr={lang:"glsl",loader:async()=>(await pd.loader(),n.e("32549").then(n.t.bind(n,26909,19)).then(()=>{ak.push("glsl")}))},mo={lang:"gml",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,14469,19)).then(()=>{ak.push("gml")}))},mi={lang:"gn",loader:()=>n.e("81800").then(n.t.bind(n,14012,19)).then(()=>{ak.push("gn")})},ml={lang:"go_module",loader:()=>n.e("81800").then(n.t.bind(n,70060,19)).then(()=>{ak.push("go_module")})},mc={lang:"go",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,36595,19)).then(()=>{ak.push("go")}))},md={lang:"gradle",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,82194,19)).then(()=>{ak.push("gradle")}))},mu={lang:"graphql",loader:()=>n.e("81800").then(n.t.bind(n,9228,19)).then(()=>{ak.push("graphql")})},mh={lang:"groovy",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,7111,19)).then(()=>{ak.push("groovy")}))},mp={lang:"haml",loader:()=>n.e("81800").then(n.t.bind(n,23535,19)).then(()=>{ak.push("haml")})},mm={lang:"handlebars",loader:async()=>(await go.loader(),n.e("81800").then(n.t.bind(n,25597,19)).then(()=>{ak.push("handlebars")}))},mg={lang:"haskell",loader:()=>n.e("32549").then(n.t.bind(n,37749,19)).then(()=>{ak.push("haskell")})},mf={lang:"haxe",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,92405,19)).then(()=>{ak.push("haxe")}))},mC={lang:"hcl",loader:()=>n.e("81800").then(n.t.bind(n,70737,19)).then(()=>{ak.push("hcl")})},mv={lang:"hlsl",loader:async()=>(await pd.loader(),n.e("81800").then(n.t.bind(n,74410,19)).then(()=>{ak.push("hlsl")}))},mb={lang:"hoon",loader:()=>n.e("81800").then(n.t.bind(n,39121,19)).then(()=>{ak.push("hoon")})},m_={lang:"hpkp",loader:()=>n.e("81800").then(n.t.bind(n,12322,19)).then(()=>{ak.push("hpkp")})},mS={lang:"hsts",loader:()=>n.e("81800").then(n.t.bind(n,23221,19)).then(()=>{ak.push("hsts")})},mE={lang:"http",loader:()=>n.e("81800").then(n.t.bind(n,85801,19)).then(()=>{ak.push("http")})},mx={lang:"ichigojam",loader:()=>n.e("81800").then(n.t.bind(n,27134,19)).then(()=>{ak.push("ichigojam")})},my={lang:"icon",loader:()=>n.e("81800").then(n.t.bind(n,46124,19)).then(()=>{ak.push("icon")})},mw={lang:"icu_message_format",loader:()=>n.e("81800").then(n.t.bind(n,96594,19)).then(()=>{ak.push("icu_message_format")})},mI={lang:"idris",loader:async()=>(await mg.loader(),n.e("81800").then(n.t.bind(n,68872,19)).then(()=>{ak.push("idris")}))},mT={lang:"iecst",loader:()=>n.e("81800").then(n.t.bind(n,24949,19)).then(()=>{ak.push("iecst")})},mA={lang:"ignore",loader:()=>n.e("81800").then(n.t.bind(n,16423,19)).then(()=>{ak.push("ignore")})},mj={lang:"inform7",loader:()=>n.e("81800").then(n.t.bind(n,30827,19)).then(()=>{ak.push("inform7")})},mk={lang:"ini",loader:()=>n.e("81800").then(n.t.bind(n,72951,19)).then(()=>{ak.push("ini")})},mM={lang:"io",loader:()=>n.e("81800").then(n.t.bind(n,88893,19)).then(()=>{ak.push("io")})},mR={lang:"j",loader:()=>n.e("81800").then(n.t.bind(n,90971,19)).then(()=>{ak.push("j")})},mN={lang:"java",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,61121,19)).then(()=>{ak.push("java")}))},mO={lang:"javadoc",loader:async()=>(await mL.loader(),n.e("81800").then(n.t.bind(n,1587,19)).then(()=>{ak.push("javadoc")}))},mL={lang:"javadoclike",loader:()=>n.e("81800").then(n.t.bind(n,48160,19)).then(()=>{ak.push("javadoclike")})},mF={lang:"javascript",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,56762,19)).then(()=>{ak.push("javascript")}))},mP={lang:"javastacktrace",loader:()=>n.e("81800").then(n.t.bind(n,74732,19)).then(()=>{ak.push("javastacktrace")})},mD={lang:"jexl",loader:()=>n.e("81800").then(n.t.bind(n,45376,19)).then(()=>{ak.push("jexl")})},mB={lang:"jolie",loader:async()=>(await pf.loader(),n.e("81800").then(n.t.bind(n,60354,19)).then(()=>{ak.push("jolie")}))},mV={lang:"jq",loader:()=>n.e("81800").then(n.t.bind(n,75704,19)).then(()=>{ak.push("jq")})},mH={lang:"js_extras",loader:()=>n.e("81800").then(n.t.bind(n,928,19)).then(()=>{ak.push("js_extras")})},mU={lang:"js_templates",loader:()=>n.e("81800").then(n.t.bind(n,78620,19)).then(()=>{ak.push("js_templates")})},mW={lang:"jsdoc",loader:async()=>(await mL.loader(),n.e("81800").then(n.t.bind(n,92354,19)).then(()=>{ak.push("jsdoc")}))},mz={lang:"json",loader:()=>n.e("32549").then(n.t.bind(n,88791,19)).then(()=>{ak.push("json")})},mG={lang:"json5",loader:async()=>(await mz.loader(),n.e("81800").then(n.t.bind(n,10192,19)).then(()=>{ak.push("json5")}))},mK={lang:"jsonp",loader:async()=>(await mz.loader(),n.e("81800").then(n.t.bind(n,63939,19)).then(()=>{ak.push("jsonp")}))},mq={lang:"jsstacktrace",loader:()=>n.e("81800").then(n.t.bind(n,20391,19)).then(()=>{ak.push("jsstacktrace")})},mZ={lang:"jsx",loader:async()=>(await gi.loader(),n.e("32549").then(n.t.bind(n,60144,19)).then(()=>{ak.push("jsx")}))},mQ={lang:"julia",loader:()=>n.e("32549").then(n.t.bind(n,3076,19)).then(()=>{ak.push("julia")})},mY={lang:"keepalived",loader:()=>n.e("81800").then(n.t.bind(n,47335,19)).then(()=>{ak.push("keepalived")})},mX={lang:"keyman",loader:()=>n.e("81800").then(n.t.bind(n,51924,19)).then(()=>{ak.push("keyman")})},mJ={lang:"kotlin",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,18712,19)).then(()=>{ak.push("kotlin")}))},m$={lang:"kumir",loader:()=>n.e("81800").then(n.t.bind(n,57013,19)).then(()=>{ak.push("kumir")})},m1={lang:"kusto",loader:()=>n.e("81800").then(n.t.bind(n,43877,19)).then(()=>{ak.push("kusto")})},m0={lang:"latex",loader:()=>n.e("81800").then(n.t.bind(n,9221,19)).then(()=>{ak.push("latex")})},m2={lang:"latte",loader:async()=>(await Promise.all([go.loader(),gi.loader()]),n.e("81800").then(n.t.bind(n,15835,19)).then(()=>{ak.push("latte")}))},m3={lang:"less",loader:async()=>(await pM.loader(),n.e("32549").then(n.t.bind(n,16164,19)).then(()=>{ak.push("less")}))},m4={lang:"lilypond",loader:()=>n.e("81800").then(n.t.bind(n,65870,19)).then(()=>{ak.push("lilypond")})},m6={lang:"linker_script",loader:()=>n.e("81800").then(n.t.bind(n,68504,19)).then(()=>{ak.push("linker_script")})},m5={lang:"liquid",loader:async()=>(await go.loader(),n.e("81800").then(n.t.bind(n,76689,19)).then(()=>{ak.push("liquid")}))},m9={lang:"lisp",loader:()=>n.e("32549").then(n.t.bind(n,28949,19)).then(()=>{ak.push("lisp")})},m8={lang:"livescript",loader:()=>n.e("81800").then(n.t.bind(n,53908,19)).then(()=>{ak.push("livescript")})},m7={lang:"llvm",loader:()=>n.e("81800").then(n.t.bind(n,57376,19)).then(()=>{ak.push("llvm")})},ge={lang:"log",loader:async()=>(await mP.loader(),n.e("81800").then(n.t.bind(n,503,19)).then(()=>{ak.push("log")}))},gt={lang:"lolcode",loader:()=>n.e("81800").then(n.t.bind(n,31571,19)).then(()=>{ak.push("lolcode")})},gn={lang:"lua",loader:()=>n.e("32549").then(n.t.bind(n,18835,19)).then(()=>{ak.push("lua")})},ga={lang:"magma",loader:()=>n.e("27390").then(n.t.bind(n,43632,19)).then(()=>{ak.push("magma")})},gs={lang:"makefile",loader:()=>n.e("32549").then(n.t.bind(n,44173,19)).then(()=>{ak.push("makefile")})},gr={lang:"markdown",loader:async()=>(await gi.loader(),n.e("32549").then(n.t.bind(n,61236,19)).then(()=>{ak.push("markdown")}))},go={lang:"markup_templating",loader:()=>n.e("32549").then(n.t.bind(n,96039,19)).then(()=>{ak.push("markup_templating")})},gi={lang:"markup",loader:()=>n.e("32549").then(n.t.bind(n,1357,19)).then(()=>{ak.push("markup")})},gl={lang:"mata",loader:()=>n.e("27390").then(n.t.bind(n,98676,19)).then(()=>{ak.push("mata")})},gc={lang:"matlab",loader:()=>n.e("32549").then(n.t.bind(n,51164,19)).then(()=>{ak.push("matlab")})},gd={lang:"maxscript",loader:()=>n.e("27390").then(n.t.bind(n,12848,19)).then(()=>{ak.push("maxscript")})},gu={lang:"mel",loader:()=>n.e("27390").then(n.t.bind(n,74512,19)).then(()=>{ak.push("mel")})},gh={lang:"mermaid",loader:()=>n.e("27390").then(n.t.bind(n,34138,19)).then(()=>{ak.push("mermaid")})},gp={lang:"metafont",loader:()=>n.e("27390").then(n.t.bind(n,45313,19)).then(()=>{ak.push("metafont")})},gm={lang:"mizar",loader:()=>n.e("27390").then(n.t.bind(n,56074,19)).then(()=>{ak.push("mizar")})},gg={lang:"mongodb",loader:async()=>(await mF.loader(),n.e("27390").then(n.t.bind(n,93079,19)).then(()=>{ak.push("mongodb")}))},gf={lang:"monkey",loader:()=>n.e("27390").then(n.t.bind(n,32292,19)).then(()=>{ak.push("monkey")})},gC={lang:"moonscript",loader:()=>n.e("27390").then(n.t.bind(n,267,19)).then(()=>{ak.push("moonscript")})},gv={lang:"n1ql",loader:()=>n.e("27390").then(n.t.bind(n,31693,19)).then(()=>{ak.push("n1ql")})},gb={lang:"n4js",loader:async()=>(await mF.loader(),n.e("27390").then(n.t.bind(n,81092,19)).then(()=>{ak.push("n4js")}))},g_={lang:"nand2tetris_hdl",loader:()=>n.e("27390").then(n.t.bind(n,32138,19)).then(()=>{ak.push("nand2tetris_hdl")})},gS={lang:"naniscript",loader:()=>n.e("27390").then(n.t.bind(n,53542,19)).then(()=>{ak.push("naniscript")})},gE={lang:"nasm",loader:()=>n.e("27390").then(n.t.bind(n,27772,19)).then(()=>{ak.push("nasm")})},gx={lang:"neon",loader:()=>n.e("27390").then(n.t.bind(n,89825,19)).then(()=>{ak.push("neon")})},gy={lang:"nevod",loader:()=>n.e("27390").then(n.t.bind(n,1471,19)).then(()=>{ak.push("nevod")})},gw={lang:"nginx",loader:()=>n.e("27390").then(n.t.bind(n,8197,19)).then(()=>{ak.push("nginx")})},gI={lang:"nim",loader:()=>n.e("27390").then(n.t.bind(n,66045,19)).then(()=>{ak.push("nim")})},gT={lang:"nix",loader:()=>n.e("27390").then(n.t.bind(n,56378,19)).then(()=>{ak.push("nix")})},gA={lang:"nsis",loader:()=>n.e("27390").then(n.t.bind(n,24318,19)).then(()=>{ak.push("nsis")})},gj={lang:"objectivec",loader:async()=>(await pd.loader(),n.e("32549").then(n.t.bind(n,7697,19)).then(()=>{ak.push("objectivec")}))},gk={lang:"ocaml",loader:()=>n.e("27390").then(n.t.bind(n,9505,19)).then(()=>{ak.push("ocaml")})},gM={lang:"odin",loader:()=>n.e("27390").then(n.t.bind(n,88617,19)).then(()=>{ak.push("odin")})},gR={lang:"opencl",loader:async()=>(await pd.loader(),n.e("32549").then(n.t.bind(n,24638,19)).then(()=>{ak.push("opencl")}))},gN={lang:"openqasm",loader:()=>n.e("27390").then(n.t.bind(n,68115,19)).then(()=>{ak.push("openqasm")})},gO={lang:"oz",loader:()=>n.e("27390").then(n.t.bind(n,5160,19)).then(()=>{ak.push("oz")})},gL={lang:"parigp",loader:()=>n.e("27390").then(n.t.bind(n,98228,19)).then(()=>{ak.push("parigp")})},gF={lang:"parser",loader:async()=>(await gi.loader(),n.e("27390").then(n.t.bind(n,63542,19)).then(()=>{ak.push("parser")}))},gP={lang:"pascal",loader:()=>n.e("32549").then(n.t.bind(n,67149,19)).then(()=>{ak.push("pascal")})},gD={lang:"pascaligo",loader:()=>n.e("27390").then(n.t.bind(n,67056,19)).then(()=>{ak.push("pascaligo")})},gB={lang:"pcaxis",loader:()=>n.e("27390").then(n.t.bind(n,51793,19)).then(()=>{ak.push("pcaxis")})},gV={lang:"peoplecode",loader:()=>n.e("27390").then(n.t.bind(n,45831,19)).then(()=>{ak.push("peoplecode")})},gH={lang:"perl",loader:()=>n.e("32549").then(n.t.bind(n,95500,19)).then(()=>{ak.push("perl")})},gU={lang:"php_extras",loader:()=>n.e("27390").then(n.t.bind(n,33617,19)).then(()=>{ak.push("php_extras")})},gW={lang:"php",loader:async()=>(await go.loader(),n.e("32549").then(n.t.bind(n,49049,19)).then(()=>{ak.push("php")}))},gz={lang:"phpdoc",loader:async()=>(await mL.loader(),n.e("27390").then(n.t.bind(n,86219,19)).then(()=>{ak.push("phpdoc")}))},gG={lang:"plant_uml",loader:()=>n.e("27390").then(n.t.bind(n,59819,19)).then(()=>{ak.push("plant_uml")})},gK={lang:"plsql",loader:async()=>(await fk.loader(),n.e("27390").then(n.t.bind(n,15505,19)).then(()=>{ak.push("plsql")}))},gq={lang:"powerquery",loader:()=>n.e("27390").then(n.t.bind(n,60478,19)).then(()=>{ak.push("powerquery")})},gZ={lang:"powershell",loader:()=>n.e("32549").then(n.t.bind(n,30976,19)).then(()=>{ak.push("powershell")})},gQ={lang:"processing",loader:async()=>(await pf.loader(),n.e("27390").then(n.t.bind(n,26602,19)).then(()=>{ak.push("processing")}))},gY={lang:"prolog",loader:()=>n.e("27390").then(n.t.bind(n,53938,19)).then(()=>{ak.push("prolog")})},gX={lang:"promql",loader:()=>n.e("27390").then(n.t.bind(n,27070,19)).then(()=>{ak.push("promql")})},gJ={lang:"properties",loader:()=>n.e("27390").then(n.t.bind(n,54432,19)).then(()=>{ak.push("properties")})},g$={lang:"protobuf",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,64646,19)).then(()=>{ak.push("protobuf")}))},g1={lang:"psl",loader:()=>n.e("27390").then(n.t.bind(n,21686,19)).then(()=>{ak.push("psl")})},g0={lang:"pug",loader:()=>n.e("27390").then(n.t.bind(n,11193,19)).then(()=>{ak.push("pug")})},g2={lang:"puppet",loader:()=>n.e("27390").then(n.t.bind(n,33635,19)).then(()=>{ak.push("puppet")})},g3={lang:"pure",loader:()=>n.e("27390").then(n.t.bind(n,13515,19)).then(()=>{ak.push("pure")})},g4={lang:"purebasic",loader:async()=>(await pf.loader(),n.e("27390").then(n.t.bind(n,29957,19)).then(()=>{ak.push("purebasic")}))},g6={lang:"purescript",loader:async()=>(await mg.loader(),n.e("27390").then(n.t.bind(n,18376,19)).then(()=>{ak.push("purescript")}))},g5={lang:"python",loader:()=>n.e("32549").then(n.t.bind(n,32279,19)).then(()=>{ak.push("python")})},g9={lang:"q",loader:()=>n.e("27390").then(n.t.bind(n,98738,19)).then(()=>{ak.push("q")})},g8={lang:"qml",loader:()=>n.e("27390").then(n.t.bind(n,15359,19)).then(()=>{ak.push("qml")})},g7={lang:"qore",loader:async()=>(await pf.loader(),n.e("27390").then(n.t.bind(n,89664,19)).then(()=>{ak.push("qore")}))},fe={lang:"qsharp",loader:async()=>(await pf.loader(),n.e("27390").then(n.t.bind(n,12636,19)).then(()=>{ak.push("qsharp")}))},ft={lang:"r",loader:()=>n.e("32549").then(n.t.bind(n,93203,19)).then(()=>{ak.push("r")})},fn={lang:"racket",loader:async()=>(await fC.loader(),n.e("27390").then(n.t.bind(n,39407,19)).then(()=>{ak.push("racket")}))},fa={lang:"reason",loader:async()=>(await pf.loader(),n.e("27390").then(n.t.bind(n,65933,19)).then(()=>{ak.push("reason")}))},fs={lang:"regex",loader:()=>n.e("27390").then(n.t.bind(n,20870,19)).then(()=>{ak.push("regex")})},fr={lang:"rego",loader:()=>n.e("27390").then(n.t.bind(n,76830,19)).then(()=>{ak.push("rego")})},fo={lang:"renpy",loader:()=>n.e("27390").then(n.t.bind(n,87711,19)).then(()=>{ak.push("renpy")})},fi={lang:"rescript",loader:()=>n.e("27390").then(n.t.bind(n,30171,19)).then(()=>{ak.push("rescript")})},fl={lang:"rest",loader:()=>n.e("27390").then(n.t.bind(n,20979,19)).then(()=>{ak.push("rest")})},fc={lang:"rip",loader:()=>n.e("27390").then(n.t.bind(n,66822,19)).then(()=>{ak.push("rip")})},fd={lang:"roboconf",loader:()=>n.e("27390").then(n.t.bind(n,20199,19)).then(()=>{ak.push("roboconf")})},fu={lang:"robotframework",loader:()=>n.e("27390").then(n.t.bind(n,69001,19)).then(()=>{ak.push("robotframework")})},fh={lang:"ruby",loader:async()=>(await pf.loader(),n.e("32549").then(n.t.bind(n,23065,19)).then(()=>{ak.push("ruby")}))},fp={lang:"rust",loader:()=>n.e("32549").then(n.t.bind(n,9571,19)).then(()=>{ak.push("rust")})},fm={lang:"sas",loader:()=>n.e("70028").then(n.t.bind(n,13508,19)).then(()=>{ak.push("sas")})},fg={lang:"sass",loader:async()=>(await pM.loader(),n.e("32549").then(n.t.bind(n,67707,19)).then(()=>{ak.push("sass")}))},ff={lang:"scala",loader:async()=>(await mN.loader(),n.e("32549").then(n.t.bind(n,6011,19)).then(()=>{ak.push("scala")}))},fC={lang:"scheme",loader:()=>n.e("32549").then(n.t.bind(n,85638,19)).then(()=>{ak.push("scheme")})},fv={lang:"scss",loader:async()=>(await pM.loader(),n.e("32549").then(n.t.bind(n,7045,19)).then(()=>{ak.push("scss")}))},fb={lang:"shell_session",loader:()=>n.e("70028").then(n.t.bind(n,61174,19)).then(()=>{ak.push("shell_session")})},f_={lang:"smali",loader:()=>n.e("70028").then(n.t.bind(n,78681,19)).then(()=>{ak.push("smali")})},fS={lang:"smalltalk",loader:()=>n.e("70028").then(n.t.bind(n,66496,19)).then(()=>{ak.push("smalltalk")})},fE={lang:"smarty",loader:async()=>(await go.loader(),n.e("70028").then(n.t.bind(n,18657,19)).then(()=>{ak.push("smarty")}))},fx={lang:"sml",loader:()=>n.e("70028").then(n.t.bind(n,25857,19)).then(()=>{ak.push("sml")})},fy={lang:"solidity",loader:async()=>(await pf.loader(),n.e("70028").then(n.t.bind(n,70324,19)).then(()=>{ak.push("solidity")}))},fw={lang:"solution_file",loader:()=>n.e("70028").then(n.t.bind(n,15105,19)).then(()=>{ak.push("solution_file")})},fI={lang:"soy",loader:async()=>(await go.loader(),n.e("70028").then(n.t.bind(n,54652,19)).then(()=>{ak.push("soy")}))},fT={lang:"sparql",loader:async()=>(await fZ.loader(),n.e("70028").then(n.t.bind(n,72492,19)).then(()=>{ak.push("sparql")}))},fA={lang:"splunk_spl",loader:()=>n.e("70028").then(n.t.bind(n,10518,19)).then(()=>{ak.push("splunk_spl")})},fj={lang:"sqf",loader:async()=>(await pf.loader(),n.e("70028").then(n.t.bind(n,88447,19)).then(()=>{ak.push("sqf")}))},fk={lang:"sql",loader:()=>n.e("32549").then(n.t.bind(n,67509,19)).then(()=>{ak.push("sql")})},fM={lang:"squirrel",loader:async()=>(await pf.loader(),n.e("70028").then(n.t.bind(n,74534,19)).then(()=>{ak.push("squirrel")}))},fR={lang:"stan",loader:()=>n.e("70028").then(n.t.bind(n,3594,19)).then(()=>{ak.push("stan")})},fN={lang:"stata",loader:()=>n.e("70028").then(n.t.bind(n,29036,19)).then(()=>{ak.push("stata")})},fO={lang:"stylus",loader:()=>n.e("32549").then(n.t.bind(n,8543,19)).then(()=>{ak.push("stylus")})},fL={lang:"supercollider",loader:()=>n.e("70028").then(n.t.bind(n,84350,19)).then(()=>{ak.push("supercollider")})},fF={lang:"swift",loader:()=>n.e("32549").then(n.t.bind(n,42098,19)).then(()=>{ak.push("swift")})},fP={lang:"systemd",loader:()=>n.e("70028").then(n.t.bind(n,96142,19)).then(()=>{ak.push("systemd")})},fD={lang:"t4_cs",loader:async()=>(await fB.loader(),n.e("70028").then(n.t.bind(n,57776,19)).then(()=>{ak.push("t4_cs")}))},fB={lang:"t4_templating",loader:()=>n.e("70028").then(n.t.bind(n,10467,19)).then(()=>{ak.push("t4_templating")})},fV={lang:"t4_vb",loader:async()=>(await fB.loader(),n.e("70028").then(n.t.bind(n,84234,19)).then(()=>{ak.push("t4_vb")}))},fH={lang:"tap",loader:()=>n.e("70028").then(n.t.bind(n,61536,19)).then(()=>{ak.push("tap")})},fU={lang:"tcl",loader:()=>n.e("70028").then(n.t.bind(n,96994,19)).then(()=>{ak.push("tcl")})},fW={lang:"textile",loader:async()=>(await gi.loader(),n.e("70028").then(n.t.bind(n,15088,19)).then(()=>{ak.push("textile")}))},fz={lang:"toml",loader:()=>n.e("70028").then(n.t.bind(n,3065,19)).then(()=>{ak.push("toml")})},fG={lang:"tremor",loader:()=>n.e("70028").then(n.t.bind(n,15096,19)).then(()=>{ak.push("tremor")})},fK={lang:"tsx",loader:async()=>(await mZ.loader(),n.e("32549").then(n.t.bind(n,72486,19)).then(()=>{ak.push("tsx")}))},fq={lang:"tt2",loader:async()=>(await Promise.all([pf.loader(),go.loader()]),n.e("70028").then(n.t.bind(n,907,19)).then(()=>{ak.push("tt2")}))},fZ={lang:"turtle",loader:()=>n.e("70028").then(n.t.bind(n,47935,19)).then(()=>{ak.push("turtle")})},fQ={lang:"twig",loader:async()=>(await go.loader(),n.e("70028").then(n.t.bind(n,944,19)).then(()=>{ak.push("twig")}))},fY={lang:"typescript",loader:async()=>(await mF.loader(),n.e("32549").then(n.t.bind(n,21146,19)).then(()=>{ak.push("typescript")}))},fX={lang:"typoscript",loader:()=>n.e("70028").then(n.t.bind(n,31288,19)).then(()=>{ak.push("typoscript")})},fJ={lang:"unrealscript",loader:()=>n.e("70028").then(n.t.bind(n,47513,19)).then(()=>{ak.push("unrealscript")})},f$={lang:"uorazor",loader:()=>n.e("70028").then(n.t.bind(n,94149,19)).then(()=>{ak.push("uorazor")})},f1={lang:"uri",loader:()=>n.e("70028").then(n.t.bind(n,81599,19)).then(()=>{ak.push("uri")})},f0={lang:"v",loader:async()=>(await pf.loader(),n.e("70028").then(n.t.bind(n,54711,19)).then(()=>{ak.push("v")}))},f2={lang:"vala",loader:async()=>(await pf.loader(),n.e("70028").then(n.t.bind(n,88079,19)).then(()=>{ak.push("vala")}))},f3={lang:"vbnet",loader:async()=>(await h9.loader(),n.e("70028").then(n.t.bind(n,96266,19)).then(()=>{ak.push("vbnet")}))},f4={lang:"velocity",loader:async()=>(await gi.loader(),n.e("70028").then(n.t.bind(n,52578,19)).then(()=>{ak.push("velocity")}))},f6={lang:"verilog",loader:()=>n.e("70028").then(n.t.bind(n,20571,19)).then(()=>{ak.push("verilog")})},f5={lang:"vhdl",loader:()=>n.e("70028").then(n.t.bind(n,89235,19)).then(()=>{ak.push("vhdl")})},f9={lang:"vim",loader:()=>n.e("70028").then(n.t.bind(n,31925,19)).then(()=>{ak.push("vim")})},f8={lang:"visual_basic",loader:()=>n.e("70028").then(n.t.bind(n,22778,19)).then(()=>{ak.push("visual_basic")})},f7={lang:"warpscript",loader:()=>n.e("70028").then(n.t.bind(n,46136,19)).then(()=>{ak.push("warpscript")})},Ce={lang:"wasm",loader:()=>n.e("70028").then(n.t.bind(n,82345,19)).then(()=>{ak.push("wasm")})},Ct={lang:"web_idl",loader:()=>n.e("70028").then(n.t.bind(n,31473,19)).then(()=>{ak.push("web_idl")})},Cn={lang:"wgsl",loader:()=>n.e("70028").then(n.t.bind(n,23164,19)).then(()=>{ak.push("wgsl")})},Ca={lang:"wiki",loader:async()=>(await gi.loader(),n.e("70028").then(n.t.bind(n,68797,19)).then(()=>{ak.push("wiki")}))},Cs={lang:"wolfram",loader:()=>n.e("70028").then(n.t.bind(n,77217,19)).then(()=>{ak.push("wolfram")})},Cr={lang:"wren",loader:()=>n.e("70028").then(n.t.bind(n,25607,19)).then(()=>{ak.push("wren")})},Co={lang:"xeora",loader:async()=>(await gi.loader(),n.e("70028").then(n.t.bind(n,26608,19)).then(()=>{ak.push("xeora")}))},Ci={lang:"xml_doc",loader:()=>n.e("70028").then(n.t.bind(n,96791,19)).then(()=>{ak.push("xml_doc")})},Cl={lang:"xojo",loader:()=>n.e("70028").then(n.t.bind(n,41515,19)).then(()=>{ak.push("xojo")})},Cc={lang:"xquery",loader:async()=>(await gi.loader(),n.e("70028").then(n.t.bind(n,36229,19)).then(()=>{ak.push("xquery")}))},Cd={lang:"yaml",loader:()=>n.e("70028").then(n.t.bind(n,50278,19)).then(()=>{ak.push("yaml")})},Cu={lang:"yang",loader:()=>n.e("70028").then(n.t.bind(n,65376,19)).then(()=>{ak.push("yang")})},Ch={lang:"zig",loader:()=>n.e("32549").then(n.t.bind(n,4635,19)).then(()=>{ak.push("zig")})};var Cp=n(81621);let Cm="wx932d4fdaf46d5611",Cg=[()=>{let e=e=>{(P.f8&&e.metaKey&&"j"===e.key||!P.f8&&e.ctrlKey&&"j"===e.key)&&(e.preventDefault(),e.stopPropagation(),rf.j.next({method:"shortcutCreateNewChat",args:{event:e}}))};return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0})}}],Cf=()=>{let e=document.head.querySelectorAll("script[integrity]");e.forEach(e=>{e.removeAttribute("crossorigin"),e.removeAttribute("integrity")}),g.y.tracker.info({name:"clearScriptSRI",message:"清理脚本的SRI检查相关字段",payload:{count:e.length}})},CC=async()=>{let e="applog_sdk_event_store_20006317";try{g.y.tracker.info({name:"deleteDataFinderDB",message:"清理data finder数据库",payload:{name:e}}),await (0,uW.MR)(e,{blocked:()=>{g.y.tracker.error({name:"deleteDataFinderDBFail",message:"清理data finder数据库被阻塞",payload:{reason:"blocked",name:e}})}}),g.y.tracker.info({name:"deleteDataFinderDBSuccess",message:"清理data finder数据库成功",payload:{name:e}})}catch(t){g.y.tracker.error({name:"deleteDataFinderDBFail",message:"清理data finder数据库失败",payload:g.y.tracker.withError(t,{name:e,reason:"err"})})}};n(4759),n(23766),n(2854),n(95840),n(47746),n(18552),n(74757),n(28126),n(75586),n(2429),n(29807),"complete"===document.readyState?Cf():window.addEventListener("load",Cf),(l=nB())&&(l("config",{plugins:{pageview:{extractPid:e=>(e=>{let t=new URL(e).pathname;for(let e of nu)if((0,nl.B6)(e,t))return e;return e})(e)}}}),l("on","beforeSend",e=>!(e=>{if("js_error"!==e.ev_type)return!1;let t=e.payload.error.filename||"",n=e.payload.error.message||"";return(!!t||!!n)&&["userscript.html","chrome-extension"].some(e=>t.includes(e)||n.includes(e))})(e)&&e)),u4.N.init(!1),CC(),Cp.NW.getIsEnabled()?(0,Cp.zY)().then(e=>{_(e.ssid)}):_(nR.getUuid()),c=new Set,Cg.forEach(e=>c.add(e())),(0,nl.B6)(nc.ROOT,window.location.pathname)&&nL("search_state_on_launch"),nR.loadRemote();let Cv=new URL(window.location.href);"true"===Cv.searchParams.get(P.mI)&&(Cv.searchParams.delete(P.mI),window.history.replaceState(window.history.state,"",Cv.toString()),sessionStorage.setItem(P.mI,"true")),g.y.startApp({container:"#root",node:(0,p.jsx)(function(e){let{children:t}=e,n=g.y.useIsMainlandChina(),a=g.R.useLocale(),s=(0,ev.useTranslateWithLocale)(),r=s("termsOfUse",a),o=s("privacyPolicy",a),i=s("privacyPolicyFile",n?"zh_CN":"en_US"),[l,c]=(0,D.useState)(g.y.getFgByKey("enableHcaptcha")),d=(0,nw.Y)(),u=(()=>{switch(hC.vd){case hC.vZ.Production:return{appleClientId:"com.deepseek.chat-web-prod",appleRedirectURI:"https://chat.deepseek.com/oauth_apple_callback"};case hC.vZ.Staging:case hC.vZ.Dev:return{appleClientId:"com.deepseek.chat-web-dev",appleRedirectURI:"https://chat-dev.deepseek.com/oauth_apple_callback"};case hC.vZ.ChatTest:default:return{appleClientId:"com.deepseek.chat-web-test",appleRedirectURI:"https://chat-test.deepseek.com/oauth_apple_callback"}}})();return(0,D.useEffect)(()=>{nR.getFeature("chat_hcaptcha",!1)&&c(!0)},[]),(0,p.jsx)(ey,{turnstileEnabled:!n,captchaEnabled:n?"shumei":!!l&&"hcaptcha",baseUrl:c0,isMainlandChina:n,isMobile:g.y.isMobile,isBeta:!1,locale:a,modelServiceAgreement:r,privacyPolicy:o,privacyPolicyFile:i,tracker:g.y.tracker,http:g.y.httpWithCoreType,serverApiUserToUser:d5,setStorageUserToken:g.y.setStorageUserToken,tintColor:"rgb(var(--ds-rgb-primary))",isDark:d,appleClientId:u.appleClientId,appleRedirectURI:u.appleRedirectURI,children:t})},{children:(0,p.jsx)(()=>{let e;e=g.y.useLocale(),(0,D.useEffect)(()=>{let t=(0,hk.getCJKQuotationMarksPatch)();"zh_CN"===e?t.enable({tradition:!1}):t.disable()},[e]);let t=(0,nw.Y)();return(0,p.jsx)(V,{disabled:g.y.isMobile,showArrow:!1,leaveDelay:0,enterDelay:0,floatingAnimated:!1,size:"s",children:(0,p.jsxs)(W,{...c5(t),children:[(0,p.jsx)(hj,{}),(0,p.jsx)(dG,{}),(0,p.jsx)(G.pg,{router:hE}),(0,p.jsx)(z.t,{placement:"top",children:(0,p.jsx)(hI,{name:"DebugPanel",props:{}})})]})})},{})}),router:hE,onBeforeRender(){var e,t;let n,r;for(let t in document.addEventListener("visibilitychange",()=>{if(document.hidden){let e=nR.getFeature("launch_clean_session_interval_seconds",21600);n=window.setTimeout(()=>{na.kH.getState().user&&(nP(),hx(nc.ROOT)&&g.y.logger.info("6 小时页面隐藏后跳转到首页"))},1e3*e)}else window.clearTimeout(n)}),(0,T.qE)({__DEV__:!1,getIsDebug:g.y.getIsDebug,getLocale:g.y.getLocale,useLocale:g.y.useLocale,http:g.y.http,logger:g.y.logger,tracker:g.y.tracker,withToast:g.y.withToast,setLastSessionValue:e=>g.y.setLastSessionValue(t=>{let n=e(t);return{...t,value:n}}),platform:"web",base64Encode:btoa,getSSEAutoResumeConfig:()=>({timeout:nR.getFeature("sse_auto_resume_timeout",2e3),maxChunkInterval:g.y.getFgByKey("enableLessMaxChunkInterval")?8e3:void 0}),addSSEHeader:Cb}),!function(){let{userIsMuted:e,userMuteUntil:t}=g.y.getLastSessionValue();e&&Date.now()<t&&T.Lo.getState().setMuted({muteUntil:t,isMuted:e})}(),aa(),hM(),(0,et.on)("resize",window,hM),(0,is.kb)(),!function(e){let{}=e}({appId:"guh50jw4",tracker:g.y.tracker,logger:g.y.logger,withError:g.y.withError}),!function(){let e;if(g.y.logger.info("初始化路由"),(e=hE.state.location.search)&&"coder"===new URLSearchParams(e).get("from")&&(g.y.logger.info("检测到是从 coder 跳转过来的"),ny.current=!0),!g.y.getStorageUserToken()||P.Mf){g.y.logger.info("本地没有存 Token，或者是 iOS 登录，直接导航到登录页面"),hy({navigateToSignIn:!hR()&&!hN(hE.state),isBanned:!1});return}hR()&&(ny.current?(g.y.logger.info("从 coder 跳过来的，导航到 coder"),hx(nc.AGENT,{agentId:T.FM.AgentId.CODER})):(g.y.logger.info("不是从 coder 跳过来的，导航到 chat"),hx(nc.ROOT))),(0,e1.mE)(void 0,{http:g.y.httpWithCoreType,baseUrl:c0},d5).then(e=>{let{data:{user:t}}=e;hw(t)}).catch(e=>{g.y.tracker.error({name:"getCurrentFailed",message:"刷新当前用户状态失败",payload:g.y.withError(e,{token:g.y.getStorageUserToken()||ty.QV})})})}(),na.kH.subscribe(e=>{var t;return null==(t=e.user)?void 0:t.status},e=>{void 0===e?g.y.tracker.info({name:"userStatusChange",message:"用户状态改变 => 暂无用户信息",payload:{status:"none"}}):(ty.Tr.OK,g.y.tracker.info({name:"userStatusChange",message:"用户状态改变 => 正常",payload:{status:"ok"}}))}),hE.subscribe(e=>{let t,n,a=g.y.resolvePathRelativeToPublicPath(e.location.pathname),s=!1,r="",o=nc.ROOT,i=!1,l=na.kH.getState().user;hO(a)?l?(n=!0,t=!0,l.status,ty.Tr.OK,s=!0,o=nc.ROOT,r="visitLogoutOnlyRoute",i=hx(nc.ROOT)):(n=!1,t=!!g.y.getStorageUserToken()):l?(n=!0,t=!0):(n=!1,g.y.getStorageUserToken()?t=!0:(t=!1,hN(e)||(s=!0,o=nc.SIGN_IN,r="notLogin",i=hx(nc.SIGN_IN)))),g.y.tracker.info({name:"routeChange",message:"路由改变 => "+a,payload:{to:a,redirect:"".concat(s),redirected:"".concat(i),redirectReason:r,redirectTo:o,hasToken:"".concat(t),hasUserInfo:"".concat(n)}})}),rf.j.subscribe({next(e){let{method:t,args:n}=e;"beUnauthenticated"===t?hy(n):"routerNavigate"===t&&hx(n.to)}}),h)aR[aM[(e=h[t]).lang]]=e.loader;!function(e){let{region:t,tracker:n,disabled:a}=e;if(a||document.querySelector("script[data-smcp]"))return;x=n;let s=document.createElement("script");s.dataset.smcp="true";let r=null;if(t&&t in E.Xr&&(r=(0,E.BJ)(t)),null===r||"CN"===r.iso2)s.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",w="CN";else switch(r.continent){case"AS":case"OC":s.src="https://castatic-xjp.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",w="SG";break;default:s.src="https://castatic.fengkongcloud.cn/pr/v1.0.4/smcp.min.js",w="GLOBAL"}null==x||x.info({name:"__shumeiScriptSetup",message:"数美验证码 script 设置",payload:{rawRegion:t,region:w}}),document.head.appendChild(s),s.onload=()=>{y.resolve(),null==x||x.info({name:"__shumeiScriptLoadOk",message:"数美验证码 script 加载成功",payload:{rawRegion:t,region:w}})},s.onerror=e=>{y.reject(e),null==x||x.error({name:"__shumeiScriptLoadFailed",message:"数美验证码 script 加载失败",payload:x.withError(e,{rawRegion:t,region:w})})}}({region:g.y.getRegion(),tracker:g.y.tracker,disabled:"CN"!==g.y.getRegion()&&null!==g.y.getRegion()}),function(e){let{appId:t,tracker:n,logger:r,isBeta:o}=e;j=t,a=n,s=r,k=o}({appId:(()=>{switch(hC.vd){case hC.vZ.Staging:case hC.vZ.Dev:return"wx58f1d4bc57bc28fd";case hC.vZ.Production:return Cm;case hC.vZ.ChatTest:return"wxd4679ecc940ea6be";case hC.vZ.Unknown:return Cm;default:return(0,T.sL)(hC.vd),Cm}})(),tracker:g.y.tracker,logger:g.y.logger,isBeta:!1}),function(e){let{organization:t,tracker:n}=e;window._smConf={organization:t,appId:"default",publicKey:"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDetfEgYD4aE1ZjmWJ6/jnPurhzI+yeRoJHWrnNtQMte3stQ4VjG3yu21FuN75E6cDpA9KtDXwcB2M/FiGUAe3G0rNotbWI8+SjZfUbW/OILFTzY0uaeEkmVGW5WyJ6weQbbr1xTCPa2OO3YIMeZljWUYHG5h21WAm/PATg8im8cQIDAQAB",staticHost:"static.portal101.cn",protocol:"https",apiHost:"fp-it-acc.portal101.cn"},N=n}({organization:"P9usCUBauxft8eAmUXaZ",tracker:g.y.tracker}),(0,eb.OB)({sitekey:"0x4AAAAAAA1jQEh8YFk064tz",tracker:g.y.tracker,logger:g.y.logger,ignoreFailed:!0}),t=g.y.isMobile,(r=document.createElement("style")).innerHTML=t?"\n  .ds-scroll-area__gutters {\n    display: none;\n  }\n  .ds-scroll-area {\n    scrollbar-width: unset;\n  }\n  .ds-scroll-area::-webkit-scrollbar {\n    display: auto;\n  }\n  ":"\n  .ds-scroll-area__gutters {\n    display: block;\n  }\n  .ds-scroll-area {\n    scrollbar-width: none;\n  }\n  .ds-scroll-area::-webkit-scrollbar {\n    display: none;\n  }\n  ",document.head.appendChild(r)},onAfterRender(){let{localePreference:e}=g.y.useApp.getState(),t=(0,A.g)(e);(0,Cp.PR)({webLocalePreference:e,webLocale:t})},onLocaleChange(){},onVisibilityChange(){}});let Cb=()=>{let e,t,n,a;return{...(()=>{if(hC.KV)return{};let e=g.y.storageHandles.latestSystemStorageHandle.get();return e?{"x-debug-latest-reminder":encodeURI(e)}:{}})(),...(e=hv.getHeaders(),t={},(n=e.leim||hb().leim.get()||"")&&(t["x-hif-leim"]=n),(a=e.dliq||hb().dliq.get()||"")&&(t["x-hif-dliq"]=a),t)}}},92498:function(e,t,n){"use strict";n.r(e.exports={scrollNav:"_189b4a0",bg:"_6ffc3c9",scrollWrapper:"_4ce999d",show:"_7ae8ea4",top:"_83116be",bottom:"_1164b3e",none:"_42b9b3d",both:"_11be1b8",page:"_8dbd25b",scrollNavItem:"_81e7b5e",first:"_966e035",itemIndicator:"ef46fbc6",indicatorLine:"fae5876e",itemTitle:"_72b6158",active:"_19d617c",tooltip:"ed713514",tooltipContent:"_8fcd755"})},33654:function(e,t,n){"use strict";e.exports={wrap:"_363cb01",title:"_3ad1932",desc:"_93e2bfa",confirmButton:"_3340925",selects:"_4702dbb",select:"_2338f44"}},46030:function(e,t,n){"use strict";e.exports={sider:"dc04ec1d",wideSider:"a2f3d50e",shrinkSider:"ca6d4be1",mask:"_4cbcd96",collapsed:"a02af2e6",hide:"_70b689f",transparent:"_7d10bb1"}},5544:function(e,t,n){"use strict";e.exports={frame:"c994dda2",banner:"_47c279e",main:"_99ad066",footer:"_5178cc4"}},88486:function(e,t,n){"use strict";e.exports={assistantMessage:"_4f9bf79",isLast:"d7dc56a8",showActions:"_43c05b5",showLoading:"_1988f4b",actions:"_965abe9",shareView:"_448e4c0",alwaysShowActions:"_54866f7",loading:"b4e4476b",blank:"_2f297cc"}},67870:function(e,t,n){"use strict";e.exports={wrap:"_0a3d93b"}},55079:function(e,t,n){"use strict";e.exports={sites:"f93f59e4",text:"_669a677"}},61002:function(e,t,n){"use strict";e.exports={collapsibleArea:"_74c0879",noDetail:"e47135bc",bottomCoverDetect:"_8f7678d",topCoverDetect:"c2b72bb8"}},58388:function(e,t,n){"use strict";e.exports={wrap:"_782df89",icon:"c51fb08b"}},78985:function(e,t,n){"use strict";e.exports={item:"_2ed5dee",icon:"_49c6e07"}},50892:function(e,t,n){"use strict";e.exports={relativeWrapper:"_3ee3da9",disappearing:"c054203e",title:"c82ff433"}},93300:function(e,t,n){"use strict";e.exports={contentWrap:"e1675d8b",contentIcon:"_9b52f6c",contentLine:"_9ecc93a",lastFragment:"_767406f"}},73330:function(e,t,n){"use strict";e.exports={item:"_3f40103",text:"_93969e7",loading:"_50ce32a",viewable:"bc7e5400",selected:"_67f1384",fail:"_0615c23"}},49005:function(e,t,n){"use strict";e.exports={intro:"bbb3808e",icon:"_0121fe3"}},10575:function(e,t,n){"use strict";e.exports={item:"_02fb570",intro:"_442c8e7",text:"_04ab7b1",failed:"_5dfb9d8",icon:"a3ffa4db",success:"_9887d4d"}},17585:function(e,t,n){"use strict";e.exports={toolWrapper:"e4c3fd02",icon:"c0ae38ce",right:"f2021e64",withLine:"_1fd66e8",lastFragment:"_767cf6b"}},69124:function(e,t,n){"use strict";e.exports={intro:"_8317ef7"}},29430:function(e,t,n){"use strict";e.exports={titleWrap:"_245c867",selected:"a51c5344",clickArea:"_5ab5d64",titleText:"_4d41763",titleIcon:"_970ac5e",stoppedIcon:"dea47b2e",mask:"c99b79f8"}},28258:function(e,t,n){"use strict";e.exports={searchRow:"ffdab56b",clickable:"ddbfd84f",contentPrefix:"d162f7b9",icon:"bbe89fe9"}},77651:function(e,t,n){"use strict";e.exports={queryGroup:"_42b3783",query:"_20a2ea8"}},96165:function(e,t,n){"use strict";e.exports={siteLogoGroup:"_287b564",siteLogo:"_8e95474"}},60446:function(e,t,n){"use strict";e.exports={}},40159:function(e,t,n){"use strict";e.exports={copyButton:"db183363"}},44788:function(e,t,n){"use strict";e.exports={userAvatar:"ede5bc47",picture:"fdf01f38",downloadAppContainer:"_5a6ad65",text:"_9e0c9c6",settingDialogModalWrapper:"e390ef68"}},72743:function(e,t,n){"use strict";e.exports={switchContainer:"_663bc35",customSwitch:"e21a51cb"}},76547:function(e,t,n){"use strict";e.exports={settingsItem:"_50b3d9e",themeSelect:"_0315fb1",main:"f2ff50b5",content:"_574eb80",navigationWrapper:"ab016168",navigation:"d316d158",item:"_266abb8",active:"_699d482",settingDialogModalContent:"_6c040bb",shareLinksManageHeader:"_89ee9b2"}},2923:function(e,t,n){"use strict";e.exports={button:"cdf736f8"}},46163:function(e,t,n){"use strict";e.exports={labelContainer:"_4a66405",description:"d6e050ed"}},73074:function(e,t,n){"use strict";n.r(e.exports={inputFullContainer:"aaff8b8f",inputWrapper:"_77cefa5",session:"_3d616d3",share:"e0f12fee",agent:"_9996a53",none:"_974d5d0",withFile:"_1d5e44c",ocrTip:"_7ca114c",textarea:"_27c9245",textareaMirror:"b13855df",belowInputWrapper:"_020ab5b",functionRow:"ec4f5d61",functionRowRightColumn:"bf38813a",textareaAlignWrapper:"_24fad49",scrollEnd:"d96f2d2a",sendButton:"_7436101",disabled:"bcc55ca1",debugTip:"_8ac69d6"})},77586:function(e,t,n){"use strict";e.exports={mask:"_9f00468",wrap:"_116ea5b",title:"_59bd16b",desc:"_43a83ad"}},89463:function(e,t,n){"use strict";e.exports={scrollToBottomButton:"_0e98de6"}},27389:function(e,t,n){"use strict";e.exports={button:"f79352dc",text:"_6dbc175",hide:"_51c583b"}},71426:function(e,t,n){"use strict";e.exports={uploadLaunchButton:"f02f0e25",uploadButtonTooltipText:"_393efd7"}},73068:function(e,t,n){"use strict";e.exports={sider:"_5a20a69",logo:"_6acebc2",group:"e5bf614e",icon:"_4f3769f"}},63158:function(e,t,n){"use strict";e.exports={contentSidebarMask:"fffe1848",contentSidebarClose:"_5d271a3",contentSidebar:"_519be07",appearActive:"_4771b62",appearDone:"_27fc06b",exit:"_3390f94",exitActive:"_6c15980",contentContainer:"_26c5bc2",contentSidebarTitle:"_2c74d7a",leftSlot:"_560dc64",rightSlot:"f59a0d3b",contentSidebarInner:"fcd12e6e"}},76408:function(e,t,n){"use strict";e.exports={}},31812:function(e,t,n){"use strict";e.exports={id:"_2005580"}},44450:function(e,t,n){"use strict";e.exports={container:"febb9909",dot:"_29ef3c7",fading:"_3f11678"}},18618:function(e,t,n){"use strict";e.exports={box:"ddd26891",loading:"a510c7ce",loopState:"_4359e9e",inactive:"_0652043"}},79338:function(e,t,n){"use strict";e.exports={content:"_74d6322"}},78110:function(e,t,n){"use strict";e.exports={inMessage:"_5cadb25",inInput:"_80c60d0",fileItem:"_76cd190",fileItemBox:"d2d04dae",fileIcon:"b3a5d6c1",failedFile:"_9e85dae",content:"_789aea7",caption:"f3a54b52",shareCaption:"_570dc8a",subCaption:"_5119742",ellipsis:"dc832104",captionRow:"_7e13492",hoverToShow:"a9f62e3d",closeButton:"_35730b2",forceShow:"f80241fa",failed:"_4ebfd18",couldPreview:"_0004e59",opaque:"_942c3bb",failedCloseButton:"_9a41837",loadingWrapper:"_48289ac"}},9431:function(e,t,n){"use strict";n.r(e.exports={item:"_9bc997d",left:"_33882ae",right:"_28d7e84"})},40101:function(e,t,n){"use strict";e.exports={switch:"_81e8954",buttons:"efa13877",zoomButton:"e4ec2a75",verticalLine:"ae809fef",codeInfoName:"d813de27",disableOption:"_3343133"}},85419:function(e,t,n){"use strict";e.exports={container:"_121d384",sidePart:"d2a24f03",right:"_246a029"}},47231:function(e,t,n){"use strict";e.exports={wrapper:"_1210dd7",expand:"c03cafe9"}},62850:function(e,t,n){"use strict";e.exports={errorContent:"_6c50daf",standIn:"_4a23c6b"}},89510:function(e,t,n){"use strict";e.exports={wrap:"_17e14c5",branch:"dd7e4fda",icon:"e7367035"}},52845:function(e,t,n){"use strict";e.exports={messageRiskWarn:"dbe8cf4a"}},17394:function(e,t,n){"use strict";e.exports={input:"_0632724"}},53236:function(e,t,n){"use strict";e.exports={button:"_5a8ac7a",icon:"_1c42ad7",windows:"a084f19e"}},73107:function(e,t,n){"use strict";e.exports={errorContainer:"fba535c8",main:"_07c5e23",title:"cfffee1e",action:"_79a73be",error:"f309f19b"}},26197:function(e,t,n){"use strict";e.exports={container:"_3f79b51"}},43110:function(e,t,n){"use strict";e.exports={container:"b40079d7",navMask:"_17296f2",left:"_77c3bd0",navMaskContent:"d4a936f8",right:"_1ef577a",button:"c2ea1664"}},69318:function(e,t,n){"use strict";e.exports={container:"_33fe369",content:"dc433409",item:"_79fcd13",maskWrap:"b8bf046f",gradient:"_05737fa",leave:"_78cfb8d",dispose:"_0c82418",solid:"_96cb88b"}},70559:function(e,t,n){"use strict";e.exports={floatCard:"de80ba65"}},50604:function(e,t,n){"use strict";e.exports={wrap:"_426ebf9",clickable:"_5130389",meta:"a93786a8",siteIcon:"c16074e9",siteName:"d2eca804",divider:"a7055679",date:"caa1ee14",index:"ba26051b",title:"f664d0b2",snippet:"c56273f9",cardAnchorWrap:"_24fe229"}},84753:function(e,t,n){"use strict";e.exports={}},40814:function(e,t,n){"use strict";e.exports={titleShared:"e37a04e4",titleText:"afa34042",editable:"e0a1edb7",skeleton:"b9ba0ed4"}},35078:function(e,t,n){"use strict";e.exports={sessionItem:"_546d736",content:"c08e6e93",actionButton:"_2090548",active:"b64fb9ae",actionButtonMask:"_254829d",input:"db5b5408"}},51560:function(e,t,n){"use strict";e.exports={sentinel:"_33788b3"}},84988:function(e,t,n){"use strict";e.exports={sectionHeader:"f3d18f6a",foldable:"_63f5548",section:"_3098d02"}},91762:function(e,t,n){"use strict";e.exports={scrollContainer:"_6d215eb",empty:"f27d1011",scrollContainerWrap:"_3586175",emptyContent:"fd90d2b2",loadmoreSentinel:"de3d058c",noMore:"be66d622",sessionLoading:"_873c4d4",error:"_47ef3ad",errorEmpty:"ede76300",skeletonWrap:"_196bcac",show:"_8a693f3",skeletonContainer:"_68953bc",skeleton:"_5c2e5a9",sessionList:"_77cdc67",gradientMask:"_1d72f01"}},43366:function(e,t,n){"use strict";e.exports={messageListContainer:"_3919b83",messageListScrollContainer:"_8f60047",scrollContentWrapper:"_0f72b0b",messageListScrollWrapper:"dad65929",messageListLoading:"_772e792",error:"df4cb668",loginButtonContainer:"a8119a4e"}},43286:function(e,t,n){"use strict";e.exports={messageListHeader:"_2be88ba",guest:"ce3c7788",logo:"_79620e8",downloadApp:"_0413d7e",share:"a221e010",mobileHeader:"_0efe408",shareSelect:"_48a2c07",shareSelectTitle:"_2b72279",sep:"_348bebe",sessionHeader:"f8d1e4c0",shareBtn:"_57370c5"}},84886:function(e,t,n){"use strict";e.exports={content:"_01bdeed",scrollContainer:"_12b9c2d",empty:"c33d97ac",sharesList:"_87c2ebb",shareItem:"_126ee3f",shareDate:"f5af7aa0",shareTitle:"_6f6e1cb",shareLink:"e0067510",copyButton:"eb557eab",deleteButton:"_12201d1",shareTitleAndDate:"_5d587ec",loadingSentinel:"_7dfbb0a"}},31938:function(e,t,n){"use strict";e.exports={shareButton:"_5dedc1e"}},774:function(e,t,n){"use strict";e.exports={checkboxWrap:"d30139ff",checkbox:"ad950ab7",inSmallView:"_82f012d"}},34666:function(e,t,n){"use strict";e.exports={linkLine:"f75a60f6",link:"_6e657a3",linkContainer:"_4ad54a2",mask:"_2b90b1b"}},3330:function(e,t,n){"use strict";e.exports={panel:"_43d222b",content:"_9f86274",checkbox:"_692accd",smallView:"_117e7c4",count:"dcaa34cd",actions:"fab07e97",cancel:"_43443f1"}},85831:function(e,t,n){"use strict";e.exports={waitingSelection:"_7729a77",smallView:"_63c77b1",selectedForShare:"_6e8caf5",hide:"fa1bcf13",unselectable:"b02531e6"}},19270:function(e,t,n){"use strict";e.exports={warning:"a9bc8553",icon:"_0180317",withMargin:"a3ffe54f"}},49558:function(e,t,n){"use strict";e.exports={shimmer:"_5255ff8",overlay:"e4b3a110","shimmer-text":"_5a7d2fc",moveBlock:"cac31b5e",mirrorText:"c53e25fd"}},39096:function(e,t,n){"use strict";e.exports={topContainer:"_262baab",deepseekIconContainer:"e066abb8",collapsedDrawerButton:"_7d1f5e2"}},82067:function(e,t,n){"use strict";e.exports={blockSelector:"_6c1fed6",selected:"_16a7dbe",blockSelectorGroup:"_50e2ab4"}},51409:function(e,t,n){"use strict";e.exports={selectOverride:"e311289c",selectMenuOverride:"_9afb5f9"}},10449:function(e,t,n){"use strict";e.exports={resendButton:"a3b9bd76",besideFiles:"_59c20ea",besideContent:"_76a2310"}},48050:function(e,t,n){"use strict";e.exports={userMessageContainer:"_9663006",editing:"_3111eee",userMessageActions:"_78e0558",actionsWithBranch:"_425ea0b",alwaysShow:"_0bbda35",editButton:"d4910adc",userMessage:"fbb737a4",belowFiles:"_8271fc3",wrapForShare:"d29f3d7d"}},19099:function(e,t,n){"use strict";e.exports={bottomWrap:"_11d6b3a",hintWithBranch:"_60a11b2",hint:"_1ce76f5"}},37803:function(e,t,n){"use strict";e.exports={textarea:"cc852ac5",belowFiles:"_67a34c7",overscrollContain:"de1201a8",textareaMidLayer:"_646a522"}},71130:function(e,t,n){"use strict";e.exports={sider:"b8812f16",menuContainer:"_2afd28d",username:"_9d8da05",actionIcon:"_39cc453"}},31472:function(e,t,n){"use strict";e.exports={content:"_7463b82",loadingWrapper:"f0b28104"}},11040:function(e,t,n){"use strict";e.exports={container:"aea2b515",logoContainer:"e84f084b",unrecoverable:"_53a16b4",content:"_35401d9",imageContainer:"b99592af",description:"d355b87a"}},32238:function(e,t,n){"use strict";e.exports={messageInputContainer:"_871cbca",backgroundMask:"d72636e2"}},59244:function(e,t,n){"use strict";e.exports={frame:"cb86951c",layout:"c3ecdb44",banner:"cddfb2ed",main:"_7780f2e",messageColumn:"_765a5cd"}},41727:function(e,t,n){"use strict";e.exports={contentCaveat:"_0fcaa63",italianCaveat:"a88a66da"}},63439:function(e,t,n){"use strict";e.exports={onboardingContainer:"_660ca72",header:"_1551317",onboarding:"_9a2f8e4",sayHi:"_5758a85",muted:"_803e2cf",sayHiMain:"_6c7e7df",logo:"ce41ed1b",muteAlert:"_71d6bcf"}},2366:function(e,t,n){"use strict";e.exports={icon:"e2394955"}},2429:function(e,t,n){"use strict";e.exports={}},29807:function(e,t,n){"use strict";e.exports={}},75586:function(e,t,n){"use strict";e.exports={}},12116:function(e,t,n){"use strict";e.exports={}},22152:function(e,t,n){"use strict";e.exports={}},27864:function(e,t,n){"use strict";e.exports={}},14272:function(e,t,n){"use strict";e.exports={}},24280:function(e,t,n){"use strict";e.exports={}},27464:function(e,t,n){"use strict";e.exports={}},32578:function(e,t,n){"use strict";e.exports={}},30696:function(e,t,n){"use strict";e.exports={}},11616:function(e,t,n){"use strict";e.exports={}},51602:function(e,t,n){"use strict";e.exports={}},52892:function(e,t,n){"use strict";e.exports={}},72634:function(e,t,n){"use strict";e.exports={}},98216:function(e,t,n){"use strict";e.exports={}},70826:function(e,t,n){"use strict";e.exports={}},59653:function(e,t,n){"use strict";e.exports={}},62919:function(e,t,n){"use strict";e.exports={}},57649:function(e,t,n){"use strict";e.exports={}},84099:function(e,t,n){"use strict";e.exports={}},35043:function(e,t,n){"use strict";e.exports={}},23766:function(e,t,n){"use strict";e.exports={}},28126:function(e,t,n){"use strict";e.exports={}},74757:function(e,t,n){"use strict";e.exports={}},47746:function(e,t,n){"use strict";e.exports={}},18552:function(e,t,n){"use strict";e.exports={}},4759:function(e,t,n){"use strict";e.exports={}},95840:function(e,t,n){"use strict";e.exports={}},2854:function(e,t,n){"use strict";n.r(e.exports={})},439:function(e,t,n){"use strict";e.exports={}},16586:function(e,t,n){"use strict";e.exports={}},81119:function(e,t,n){"use strict";e.exports={}},38743:function(e,t,n){"use strict";e.exports={}},63945:function(e,t,n){"use strict";e.exports={}},36670:function(e,t,n){"use strict";e.exports={}},26963:function(e,t,n){"use strict";e.exports={}},7165:function(e,t,n){"use strict";e.exports={}},66635:function(e,t,n){"use strict";e.exports={}},96341:function(e,t,n){"use strict";e.exports={}},1768:function(e,t,n){"use strict";e.exports={}},80677:function(e,t,n){"use strict";e.exports={}},63103:function(e,t,n){"use strict";e.exports={}},4029:function(e,t,n){"use strict";e.exports={}},80463:function(e,t,n){"use strict";e.exports={}},10543:function(e,t,n){"use strict";e.exports={}},41119:function(e,t,n){"use strict";e.exports={}},84255:function(e,t,n){"use strict";e.exports={}},87351:function(e,t,n){"use strict";e.exports={}},4397:function(e,t,n){"use strict";e.exports={}},80479:function(e,t,n){"use strict";e.exports={}},41135:function(e,t,n){"use strict";e.exports={}},97823:function(e,t,n){"use strict";e.exports={}},33359:function(e,t,n){"use strict";e.exports={}},47879:function(e,t,n){"use strict";e.exports={}},94971:function(e,t,n){"use strict";e.exports={}},64283:function(e,t,n){"use strict";e.exports={}},2841:function(e,t,n){"use strict";e.exports={}},39259:function(e,t,n){"use strict";e.exports={}},61489:function(e,t,n){"use strict";e.exports={}},42405:function(e,t,n){"use strict";e.exports={}},3079:function(e,t,n){"use strict";e.exports={}},39129:function(e,t,n){"use strict";e.exports={}},6835:function(e,t,n){"use strict";e.exports={}},22525:function(e,t,n){"use strict";e.exports={}},52955:function(e,t,n){"use strict";e.exports={}},53985:function(e,t,n){"use strict";e.exports={}},17903:function(e,t,n){"use strict";e.exports={}},13183:function(e,t,n){"use strict";e.exports={}},11370:function(e,t,n){"use strict";n.r(t),n.d(t,{availableLocales:()=>a});let a=["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fi","fil","fr","fr_CA","gl","gu","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","vi","zu"]},25885:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s,en_US:()=>a});let a={updateVersionNotificationContent:e=>"New version ".concat(e," is available. Please refresh the page."),updateVersionNotificationRefreshButton:"Refresh",updateVersionNotificationTitle:"New version available"},s=a},21372:function(e,t,n){"use strict";n.r(t),n.d(t,{ensureTranslateComponent:()=>p,getTranslate:()=>m,useTranslate:()=>h,useTranslateWithLocale:()=>u}),n(40966);var a=n(11285),s=n(42755),r=n(25885),o=n(25452),i=n(11370);let l={zh_CN:s.zh_CN,en_US:r.en_US},c=n(91639);(0,o.h2)(async e=>{let t=(await c("./".concat(e,".js"))).default;l[e]=t},i.availableLocales);let d={};function u(){return(0,a.useCallback)((e,t)=>{var n;return(null!=(n=l[t])?n:l.en_US)[e]},[])}function h(e){return(0,a.useCallback)(t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]},[e])}function p(e,t){return d[e]?d[e]:d[e]=function(n){let{args:a}=n,s=m(t())(e);return"string"==typeof s?s:s(...a)}}function m(e){return t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]}}},42755:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s,zh_CN:()=>a});let a={updateVersionNotificationContent:e=>"检测到新版本 ".concat(e,"，请刷新页面升级。"),updateVersionNotificationRefreshButton:"立即刷新",updateVersionNotificationTitle:"升级提示"},s=a},44961:function(e,t,n){"use strict";n.d(t,{F:()=>r,g:()=>i}),n(39070),n(32266);var a=n(2542),s=n(25452);function r(e){return a.Bd?i(e.getState().localePreference):"en_US"}let o={};function i(e){var t,n;return a.Bd?null!=(t=o[e])?t:o[e]="system"!==e?(0,s.aO)(e,(0,s.Be)()):(0,s.aO)(navigator.language||(null==(n=navigator.languages)?void 0:n.at(0))||"en_US",(0,s.Be)()):"en_US"}},9377:function(e,t,n){"use strict";let a;function s(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/oauth/get_token"),{json:{nonce:e.nonce,provider:e.provider}}).then(e=>{var t,n;let{json:{data:a},context:s}=e;if(!(null==(t=a.biz_data)?void 0:t.token))throw Error("Unable to get token, code: ".concat(a.biz_code,", msg: ").concat(a.biz_msg));return{data:{token:null==(n=a.biz_data)?void 0:n.token},context:s}})}async function r(e,t,n){var a,s;let{baseUrl:r,http:o}=t,{json:i,context:l}=await o.http.post("".concat(r,"/oauth/apple/login"),{json:{device_id:e.deviceId,id_token:e.idToken,os:e.os,sms_verification_code:e.smsVerificationCode,area_code:e.areaCode,mobile_number:e.mobileNumber}});return{data:{code:i.data.biz_code,user:(null==(a=i.data.biz_data)?void 0:a.user)?n(i.data.biz_data.user):null,signature:null==(s=i.data.biz_data)?void 0:s.signature},context:l}}function o(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/check_email_code"),{json:{email:e.email,email_verification_code:e.emailVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function i(e,t){let{mobilePhoneNumber:n,areaCode:a,smsVerificationCode:s,scenario:r,ticket:o}=e,{baseUrl:i,http:l}=t;return l.http.post("".concat(i,"/check_sms_code"),{json:{area_code:a,sms_verification_code:s,..."unbind_for_rebind"===r?{scenario:r}:{scenario:r,mobile_number:n},...o&&{ticket:o}}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function l(e,t){let{email:n,turnstileToken:a,shumeiVerification:s,hcaptchaToken:r,locale:o,deviceId:i,scenario:l}=e,{baseUrl:c,http:d}=t;return d.http.post("".concat(c,"/create_email_verification_code"),{json:{email:n,turnstile_token:a,locale:o,shumei_verification:s,hcaptcha_token:r,device_id:null!=i?i:"",scenario:l}}).then(e=>{var t,n;let{json:a,context:s}=e;return{data:{code:a.data.biz_code,sendWindowSecs:null!=(n=null==(t=a.data.biz_data)?void 0:t.send_window_secs)?n:null},context:s}})}function c(e,t){let{turnstileToken:n,locale:a,shumeiVerification:s,hcaptchaToken:r,deviceId:o,...i}=e,{baseUrl:l,http:c}=t;return c.http.post("".concat(l,"/create_sms_verification_code"),{json:{locale:a,turnstile_token:n,shumei_verification:s,hcaptcha_token:r,device_id:null!=o?o:"",scenario:i.scenario,mobile_number:i.mobileNumber,ticket:i.ticket}}).then(e=>{var t,n;let{json:a,context:s}=e;return{data:{code:a.data.biz_code,sendWindowSecs:null!=(n=null==(t=a.data.biz_data)?void 0:t.send_window_secs)?n:null},context:s}})}function d(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/email_reset_password"),{json:{email:e.email,email_verification_code:e.emailVerificationCode,password:e.password}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function u(e,t,n){let{baseUrl:a,http:s}=t;return s.http.post("".concat(a,"/login"),{json:{email:e.email,mobile:e.mobile,password:e.password,area_code:e.areaCode,device_id:e.deviceId,os:e.os},context:s.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:s}=e;return{data:{code:a.biz_code,user:n((null==(t=a.biz_data)?void 0:t.user)||null)},context:s}})}function h(e,t,n){let{baseUrl:a,http:s}=t;return s.http.post("".concat(a,"/login_by_mobile_sms"),{json:{region:e.region,locale:e.locale,mobile_number:e.mobileNumber,area_code:e.areaCode,sms_verification_code:e.smsVerificationCode,device_id:e.deviceId,os:e.os},context:s.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:s}=e;return{data:{code:a.biz_code,user:n((null==(t=a.biz_data)?void 0:t.user)||null)},context:s}})}function p(e,t){let{baseUrl:n,http:a}=t;return a.http.post("".concat(n,"/mobile_reset_password"),{json:{area_code:e.areaCode,mobile_number:e.mobile,password:e.password,sms_verification_code:e.smsVerificationCode}}).then(e=>{let{json:t,context:n}=e;return{data:{code:t.data.biz_code},context:n}})}function m(e,t,n){let{baseUrl:a,http:s}=t;return s.http.post("".concat(a,"/register"),{json:{locale:e.locale,region:e.region,payload:{email:e.payload.email,email_verification_code:e.payload.emailVerificationCode,password:e.payload.password},device_id:e.deviceId,os:"web"},context:s.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:s}=e;return{data:{code:a.biz_code,msg:a.biz_msg,user:n((null==(t=a.biz_data)?void 0:t.user)||null)},context:s}})}function g(e,t,n){let{baseUrl:a,http:s}=t;return s.http.post("".concat(a,"/register_by_mobile"),{json:{locale:e.locale,region:e.region,payload:{area_code:"+86",mobile_number:e.payload.mobile,sms_verification_code:e.payload.smsVerificationCode,audit_json_str:e.payload.auditJsonString,password:e.payload.password},device_id:e.deviceId,os:"web"},context:s.withDefaultHttpContext({withToken:!1})}).then(e=>{var t;let{json:{data:a},context:s}=e;return{data:{code:a.biz_code,msg:a.biz_msg,user:n((null==(t=a.biz_data)?void 0:t.user)||null)},context:s}})}n.d(t,{QK:()=>z,I1:()=>et,AS:()=>m,aQ:()=>s,tC:()=>ee,Iv:()=>q,RZ:()=>g,_5:()=>o,dP:()=>Q,dK:()=>er,l7:()=>K,bV:()=>i,cp:()=>h,BM:()=>r,sl:()=>u,fd:()=>$,LA:()=>J,d9:()=>Y,DX:()=>l,Ew:()=>c,mE:()=>X,FB:()=>d,Jx:()=>p}),(C=(f=z||(z={})).BIND_MOBILE_CHALLENGE_ERROR_CODE||(f.BIND_MOBILE_CHALLENGE_ERROR_CODE={}))[C.OK=0]="OK",C[C.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",C[C.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",C[C.MOBILE_ALREADY_BOUND=3]="MOBILE_ALREADY_BOUND",C[C.ACCOUNT_ALREADY_HAS_MOBILE=4]="ACCOUNT_ALREADY_HAS_MOBILE",C[C.MOBILE_VERIFY_FAILED=5]="MOBILE_VERIFY_FAILED",C[C.CLOUD_ERROR=99]="CLOUD_ERROR",(v=f.BIND_MOBILE_VALIDATE_ERROR_CODE||(f.BIND_MOBILE_VALIDATE_ERROR_CODE={}))[v.OK=0]="OK",v[v.SMS_EXPIRED=1]="SMS_EXPIRED",v[v.SMS_VERIFY_FAILED=2]="SMS_VERIFY_FAILED",v[v.ACCOUNT_ALREADY_HAS_MOBILE=3]="ACCOUNT_ALREADY_HAS_MOBILE",v[v.MOBILE_ALREADY_BOUND=4]="MOBILE_ALREADY_BOUND",v[v.UNKNOWN_ERROR=99]="UNKNOWN_ERROR",(b=f.CHECK_EMAIL_CODE_ERROR_CODE||(f.CHECK_EMAIL_CODE_ERROR_CODE={}))[b.OK=0]="OK",b[b.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",b[b.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",b[b.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",b[b.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",(_=f.CHECK_SMS_CODE_ERROR_CODE||(f.CHECK_SMS_CODE_ERROR_CODE={}))[_.OK=0]="OK",_[_.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",_[_.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",_[_.SMS_EXPIRED=7]="SMS_EXPIRED",_[_.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(S=f.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE||(f.CRAETE_EMAIL_VERIFICATION_CODE_ERROR_CODE={}))[S.OK=0]="OK",S[S.EMAIL_REQUEST_TOO_FREQUENT=1]="EMAIL_REQUEST_TOO_FREQUENT",S[S.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",S[S.INVALID_EMAIL_FORMAT=3]="INVALID_EMAIL_FORMAT",S[S.EMAIL_DOMAIN_NOT_IN_WHITELIST=4]="EMAIL_DOMAIN_NOT_IN_WHITELIST",S[S.CLOUD_ERROR=99]="CLOUD_ERROR",(E=f.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE||(f.CREATE_SMS_VERIFICATION_CODE_ERROR_CODE={}))[E.OK=0]="OK",E[E.SMS_SEND_TOO_FREQUENT=1]="SMS_SEND_TOO_FREQUENT",E[E.RECAPTCHA_VERIFY_FAILED=2]="RECAPTCHA_VERIFY_FAILED",E[E.NO_MOBILE_NUMBER=3]="NO_MOBILE_NUMBER",E[E.INVALID_TICKET=4]="INVALID_TICKET",E[E.REBIND_TO_SAME_NUMBER=5]="REBIND_TO_SAME_NUMBER",E[E.CLOUD_ERROR=99]="CLOUD_ERROR",(x=f.EMAIL_RESET_PASSWORD_ERROR_CODE||(f.EMAIL_RESET_PASSWORD_ERROR_CODE={}))[x.OK=0]="OK",x[x.EMAIL_NOT_EXIST=2]="EMAIL_NOT_EXIST",x[x.INVALID_PASSWORD=4]="INVALID_PASSWORD",x[x.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",x[x.EMAIL_VERIFY_FAILED=8]="EMAIL_VERIFY_FAILED",x[x.ACCOUNT_BANNED=10]="ACCOUNT_BANNED",(y=f.LOGIN_ERROR_CODE||(f.LOGIN_ERROR_CODE={}))[y.OK=0]="OK",y[y.PASSWORD_OR_USER_NAME_IS_WRONG=2]="PASSWORD_OR_USER_NAME_IS_WRONG",y[y.USER_IS_BANNED=10]="USER_IS_BANNED",(w=f.GET_TOKEN_ERROR_CODE||(f.GET_TOKEN_ERROR_CODE={}))[w.OK=0]="OK",w[w.USER_IS_BANNED=10]="USER_IS_BANNED",(I=f.LOGIN_BY_MOBILE_SMS_ERROR_CODE||(f.LOGIN_BY_MOBILE_SMS_ERROR_CODE={}))[I.OK=0]="OK",I[I.LOGIN_TO_EXISTING_ACCOUNT=1]="LOGIN_TO_EXISTING_ACCOUNT",I[I.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",I[I.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",I[I.SMS_EXPIRED=7]="SMS_EXPIRED",I[I.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",I[I.INTERNAL_SERVER_ERROR=9]="INTERNAL_SERVER_ERROR",I[I.RISK_DEVICE_DETECTED=11]="RISK_DEVICE_DETECTED",I[I.SSO_SERVER_ERROR=99]="SSO_SERVER_ERROR",(T=f.MobileResetPasswordServerErrorCode||(f.MobileResetPasswordServerErrorCode={}))[T.OK=0]="OK",T[T.MOBILE_NOT_EXIST=2]="MOBILE_NOT_EXIST",T[T.INVALID_PASSWORD=4]="INVALID_PASSWORD",T[T.SMS_EXPIRED=7]="SMS_EXPIRED",T[T.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",T[T.ACCOUNT_BANNED=10]="ACCOUNT_BANNED",(A=f.REGISTER_ERROR_CODE||(f.REGISTER_ERROR_CODE={}))[A.OK=0]="OK",A[A.EMAIL_EXISTS=1]="EMAIL_EXISTS",A[A.INVALID_PASSWORD=4]="INVALID_PASSWORD",A[A.REGISTER_FROM_MAINLAND=6]="REGISTER_FROM_MAINLAND",A[A.EMAIL_EXPIRED=7]="EMAIL_EXPIRED",A[A.EMAIL_PASSCODE_FAILED=8]="EMAIL_PASSCODE_FAILED",A[A.EMAIL_DOMAIN_NOT_SUPPORTED=9]="EMAIL_DOMAIN_NOT_SUPPORTED",(j=f.UNREGISTER_ERROR_CODE||(f.UNREGISTER_ERROR_CODE={}))[j.OK=0]="OK",j[j.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",j[j.DELETE_IDENTITY_TOO_FREQUENT=2]="DELETE_IDENTITY_TOO_FREQUENT",j[j.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",(k=f.REBIND_MOBILE_START_BIZ_CODE||(f.REBIND_MOBILE_START_BIZ_CODE={}))[k.OK=0]="OK",k[k.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",k[k.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",k[k.ACCOUNT_HAS_NO_MOBILE=3]="ACCOUNT_HAS_NO_MOBILE",k[k.CANNOT_REBIND=4]="CANNOT_REBIND",(M=f.REBIND_MOBILE_FINISH_BIZ_CODE||(f.REBIND_MOBILE_FINISH_BIZ_CODE={}))[M.OK=0]="OK",M[M.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",M[M.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",M[M.INVALID_TICKET=3]="INVALID_TICKET",M[M.NEW_MOBILE_SMS_EXPIRED=4]="NEW_MOBILE_SMS_EXPIRED",M[M.NEW_MOBILE_SMS_VERIFY_FAILED=5]="NEW_MOBILE_SMS_VERIFY_FAILED",M[M.RISK_DEVICE_DETECTED=6]="RISK_DEVICE_DETECTED",M[M.NEW_MOBILE_ALREADY_ON_ANOTHER_ACCOUNT=7]="NEW_MOBILE_ALREADY_ON_ANOTHER_ACCOUNT",(R=f.REGISTER_BY_MOBILE_ERROR_CODE||(f.REGISTER_BY_MOBILE_ERROR_CODE={}))[R.OK=0]="OK",R[R.MOBILE_ALREADY_REGISTER=3]="MOBILE_ALREADY_REGISTER",R[R.PASSWORD_TOO_SHORT_OR_TOO_LONG=4]="PASSWORD_TOO_SHORT_OR_TOO_LONG",R[R.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=6]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",R[R.SMS_EXPIRED=7]="SMS_EXPIRED",R[R.SMS_VERIFY_FAILED=8]="SMS_VERIFY_FAILED",(N=f.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE||(f.OAUTH_WECHAT_MOBILE_VERIFICATION_ERROR_CODE={}))[N.OK=0]="OK",N[N.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",N[N.REGISTRATION_EXPIRED=2]="REGISTRATION_EXPIRED",N[N.GET_PROFILE_FAILED=3]="GET_PROFILE_FAILED",N[N.SMS_VERIFY_FAILED=4]="SMS_VERIFY_FAILED",N[N.SMS_EXPIRED=5]="SMS_EXPIRED",N[N.MOBILE_PHONE_NUMBER_BANNED=6]="MOBILE_PHONE_NUMBER_BANNED",N[N.INTERNAL_SERVER_ERROR=7]="INTERNAL_SERVER_ERROR",N[N.MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT=8]="MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT",N[N.OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE=9]="OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE",N[N.MOBILE_PHONE_NUMBER_INVALID=10]="MOBILE_PHONE_NUMBER_INVALID",(O=f.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE||(f.OAUTH_WECHAT_MOBILE_VERIFICATION_OK_CODE={}))[O.BOUND_WECHAT_TO_EXISTING_MOBILE=1e3]="BOUND_WECHAT_TO_EXISTING_MOBILE",O[O.REGISTERED_WECHAT_AND_MOBILE=1001]="REGISTERED_WECHAT_AND_MOBILE",(L=f.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE||(f.OAUTH_APPLE_MOBILE_VERIFICATION_BIZ_CODE={}))[L.OK=0]="OK",L[L.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",L[L.REGISTRATION_EXPIRED=2]="REGISTRATION_EXPIRED",L[L.SMS_VERIFY_FAILED=4]="SMS_VERIFY_FAILED",L[L.SMS_EXPIRED=5]="SMS_EXPIRED",L[L.MOBILE_PHONE_NUMBER_BANNED=6]="MOBILE_PHONE_NUMBER_BANNED",L[L.MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT=8]="MOBILE_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT",L[L.OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE=9]="OAUTH_ACCOUNT_ALREADY_BOUND_MOBILE",L[L.MOBILE_PHONE_NUMBER_INVALID=10]="MOBILE_PHONE_NUMBER_INVALID",(F=f.OAUTH_APPLE_MOBILE_VERIFICATION_OK_CODE||(f.OAUTH_APPLE_MOBILE_VERIFICATION_OK_CODE={}))[F.BOUND_APPLE_TO_EXISTING_MOBILE=1e3]="BOUND_APPLE_TO_EXISTING_MOBILE",F[F.REGISTERED_APPLE_AND_MOBILE=1001]="REGISTERED_APPLE_AND_MOBILE",(P=f.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE||(f.OAUTH_GOOGLE_CALLBACK_ERROR_MESSAGE_CODE={}))[P.SWAP_CODE_INVALID=2]="SWAP_CODE_INVALID",P[P.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",P[P.EMAIL_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT=5]="EMAIL_ACCOUNT_ALREADY_HAS_OAUTH_ACCOUNT",P[P.OAUTH_ACCOUNT_ALREADY_BOUND_EMAIL=6]="OAUTH_ACCOUNT_ALREADY_BOUND_EMAIL",P[P.RISK_DEVICE_DETECTED=11]="RISK_DEVICE_DETECTED",P[P.REGISTER_FROM_MAINLAND=12]="REGISTER_FROM_MAINLAND",P[P.UNEXCEPTED_ERROR=99]="UNEXCEPTED_ERROR",(D=f.OAUTH_WECHAT_CALLBACK_ERROR_MESSAGE_CODE||(f.OAUTH_WECHAT_CALLBACK_ERROR_MESSAGE_CODE={}))[D.SWAP_CODE_INVALID=2]="SWAP_CODE_INVALID",D[D.ACCOUNT_BANNED=4]="ACCOUNT_BANNED",D[D.UNEXCEPTED_ERROR=99]="UNEXCEPTED_ERROR",(B=f.MINIPROGRAM_LOGIN_ERROR_CODE||(f.MINIPROGRAM_LOGIN_ERROR_CODE={}))[B.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",B[B.NEED_BIND_MOBILE=1]="NEED_BIND_MOBILE",B[B.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",B[B.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",(V=f.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE||(f.MINIPROGRAM_MOBILE_VERIFICATION_ERROR_CODE={}))[V.LOGIN_SUCCESS=0]="LOGIN_SUCCESS",V[V.ACCOUNT_ALREADY_EXISTS=1]="ACCOUNT_ALREADY_EXISTS",V[V.MOBILE_PHONE_NUMBER_BANNED=2]="MOBILE_PHONE_NUMBER_BANNED",V[V.CODE2SESSION_ERROR=3]="CODE2SESSION_ERROR",V[V.GET_PHONE_NUMBER_ERROR=4]="GET_PHONE_NUMBER_ERROR",V[V.MOBILE_ACCOUNT_ALREADY_HAS_WECHAT=5]="MOBILE_ACCOUNT_ALREADY_HAS_WECHAT",V[V.WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE=6]="WECHAT_ACCOUNT_ALREADY_BOUND_MOBILE",V[V.ONLY_SUPPORT_REGISTER_FROM_MAINLAND=7]="ONLY_SUPPORT_REGISTER_FROM_MAINLAND",(H=f.OAUTH_WECHAT_BIND_BIZ_CODE||(f.OAUTH_WECHAT_BIND_BIZ_CODE={}))[H.OK=0]="OK",H[H.INVALID_CODE=1]="INVALID_CODE",H[H.ACCOUNT_NOT_FOUND=2]="ACCOUNT_NOT_FOUND",H[H.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",H[H.NEW_WECHAT_ALREADY_ON_ANOTHER_ACCOUNT=4]="NEW_WECHAT_ALREADY_ON_ANOTHER_ACCOUNT",H[H.ACCOUNT_ALREADY_HAS_WECHAT=5]="ACCOUNT_ALREADY_HAS_WECHAT",(U=f.OAUTH_WECHAT_UNBIND_BIZ_CODE||(f.OAUTH_WECHAT_UNBIND_BIZ_CODE={}))[U.OK=0]="OK",U[U.ACCOUNT_NOT_FOUND=1]="ACCOUNT_NOT_FOUND",U[U.ACCOUNT_BANNED=2]="ACCOUNT_BANNED",U[U.WECHAT_NOT_BOUND=3]="WECHAT_NOT_BOUND",U[U.CANNOT_BIND=6]="CANNOT_BIND",(W=f.OAUTH_APPLE_LOGIN_BIZ_CODE||(f.OAUTH_APPLE_LOGIN_BIZ_CODE={}))[W.OK=0]="OK",W[W.NEED_BIND_MOBILE=1]="NEED_BIND_MOBILE",W[W.TOKEN_VERIFY_FAILED=2]="TOKEN_VERIFY_FAILED",W[W.ACCOUNT_BANNED=3]="ACCOUNT_BANNED",W[W.EMAIL_ACCOUNT_ALREADY_HAS_APPLE_ACCOUNT=8]="EMAIL_ACCOUNT_ALREADY_HAS_APPLE_ACCOUNT",W[W.APPLE_ACCOUNT_ALREADY_BOUND_OTHER_EMAIL=9]="APPLE_ACCOUNT_ALREADY_BOUND_OTHER_EMAIL",W[W.USER_IS_BANNED=10]="USER_IS_BANNED",W[W.RISK_DEVICE_DETECTED=11]="RISK_DEVICE_DETECTED",n(42551);var f,C,v,b,_,S,E,x,y,w,I,T,A,j,k,M,R,N,O,L,F,P,D,B,V,H,U,W,z,G=n(25611);async function K(e){let{baseUrl:t,http:n}=e,{json:a,context:s}=await n.http.post("".concat(t,"/rebind_mobile/start"),{json:{}});if(a.data.biz_code!==z.REBIND_MOBILE_START_BIZ_CODE.OK)throw new G.Q(a.data.biz_code,a.data.biz_msg);if(!a.data.biz_data)throw Error("should never happen");return{data:{oldMobileNumber:a.data.biz_data.old_mobile_number,ticket:a.data.biz_data.ticket},context:s}}async function q(e,t,n){var a;let{baseUrl:s,http:r}=t,{json:o,context:i}=await r.http.post("".concat(s,"/rebind_mobile/finish"),{json:{ticket:e.ticket,new_mobile_sms_verification_code:e.newMobileSmsVerificationCode,device_id:e.deviceId,os:"web",new_mobile_number:e.newMobileNumber}});if(o.data.biz_code!==z.REBIND_MOBILE_FINISH_BIZ_CODE.OK||(null==(a=o.data.biz_data)?void 0:a.user)==null)throw new G.Q(o.data.biz_code,o.data.biz_msg);return{data:{user:n(o.data.biz_data.user)},context:i}}n(59587);var Z=n(26848);async function Q(e,t){let{baseUrl:n,http:a}=t,s=await a.http.post("".concat(n,"/unregister")),r=s.json.data.biz_code;switch(r){case z.UNREGISTER_ERROR_CODE.OK:return"OK";case z.UNREGISTER_ERROR_CODE.DELETE_IDENTITY_TOO_FREQUENT:return"TOO_FREQUENT";case z.UNREGISTER_ERROR_CODE.ACCOUNT_BANNED:return"ACCOUNT_BANNED";case z.UNREGISTER_ERROR_CODE.ACCOUNT_NOT_FOUND:throw Error("Account not found, ".concat(JSON.stringify(s.json.data)));default:throw(0,Z.s)(r),Error("Unknown unregister error, ".concat(JSON.stringify(s.json.data)))}}async function Y(e,t){let{http:n,baseUrl:a}=t;return n.http.post("".concat(a,"/logout")).then(e=>{let{context:t}=e;return{data:null,context:t}})}function X(e,t,n){let{http:a,baseUrl:s}=t;return a.http.get("".concat(s,"/current")).then(e=>{let{json:{data:t},context:a}=e;return{data:{user:n(t.biz_data)},context:a}})}function J(e,t,n){let{baseUrl:a,http:s}=t;return s.http.post("".concat(a,"/oauth/wechat/mobile_verification"),{json:{signature:e.signature,area_code:e.areaCode,mobile_number:e.mobilePhoneNumber,sms_verification_code:e.smsVerificationCode}}).then(e=>{var t,a;let{json:{data:s},context:r}=e;return{data:{code:s.biz_code,user:n((null==(t=s.biz_data)?void 0:t.user)||null),successCode:(null==(a=s.biz_data)?void 0:a.biz_code)||null},context:r}})}async function $(e,t,n){var a,s;let{baseUrl:r,http:o}=t,{json:i,context:l}=await o.http.post("".concat(r,"/oauth/apple/mobile_verification"),{json:{signature:e.signature,area_code:e.areaCode,mobile_number:e.mobilePhoneNumber,sms_verification_code:e.smsVerificationCode}});return{data:{code:i.data.biz_code,user:(null==(a=i.data.biz_data)?void 0:a.user)?n(i.data.biz_data.user):null,successCode:(null==(s=i.data.biz_data)?void 0:s.status_code)||null},context:l}}async function ee(e,t,n){var a;let{baseUrl:s,http:r}=t,{json:o,context:i}=await r.http.post("".concat(s,"/oauth/wechat/bind"),{json:{code:e.code,channel:"web"}});return{data:{code:o.data.biz_code,user:(null==(a=o.data.biz_data)?void 0:a.user)?n(o.data.biz_data.user):null},context:i}}async function et(e,t){var n;let{baseUrl:a,http:s}=e,{json:r,context:o}=await s.http.post("".concat(a,"/oauth/wechat/unbind"));return{data:{code:r.data.biz_code,user:t(null==(n=r.data.biz_data)?void 0:n.user)},context:o}}n(95266),n(71060),n(40966);var en=n(42587);let ea=["/v0/users/register","/v0/users/register_by_mobile","/v0/users/login_by_mobile_sms","/api/v0/users/create_sms_verification_code","/api/v0/users/create_email_verification_code"],es=(a=null,e=>(a||(a=new en.Y_({getChallengeApi:e.getChallengeApi,getTracker:e.getTracker,solveChallenge:e.solveChallenge})),a)),er=e=>async t=>{let n=t.url;if(!n||!ea.some(e=>n.includes(e)))return;let{getHttpService:a,getTracker:s,showErrorToast:r,getChallengeUrl:o,solveChallenge:i,encoder:l}=e,c=es({getChallengeApi:async e=>{let{url:t}=e,n=a(),s=(await n.http({method:"POST",url:o,json:{target_path:t}})).json,r=s.data.biz_data;if("guest_challenge"in r)return eo(r.guest_challenge);throw Error("guest_challenge not found:\n"+JSON.stringify(s))},getTracker:s,solveChallenge:i});try{let{challengeResponse:e}=await c.getChallengeAndSolve({url:n});t.headers=t.headers||{};let[a,s]=(0,en.fg)(e,l);t.headers[a]=s}catch(e){r(e,n)}},eo=e=>({...e,expireAt:e.expire_at,expireAfter:e.expire_after})},33327:function(e,t,n){"use strict";n.r(t),n.d(t,{availableLocales:()=>a});let a=["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fi","fil","fr","fr_CA","gl","gu","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","vi","zu"]},42668:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r,en_US:()=>s});var a=n(57713);let s={appleMobileVerificationAppleBoundToast:"Verification failed. The Apple ID is bound with another phone number.",appleMobileVerificationMobileBoundToast:"Verification failed. The phone number is bound with another Apple ID.",appleMobileVerificationRegistrationExpiredToast:"Verification failed. Current third-party registration has expired.",appleSignIn:"Login with Apple ID",appleSignInAccountAlreadyBoundOtherEmailToast:"Login failed, the Apple account has been bound to another email.",appleSignInAccountAlreadyHasAppleAccountToast:"Login failed, the DeepSeek account is already bound to another Apple account.",appleSignInPopupBlockedToast:"The browser blocked the sign-in pop-up. Enable pop-ups and try again.",appleSignInSDKLoadFailedToast:"Login failed. The Apple SDK failed to load. Please try again later.",appleSignInTokenVerifiedFailedToast:"Login failed. The Apple account didn’t provide an email address.",bannedPageBackToHome:"Go Home",bannedPageSlogan:"Your account was suspended due to violation of our policies. Refer to [FAQ](https://api-docs.deepseek.com/faq).",bindWechatAccountBoundError:"Bind failed. This WeChat account is already bound to another account.",bindWechatAlreadyBoundError:"Bind failed. This account is already bound to WeChat.",bindWechatBind:"Bind",bindWechatBindFailed:"Bind failed. Please try again later.",bindWechatBindSuccess:"Bound successfully.",bindWechatConfirmUnbind:"Confirm unbind",bindWechatFallbackToast:e=>"Bind failed. Please try again later (B".concat(e,")"),bindWechatLoadFailed:e=>(0,a.jsxs)(a.Fragment,{children:["Failed to load, you can ",e,"."]}),bindWechatLoadFailedRetryButton:"retry loading",bindWechatPromoDescription:"Once bound, you can log in to DeepSeek with WeChat.",bindWechatPromoTitle:"Bind your WeChat account for easier login.",bindWechatStatusBound:"Bound",bindWechatStatusUnbound:"Unbound",bindWechatUnbind:"Unbind",bindWechatUnbindDescription:e=>"After unbinding, you won’t be able to log in with this WeChat account (".concat(e,")."),bindWechatUnbindFailed:"Unbind failed. Please try again later.",bindWechatUnbindNotBoundError:"Unbind failed. This account is not bound to WeChat.",bindWechatUnbindSuccess:"Unbound successfully.",bindWechatUnbindTitle:"Unbind WeChat account?",checkCodeFallbackToast:e=>"Verification failed. Please try again later (B".concat(e,")"),commonInvalidTokenToast:"You have signed out of your account, please log in again.",commonMobileNumberVerificationToast:"please verify your phone number.",commonUnderAuditingToast:"Your account is under review.",commonUserIsBannedToast:"Your account was suspended due to violation of our policies.",contactUsButton:"Contact us",createCodeFallbackToast:e=>"Send failed. Please try again later (B".concat(e,")"),deleteAccount:"Delete account",deleteAccountFailedToast:"Failed to delete account.",deleteAccountFrequentFailToast:"Account deletion failed. Frequent deletion attempts detected. Please try again later.",deleteAccountInputConfirm:e=>"To verify, please type **".concat(e,"** below:"),deleteAccountModalCancel:"Cancel",deleteAccountModalConfirm:"Confirm delete my account",deleteAccountModalConfirmText:"DELETE MY ACCOUNT",deleteAccountModalTitle:"Delete account?",deleteAccountOkToast:"Account deleted successfully.",deleteAccountSettingDialogButton:"Delete",deleteAccountWarnFrequencyDesc:"Frequent account deletion and re-registration may be flagged as abnormal activity, which could lead to restrictions or permanent bans.",deleteAccountWarnFrequencyTitle:"Avoid repeated deletions",deleteAccountWarnLostDataDesc:"All chat history will be permanently deleted. Any unused balance in your developer account will be forfeited upon deletion.",deleteAccountWarnLostDataTitle:"Your data cannot be recovered",deleteAccountWarnNoServiceDesc:"You will no longer be able to access DeepSeek’s services, including chat and the developer platform.",deleteAccountWarnNoServiceTitle:"Service access will be revoked",emailAddressCopied:"Email address copied to clipboard",emailCodeCloudErrorToast:"Sorry! We're having trouble sending you an email right now. Please try again later.",emailCodeFrequentToast:"Only one verification code can be sent within one minute.",emailDomainNotInWhitelistToast:"Error sending code. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",emailFormatErrorToast:"Email is invalid.",exectionEnvironmentExecptionToast:"Current device environment error. Please try a different environment.",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"Scan QR code to contact us.",forgotPassword:"Forgot password?",forgotPasswordBackToSignIn:"Back to log in",forgotPasswordButton:"Reset password",forgotPasswordCheckCodeFailedToast:"Verification failed. Please try again.",forgotPasswordCodeExpiredToast:"The code has expired. Please try again.",forgotPasswordCodeInvalidToast:"Invalid code. Please try again.",forgotPasswordConfirmPasswordInputPlaceholder:"Confirm new password",forgotPasswordDescription:"Enter your email address and we will send you a verification code to reset your password.",forgotPasswordDescriptionCn:"Enter your phone number and we will send you a verification code to reset your password.",forgotPasswordFailedCodeExpiredToast:"Password reset failed as the reset time has expired. Please go back and try again.",forgotPasswordFailedCodeVerifyFailedToast:"Invalid code. Please try again.",forgotPasswordFailedEmailNotExistToast1:"The email address is not registered. Please try again.",forgotPasswordFailedEmailNotExistToast2:"Password reset failed as the email address is not registered. Please go back and try again.",forgotPasswordFailedMobileNotExistToast1:"The phone number is not registered. Please try again.",forgotPasswordFailedMobileNotExistToast2:"Password reset failed as the phone number is not registered. Please go back and try again.",forgotPasswordFailedToast:"Password reset failed. Please try again.",forgotPasswordGeneralDescription:"Enter your phone number or email address and we will send you a verification code to reset your password.",forgotPasswordGetBack:"Get back",forgotPasswordInputPlaceholder:"Email address / +86 phone number",forgotPasswordInvalidPasswordToast:"Password is invalid. Please try again.",forgotPasswordNewPasswordDescription:e=>"Enter a new password below to change your password for ".concat(e,"."),forgotPasswordNextStepButton:"Continue",forgotPasswordOkToast:"Your password has been changed successfully. Redirecting...",forgotPasswordPasswordInputPlaceholder:"New password",forgotPasswordSecondaryDescription:"Your new password will apply to all DeepSeek services.",forgotPasswordTitle:"Reset password",googleFallbackToast:e=>"Google login failed. Please try again later (B".concat(e,")"),googleSignInFail56:e=>"Google login failed. Please try another account or a different login method (B".concat(e,")."),googleSignInFromMainlandToast:"Please use other methods to register/login if you are in Chinese Mainland.",goToSignIn:"Log in",goToSignUp:"Sign up",hcaptchaLoadFailToast:"Captcha failed to load, please refresh and try again",inputEmail:"Email address",inputEmailVerificationCode:"Code",inputMobilePhoneNumber:"Phone number",inputPassword:"Password",inputPasswordAgain:"Confirm password",inputSmsVerificationCode:"Code",loginAccountBannedToast:"Your account was suspended due to violation of our policies.",loginFallbackToast:e=>"Login failed. Please try again later (B".concat(e,")"),mainlandLoginWaysTip:"Only login via phone number, WeChat, email is supported in your region.",mainlandSignUpWaysTip:"Only phone number registration is supported in your region. ",mobileCodeAlreadyBoundToast:"This phone number has been bound.",mobileCodeAlreadyVerifiedToast:"The account is already bound with a phone number.",mobileCodeCloudErrorToast:"Sorry! We're having trouble sending you a message right now. Please try again later.",mobileCodeFrequentToast:"Only one verification code can be sent within one minute.",mobileVerficationFormAccountAlreadyExistsErrorToast:"Binding failed, this phone number has been bound.",mobileVerficationFormDescription:"To ensure account security, please bind your phone number upon first login.",mobileVerficationFormExistingMobileOkToast:"Login successfully.",mobileVerficationFormGetProfileFailedErrorToast:"Binding failed, unable to obtain WeChat account information.",mobileVerficationFormInvalidAddrToast:"Invalid URL detected, please rescan the QR code for authorization.",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"Bind failed, the account bound with this phone number has been banned.",mobileVerficationFormNewMobileOkToast:"Login successfully.",mobileVerficationFormRegistrationExpiredErrorToast:"Bind failed, please rescan the QR code for authorization.",mobileVerficationFormSmsExpiredCodeErrorToast:"The code has expired. Please try again.",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"Invalid code. Please try again.",mobileVerficationFormSubmitButton:"Submit",mobileVerficationFormTitle:"Bind phone number",mobileVerficationFormUnknownErrorToast:"Sorry! We're having trouble during binding. Please try again later.",mobileVerificationInvalidPhoneNumberToast:"Verification failed. Phone number is invalid.",operationFailed:"Operation failed, please try again later.",overseaLoginWaysTip:"Only login via email, Google, or +86 phone number login is supported in your region.",overseaSignUpWaysTip:"Only email registration is supported in your region. ",passwordSignInAcknowledgement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),privacyPolicy:"Privacy Policy",privacyPolicyFile:"DeepSeek Privacy Policy.html",rebindFallbackToast:e=>"Change failed. Please try again later (B".concat(e,")"),rebindMobileAlreadyBoundError:"This phone number is bound to another account. Please use an unregistered or deactivated number.",rebindMobileCancel:"Cancel",rebindMobileChange:"Change",rebindMobileChangeButton:"Change",rebindMobileChangeSuccess:"Change successful.",rebindMobileContinue:"Continue",rebindMobileDescriptionS1:e=>"Your current phone number is ".concat(e,". After changing, you will no longer be able to log in with this number.\n"),rebindMobileDescriptionS2Bold:"Your Open Platform balance, as well as your chat history on web and app, will be transferred to the new number.",rebindMobileDescriptionS3:"If you don’t want your history to be transferred, please delete all chats before changing.",rebindMobilePhoneNumber:"Phone number",rebindMobileTitle:"Change bound phone number?",rebindMobileToastSameNumber:"New phone number must be different from the current one.",rebindMobileVerifyCurrent:"Verify current phone number",rebindMobileVerifyNew:"Verify new phone number",registerAgreementCheckboxEmptyError:"Please check the checkbox to continue.",registerConfirmPasswordEmptyError:"Please re-enter your password for confirmation.",registerDescription:"One DeepSeek account is all you need to access to all DeepSeek services.",registerEmailDomainNotSupportedToast:"Registration failed. Email domain not supported. Please use a global email service like Gmail, Outlook, or Yahoo.",registerEmailEmptyError:"Please enter your email address.",registerEmailExistToast:"Email already registered. You can sign in or reset your password.",registerEmailInputInvalidError:"Email is invalid.",registerEmailPasscodeFailedToast:"Invalid code. Please try again.",registerFallbackToast:e=>"Registration failed. Please try again later (B".concat(e,")"),registerInvalidPasswordToast:"Password is invalid.",registerMobileEmptyError:"Please enter your phone number.",registerMobileExistToast:"Phone number is registered.",registerMobileInputInvalidError:"Please enter a valid phone number.",registerPasswordCodeExpiredToast:"The code has expired. Please try again.",registerPasswordEmptyError:"Please enter your password.",registerPasswordInvalidError:"Password contains invalid characters.",registerPasswordLengthError:"Password must be between 8 and 50 characters.",registerPasswordNotMatchError:"Password doesn't match.",registerRegisterFromMainlandToast:"Please use other methods to register/login if you are not in Chinese Mainland.",registerVerificationCodeEmptyError:"Please enter the verification code.",registerVerificationCodeInvalidError:"Code is invalid",requestTooFrequentToast:"Too many requests. Please try again later.",resetPasswordFallbackToast:e=>"Password reset failed. Please try again later (B".concat(e,")"),sendVerificationCode:"Send code",serviceStatus:"Service Status",signIn:"Log in",signInAgreement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,"."]}),signInBySmsAgreement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["I confirm that I have read, consent and agree to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),signInDividerOr:"OR",signInEmailAndPhoneEmptyError:"Please enter the phone number / email address.",signInEmailAndPhoneInvalidError:"Please enter a valid phone number / email address.",signInEmailAndPhonePlaceholder:"Phone number / email address",signInFailed:"Login failed.",signInFormTabByPasswordOption:"Password login",signInFormTabBySmsOption:"Code login",signInOk:"Login successfully.",signInPasswordEmailErrorToast:"Your password is incorrect or this account doesn't exist. Please check and try again",signInPasswordEmptyError:"Please enter your password.",signInUserIsBannedToast:"As a result of violations, your account has been suspended.",signInWithGoogle:"Log in with Google",signInWithGoogleFailedToast:"Sorry! There's an issue with the Google login service. Please try again later.",signInWithGoogleGetProfileFailedToast:"Sorry! We're having trouble fetching user information from Google. Please try again later.",signInWithGoogleNetworkFailedToast:"Sorry! We're having trouble connecting to the Google server. Please try again later.",signInWithGoogleSwapCodeFailedToast:"Sorry! Google login request was unsuccessful. Please try again later.",signInWithWechat:"Log in with WeChat",signInWithWechatAgreement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["By scanning the QR code, I confirm that I have read, consent and agree to DeepSeek's"," ",e,"\xa0 and ",t,"."]}),signInWithWechatFailedToast:"Sorry! There's an issue with the WeChat login service. Please try again later.",signInWithWechatGetProfileFailedToast:"Sorry! We're having trouble fetching user information from WeChat. Please try again later.",signInWithWechatNetworkFailedToast:"Sorry! We're having trouble connecting to the WeChat server. Please try again later.",signInWithWechatQRcodeDialogDescription:"Scan with Wechat to login",signInWithWechatSwapCodeFailedToast:"Sorry! WeChat login request failed. Please try again later.",signUp:"Sign up",signUpAcknowledgement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["By signing up, you consent to DeepSeek's ",e,"\xa0 and ",t,"."]}),signUpByMobileOkToast:"Sign up successfully.",signUpFailedToast:"Sign up failed.",signUpOkToast:"Sign up successfully.",smsSignInAcknowledgement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["By signing up or logging in, you consent to DeepSeek's ",e,"\xa0 and ",t,". New phone numbers will be automatically registered."]}),submitApplication:"Submit application",termsOfUse:"Terms of Use",termsOfUseFile:"DeepSeek Terms of Use.html",unbindWechatFallbackToast:e=>"Unbind failed. Please try again later (B".concat(e,")"),underAuditingDescription:"Under review, please wait for a moment.",unregisterFallbackToast:e=>"Account deletion failed. Please try again later (B".concat(e,")"),userIsBannedToast:"As a result of violations, your account has been temporarily suspended.",validateMobileNumberAlreadyBoundToast:"This phone number has been bound.",validateMobileNumberAlreadyVerifiedToast:"The account is already bound with a phone number.",validateMobileNumberBackToSignIn:"Back to log in",validateMobileNumberBindFailedToast:"Bind failed.",validateMobileNumberEmptyError:"Please select at least one usage.",validateMobileNumberEmptyFeedback:"Please enter a phone number.",validateMobileNumberInvalidMobileFeedback:"Please enter a valid phone number.",validateMobileNumberInvalidToast:"Phone number is invalid.",validateMobileNumberNotMobileFeedback:"This phone number format is not recognized. Please check.",validateMobileNumberOkToast:"Bind successfully.",validateMobileNumberOkToast2:"Verification successful.",validateMobileNumberUnknownErrorToast:"Verification failed. Please try again.",validateMobileNumberUsage1:"Business",validateMobileNumberUsage2:"Scientific research",validateMobileNumberUsage3:"Entertainment",validateMobileNumberUsage4:"Others",validateMobileNumberUsageLabel:"Usage",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"The code has expired. Please try again.",validateMobileNumberVerificationCodeIncorrectToast:"Invalid code. Please try again.",validateMobileNumberVerificationCodeInvalidToast:"Verification code is invalid.",verificationCodeCountDown:e=>"Resend after ".concat(e,"s"),verificationCodeSentFailed:"Sorry! We're having trouble sending you a verification code right now. Please try again later.",verificationEmailCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,".\nPlease check your inbox and spam folder."),verificationSmsCodeSentSuccessfully:e=>"A verification code has been sent to ".concat(e,"."),verifyPhoneModalBackButton:"Back",verifyPhoneModalCallingCodeInputPlaceholder:"Area",verifyPhoneModalCodeInputLabel:e=>"Enter the code we just sent you(".concat(e,"). There might be a slight delay in receiving the SMS code."),verifyPhoneModalCodeInputPlaceholder:"SMS code",verifyPhoneModalPhoneInputLabel:"Verify your phone number to get started with 5 million tokens for free.",verifyPhoneModalPhoneInputPlaceholder:"Phone number",verifyPhoneModalSendCodeButton:"Send code",verifyPhoneModalSendCodeCountdownButton:e=>"Send code (".concat(e,"S)"),verifyPhoneModalTitle:"Verify mobile phone",verifyPhoneModalVerifyButton:"Verify",wechat:"WeChat",wechatFallbackToast:e=>"Wechat login failed. Please try again later (B".concat(e,")"),wechatMobileVerificationMobileBoundToast:"Verification failed. The phone number is bound with another WeChat account.",wechatMobileVerificationWeChatBoundToast:"Verification failed. The WeChat account is bound with another phone number."},r=s},72337:function(e,t,n){"use strict";n.r(t),n.d(t,{ensureTranslateComponent:()=>p,getTranslate:()=>m,useTranslate:()=>h,useTranslateWithLocale:()=>u}),n(40966);var a=n(11285),s=n(84078),r=n(42668),o=n(25452),i=n(33327);let l={zh_CN:s.zh_CN,en_US:r.en_US},c=n(70120);(0,o.h2)(async e=>{let t=(await c("./".concat(e,".js"))).default;l[e]=t},i.availableLocales);let d={};function u(){return(0,a.useCallback)((e,t)=>{var n;return(null!=(n=l[t])?n:l.en_US)[e]},[])}function h(e){return(0,a.useCallback)(t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]},[e])}function p(e,t){return d[e]?d[e]:d[e]=function(n){let{args:a}=n,s=m(t())(e);return"string"==typeof s?s:s(...a)}}function m(e){return t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]}}},84078:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r,zh_CN:()=>s});var a=n(57713);let s={appleMobileVerificationAppleBoundToast:"验证失败，该 Apple 账号已绑定其他手机号",appleMobileVerificationMobileBoundToast:"验证失败，该手机号已绑定其他 Apple 账号",appleMobileVerificationRegistrationExpiredToast:"验证失败，本次第三方登录已过期",appleSignIn:"使用 Apple ID 登录",appleSignInAccountAlreadyBoundOtherEmailToast:"登录失败，Apple 账户已被其他邮箱绑定",appleSignInAccountAlreadyHasAppleAccountToast:"登录失败，该 DeepSeek 账户已绑定其他苹果账户",appleSignInPopupBlockedToast:"登录弹窗已被浏览器拦截，请允许弹窗后重试",appleSignInSDKLoadFailedToast:"登录失败，Apple SDK 未加载成功，请稍后再试",appleSignInTokenVerifiedFailedToast:"登录失败，Apple 账号未提供邮箱信息",bannedPageBackToHome:"回到首页",bannedPageSlogan:"由于违反用户使用规范，你的账户已被停用，如有疑问请查看[常见问题](https://api-docs.deepseek.com/zh-cn/faq)。",bindWechatAccountBoundError:"绑定失败，该微信号已被其他账号绑定",bindWechatAlreadyBoundError:"绑定失败，该账号已绑定微信",bindWechatBind:"绑定",bindWechatBindFailed:"绑定失败，请稍后再试",bindWechatBindSuccess:"绑定成功",bindWechatConfirmUnbind:"确认解绑",bindWechatFallbackToast:e=>"绑定失败，请稍后再试 (B".concat(e,")"),bindWechatLoadFailed:e=>(0,a.jsxs)(a.Fragment,{children:["加载失败，你可以 ",e]}),bindWechatLoadFailedRetryButton:"重试加载",bindWechatPromoDescription:"绑定微信账号后，你可以通过微信登录 DeepSeek。",bindWechatPromoTitle:"绑定微信账号，登录更便捷",bindWechatStatusBound:"已绑定",bindWechatStatusUnbound:"未绑定",bindWechatUnbind:"解绑",bindWechatUnbindDescription:e=>"解除绑定后，你将不能通过该微信账号（".concat(e,"）登录 DeepSeek。"),bindWechatUnbindFailed:"解绑失败，请稍后再试",bindWechatUnbindNotBoundError:"解绑失败，该账号未绑定微信",bindWechatUnbindSuccess:"解绑成功",bindWechatUnbindTitle:"解除微信账号绑定？",checkCodeFallbackToast:e=>"验证失败，请稍后再试 (B".concat(e,")"),commonInvalidTokenToast:"登录信息已失效，请重新登录",commonMobileNumberVerificationToast:"请完成实名认证",commonUnderAuditingToast:"你的账户正在审核中",commonUserIsBannedToast:"由于违反用户使用规范，你的账户已被停用",contactUsButton:"联系我们",createCodeFallbackToast:e=>"发送失败，请稍后再试 (B".concat(e,")"),deleteAccount:"注销账号",deleteAccountFailedToast:"账号注销失败",deleteAccountFrequentFailToast:"注销失败，近期你的注销操作过于频繁，请稍后再试。",deleteAccountInputConfirm:e=>"请在输入框中输入 **".concat(e,"**："),deleteAccountModalCancel:"取消",deleteAccountModalConfirm:"确认注销",deleteAccountModalConfirmText:"确认注销我的账号",deleteAccountModalTitle:"确认注销账号？",deleteAccountOkToast:"账号注销成功",deleteAccountSettingDialogButton:"注销",deleteAccountWarnFrequencyDesc:"频繁重复注销可能会被系统判定为异常行为，导致账号受限或永久封禁。",deleteAccountWarnFrequencyTitle:"请勿频繁重复注销",deleteAccountWarnLostDataDesc:"当前账号的所有历史对话将会被删除。如您的开放平台账户中尚有未消费的充值余额，注销即视为放弃余额。",deleteAccountWarnLostDataTitle:"账号内容无法恢复",deleteAccountWarnNoServiceDesc:"账号一经注销，您将无法访问 DeepSeek 的所有服务，包括对话服务和开放平台。",deleteAccountWarnNoServiceTitle:"服务将无法访问",emailAddressCopied:"邮箱已复制到剪贴板",emailCodeCloudErrorToast:"邮箱服务出现异常，请稍后再试",emailCodeFrequentToast:"1 分钟内仅能发送一次验证码",emailDomainNotInWhitelistToast:"验证码发送失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",emailFormatErrorToast:"邮箱格式不正确",exectionEnvironmentExecptionToast:"当前设备运行环境异常，请尝试更换环境",footerGongAnLink:"https://beian.mps.gov.cn/#/query/webSearch?code=33010502011812",footerGongAnTitle:"浙公网安备 33010502011812 号",footerICPLink:"https://beian.miit.gov.cn",footerICPTitle:"浙ICP备2023025841号",footerWechatQRCodeImageLink:"https://cdn.deepseek.com/platform/service_wechat.jpg",footerWechatQRCodeTip:"扫码联系我们",forgotPassword:"忘记密码",forgotPasswordBackToSignIn:"返回登录",forgotPasswordButton:"重置密码",forgotPasswordCheckCodeFailedToast:"验证失败，请重试",forgotPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",forgotPasswordCodeInvalidToast:"验证码错误，请检查输入",forgotPasswordConfirmPasswordInputPlaceholder:"请确认新密码",forgotPasswordDescription:"请输入你注册的邮箱地址用于接收验证码，我们将为你重置密码。",forgotPasswordDescriptionCn:"请输入你注册的手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordFailedCodeExpiredToast:"密码重置失败，重置时效已过期，请返回上一步重新操作",forgotPasswordFailedCodeVerifyFailedToast:"验证码错误，请重新输入",forgotPasswordFailedEmailNotExistToast1:"邮箱地址未注册，请重试",forgotPasswordFailedEmailNotExistToast2:"密码重置失败，邮箱地址未注册，请返回上一步重新操作",forgotPasswordFailedMobileNotExistToast1:"手机号未注册，请重试",forgotPasswordFailedMobileNotExistToast2:"密码重置失败，手机号未注册，请返回上一步重新操作",forgotPasswordFailedToast:"密码重置失败，请稍后再试",forgotPasswordGeneralDescription:"请输入你注册的邮箱或手机号码用于接收验证码，我们将为你重置密码。",forgotPasswordGetBack:"返回",forgotPasswordInputPlaceholder:"请输入邮箱 / +86手机号",forgotPasswordInvalidPasswordToast:"密码不合法，请重新输入",forgotPasswordNewPasswordDescription:e=>"你正在重置 ".concat(e," 的密码，请输入新密码。"),forgotPasswordNextStepButton:"下一步",forgotPasswordOkToast:"密码已重置，即将跳转到登录页面",forgotPasswordPasswordInputPlaceholder:"请输入新密码",forgotPasswordSecondaryDescription:"你的新密码将同时适用于 DeepSeek 的所有服务。",forgotPasswordTitle:"重置统一登录密码",googleFallbackToast:e=>"Google 登录失败，请稍后再试 (B".concat(e,")"),googleSignInFail56:e=>"Google 登录失败，请更换账号或使用其他登录方式(B".concat(e,")"),googleSignInFromMainlandToast:"中国大陆用户请使用其他方式注册/登录",goToSignIn:"返回登录",goToSignUp:"立即注册",hcaptchaLoadFailToast:"验证码加载失败，请刷新重试",inputEmail:"请输入邮箱",inputEmailVerificationCode:"请输入验证码",inputMobilePhoneNumber:"请输入手机号",inputPassword:"请输入密码",inputPasswordAgain:"请再次输入密码",inputSmsVerificationCode:"请输入验证码",loginAccountBannedToast:"由于违反用户使用规范，你的账户已被停用",loginFallbackToast:e=>"登录失败，请稍后再试 (B".concat(e,")"),mainlandLoginWaysTip:"你所在地区仅支持 手机号 / 微信 / 邮箱 登录",mainlandSignUpWaysTip:"你所在地区仅支持手机号注册，",mobileCodeAlreadyBoundToast:"手机号已被绑定",mobileCodeAlreadyVerifiedToast:"该账户已绑定手机号",mobileCodeCloudErrorToast:"短信服务出现异常，请稍后再试",mobileCodeFrequentToast:"1 分钟内仅能发送一次验证码",mobileVerficationFormAccountAlreadyExistsErrorToast:"绑定失败，该手机号已被绑定",mobileVerficationFormDescription:"为保障账号安全，首次登录请绑定手机号",mobileVerficationFormExistingMobileOkToast:"登录成功",mobileVerficationFormGetProfileFailedErrorToast:"绑定失败，获取微信账户信息失败",mobileVerficationFormInvalidAddrToast:"无效的页面地址，请重新扫码授权",mobileVerficationFormMobilePhoneNumberBannedErrorToast:"绑定失败，该手机号账户已被禁用",mobileVerficationFormNewMobileOkToast:"登录成功",mobileVerficationFormRegistrationExpiredErrorToast:"绑定失效，请重新扫码授权",mobileVerficationFormSmsExpiredCodeErrorToast:"验证码已过期，请重新获取验证码",mobileVerficationFormSmsVerifyFailedCodeErrorToast:"验证码错误，请重新输入",mobileVerficationFormSubmitButton:"绑定",mobileVerficationFormTitle:"绑定手机号",mobileVerficationFormUnknownErrorToast:"绑定操作遇到问题，请稍后再试",mobileVerificationInvalidPhoneNumberToast:"验证失败，手机号不合法",operationFailed:"操作失败，请稍后重试",overseaLoginWaysTip:"你所在地区仅支持 邮箱 / Google / +86手机号 登录",overseaSignUpWaysTip:"你所在地区仅支持邮箱注册，",passwordSignInAcknowledgement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t]}),privacyPolicy:"隐私政策",privacyPolicyFile:"DeepSeek隐私政策.html",rebindFallbackToast:e=>"变更失败，请稍后再试 (B".concat(e,")"),rebindMobileAlreadyBoundError:"新手机号已被绑定至其他账号，请使用未注册或已注销的手机号",rebindMobileCancel:"取消",rebindMobileChange:"去变更",rebindMobileChangeButton:"变更",rebindMobileChangeSuccess:"变更成功",rebindMobileContinue:"下一步",rebindMobileDescriptionS1:e=>"当前绑定的手机号码为 ".concat(e,"，变更后，你将无法使用该手机号登录 DeepSeek。\n"),rebindMobileDescriptionS2Bold:"当前账号的开放平台余额，网页端和 App 中的历史对话均会迁移至新手机号。",rebindMobileDescriptionS3:"如不希望历史对话被迁移至新手机号，可以在更换前删除所有对话。",rebindMobilePhoneNumber:"手机号",rebindMobileTitle:"变更已绑定的手机号？",rebindMobileToastSameNumber:"新手机号不能与原手机号相同",rebindMobileVerifyCurrent:"验证当前手机号",rebindMobileVerifyNew:"验证新手机号",registerAgreementCheckboxEmptyError:"请同意并勾选服务条款",registerConfirmPasswordEmptyError:"请填写确认密码",registerDescription:"只需一个 DeepSeek 账号，即可访问 DeepSeek 的所有服务。",registerEmailDomainNotSupportedToast:"注册失败，暂不支持该邮箱域名注册，建议使用 Gmail、Outlook、Hotmail、Yahoo 等国际通用邮箱注册。",registerEmailEmptyError:"请填写邮箱地址",registerEmailExistToast:"邮箱已被注册，如果这是你的邮箱，你可以直接登录或找回密码",registerEmailInputInvalidError:"邮箱格式不正确",registerEmailPasscodeFailedToast:"验证码错误，请重新输入",registerFallbackToast:e=>"注册失败，请稍后再试 (B".concat(e,")"),registerInvalidPasswordToast:"密码不合法",registerMobileEmptyError:"请填写手机号码",registerMobileExistToast:"手机号已被注册",registerMobileInputInvalidError:"手机号码格式不正确",registerPasswordCodeExpiredToast:"验证码已过期，请重新获取验证码",registerPasswordEmptyError:"请填写密码",registerPasswordInvalidError:"密码包含非法字符",registerPasswordLengthError:"密码长度在 8 到 50 位之间",registerPasswordNotMatchError:"两次输入的密码不一致",registerRegisterFromMainlandToast:"非中国大陆地区请通过其他方式注册/登录",registerVerificationCodeEmptyError:"请填写验证码",registerVerificationCodeInvalidError:"验证码格式不正确",requestTooFrequentToast:"请求过于频繁，请稍后再试",resetPasswordFallbackToast:e=>"密码重置失败，请稍后再试 (B".concat(e,")"),sendVerificationCode:"发送验证码",serviceStatus:"服务状态",signIn:"登录",signInAgreement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["我已阅读并同意 ",e," 与 ",t]}),signInBySmsAgreement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["我已阅读并同意 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),signInDividerOr:"或",signInEmailAndPhoneEmptyError:"请填写手机号/邮箱地址",signInEmailAndPhoneInvalidError:"请填写有效的手机号/邮箱地址",signInEmailAndPhonePlaceholder:"请输入手机号/邮箱地址",signInFailed:"登录失败",signInFormTabByPasswordOption:"密码登录",signInFormTabBySmsOption:"验证码登录",signInOk:"登录成功",signInPasswordEmailErrorToast:"密码错误或账户不存在，请检查后重试",signInPasswordEmptyError:"请填写密码",signInUserIsBannedToast:"由于违规次数过多，你的账户已被停用",signInWithGoogle:"使用 Google 账号登录",signInWithGoogleFailedToast:"Google 登录服务遇到问题，请稍后再试",signInWithGoogleGetProfileFailedToast:"获取 Google 用户信息失败，请稍后再试",signInWithGoogleNetworkFailedToast:"Google 服务器连接失败，请稍后再试",signInWithGoogleSwapCodeFailedToast:"Google 登录请求未成功，请稍后再试",signInWithWechat:"使用微信扫码登录",signInWithWechatAgreement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["扫码默认已阅读并同意 ",e," 与 ",t]}),signInWithWechatFailedToast:"微信登录服务遇到问题，请稍后再试",signInWithWechatGetProfileFailedToast:"获取微信用户信息失败，请稍后再试",signInWithWechatNetworkFailedToast:"微信服务器连接失败，请稍后再试",signInWithWechatQRcodeDialogDescription:"微信扫码登录",signInWithWechatSwapCodeFailedToast:"微信登录请求未成功，请稍后再试",signUp:"注册",signUpAcknowledgement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["注册即代表已阅读并同意我们的 ",e," 与 ",t]}),signUpByMobileOkToast:"注册成功",signUpFailedToast:"注册失败",signUpOkToast:"注册成功",smsSignInAcknowledgement:(e,t)=>(0,a.jsxs)(a.Fragment,{children:["注册登录即代表已阅读并同意我们的 ",e," 与 ",t,"，未注册的手机号将自动注册"]}),submitApplication:"提交申请",termsOfUse:"用户协议",termsOfUseFile:"DeepSeek用户协议.html",unbindWechatFallbackToast:e=>"解绑失败，请稍后再试 (B".concat(e,")"),underAuditingDescription:"正在审核中，请稍候片刻",unregisterFallbackToast:e=>"账号注销失败，请稍后再试 (B".concat(e,")"),userIsBannedToast:"由于违规次数过多，你的账户已被临时停用",validateMobileNumberAlreadyBoundToast:"该手机号已被绑定",validateMobileNumberAlreadyVerifiedToast:"该账户已绑定手机号",validateMobileNumberBackToSignIn:"返回登录",validateMobileNumberBindFailedToast:"绑定失败",validateMobileNumberEmptyError:"请至少选择一个用途",validateMobileNumberEmptyFeedback:"请输入手机号码",validateMobileNumberInvalidMobileFeedback:"手机号码格式不正确",validateMobileNumberInvalidToast:"手机号码格式不正确",validateMobileNumberNotMobileFeedback:"手机号码格式无法识别，请核对",validateMobileNumberOkToast:"绑定成功",validateMobileNumberOkToast2:"验证成功",validateMobileNumberUnknownErrorToast:"验证失败，请重试",validateMobileNumberUsage1:"商业办公",validateMobileNumberUsage2:"科学研究",validateMobileNumberUsage3:"兴趣娱乐",validateMobileNumberUsage4:"其他",validateMobileNumberUsageLabel:"用途",validateMobileNumberVerificationCodeIncorrectOrExpireToast:"验证码已过期，请重新获取验证码",validateMobileNumberVerificationCodeIncorrectToast:"验证码错误，请重新输入",validateMobileNumberVerificationCodeInvalidToast:"验证码格式不正确",verificationCodeCountDown:e=>"".concat(e," 秒后可再次获取"),verificationCodeSentFailed:"发送失败，请稍后再试",verificationEmailCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e,"，请检查你的收件箱和垃圾邮件文件夹。"),verificationSmsCodeSentSuccessfully:e=>"验证码已发送至 ".concat(e),verifyPhoneModalBackButton:"返回",verifyPhoneModalCallingCodeInputPlaceholder:"地区",verifyPhoneModalCodeInputLabel:e=>"输入你（".concat(e,"）收到的短信验证码。短信验证码可能稍有延迟，请耐心等待。"),verifyPhoneModalCodeInputPlaceholder:"短信验证码",verifyPhoneModalPhoneInputLabel:"完成手机号验证，即刻领取 500 万 tokens",verifyPhoneModalPhoneInputPlaceholder:"手机号",verifyPhoneModalSendCodeButton:"发送验证码",verifyPhoneModalSendCodeCountdownButton:e=>"发送验证码（".concat(e," 秒）"),verifyPhoneModalTitle:"验证手机号",verifyPhoneModalVerifyButton:"验证",wechat:"微信",wechatFallbackToast:e=>"微信登录失败，请稍后再试 (B".concat(e,")"),wechatMobileVerificationMobileBoundToast:"验证失败，该手机号已绑定其他微信号",wechatMobileVerificationWeChatBoundToast:"验证失败，该微信号已绑定其他手机号"},r=s},64896:function(e,t,n){"use strict";n.r(t),n.d(t,{availableLocales:()=>a});let a=["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fi","fil","fr","fr_CA","gl","gu","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","vi","zu"]},21055:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r,en_US:()=>s});var a=n(57713);let s={characterNotAvailable:"The agent is not available.",completionGenerationTimeout:"DeepSeek is currently busy. Please check back later.",completionInvalidParamsToast:"Unexpected request (1)",completionLastMessageIsWIP:"Generating, please try again later.",completionNetworkErrorToast:"Check your internet connection and try again.",completionPromptEmptyToast:"The prompt sent is empty.",completionPromptInvalidToast:"The message you sent contains invalid Unicode character. Please modify it and resend.",completionPromptTooLongToast:"The message you sent is too long. Please modify it and resend.",completionRateLimitReachedToast:"You are sending messages too frequently. Please wait a moment before sending again.",completionRegenerateOnBadMessageToast:"Can't regenerate the message.",completionServerBusyToast:"Server busy, please try again later.",completionServerErrorToast:"Server is temporarily unavailable.",completionWipNetworkErrorToast:"Network error, please try again later.",createSessionFailedToast:"Failed to create session.",deepSearchSearching:"Searching the web",deepSearchThinking:"Thinking deeply",fileContentCannotBeEmpty:"File size cannot be empty",fileCountLimitExceededToast:"File limit reached. 50 files max per session.",fileExceedSizeLimit:"File exceeds size limit",fileNameCannotBeEmpty:"File name cannot be empty",filenameTooLong:"File name too long",groupTitleToolFind:"Finding",groupTitleToolOpen:"Browsing the web",hintFallback:"Send failed.",hintInvalidParams:"Send failed. Invalid request.",hintLastMessageIsWIP:"A message is being generated, refresh to view.",hintMaxMessageCount:"Message limit reached. Please start a new chat.",hintMessageSearchWithFileError:"Web search unavailable with file uploads.",hintNetworkError:"Check network and retry.",invalidFileRefToast:"Invalid file reference. Check uploads and retry.",invalidPowResponseToast:"Validation failed",invalidRequest:"Invalid request.",messageSearching:"Searching...",messageSearchingWithQuery:"Searching for",messageSearchNoResult:"No relevant results found",messageSearchResult:"Read 1 web page",messageSearchResults:e=>"Read ".concat(e," web pages"),messageSearchSummaries:e=>"".concat(e," web pages"),messageSearchSummary:"1 web page",messageThinkDuration:e=>"Thought for ".concat(e," second"),messageThinkDurationPlural:e=>"Thought for ".concat(e," seconds"),messageThinking:"Thinking",messageThinkStopped:"Stopped",msgGeneratingTryLater:"A message is being generated, please try again later.",msgNotSupportContinueToast:"The message can't be continued.",operationTooFastToast:"Operation too frequent. Please try again later.",pinSessionFailed:"Failed to pin",pinSessionTooMany:"Pinned chats limit reached.",protocolViolationToast:"Network access restricted. Try switching networks or contact your IT admin.",renameFailed:"Rename failed",requestConcurrencyTooHigh:"Too many concurrent requests",requestFrequencyTooHigh:"RPD rate limit reached",resumeMessageNotFoundToast:"Unexpected request (2)",resumeMessageTimeTooLongToast:"Unexpected request (3)",riskTipFinance:"This response may contain financial investment advice. AI-generated content, for reference only. Please consult a professional financial advisor.",riskTipGeneral:"This response is AI-generated, for reference only.",riskTipLegal:"This response may contain legal advice. AI-generated content, for reference only. Please consult a professional lawyer.",riskTipMedical:"This response may contain medical advice. AI-generated content, for reference only. Please seek medical attention if necessary.",riskTipProfanity:"This response may contain inappropriate language. AI-generated content, not reflective of any real opinions or positions.",searchStopped:"Search stopped",serverBusy:"Server busy",sessionDeleted:"This chat has been deleted.",sessionNotExist:"Chat not found.",shareCreateLinkExceedLimitToast:"The chat has reached the link creation limit.",shareCreateLinkFailedToast:"Failed to create the link.",systemServiceException:"System temporarily unavailable",toolFindFailed:"Find failed",toolFindFinished:e=>'Found "'.concat(e,'"'),toolFindNoResult:e=>'"'.concat(e,'" not found'),toolFindWip:e=>'Finding "'.concat(e,'"'),toolOpenBrowse:e=>(0,a.jsxs)(a.Fragment,{children:["Browsed ",e]}),toolOpenBrowseResults:"Browsed search results",toolOpenFailed:"Browsing failed",toolSearchFailed:"Search currently unavailable",toolSearchFinished:"Searched for",toolSearchNoResult:"No suitable content found",toolSearchQueryWIP:e=>"Searching for ".concat(e),toolSearchWip:"Searching...",unpinSessionFailed:"Failed to unpin",unsupportedFileFormat:"Unsupported file format"},r=s},36974:function(e,t,n){"use strict";n.r(t),n.d(t,{ensureTranslateComponent:()=>p,getTranslate:()=>m,useTranslate:()=>h,useTranslateWithLocale:()=>u}),n(40966);var a=n(11285),s=n(54625),r=n(21055),o=n(25452),i=n(64896);let l={zh_CN:s.zh_CN,en_US:r.en_US},c=n(89127);(0,o.h2)(async e=>{let t=(await c("./".concat(e,".js"))).default;l[e]=t},i.availableLocales);let d={};function u(){return(0,a.useCallback)((e,t)=>{var n;return(null!=(n=l[t])?n:l.en_US)[e]},[])}function h(e){return(0,a.useCallback)(t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]},[e])}function p(e,t){return d[e]?d[e]:d[e]=function(n){let{args:a}=n,s=m(t())(e);return"string"==typeof s?s:s(...a)}}function m(e){return t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]}}},54625:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r,zh_CN:()=>s});var a=n(57713);let s={characterNotAvailable:"该角色已不可用",completionGenerationTimeout:"当前聊天的人有点多，请稍后再提问吧。",completionInvalidParamsToast:"异常请求（1）",completionLastMessageIsWIP:"正在生成中，请稍后再试",completionNetworkErrorToast:"消息未能发送，请检查网络",completionPromptEmptyToast:"发送的信息为空",completionPromptInvalidToast:"你输入的消息包含错误的 Unicode 字符，请调整后重试",completionPromptTooLongToast:"你输入的信息过长，请调整后重试",completionRateLimitReachedToast:"你发送消息的频率过快，请稍后再发",completionRegenerateOnBadMessageToast:"无法重新生成此消息",completionServerBusyToast:"服务器繁忙，请稍后再试",completionServerErrorToast:"服务器暂时不可用",completionWipNetworkErrorToast:"网络异常，请稍后重试",createSessionFailedToast:"创建会话失败",deepSearchSearching:"正在搜索",deepSearchThinking:"正在深度思考",fileContentCannotBeEmpty:"文件大小不能为空",fileCountLimitExceededToast:"上传文件数达到上限，每个对话可上传 50 个文件",fileExceedSizeLimit:"文件超出大小限制",fileNameCannotBeEmpty:"文件名不能为空",filenameTooLong:"文件名过长",groupTitleToolFind:"正在查找",groupTitleToolOpen:"正在浏览网页",hintFallback:"消息未能发送",hintInvalidParams:"消息未能发送，异常请求",hintLastMessageIsWIP:"有消息正在生成，请刷新页面查看",hintMaxMessageCount:"消息数量达到上限，请开启新对话",hintMessageSearchWithFileError:"上传文件时不支持联网搜索",hintNetworkError:"请检查网络后重试",invalidFileRefToast:"无效的文件引用，请检查你上传的文件并重试",invalidPowResponseToast:"请求验证失败",invalidRequest:"异常请求",messageSearching:"搜索中...",messageSearchingWithQuery:"搜索",messageSearchNoResult:"未搜索到相关内容",messageSearchResult:"已阅读 1 个网页",messageSearchResults:e=>"已阅读 ".concat(e," 个网页"),messageSearchSummaries:e=>"".concat(e," 个网页"),messageSearchSummary:"1 个网页",messageThinkDuration:e=>"已思考（用时 ".concat(e," 秒）"),messageThinkDurationPlural:e=>"已思考（用时 ".concat(e," 秒）"),messageThinking:"正在思考",messageThinkStopped:"已停止",msgGeneratingTryLater:"有消息正在生成，请稍后再试",msgNotSupportContinueToast:"无法继续生成此消息",operationTooFastToast:"操作过于频繁，请稍后再试",pinSessionFailed:"置顶失败",pinSessionTooMany:"置顶对话数量已达上限",protocolViolationToast:"当前网络环境无法连接服务，请尝试切换网络或联系网络管理员",renameFailed:"重命名失败",requestConcurrencyTooHigh:"并发请求过多",requestFrequencyTooHigh:"请求频率过高",resumeMessageNotFoundToast:"异常请求（2）",resumeMessageTimeTooLongToast:"异常请求（3）",riskTipFinance:"本回答可能包含金融投资建议。内容由 AI 生成，仅供参考，建议咨询专业金融顾问。",riskTipGeneral:"本回答由 AI 生成，内容仅供参考，请仔细甄别。",riskTipLegal:"本回答可能包含法律建议。内容由 AI 生成，仅供参考，建议咨询专业律师。",riskTipMedical:"本回答可能包含医疗建议。内容由 AI 生成，仅供参考，如有需求请及时就医。",riskTipProfanity:"本回答可能包含不文明用语，内容由 AI 生成，不代表任何真实意见或立场。",searchStopped:"搜索已停止",serverBusy:"服务器繁忙",sessionDeleted:"该对话已被删除",sessionNotExist:"该对话不存在",shareCreateLinkExceedLimitToast:"当前对话生成链接数达到上限",shareCreateLinkFailedToast:"生成链接失败",systemServiceException:"系统服务异常",toolFindFailed:"查找失败",toolFindFinished:e=>"已查找到“".concat(e,"”"),toolFindNoResult:e=>"未查找到“".concat(e,"”"),toolFindWip:e=>"正在查找“".concat(e,"”"),toolOpenBrowse:e=>(0,a.jsxs)(a.Fragment,{children:["浏览 ",e]}),toolOpenBrowseResults:"浏览搜索结果",toolOpenFailed:"浏览失败",toolSearchFailed:"联网搜索暂不可用",toolSearchFinished:"已搜索",toolSearchNoResult:"未搜索到合适内容",toolSearchQueryWIP:e=>"搜索 ".concat(e),toolSearchWip:"搜索中...",unpinSessionFailed:"取消置顶失败",unsupportedFileFormat:"该格式暂不支持"},r=s},92667:function(e,t,n){"use strict";let a,s,r;n.d(t,{UK:()=>aq,JA:()=>s7,Qm:()=>eV,wG:()=>q,tf:()=>eL,sL:()=>er.s,hU:()=>sr,qH:()=>eW,Kd:()=>eF,ps:()=>ss,pU:()=>tQ,Jg:()=>aX,aw:()=>s$,KF:()=>aZ,c4:()=>eD,oN:()=>tJ,FM:()=>W,ZT:()=>er.Z,np:()=>eI,ER:()=>sa,rV:()=>ts,ky:()=>sc,Bn:()=>tg,BP:()=>a6,qE:()=>$,i0:()=>sw,oL:()=>ef,UZ:()=>sn,lj:()=>eP,Yi:()=>a7,Y_:()=>s4,QT:()=>e7,vE:()=>eo,Hj:()=>sl,aU:()=>s3,v:()=>aK,Lo:()=>eN,GO:()=>sI,Z2:()=>tX,KT:()=>sJ,Oc:()=>ec,g4:()=>eU,b2:()=>si,eO:()=>aY,KS:()=>rr,QQ:()=>G,O:()=>eH,bE:()=>U,M7:()=>st,zG:()=>rt}),n(67539),n(95266),n(1326),n(39070),n(32266),n(37560),n(45363),n(59605),n(14979),n(99046),n(40339),n(31188),n(89851),n(73191),n(40966),n(3143);var o,i,l,c,d,u,h,p,m,g,f,C,v,b,_,S,E,x,y,w,I,T,A,j,k,M,R,N,O,L,F,P,D,B,V,H,U,W,z,G,K,q,Z,Q=n(6799),Y=n(34847),X=n(97623);let J=(e,t)=>(0,X.A)(t,0,e.length-1);function $(e){let{tracker:t,useLocale:n,getLocale:s,http:r,logger:o,withToast:i,getIsDebug:l,setLastSessionValue:c,__DEV__:d,platform:u,base64Encode:h,getSSEAutoResumeConfig:p,addSSEHeader:m}=e;a={useLocale:n,getLocale:s,http:r,tracker:t,logger:o,withToast:i,getIsDebug:l,setLastSessionValue:c,__DEV__:d,platform:u,base64Encode:h,getSSEAutoResumeConfig:p,addSSEHeader:m}}function ee(){if(!a)throw Error("Chat SDK is not setup");return a}function et(e){return null!=e}(i=(o=U||(U={})).HintType||(o.HintType={})).error="error",i.warning="warning",(l=o.CloseClickBehavior||(o.CloseClickBehavior={})).retry="retry",l.none="none",(c=o.NewSSEEventName||(o.NewSSEEventName={})).ready="ready",c.delta="delta",c.toast="toast",c.title="title",c.finish="finish",c.close="close",c.hint="hint",c.updateSession="updateSession",(u=(d=W||(W={})).MessageRole||(d.MessageRole={})).ASSISTANT="ASSISTANT",u.USER="USER",(h=d.MessageStatus||(d.MessageStatus={})).OK="FINISHED",h.WIP="WIP",h.INCOMPLETE="INCOMPLETE",h.CONTENT_FILTER="CONTENT_FILTER",h.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",h.TIMEOUT="TIMEOUT",(p=d.GenerateState||(d.GenerateState={})).INITIALIZING="INITIALIZING",p.AWAITING_FIRST_CHANGE="AWAITING_FIRST_CHANGE",p.GENERATING="GENERATING",(m=d.ResendScene||(d.ResendScene={})).completion="completion",m.edit="edit",(g=d.MessageFeedback||(d.MessageFeedback={})).LIKE="LIKE",g.DISLIKE="DISLIKE",(f=d.SessionStateEnum||(d.SessionStateEnum={})).idleWithNoHistory="idleWithNoHistory",f.fetchingHistory="fetchingHistory",f.historyError="historyError",f.sending="sending",f.completing="completing",f.idle="idle",(C=d.AgentId||(d.AgentId={})).CHAT="chat",C.CODER="coder",C.CHAT_CACHE1="chat_cache1",C.CHAT_CACHE2="chat_cache2",n(42551),n(19610),n(93649),n(14918),n(71060);let en=(s=0,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e+s++});(b=(v=z||(z={})).ToastType||(v.ToastType={})).ERROR="error",b.WARNING="warning",(S=(_=G||(G={})).MessageRole||(_.MessageRole={})).ASSISTANT="ASSISTANT",S.USER="USER",(E=_.MessageStatus||(_.MessageStatus={})).FINISHED="FINISHED",E.WIP="WIP",E.CONTENT_FILTER="CONTENT_FILTER",E.INCOMPLETE="INCOMPLETE",E.CONTEXT_LENGTH_EXCEEDED="CONTEXT_LENGTH_EXCEEDED",E.TIMEOUT="TIMEOUT",(x=_.MessageFeedbackType||(_.MessageFeedbackType={})).LIKE="GOOD",x.DISLIKE="BAD",(y=_.HistoryMessagesErrorCode||(_.HistoryMessagesErrorCode={}))[y.INVALID_SESSION_ID=1]="INVALID_SESSION_ID",y[y.EMPTY_CHAT_SESSION=5]="EMPTY_CHAT_SESSION",(w=_.AgentId||(_.AgentId={})).CODER="coder",w.CHAT="chat",w.CHAT_CACHE1="chat_cache1",w.CHAT_CACHE2="chat_cache2",(I=_.DeleteSessionErrorCode||(_.DeleteSessionErrorCode={}))[I.OK=0]="OK",I[I.SESSION_NOT_FOUND=1]="SESSION_NOT_FOUND",(T=_.DeleteAllSessionsErrorCode||(_.DeleteAllSessionsErrorCode={}))[T.OK=0]="OK",(A=_.ExportChatHistoryStatus||(_.ExportChatHistoryStatus={})).Created="CREATED",A.Pending="PENDING",A.Finished="FINISHED",(j=_.ExportAllDataErrorCode||(_.ExportAllDataErrorCode={}))[j.RATE_LIMIT=1]="RATE_LIMIT",(k=_.CreateShareErrorCode||(_.CreateShareErrorCode={}))[k.OK=0]="OK",k[k.INVALID_CHAT_SESSION=1]="INVALID_CHAT_SESSION",k[k.FAILED_TO_GET_ACCOUNT_INFO=2]="FAILED_TO_GET_ACCOUNT_INFO",k[k.BANNED_USER_CANNOT_CREATE_SHARES=3]="BANNED_USER_CANNOT_CREATE_SHARES",k[k.USER_IS_MUTED=4]="USER_IS_MUTED",k[k.SOME_MESSAGES_CANNOT_BE_SHARED=5]="SOME_MESSAGES_CANNOT_BE_SHARED",k[k.MESSAGES_MUST_APPEAR_IN_PAIRS=6]="MESSAGES_MUST_APPEAR_IN_PAIRS",k[k.TOO_MANY_SHARES_FOR_THIS_SESSION=7]="TOO_MANY_SHARES_FOR_THIS_SESSION",k[k.FAILED_TO_GENERATE_UNIQUE_SHARE_ID=8]="FAILED_TO_GENERATE_UNIQUE_SHARE_ID",k[k.RATE_LIMIT_REACHED=9]="RATE_LIMIT_REACHED",k[k.DUPLICATE_REQUEST=10]="DUPLICATE_REQUEST",(M=_.DeleteShareErrorCode||(_.DeleteShareErrorCode={}))[M.OK=0]="OK",M[M.SHARE_NOT_FOUND=1]="SHARE_NOT_FOUND",M[M.MULTIPLE_SHARES_DELETED=2]="MULTIPLE_SHARES_DELETED",(R=_.GetShareContentErrorCode||(_.GetShareContentErrorCode={}))[R.OK=0]="OK",R[R.SHARE_DOES_NOT_EXIST=1]="SHARE_DOES_NOT_EXIST",R[R.SHARE_IS_DELETED_OR_BANNED=2]="SHARE_IS_DELETED_OR_BANNED",R[R.ORIGINAL_SESSION_DELETED=3]="ORIGINAL_SESSION_DELETED",(N=_.ForkShareErrorCode||(_.ForkShareErrorCode={}))[N.OK=0]="OK",N[N.SHARE_DOES_NOT_EXIST=1]="SHARE_DOES_NOT_EXIST",N[N.SHARE_IS_DELETED_OR_BANNED=2]="SHARE_IS_DELETED_OR_BANNED",N[N.ORIGINAL_SESSION_DELETED=3]="ORIGINAL_SESSION_DELETED",N[N.USER_IS_MUTED=4]="USER_IS_MUTED",(O=r=_.FileParseStatus||(_.FileParseStatus={})).PENDING="PENDING",O.PARSING="PARSING",O.SUCCESS="SUCCESS",O.FAILED="FAILED",O.CONTENT_FILTER="CONTENT_FILTER",O.CONTENT_TOO_LONG="CONTENT_TOO_LONG",O.CANCELLED="CANCELLED",O.CONTENT_EMPTY="CONTENT_EMPTY",O._CUSTOM_SYSTEM_ERROR_FAIL="_CUSTOM_SYSTEM_ERROR_FAIL",O._CUSTOM_FROM_SHARE="_CUSTOM_FROM_SHARE",(L=_.SessionUpdatePinErrorCode||(_.SessionUpdatePinErrorCode={}))[L.OK=0]="OK",L[L.ILLEGAL_CHAT_SESSION_ID=1]="ILLEGAL_CHAT_SESSION_ID",L[L.TOO_MANY_PINNED_CHAT_SESSIONS=2]="TOO_MANY_PINNED_CHAT_SESSIONS",L[L.EMPTY_CHAT_SESSION=5]="EMPTY_CHAT_SESSION",_.fileParseStatusMeaning={[r.PENDING]:{hasError:!1,isFinished:!1},[r.PARSING]:{hasError:!1,isFinished:!1},[r.SUCCESS]:{hasError:!1,isFinished:!0},[r.FAILED]:{hasError:!0,isFinished:!0},[r.CONTENT_FILTER]:{hasError:!0,isFinished:!0},[r.CONTENT_TOO_LONG]:{hasError:!0,isFinished:!0},[r.CANCELLED]:{hasError:!0,isFinished:!0},[r.CONTENT_EMPTY]:{hasError:!0,isFinished:!0},[r._CUSTOM_SYSTEM_ERROR_FAIL]:{hasError:!0,isFinished:!0},[r._CUSTOM_FROM_SHARE]:{hasError:!1,isFinished:!1}},(F=_.COMPLETION_ERROR_CODE||(_.COMPLETION_ERROR_CODE={}))[F.INVALID_SESSION_ID=1]="INVALID_SESSION_ID",F[F.PARENT_ROLE_NOT_ASSISTANT=2]="PARENT_ROLE_NOT_ASSISTANT",F[F.MAX_MESSAGE_COUNT_REACHED=3]="MAX_MESSAGE_COUNT_REACHED",F[F.REGENERATE_TEMPLATE_RESPONSE=4]="REGENERATE_TEMPLATE_RESPONSE",F[F.MUTED=5]="MUTED",F[F.EMPTY_PROMPT=6]="EMPTY_PROMPT",F[F.RESUME_MESSAGE_NOT_FOUND=7]="RESUME_MESSAGE_NOT_FOUND",F[F.RESUME_TIME_TOO_LONG=8]="RESUME_TIME_TOO_LONG",F[F.INVALID_REF_FILE_ID=9]="INVALID_REF_FILE_ID",F[F.SESSION_FILE_LIMIT_EXCEEDED=10]="SESSION_FILE_LIMIT_EXCEEDED",F[F.LAST_MESSAGE_IS_WIP=11]="LAST_MESSAGE_IS_WIP",F[F.THINKING_CANNOT_BE_WITH_FILE=13]="THINKING_CANNOT_BE_WITH_FILE",F[F.THINKING_QUOTA_EXCEEDED=15]="THINKING_QUOTA_EXCEEDED",F[F.SEARCH_CANNOT_WITH_FILE=17]="SEARCH_CANNOT_WITH_FILE",F[F.CHARACTER_NOT_AVAILABLE=20]="CHARACTER_NOT_AVAILABLE",F[F.SEARCH_NOT_ALLOWED_WITH_CHARACTER=21]="SEARCH_NOT_ALLOWED_WITH_CHARACTER",F[F.RESUME_MESSAGE_GOT_FULL_MESSAGE_CODE=22]="RESUME_MESSAGE_GOT_FULL_MESSAGE_CODE",F[F.CURRENT_MESSAGE_IS_NOT_A_LEAF_MESSAGE=23]="CURRENT_MESSAGE_IS_NOT_A_LEAF_MESSAGE",F[F.CURRENT_MESSAGE_IS_LOCKED=24]="CURRENT_MESSAGE_IS_LOCKED",F[F.PARENT_MESSAGE_IS_LOCKED=25]="PARENT_MESSAGE_IS_LOCKED",F[F.INVALID_PARENT_MESSAGE_ID_OR_MESSAGE_NOT_EXIST=26]="INVALID_PARENT_MESSAGE_ID_OR_MESSAGE_NOT_EXIST",(P=_.GLOBAL_ERROR_BIZ_CODE||(_.GLOBAL_ERROR_BIZ_CODE={}))[P.IP_ACCESS_RESTRICTED=40029]="IP_ACCESS_RESTRICTED",P[P.POW_HEADER_ERROR=40300]="POW_HEADER_ERROR",P[P.INVALID_POW_RESPONSE=40301]="INVALID_POW_RESPONSE";var ea=n(47892);let es=()=>[{id:W.AgentId.CHAT,isSending:!1,prompt:""},{id:W.AgentId.CODER,isSending:!1,prompt:""},{id:W.AgentId.CHAT,isSending:!1,prompt:""},{id:W.AgentId.CHAT_CACHE1,isSending:!1,prompt:""},{id:W.AgentId.CHAT_CACHE2,isSending:!1,prompt:""}];var er=n(26848);let eo=(e,t)=>{var n,a;let s=e.split(".");return s.length<=1?"":"lower"===t?(null==(a=s.pop())?void 0:a.toLocaleLowerCase())||"":(null==(n=s.pop())?void 0:n.toLocaleUpperCase())||""},ei=e=>{let t=null==e?void 0:e.status;if(!t)return!1;let{isFinished:n}=G.fileParseStatusMeaning[t];return n},el=()=>({agentFileIdsMap:Object.fromEntries(es().map(e=>e.id).map(e=>[e,[]])),sessionFileIdsMap:{},localFileIds:[],fileInfoMap:{},localServerIdMap:{},abortControllerMap:{}}),ec=(0,Q.vt)()((0,ea.lt)((0,Y.D)((e,t)=>({...el(),addFile(t,n){let a=en("local_file_");return e(e=>{if(e.localFileIds.push(a),e.fileInfoMap[a]={localInfo:{id:a,fileName:t.name,fileSize:t.size,insertedAt:0,updatedAt:0,status:G.FileParseStatus.PENDING,tokenUsage:null,errorCode:null,previewable:!0},uploadInfo:{percent:0,isUploading:!0,failed:!1,failedMsg:void 0},serverInfo:null},n.sessionId){let t=e.sessionFileIdsMap[n.sessionId]||[];e.sessionFileIdsMap[n.sessionId]=[...t,a]}else if(n.agentId){let t=e.agentFileIdsMap[n.agentId]||[];e.agentFileIdsMap[n.agentId]=[...t,a]}}),a},addUploadedFiles(t){t.length&&e(e=>{t.forEach(t=>{let n=en("local_file_");e.localFileIds.push(n);let a={id:t.id,status:G.FileParseStatus.SUCCESS,errorCode:null,fileName:t.fileName,fileSize:t.fileSize,tokenUsage:t.tokenUsage,insertedAt:t.insertedAt,updatedAt:t.updatedAt,previewable:t.previewable};e.localServerIdMap[n]=t.id,e.fileInfoMap[n]={uploadInfo:{isUploading:!1,percent:1,failed:!1,failedMsg:void 0},localInfo:a,serverInfo:a}})})},getFilesCount:e=>t().getFileInfoByBelongInfo(e).length,getIsAllFilesReady:e=>t().getFileInfoByBelongInfo(e).every(e=>{let{serverInfo:t}=e;return!!t&&ei(t)&&!ed(t.status)}),getUploadingFiles:e=>t().getFileInfoByBelongInfo(e).filter(e=>e.uploadInfo.isUploading).map(e=>e.localInfo),getFileInfoByBelongInfo(e){let{agentFileIdsMap:n,sessionFileIdsMap:a,fileInfoMap:s}=t(),{sessionId:r,agentId:o}=e;return r?(a[r]||[]).map(e=>s[e]).filter(Boolean):o?(n[o]||[]).map(e=>s[e]).filter(Boolean):[]},getFilesTokenCount:e=>t().getFileInfoByBelongInfo(e).reduce((e,t)=>{var n;return e+((null==(n=t.serverInfo)?void 0:n.tokenUsage)||0)},0),getContainFilesRequireDelete(e){let{getFileInfoByBelongInfo:n}=t();return n(e).some(e=>eu(e).isRequireDelete)},getFileUploadInfo:e=>{var n;let a=t().getLocalIdByServerId(e)||e;return null==(n=t().fileInfoMap[a])?void 0:n.uploadInfo},getLocalIdByServerId(e){for(let[n,a]of Object.entries(t().localServerIdMap))if(a===e)return n},getAllServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).map(e=>e.id)},getIsRequireDelete(e){var n;let{fileInfoMap:a}=t(),s=a[null!=(n=t().getLocalIdByServerId(e))?n:e];return s?eu(s):{isRequireDelete:!1,isUploadFailed:!1}},updateFileUploadInfo(n,a){e(e=>{if(!t().localFileIds.includes(n))return;let s=e.fileInfoMap[n];e.fileInfoMap[n]={...s,uploadInfo:a}})},removeAgentFilesAfterCreateSession(t){e(e=>{e.agentFileIdsMap[t]=[]})},removeSessionFiles:t=>{e(e=>{e.sessionFileIdsMap[t]=[]})},updateFileInfo(n,a){e(e=>{if(!t().localFileIds.includes(n))return;e.localServerIdMap[n]=a.id;let s=e.fileInfoMap[n];if(!s)throw Error("fileInfo not found");s.serverInfo=a})},moveFilesBelongingSession(t,n){e(e=>{e.sessionFileIdsMap[n]=e.sessionFileIdsMap[t],e.sessionFileIdsMap[t]=[]})},getUnparsedFileServerIds(e){let{getFileInfoByBelongInfo:n}=t();return n(e).map(e=>e.serverInfo).filter(e=>!!e).filter(e=>!ei(e)).map(e=>e.id)},getFileInfo(e){var n;let{fileInfoMap:a,getLocalIdByServerId:s}=t(),r=a[null!=(n=s(e))?n:e];return(null==r?void 0:r.serverInfo)||(null==r?void 0:r.localInfo)},getFileInfoList(e){let{getFileInfo:n}=t();return e.map(e=>n(e))},removeFileAndAbortUpload(n){e(e=>{var a,s;let r=null!=(s=t().getLocalIdByServerId(n))?s:n;e.localFileIds=e.localFileIds.filter(e=>e!==r),eh(e,r),delete e.fileInfoMap[r],delete e.localServerIdMap[r],null==(a=e.abortControllerMap[r])||a.abort(),t().removeAbortController(r)})},setAbortController(t,n){e(e=>{e.abortControllerMap[t]=n})},removeAbortController(t){e(e=>{delete e.abortControllerMap[t]})},abortAllUpload(){let{abortControllerMap:e}=t();Object.values(e).forEach(e=>{e.abort()})},clearByBelongInfo(e){let{getFileInfoByBelongInfo:n}=t();n(e).map(e=>e.localInfo.id).forEach(e=>{t().removeFileAndAbortUpload(e)})},clear(){e(el())}})),{name:"deepChat.useUploadFileStore",enabled:!1})),ed=e=>{let{hasError:t}=G.fileParseStatusMeaning[e];return t},eu=e=>{let t=e.uploadInfo.failed;if(t)return{isRequireDelete:!0,isUploadFailed:t};let{serverInfo:n}=e;return n?{isRequireDelete:ed(n.status),isUploadFailed:t}:{isRequireDelete:!1,isUploadFailed:t}},eh=(e,t)=>{let{agentFileIdsMap:n,sessionFileIdsMap:a}=e;Object.entries(n).forEach(e=>{let[a,s]=e;(null==s?void 0:s.includes(t))&&(n[a]=s.filter(e=>e!==t))}),Object.entries(a).forEach(e=>{let[n,s]=e;(null==s?void 0:s.includes(t))&&(a[n]=s.filter(e=>e!==t))})},ep=()=>({agents:es(),sessionStore:{},isMuted:!1,muteUntil:0});n(35433);let em=-2,eg=()=>em--,ef=e=>null!==e&&e<=-2;var eC=n(79016);let ev=(e,t)=>e.sessionStore[t]||null,eb=(e,t,n)=>{var a;let s;return(null==(a=(s=ev(e,t))?s.messageStore:null)?void 0:a[n])||null},e_=(e,t,n)=>{let a=eb(e,t,n);return a&&null!==a.parentId?eb(e,t,a.parentId):null},eS=e=>{let t=e.findIndex(e=>!ef(e));return[e.slice(0,t),e.slice(t)]},eE={getSessionImpl:ev,getMessageImpl:eb,getParentMessageImpl:e_,getMessagePath:(e,t)=>{let n=e.sessionStore[t];if(!n)return[];let a=[],s=n.rootBranchIds[n.rootBranchIndex];for((0,eC.A)(s)||a.push(s);!(0,eC.A)(s);){let n=eb(e,t,s);if(!n)break;let[r]=eS(n.childIds);a.push(...r);let o=n.childIds[n.currentChildIndex];if((0,eC.A)(o))break;r.includes(o)||a.push(o),s=o}return a},getMessageBranchCount:(e,t,n)=>{let a=e.getParentMessage(t,n);if(a){let[e,t]=eS(a.childIds);return e.includes(n)?1:t.length}let s=e.getSession(t);return s?s.rootBranchIds.length:1},getMessageBranchIndex:(e,t,n)=>{let a=e.getParentMessage(t,n);if(!a){let n=e.getSession(t);return n?n.rootBranchIndex:0}let[s,r]=eS(a.childIds);return s.includes(n)?0:r.indexOf(n)},getMessageBranchSiblings:(e,t,n)=>{let a=e.getParentMessage(t,n);if(a){let[e,t]=eS(a.childIds);return e.includes(n)?[]:t}let s=e.getSession(t);return s?s.rootBranchIds:[]},getLatestSentMessageId:(e,t)=>{var n;return null!=(n=eE.getMessagePath(e,t).findLast(e=>!ef(e)))?n:null},getLatestMessageId:(e,t)=>{var n;return null!=(n=eE.getMessagePath(e,t).at(-1))?n:null},getIsLastShowingUserMessage:(e,t,n)=>{let a=n=>{var a;let s=null!=(a=n.childIds[n.currentChildIndex])?a:-1;return e.getMessage(t,s)},s=e.getMessage(t,n);if(!s||s.role!==W.MessageRole.USER)return!1;if(!ef(n)){let e=a(s);return!e||!a(e)}let r=e_(e,t,n);if(!r)return!0;let[,o]=eS(r.childIds);return o.includes(n)},getMatchingMessageImpl:(e,t,n)=>{let a=eb(e,t,n);return a?a.role===W.MessageRole.USER?eb(e,t,a.childIds[a.currentChildIndex]):a.parentId?eb(e,t,a.parentId):null:null},getBranchRestoreScrollPosKey:(e,t,n)=>{let a=e.getParentMessage(t,n),s=e=>"BranchPos_S".concat(t,"_P").concat(e);if(a)return s(a.id);let r=e.getSession(t);return s(r?r.rootBranchIds.length:Math.random())}},ex=new(n(92177)).O,ey="__cursor",ew=()=>({sessionsState:"init",firstPageSettled:null,noMore:null,cursor:{pinned:null,value:null}}),eI=(0,Q.vt)()((0,Y.D)((e,t)=>({...ew(),reset:()=>{e(ew())},setNoMore:t=>{e(e=>{e.noMore=t})},setFirstPageSettled:t=>{e(e=>{e.firstPageSettled=t})},touchCursor:n=>{eA(t().cursor,n)||e(e=>{e.cursor={...n}})},setSessionsState:t=>{e(e=>{e.sessionsState=t})},onUnauthenticated:()=>{ex.abort(),ee().tracker.info({name:"abortFetchSessions",message:"取消拉取会话记录",payload:{}}),t().reset()},addLoadTask:e=>{ex.add(e)},waitFinish:()=>ex.finishPromise.then(()=>void 0)}))),eT=e=>e<1e11,eA=(e,t)=>null!==e.pinned&&null!==e.value&&(e.pinned===t.pinned?e.value<t.value:!e.pinned),{getParentMessageImpl:ej,getSessionImpl:ek,getMessageImpl:eM,getMatchingMessageImpl:eR}=eE,eN=(0,Q.vt)()((0,ea.lt)((0,Y.D)((e,t)=>({...ep(),reset(){e(ep())},getAgent:e=>eO(t(),e),updateAgent(t,n){e(e=>{let a=eO(e,t);if(a)n(a);else{let a={id:t,isSending:!1,prompt:""};e.agents.push(a),n(a)}})},clearPrompt(t){let{sessionId:n}=t;e(e=>{let t=ek(e,n);t&&(t.prompt="")})},getSession:e=>ek(t(),e),updateSession(t,n){e(e=>{var a,s,r;let o;a=e,s=t,r=n,(o=eE.getSessionImpl(a,s))&&r(o)})},addSession(t){e(e=>{e.sessionStore[t.id]=t})},deleteSession(t){e(e=>{delete e.sessionStore[t]})},clearSessions(){e(e=>{e.sessionStore={},eI.getState().setSessionsState("loaded")})},getSessionMessages(e){let n=t().getSession(e);return n?n.messageStore:null},addMessage(e,n){t().updateSession(e,e=>{e&&(e.messageStore[n.id]=n)})},getMessage:(e,n)=>eM(t(),e,n),getMatchingMessage:(e,n)=>eR(t(),e,n),getParentMessage:(e,n)=>ej(t(),e,n),updateMessage(t,n,a){e(e=>{let s=ek(e,t);if(!s)return;let r=s.messageStore[n];r&&a(r)})},deleteMessage(t,n,a){let{keepChildren:s}=a;e(e=>{let a=ek(e,t);if(!a)return;let r=ej(e,t,n);r&&(r.childIds=r.childIds.filter(e=>e!==n),r.currentChildIndex=J(r.childIds,r.currentChildIndex)),a.rootBranchIds=a.rootBranchIds.filter(e=>e!==n);let o=a.rootBranchIndex;a.rootBranchIds.at(o)===n&&(a.rootBranchIndex=o%(a.rootBranchIds.length-1));let i=a.messageStore[n],l=(e,t)=>{e.map(e=>a.messageStore[e]).filter(Boolean).forEach(e=>{e.parentId=t})};if((null==i?void 0:i.childIds.length)&&s){let e=i.childIds.at(i.currentChildIndex);r?(r.childIds=Array.from(new Set([...r.childIds,...i.childIds])),r.currentChildIndex=void 0===e?r.childIds.length-1:r.childIds.indexOf(e),l(r.childIds,r.id)):(a.rootBranchIds=i.childIds,a.rootBranchIndex=void 0===e?i.childIds.length-1:i.childIds.indexOf(e),l(i.childIds,null))}delete a.messageStore[n]})},replaceChildId(t,n,a){let{from:s,to:r}=a;e(e=>{let a=eM(e,t,n);if(!a)return;if(!a.childIds.length){a.childIds=[r];return}let o=a.childIds.indexOf(s);o>-1?a.childIds.splice(o,1,r):a.childIds.push(r)})},replaceRootBranchId:(t,n)=>{let{from:a,to:s}=n;e(e=>{let n=ek(e,t);if(!n)return;let r=n.rootBranchIds.indexOf(a);r>-1&&n.rootBranchIds.splice(r,1,s)})},navigateMessageBranch(e,n,a){let s=t().getMessage(e,n),r=t().getSession(e);if(s&&r)if(null===s.parentId){let n=J(r.rootBranchIds,r.rootBranchIndex+a);t().updateSession(e,e=>{e.rootBranchIndex=n})}else{let n=t().getMessage(e,s.parentId);if(!n)return;t().updateMessage(e,n.id,e=>{e.currentChildIndex=J(e.childIds,e.currentChildIndex+a)})}},transferSessionAbortStatus:(e,n)=>{let{clearAborts:a,toIdle:s}=n;t().updateSession(e,e=>{a&&(e.aborts=[]),s&&(e.state=W.SessionStateEnum.idle)})},onUnauthenticated(){t().reset()},setMuted(t){let{isMuted:n,muteUntil:a}=t;e(e=>{e.isMuted=n,a&&(e.muteUntil=a)}),ee().setLastSessionValue(e=>(e.userIsMuted=n,a&&(e.userMuteUntil=a),{...e}))}})),{name:"deepChat.useChatStore",enabled:function(){try{return!1}catch{return!1}}()})),eO=(e,t)=>e.agents.find(e=>e.id===t)||null;function eL(){let{http:e}=ee();return e.http.get("/api/v0/download_export_history").then(e=>{let{context:t,json:n}=e;return{data:n.data.biz_code===K.NO_TASK||n.data.biz_code===K.EXPIRED?{status:"EMPTY"}:{status:"INIT"===n.data.biz_data.status?"PENDING":n.data.biz_data.status,historyDownloadUrl:n.data.biz_data.history_download_url,legacyHistoryDownloadUrl:n.data.biz_data.legacy_history_download_url,exportAt:n.data.biz_data.exported_at,expireAt:n.data.biz_data.expires_at},context:t}})}function eF(){let{http:e}=ee();return e.http.get("/api/v0/export_all").then(e=>{let{context:t,json:n}=e;if(0!==n.code)throw n;return{data:{code:n.data.biz_code},context:t}})}function eP(){return ee().http.http.post("/api/v0/chat_session/delete_all").then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}})}(D=K||(K={}))[D.NO_TASK=1]="NO_TASK",D[D.EXPIRED=2]="EXPIRED";let eD=async e=>{let{targetPath:t}=e,{biz_data:n,biz_code:a,biz_msg:s}=(await ee().http.http.post("/api/v0/chat/create_pow_challenge",{json:{target_path:t}})).json.data;if(0!==a)throw Error("Failed to create pow challenge: targetPath=".concat(t,", biz_code=").concat(a,", biz_msg=").concat(s));let r=n.challenge;return{...r,expireAt:r.expire_at,expireAfter:r.expire_after}};n(55970);var eB=n(42587);let eV="/api/v0/chat/completion",eH="/api/v0/file/upload_file";async function eU(e,t){let{file:n,headers:a}=e,{onUploadProgress:s,abortSignal:r}=t,o=new FormData;return o.append("file",n),(await ee().http.http.post(eH,{body:o,onUploadProgress:s,signal:r,headers:a})).json}let eW=async e=>{let{http:t,tracker:n}=ee();try{await t.http.post("/api/v0/client/span",{json:e})}catch(t){n.error({name:"clientSpanApiError",message:"用户行为上报失败",payload:n.withError(t,e)})}};var ez=n(70076),eG=n(11285),eK=n(73446),eq=n(91753);let eZ=e=>!!e&&!e.isHidden,eQ=e=>e.pinned,eY=e=>!e.pinned,eX=e=>({id:e.id,updatedAt:e.updatedAt});var eJ=n(64455);let e$=["RESPONSE","TEMPLATE_RESPONSE"],e1=["RESPONSE"],e0=["TEMPLATE_RESPONSE"],e2=["TOOL_SEARCH","TOOL_OPEN","TOOL_FIND"],e3=["REQUEST","RESPONSE","TEMPLATE_RESPONSE"],e4=["THINK","SEARCH","TOOL_SEARCH","TOOL_OPEN","TOOL_FIND"],e6=["SEARCH","TOOL_SEARCH"],e5=["TIP"],e9={getIsParallelizableTool:e=>e2.includes(e.type),getUserQuery:e=>{var t,n;return e&&null!=(n=null==(t=e.fragments.find(e=>"REQUEST"===e.type))?void 0:t.content)?n:null},getPossibleResponseFragments:e=>e?e9.filterFragments(e,e$):[],getHasTemplateResponse:e=>!!e&&!!e9.filterFragments(e,e0).length,getHasMainResponse:e=>!!e9.filterFragments(e,e1).length,getResponseFragment:e=>e?e9.getPossibleResponseFragments(e).find(e=>e.content):null,getResponse:e=>{var t;return e?null==(t=e9.getPossibleResponseFragments(e).find(e=>e.content))?void 0:t.content:null},getThinkFragments:e=>e?e.fragments.filter(e=>"THINK"===e.type):[],getReadLinkFragment:e=>e&&e.fragments.find(e=>"READ_LINK"===e.type)||null,getSearchFragments:e=>e?e9.filterFragments(e,e6):[],getSearchResults:(e,t)=>e?e9.filterFragments(e,["SEARCH"]).filter(t).reduce((e,t)=>e.concat(t.results),[]):[],getToolSearchResults:(e,t)=>{if(!e)return[];let n=e9.filterFragments(e,["TOOL_SEARCH"]);return(0,eJ.A)(n.filter(t).reduce((e,t)=>e.concat(t.results),[]),"url")},getSearchQueries:(e,t)=>e9.getSearchFragments(e).filter(t).reduce((e,t)=>e.concat(t.queries),[]),getStandardTipFragments:e=>e?e9.filterFragments(e,e5):[],filterFragments:(e,t)=>e.fragments.filter(e=>t.includes(e.type)),getUnknownTip:e=>e.fragments.filter(e=>"TIP"===e.type&&"UNKNOWN"===e.style),isUnknownTip:e=>"TIP"===e.type&&"UNKNOWN"===e.style,isToolFragment:(e,t)=>(null==e?void 0:e.type)===t,isCollapsibleAreaFragment:e=>!!e4.includes(e.type)||e9.isUnknownTip(e),getCollapsibleAreaFragments:e=>e.fragments.filter(e9.isCollapsibleAreaFragment),isAnyToolWIP:e=>e9.filterFragments(e,e2).some(e=>"WIP"===e.status)},e8=(0,Q.vt)()((0,ea.eh)((0,Y.D)((e,t)=>({selectedMessages:[],shareContents:{},enterSelection:t=>{e(e=>{e.currentSessionId=t,e.selectedMessages=[]})},exitSelection:()=>{e(e=>{e.currentSessionId=void 0,e.selectedMessages=[]})},setShareContent:(t,n)=>e(e=>{e.shareContents[t]=n}),getShareContent:e=>t().shareContents[e],getMessage:(e,n)=>{var a;return(null==(a=t().shareContents[e])?void 0:a.messages.find(e=>e.id===n))||null}})))),e7=e8;function te(e){return e8.subscribe(e=>e.currentSessionId,t=>{e(null!=t)})}(B=q||(q={})).idle="idle",B.verifying="verifying",B.receiving="receiving";let tt=e=>e.role===W.MessageRole.USER,tn=e=>{var t;return{id:e.id,title:e9.getUserQuery(e)||(null==(t=e.files.at(0))?void 0:t.fileName)||""}},ta=e=>{let{isAgentOrSession:t,sessionId:n,agentId:a}=e,s=eN(e=>{if(!a)return!1;let t=e.getAgent(a);return!!t&&t.isSending}),r=eN(e=>{if(!n)return q.idle;let t=e.getSession(n);if(!t)return q.idle;let a=t.state;return a===W.SessionStateEnum.sending?q.verifying:a===W.SessionStateEnum.completing?q.receiving:q.idle});return t&&s?q.verifying:r},ts={useChatStatus:ta,useScrollNavItems:(e,t)=>{let n=eN((0,eq.aD)(t=>{if(!e)return[];let n=t.getSession(e);return(null==n?void 0:n.messageStore)?eE.getMessagePath(t,e).map(e=>n.messageStore[e]).filter(Boolean).filter(tt).map(tn):[]},(e,t)=>(0,eq.kZ)(e,t,{id:1,title:1}))),a=e7((0,eq.aD)(e=>{if(!t)return[];let n=e.getShareContent(t);return n?n.messages.filter(tt).map(tn):[]},(e,t)=>(0,eq.kZ)(e,t,{id:1,title:1})));return n.length?n:a},useSessionChatStatus:e=>ta({isAgentOrSession:!0,sessionId:e,agentId:void 0}),useMessagePath:e=>eN((0,ez.k)(t=>e?eE.getMessagePath(t,e):[])),useScrollToBottomCounter:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eN(n=>{var a;if(!e)return 0;let s=n.getSession(e);return null!=(a=t?null==s?void 0:s.forceScrollToBottomTrigger:null==s?void 0:s.scrollToBottomTrigger)?a:0})},usePinned:e=>eN(t=>{var n;return!!(null==(n=t.getSession(e))?void 0:n.pinned)}),useGroupedSession:function(){let e=eN((0,eq.aD)(e=>Object.keys(e.sessionStore).map(t=>e.getSession(t)).filter(eZ).filter(eY).map(eX).sort((e,t)=>t.updatedAt-e.updatedAt),(e,t)=>(0,eq.kZ)(e,t,{id:1,updatedAt:1})));return(0,eG.useMemo)(()=>{let t=[],n=[],a=[],s=[],r=[],o=eK();return e.forEach(e=>{let i=eK(e.updatedAt).startOf("date"),l=o.diff(i,"day"),c=e.id;if(l<=0)t.push(c);else if(l<=1)n.push(c);else if(l<7)a.push(c);else if(l<30)s.push(c);else{let e=i.format("YYYY-MM"),t=r.find(t=>t.month===e);t?t.sessions.push(c):r.push({month:e,sessions:[c]})}}),{todaySessions:t,days7Sessions:a,days30Sessions:s,yesterdaySessions:n,previousSessions:r,isEmpty:0===e.length}},[e])},usePinnedSessions:()=>eN((0,eq.aD)(e=>Object.keys(e.sessionStore).map(t=>e.getSession(t)).filter(eZ).filter(eQ).map(eX).sort((e,t)=>t.updatedAt-e.updatedAt),(e,t)=>(0,eq.kZ)(e,t,{id:1,updatedAt:1}))),load:{useState:()=>eI(e=>e.sessionsState),useNoMore:()=>eI(e=>e.noMore),useNoMorePinned:()=>eI(e=>!1===e.cursor.pinned),useFirstPageSettled:()=>eI(e=>e.firstPageSettled),useHasSessions:()=>eN(e=>!Object.keys(e.sessionStore).length),useVisibleSessionsCount:()=>eN(e=>Object.keys(e.sessionStore).map(t=>e.getSession(t)).filter(eZ).length),useIsNewEmptySession:e=>eN(t=>{let n;if((0,eC.A)(e))return!1;let a=t.getSession(e);return!!a&&"create_new"===(n=a)._from&&Object.values(n.messageStore).every(e=>ef(e.id))})}};var tr=n(7623),to=n(99896);n(20370);let ti=async e=>new Promise(t=>{setTimeout(t,e)}),tl=Symbol("timeout");class tc{static createFixedPolling(e){let t=e.interval;return new tc({...e,initialInterval:t,maxInterval:t,backoffMultiplier:1})}calculateDelay(){return Math.min(this.config.initialInterval*Math.pow(this.config.backoffMultiplier,this.attempts-1),this.config.maxInterval)}get runOut(){return this.attempts>=this.config.maxAttempts}async poll(){let e;for(;!this.runOut&&!this.aborted;){this.attempts++;try{let e=await this.config.pollFn();if(this.config.onPoll(e,this.attempts),this.aborted)break;if(this.config.shouldStopPolling(e))return{success:!0,data:e,attempts:this.attempts,duration:Date.now()-this.startTime};if(!this.runOut){let e=this.calculateDelay();if(await ti(e),this.aborted)break}}catch(n){let e=n instanceof Error?n:Error(String(n));if(this.config.onError(e,this.attempts),this.aborted||this.runOut)break;let t=this.calculateDelay();await ti(t)}}return this.aborted?{success:!1,error:Error("Polling aborted"),attempts:this.attempts,duration:Date.now()-this.startTime}:{success:!1,error:(e=this.config.maxAttempts,Error("Max attempts (".concat(e,") reached"))),attempts:this.attempts,duration:Date.now()-this.startTime}}constructor(e){var t;(0,tr._)(this,"config",void 0),(0,tr._)(this,"attempts",0),(0,tr._)(this,"startTime",0),(0,tr._)(this,"aborted",!1),(0,tr._)(this,"timeoutId",null),(0,tr._)(this,"running",!1),(0,tr._)(this,"start",async()=>{if(this.running)throw Error("Poller is already running");this.running=!0,this.startTime=Date.now(),this.attempts=0,this.aborted=!1;let e=this.config.timeout,t=e?new Promise(e=>{this.timeoutId=setTimeout(()=>{this.abort(),e(tl)},this.config.timeout)}):null;try{let n=this.poll(),a=t?await Promise.race([n,t]):await n;if(a===tl){let t;return{success:!1,error:(t=e||0,Error("Polling timeout after ".concat(t,"ms"))),attempts:this.attempts,duration:Date.now()-this.startTime}}return a}catch(e){return{success:!1,error:e instanceof Error?e:Error(String(e)),attempts:this.attempts,duration:Date.now()-this.startTime}}finally{this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null),this.running=!1}}),(0,tr._)(this,"abort",()=>{this.aborted=!0,this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}),this.config={pollFn:e.pollFn,shouldStopPolling:e.shouldStopPolling,initialInterval:e.initialInterval,maxInterval:e.maxInterval,backoffMultiplier:e.backoffMultiplier,maxAttempts:null!=(t=e.maxAttempts)?t:1/0,timeout:e.timeout,onError:(t,n)=>{if(!this.aborted){var a;null==(a=e.onError)||a.call(e,t,n)}},onPoll:(t,n)=>{if(!this.aborted){var a;null==(a=e.onPoll)||a.call(e,t,n)}}}}}var td=n(36974);let tu=["epub","mobi","azw3","pdf","png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","txt","md","csv","tsv","html","json","log","dot","go","h","c","cpp","cxx","cc","cs","java","js","css","jsp","php","py","py3","asp","yaml","yml","ini","conf","ts","tsx","doc","docx","ppt","pptx","xls","xlsx","abap","asc","ash","ampl","mod","g4","apib","apl","dyalog","asax","ascx","ashx","asmx","aspx","axd","dats","hats","sats","as","adb","ada","ads","agda","als","apacheconf","vhost","cls","applescript","scpt","arc","ino","asciidoc","adoc","aj","asm","a51","inc","nasm","aug","ahk","ahkl","au3","awk","auk","gawk","mawk","nawk","bat","cmd","befunge","bison","bb","decls","bmx","bsv","boo","b","bf","brs","bro","cats","idc","w","cake","cshtml","csx","c++","cp","h++","hh","hpp","hxx","inl","ipp","tcc","tpp","c-objdump","chs","clp","cmake","in","cob","cbl","ccp","cobol","cpy","capnp","mss","ceylon","chpl","ch","ck","cirru","clw","icl","dcl","click","clj","boot","cl2","cljc","cljs","hl","cljscm","cljx","hic","coffee","_coffee","cjsx","cson","iced","cfm","cfml","cfc","lisp","asd","cl","l","lsp","ny","podsl","sexp","cps","coq","v","cppobjdump","c++-objdump","c++objdump","cpp-objdump","cxx-objdump","creole","cr","feature","cu","cuh","cy","pyx","pxd","pxi","d","di","d-objdump","com","dm","zone","arpa","darcspatch","dpatch","dart","diff","patch","dockerfile","djs","dylan","dyl","intr","lid","E","ecl","eclxml","sch","brd","epj","e","ex","exs","elm","el","emacs","desktop","em","emberscript","erl","es","escript","hrl","xrl","yrl","fs","fsi","fsx","fx","flux","f90","f","f03","f08","f77","f95","for","fpp","factor","fy","fancypack","fan","fth","4th","forth","fr","frt","ftl","g","gco","gcode","gms","gap","gd","gi","tst","s","ms","glsl","fp","frag","frg","fsh","fshader","geo","geom","glslv","gshader","shader","vert","vrx","vsh","vshader","gml","kid","ebuild","eclass","po","pot","glf","gp","gnu","gnuplot","plot","plt","golo","gs","gst","gsx","vark","grace","gradle","gf","graphql","gv","man","1in","1m","1x","3in","3m","3qt","3x","me","n","rno","roff","groovy","grt","gtpl","gvy","gsp","hcl","tf","hlsl","fxh","hlsli","htm","st","xht","xhtml","mustache","jinja","eex","erb","deface","phtml","http","haml","handlebars","hbs","hb","hs","hsc","hx","hxsl","hy","pro","dlm","ipf","cfg","prefs","properties","irclog","weechatlog","idr","lidr","ni","i7x","iss","io","ik","thy","ijs","flex","jflex","geojson","lock","topojson","json5","jsonld","jq","jsx","jade","j","_js","bones","es6","jake","jsb","jscad","jsfl","jsm","jss","njs","pac","sjs","ssjs","sublime-build","sublime-commands","sublime-completions","sublime-keymap","sublime-macro","sublime-menu","sublime-mousemap","sublime-project","sublime-settings","sublime-theme","sublime-workspace","sublime_metrics","sublime_session","xsjs","xsjslib","jl","ipynb","krl","kicad_pcb","kit","kt","ktm","kts","lfe","ll","lol","lsl","lslp","lvproj","lasso","las","lasso8","lasso9","ldml","latte","lean","hlean","less","lex","ly","ily","m","ld","lds","liquid","lagda","litcoffee","lhs","ls","_ls","xm","x","xi","lgt","logtalk","lookml","lua","fcgi","nse","pd_lua","rbxs","wlua","mumps","m4","mcr","mtml","muf","mak","mk","mkfile","mako","mao","markdown","mkd","mkdn","mkdown","ron","mask","mathematica","cdf","ma","map","mt","nb","nbp","wl","wlt","matlab","maxpat","maxhelp","maxproj","mxt","pat","mediawiki","wiki","moo","metal","minid","druby","duby","mir","mirah","mo","mms","mmk","monkey","moon","myt","ncl","nl","nsi","nsh","axs","axi","nlogo","nginxconf","nim","nimrod","ninja","nit","nix","nu","numpy","numpyw","numsc","ml","eliom","eliomi","ml4","mli","mll","mly","objdump","mm","sj","omgrofl","opa","opal","opencl","p","scad","org","ox","oxh","oxo","oxygene","oz","pwn","aw","ctp","php3","php4","php5","php6","php7","php8","phps","phpt","pls","pck","pkb","pks","plb","plsql","sql","pov","pan","psc","parrot","pasm","pir","pas","dfm","dpr","lpr","pp","pl","al","cgi","perl","ph","plx","pm","pod","psgi","t","6pl","6pm","nqp","p6","p6l","p6m","pl6","pm6","pkl","pig","pike","pmod","pogo","pony","ps","eps","ps1","psd1","psm1","pde","prolog","yap","spin","proto","pub","pd","pb","pbi","purs","bzl","gyp","lmi","pyde","pyi","pyp","pyt","pyw","rpy","tac","wsgi","xpy","pytb","qml","qbs","pri","r","rd","rsx","raml","rdoc","rbbas","rbfrm","rbmnu","rbres","rbtbar","rbuistate","rhtml","rmd","rkt","rktd","rktl","scrbl","rl","raw","reb","r2","r3","rebol","red","reds","cw","rs","rsh","robot","rg","rb","builder","gemspec","god","irbrc","jbuilder","mspec","pluginspec","podspec","rabl","rake","rbuild","rbw","rbx","ru","ruby","thor","watchr","sas","scss","smt2","smt","sparql","rq","sqf","hqf","cql","ddl","prc","tab","udf","viw","db2","ston","sage","sagews","sls","sass","scala","sbt","sc","scaml","scm","sld","sps","ss","sci","sce","self","sh","bash","bats","command","ksh","tmux","tool","zsh","sh-session","shen","sl","slim","smali","tpl","sp","sma","nut","stan","ML","fun","sig","sml","do","ado","doh","ihlp","mata","matah","sthlp","styl","scd","swift","sv","svh","vh","toml","txl","tcl","adp","tm","tcsh","csh","tex","aux","bbx","bib","cbx","dtx","ins","lbx","ltx","mkii","mkiv","mkvi","sty","toc","tea","no","textile","thrift","tu","ttl","twig","upc","anim","asset","mat","meta","prefab","unity","uno","uc","ur","urs","vcl","vhdl","vhd","vhf","vhi","vho","vhs","vht","vhw","vala","vapi","veo","vim","vb","bas","frm","frx","vba","vbhtml","vbs","volt","vue","owl","webidl","x10","xc","xml","ant","axml","ccxml","clixml","cproject","csl","csproj","ct","dita","ditamap","ditaval","config","dotsettings","filters","fsproj","fxml","glade","grxml","iml","ivy","jelly","jsproj","kml","launch","mdpolicy","mxml","nproj","nuspec","odd","osm","plist","props","ps1xml","psc1","pt","rdf","rss","scxml","srdf","storyboard","stTheme","sublime-snippet","targets","tmCommand","tml","tmLanguage","tmPreferences","tmSnippet","tmTheme","ui","urdf","ux","vbproj","vcxproj","vssettings","vxml","wsdl","wsf","wxi","wxl","wxs","x3d","xacro","xaml","xib","xlf","xliff","xmi","dist","xproj","xsd","xul","zcml","xsp-config","metadata","xpl","xproc","xquery","xq","xql","xqm","xqy","xs","xslt","xsl","xojo_code","xojo_menu","xojo_report","xojo_script","xojo_toolbar","xojo_window","xtend","reek","rviz","sublime-syntax","syntax","yaml-tmlanguage","yang","y","yacc","yy","zep","zimpl","zmpl","zpl","ec","eh","edn","fish","mu","nc","ooc","rst","rest","wisp","prg","prw","gitignore","gitkeep","gitmodules","example","avifs","blp","bufr","bw","cur","dcx","dds","emf","fit","fits","flc","fli","ftc","ftu","gbr","grib","h5","hdf","icb","icns","iim","im","j2c","j2k","jp2","jpc","jpe","jpf","jpx","mpeg","mpg","msp","pbm","pcd","pcx","pfm","pgm","pnm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"],th=new class{increase(){this.count++}decrease(){if(this.count--,this.count<this.maxConcurrent){let e=this.queue.shift();e&&this.callByQueue(e)}}callByQueue(e){this.count<this.maxConcurrent?(this.increase(),e().then(()=>this.decrease(),()=>this.decrease())):this.queue.push(e)}limitConcurrent(e){var t=this;return function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];return new Promise((n,s)=>t.callByQueue(()=>e(...a).then(n).catch(s)))}}constructor(e){(0,tr._)(this,"maxConcurrent",void 0),(0,tr._)(this,"count",0),(0,tr._)(this,"queue",[]),this.maxConcurrent=e}}(3),tp=th.limitConcurrent.bind(th),tm=e=>({id:e.id,fileName:e.file_name,status:e.status,fileSize:e.file_size,insertedAt:e.inserted_at,updatedAt:e.updated_at,tokenUsage:e.token_usage,errorCode:e.error_code,previewable:e.previewable});class tg{get nonreactiveStore(){return ec.getState()}checkFilesCountOrSize(e,t){if(this.nonreactiveStore.getFilesCount(t)+e.length>50)return{validFiles:[],problem:"exceedCount"};let n=e.filter(e=>e.size>0x6400000),a=e.filter(e=>e.size<=0x6400000);return n.length>0?{validFiles:a,problem:"exceedSize"}:{validFiles:e,problem:null}}async addFileAndUpload(e){let{file:t,fileBelongInfo:n,thinkingEnabled:a}=e,{tracker:s}=ee(),r=this.nonreactiveStore.addFile(t,n);s.info({name:"uploadFile",message:"选取并开始上传文件",payload:{fileName:t.name}}),this.nonreactiveStore.updateFileUploadInfo(r,{percent:0,isUploading:!0,failed:!1,failedMsg:void 0});let o=new to.N;this.nonreactiveStore.setAbortController(r,o);try{let e=await this.uploadFile({file:t,headers:{"x-thinking-enabled":a?"1":"0","x-file-size":String(t.size)}},{onUploadProgress:e=>{if(o.signal.aborted)return;let{percent:t}=e;this.nonreactiveStore.updateFileUploadInfo(r,{percent:t,isUploading:!0,failed:!1,failedMsg:void 0})},abortSignal:o.signal});this.nonreactiveStore.updateFileUploadInfo(r,{percent:1,isUploading:!1,failed:!1,failedMsg:void 0});let{biz_code:n,biz_data:i,biz_msg:l}=e.data;if(0!==n){this.nonreactiveStore.updateFileUploadInfo(r,{percent:0,isUploading:!1,failed:!0,failedMsg:tf(n,this.getLocale)}),s.error({name:"uploadFileFailed",message:"文件上传失败",payload:s.withError(Error(l),{fileName:t.name})});return}this.nonreactiveStore.updateFileInfo(r,tm(i)),s.info({name:"uploadFileSuccess",message:"文件上传成功",payload:{fileName:t.name,fileId:i.id,status:i.status}}),ed(i.status)&&s.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:i.id,reason:i.status,file_name:i.file_name,stage:"upload"}})}catch(e){this.nonreactiveStore.updateFileUploadInfo(r,{failed:!0,isUploading:!1,percent:0,failedMsg:void 0}),s.error({name:"uploadFileFailed",message:"文件上传失败",payload:s.withError(e,{fileName:t.name})})}finally{this.nonreactiveStore.removeAbortController(r)}}async fetchFilesInfoOnce(e){if(this.pollLimiter.isPaused)return{success:!0,infoList:[]};let t=this.nonreactiveStore.getUnparsedFileServerIds(e);if(0===t.length)return{success:!0,infoList:[]};try{let e=(await function(e){let{fileIds:t}=e;return ee().http.http.get("/api/v0/file/fetch_files",{context:ee().http.withDefaultHttpContext({shouldWaitSse:!0}),query:{file_ids:t}})}({fileIds:t})).json.data.biz_data.files.map(e=>({localId:this.nonreactiveStore.getLocalIdByServerId(e.id),info:e})).filter(e=>!!e.localId);return{success:!0,infoList:e}}catch(n){let{tracker:e}=ee();return e.error({name:"fetchFilesInfoFailed",message:"获取文件信息失败",payload:e.withError(n,{fileIds:t})}),{success:!1,failIdList:t.map(e=>this.nonreactiveStore.getLocalIdByServerId(e)).filter(e=>!!e)}}}startPollingFilesInfo(e){this.stopPolling();let t=tc.createFixedPolling({pollFn:()=>this.fetchFilesInfoOnce(e),shouldStopPolling:()=>!1,interval:3e3,onPoll:e=>{if(e.success){let t=e.infoList;t.forEach(e=>{let{localId:t,info:n}=e;this.nonreactiveStore.updateFileInfo(t,tm(n))});let{tracker:n}=ee();t.filter(e=>{let{info:t}=e;return ed(t.status)}).forEach(e=>{let{info:t}=e;n.error({name:"parseFileFailed",message:"解析文件失败",payload:{fileId:t.id,reason:t.status,file_name:t.file_name,stage:"parse"}})})}else e.failIdList.forEach(e=>{let t=this.nonreactiveStore.getFileInfo(e);t&&this.nonreactiveStore.updateFileInfo(e,{...t,status:G.FileParseStatus._CUSTOM_SYSTEM_ERROR_FAIL})})}});t.start(),this.stopPolling=t.abort}getRefFileIds(e){return this.nonreactiveStore.getAllServerIds(e)}getFilesCount(e){return this.nonreactiveStore.getFilesCount(e)}deleteFile(e){let t=this.nonreactiveStore.getFileInfo(e);this.nonreactiveStore.removeFileAndAbortUpload(e);let{tracker:n}=ee();n.info({name:"deleteFile",message:"手动删除文件",payload:{fileId:e,fileName:(null==t?void 0:t.fileName)||""}})}removeAgentFilesAfterCreateSession(e){this.nonreactiveStore.removeAgentFilesAfterCreateSession(e)}removeSessionFilesAfterCreateSession(e){this.nonreactiveStore.removeSessionFiles(e)}moveFilesBelongingSession(e,t){this.nonreactiveStore.moveFilesBelongingSession(e,t)}constructor(e,t,n){(0,tr._)(this,"getLocale",void 0),(0,tr._)(this,"pollLimiter",void 0),(0,tr._)(this,"stopPolling",()=>void 0),(0,tr._)(this,"uploadFile",void 0),(0,tr._)(this,"hooks",{useIsAllSettled:e=>ec(t=>{let n=!t.getUploadingFiles(e).length,a=!t.getUnparsedFileServerIds(e).length;return n&&a}),useIsAllReady:e=>ec(t=>t.getIsAllFilesReady(e)),useIsContainFilesRequireDelete:e=>ec(t=>t.getContainFilesRequireDelete(e)),useFilesCountScale:e=>ec(t=>{let n=t.getFilesCount(e);return n?1===n?"single":"multi":"empty"}),useFileList:e=>ec(t=>t.getFileInfoByBelongInfo(e)),useIsMaxCount:e=>ec(t=>t.getFilesCount(e)>=50),useFilesTokenCount:e=>ec(t=>t.getFilesTokenCount(e))}),this.getLocale=e,this.pollLimiter=t,this.uploadFile=tp(n)}}(0,tr._)(tg,"transformServerFileInfoToClient",tm),(0,tr._)(tg,"getAcceptFileTypes",()=>tu.map(e=>".".concat(e)).join(",")),(0,tr._)(tg,"getAcceptFileTypeList",()=>tu),(0,tr._)(tg,"maxFileSize",0x6400000),(0,tr._)(tg,"maxFileCount",50);let tf=(e,t)=>{let n=Object({1:"fileNameCannotBeEmpty",2:"fileContentCannotBeEmpty",3:"fileExceedSizeLimit",4:"filenameTooLong",5:"systemServiceException",7:"requestFrequencyTooHigh",8:"requestConcurrencyTooHigh",9:"unsupportedFileFormat",15:"serverBusy"})[String(e)];return(0,td.getTranslate)(t())(n)};var tC=n(57713);let tv=(0,Q.vt)()((0,Y.D)((e,t)=>({currentSearchViewMessage:null,setSearchViewIndex:t=>{e(e=>{e.currentSearchViewMessage={...t}})},getSearchViewIndex:()=>t().currentSearchViewMessage,closeSearchView:()=>{e(e=>{e.currentSearchViewMessage=null})}}))),tb=new(n(88113)).B;n(87492),n(42760);let t_=()=>{let e=ee().useLocale();return(0,td.useTranslate)(e)};var tS=W.MessageStatus;let tE=e=>[W.MessageStatus.WIP,W.MessageStatus.INCOMPLETE].includes(e),tx=(e,t,n)=>{let a=e.fragments.find(e=>e.id==t);return(null==a?void 0:a.type)!==n?null:a},ty=e=>!!e,tw=(e,t)=>{let n={results:[],composedList:[]};return tI(e,t,n,new Set),n},tI=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:new Set;for(let s of t){if(a.has(s.id))continue;a.add(s.id);let t=tA(s);if(null!==t){"compose"===t.type?n.composedList.push(t.value):n.results.push(t.value);continue}if(tj(s)){let t=s.reference,r=[tx(e,t.id,t.type)].filter(ty);tI(e,r,n,a);continue}tk(s)&&tI(e,s.references.map(t=>{let{id:n,type:a}=t;return tx(e,n,a)}).filter(ty),n,a)}},tT={TOOL_SEARCH:"TOOL_SEARCH",TOOL_OPEN:"TOOL_OPEN"},tA=e=>{switch(e.type){case tT.TOOL_SEARCH:return{type:"compose",value:{fragmentId:e.id}};case tT.TOOL_OPEN:if(e.result)return{type:"result",value:e.result};return null;default:return null}},tj=e=>"reference"in e&&null!==e.reference,tk=e=>"references"in e&&null!==e.references;var tM=n(95651);let tR=["url","title","snippet","publishedAt","siteName","siteIcon"],tN=e=>{let t=0;return tR.forEach(n=>{!(0,eC.A)(e[n])&&t++}),t},tO=e=>({lessThan:t=>null===e||null!==t&&tN(e)<tN(t)}),tL=(e,t,n)=>{let a=e.fragments.find(e=>e.id===t.fragmentId);return a?"TOOL_OPEN"===t.index&&"TOOL_OPEN"===a.type?n||"FAILED"!==a.status?a.result:null:"number"==typeof t.index&&"TOOL_SEARCH"===a.type&&(n||"FAILED"!==a.status)&&a.results.at(t.index)||null:null},tF=new WeakSet,tP=()=>({sessionMap:{}}),tD=(0,Q.vt)()((0,Y.D)((e,t)=>({...tP(),ensureReferenceIndex:(n,a)=>{var s;let r=null==(s=t().sessionMap[n])?void 0:s[a];return r||(e(e=>{var t,s;(t=e.sessionMap)[n]||(t[n]={}),(s=e.sessionMap[n])[a]||(s[a]={})}),t().sessionMap[n][a])},buildSessionReferenceIndex:e=>{let n=eN.getState().getSession(e);if(n)for(let a of Object.keys(n.messageStore))t().buildMessageReferenceIndex(e,Number(a))},buildMessageReferenceIndex:(n,a)=>{let s,r=t().ensureReferenceIndex(n,a),o=eN.getState().getMessage(n,a);if(!o||"DEEP_SEARCH"!==o.conversationMode||(s=o.fragments.filter(e=>e.type in tT)).every(e=>tF.has(e))||(s.forEach(e=>tF.add(e)),0))return;let i=(e=>{let t=e.fragments.slice().map(e=>(e=>{let t=e.id;switch(e.type){case"TOOL_SEARCH":return e.results.map((e,n)=>({fragmentId:t,index:n,url:e.url}));case"TOOL_OPEN":{var n;let a=null==(n=e.result)?void 0:n.url;if(a)return[{fragmentId:t,index:"TOOL_OPEN",url:a}];return[]}default:return[]}})(e)),n=new Map;for(let a of t)a.forEach(t=>{let a=n.get(t.url);a?tO(tL(e,a,!1)).lessThan(tL(e,t,!1))&&n.set(t.url,t):n.set(t.url,t)});return n})(o),l={},c=1;i.forEach((e,t)=>{l[t]={count:c,result:e},c++}),Object.keys(r).length===Object.keys(l).length&&(0,tM.A)(r,l)||e(e=>{e.sessionMap[n][a]=l})},getIndexMap:(e,n,a)=>{let s=t().ensureReferenceIndex(e,n),r={};for(let e of a)r[e]=s[e]||null;return r},clear:()=>e({...tP()})}))),tB=(e,t)=>{tD.getState().buildMessageReferenceIndex(e,t)},tV=e=>{tD.getState().buildSessionReferenceIndex(e)},tH=(e,t,n)=>eN((0,eq.aD)(a=>{let s=a.getMessage(e,t);if(!s)return{status:"error"};let r=e9.filterFragments(s,["TOOL_SEARCH"]).filter(e=>{let{id:t}=e;return n.includes(t)});if(!r.length)return{status:"error"};if(r.every(e=>"FAILED"===e.status))return{status:"failed"};let o=r.every(e=>"FINISHED"===e.status),i=r.every(e=>!e.results.length);if(o&&i)return{status:"noResult"};let l=new Set(r.flatMap(e=>e.results.map(e=>e.url))).size;return{status:"detailed",allWIP:r.every(e=>"WIP"===e.status),results:{resultCount:l,queries:r.flatMap(e=>{let t=e.results.length>0,n="WIP"===e.status;return e.queries.map(a=>({query:a.query,fragmentId:e.id,viewable:t,wip:n}))})}}},(e,t)=>{if("detailed"===e.status&&"detailed"===t.status){if(e.results.resultCount!==t.results.resultCount||e.allWIP!==t.allWIP)return!1;let n=e.results.queries,a=t.results.queries;return(0,eq.kZ)(n,a,{fragmentId:1,query:1,viewable:1,wip:1})}return e.status===t.status})),tU=(e,t)=>Object.values(t).map(e=>e.result).map(t=>tL(e,t,!1)).filter(e=>!!e),tW=(e,t,n)=>{let a,s=(a=tD(n=>n.ensureReferenceIndex(e,t)),e=>tU(e,a));return eN((0,eq.aD)(a=>{let r=a.getMessage(e,t);return r?"SEARCH"===r.conversationMode?"number"==typeof n?e9.getSearchResults(r,e=>e.id===n):e9.getSearchResults(r,()=>!0):"DEEP_SEARCH"===r.conversationMode?"number"==typeof n?e9.getToolSearchResults(r,e=>e.id===n):s(r):("DEFAULT"===r.conversationMode||(0,er.s)(r.conversationMode),[]):[]},(e,t)=>(0,eq.kZ)(e,t,{url:1,title:1,snippet:1,publishedAt:1,siteName:1,siteIcon:1})))},tz=(e,t,n)=>{let a=t_();return eN((0,ez.k)(s=>{let r,o=s.getMessage(e,t);if(!o)return null;let i=o.fragments.findIndex(e=>e.id===n),l=o.fragments.at(i);if((null==l?void 0:l.type)!=="SEARCH")return null;let c=(()=>{let{status:e,queries:t,results:n,content:s}=l;switch(e){case"WIP":if(!t.length)return{text:a("messageSearching"),phase:"wait_query"};return{text:a("messageSearchingWithQuery"),phase:"querying"};case"FINISHED":{let e=n.length;if(!e)return{text:a("messageSearchNoResult"),phase:"found_nothing"};return{text:e<2?a("messageSearchResult"):a("messageSearchResults")(n.length),phase:"read_results"}}case"FAILED":return{text:s,phase:"failed"};default:return(0,er.s)(e),null}})();return(r=o.status,![tS.WIP,tS.OK].includes(r)&&c&&["querying","wait_query"].includes(c.phase))?{phase:"interrupted",text:a("searchStopped")}:c}))};class tG{get nonReactiveStore(){return tv.getState()}listenOpenView(e){return this.openViewListeners.add(e),()=>{this.openViewListeners.delete(e)}}getV1SearchResult(e,t){return tq(this.nonreactiveChatStore,e,t)}convertCiteIndexToListIndex(e,t){let n=eN.getState().getMessage(e.sessionId,e.messageId),a=e9.getSearchResults(n,Boolean).findIndex(e=>e.citeIndex===t);return a<0?{valid:!1,text:String(t)}:{valid:!0,text:String(a+1)}}dispose(){this.subscription.unsubscribe()}get nonreactiveChatStore(){return eN.getState()}getResults(e,t){let n=e.getMessage(t.sessionId,t.messageId);if(!n||"DEFAULT"===n.conversationMode)return[];if("SEARCH"===n.conversationMode)return"composed"===t.fragmentId?e9.getSearchResults(n,Boolean):e9.getSearchResults(n,e=>e.id===t.fragmentId);if("DEEP_SEARCH"===n.conversationMode){if("composed"===t.fragmentId){var a,s;let e,n=(a=t.sessionId,s=t.messageId,(e=eN.getState().getMessage(a,s))?tU(e,tD.getState().ensureReferenceIndex(a,s)):[]);return(0,eJ.A)(n,"url")}return(0,eJ.A)(e9.getToolSearchResults(n,e=>e.id===t.fragmentId),"url")}return(0,er.s)(n.conversationMode),[]}autoToggleView(e){if(this.getIsShowingSearchView(e))return this.closeSearchView(),{isOpen:!1,count:0};let t=this.getResults(this.nonreactiveChatStore,e);return t.length?(this.openViewListeners.forEach(e=>e()),tb.next({method:"openSearchView",args:null}),this.nonReactiveStore.setSearchViewIndex(e),{isOpen:!0,count:t.length}):{isOpen:!1,count:0}}closeSearchView(){let e=this.nonReactiveStore.getSearchViewIndex(),t=e?this.getResults(this.nonreactiveChatStore,e).length:0;return this.nonReactiveStore.closeSearchView(),{count:t}}getIsShowingSearchView(e){let t=this.nonReactiveStore.getSearchViewIndex();return!!t&&tK(t,e)}getShowingSearchView(){return this.nonReactiveStore.getSearchViewIndex()}constructor(){(0,tr._)(this,"openViewListeners",new Set),(0,tr._)(this,"subscription",void 0),(0,tr._)(this,"_hooks",{useSearchResult:e=>eN((0,eq.aD)(t=>e?this.getResults(t,e):[],(e,t)=>(0,eq.kZ)(e,t,{url:1,title:1,snippet:1,publishedAt:1,siteName:1,siteIcon:1})))||[]}),(0,tr._)(this,"hooks",{useIsSelected:e=>tv(t=>{let n=t.getSearchViewIndex();return!!n&&tK(n,e)}),useIsShowSearchView:()=>tv(e=>e.getSearchViewIndex()),useShowingSearchResult:()=>{let e=tv((0,ez.k)(e=>e.getSearchViewIndex()));return this._hooks.useSearchResult(e)},useV1CiteSearchResult:(e,t)=>eN((0,ez.k)(n=>tq(n,e,t))),useIndexOffset:()=>{let e=this.nonReactiveStore.getSearchViewIndex();return eN(t=>{if(!e||"composed"===e.fragmentId)return 0;let n=t.getMessage(e.sessionId,e.messageId),a=e9.getSearchFragments(n),s=a.findIndex(t=>t.id===e.fragmentId);return s<=0?0:a.slice(0,s).reduce((e,t)=>e+t.results.length,0)})}}),this.subscription=tb.subscribe(e=>{let{method:t}=e;"openPreview"===t&&this.closeSearchView()})}}let tK=(e,t)=>e.sessionId===t.sessionId&&e.messageId===t.messageId&&e.fragmentId===t.fragmentId&&e.from===t.from,tq=(e,t,n)=>n<0?null:e9.getSearchResults(e.getMessage(t.sessionId,t.messageId),()=>!0).reduce((e,t)=>e.concat(t),[]).find(e=>e.citeIndex===n),tZ=(0,eG.createContext)({searchViewController:null}),tQ=e=>{let{children:t,location:n}=e,a=tY();(0,eG.useEffect)(()=>{a.closeSearchView()},[n,a]),(0,eG.useEffect)(()=>()=>{a.dispose()},[a]);let s=(0,eG.useMemo)(()=>({searchViewController:a}),[a]);return(0,tC.jsx)(tZ.Provider,{value:s,children:t})};tZ.displayName="SearchContext";let tY=()=>{let e=(0,eG.useRef)();return e.current||(e.current=new tG),e.current},tX=()=>{let{searchViewController:e}=(0,eG.useContext)(tZ);if(!e)throw Error("useSearchViewController must be used within a SearchViewProvider");return e};class tJ{get isPaused(){return this._isPaused}pause(){this._isPaused=!0}resume(){this._isPaused=!1}constructor(){(0,tr._)(this,"_isPaused",!1)}}var t$=n(26702);n(50353);let t1=e=>t0(e)?e:e.replace(/[_](.)/g,(e,t)=>t.toUpperCase()),t0=e=>/^-?\d+$/.test(e),t2=e=>Object.prototype.toString.call(e),t3={transfer(e){if(null==e||"object"!=typeof e)return e;if(Array.isArray(e))return e.map(e=>t3.transfer(e));let t={};for(let n of Object.keys(e))t[t1(n)]=t3.transfer(e[n]);return t}},t4=new Set;class t6{write(e,t){let n=this.path,a=()=>{let e=this.parts.length-1,a=t1(t5(this.parts.at(e)||"",e));if(!r||"object"!=typeof r){let e='Type mismatch before assignValue at "'.concat(n,'": expect Object, get ').concat(t2(r));this.throwOrReport(e);return}switch(this.mode){case"set":Object(r)[a]=t;return;case"append":if(Array.isArray(t)){if(t0(a)&&Array.isArray(r))return void r.splice(Number(a),0,...t);let e=Object(r)[a];if(Array.isArray(e))e.push(...t);else{let t='Type mismatch in assignValue at "'.concat(n,'": expect Array, get ').concat(t2(e));this.throwOrReport(t)}}else if("string"!=typeof t){let e='Type mismatch in assignValue at "'.concat(n,'": expect string, get ').concat(t2(t));this.throwOrReport(e)}else if("string"!=typeof Object(r)[a]){let e='Type mismatch in assignValue (property "'.concat(a,'") at "').concat(n,'": expect string, get ').concat(t2(Object(r)[a]));this.throwOrReport(e)}else Object(r)[a]+=t;return;default:(0,er.s)(this.mode)}},s=(()=>{let t=-1,n=e;for(let e of this.parts){let a=t1(e);if((t+=1)===this.parts.length-1)break;let s=this.parts.slice(0,t);if(t0(a)){if(!Array.isArray(n)){let e='Type mismatch in resolvePoint at "'.concat(s,'": expect Array, get ').concat(t2(n));return this.throwOrReport(e),null}n=n.at(Number(a));continue}if("object"!=typeof n||!n){let e='Type mismatch in resolvePoint at "'.concat(s,'": expect Object, get ').concat(t2(n));return this.throwOrReport(e),null}n=n[a]}return{cur:n}})();if(null===s)return;let{cur:r}=s;a()}throwOrReport(e){if(this.debug)throw Error(e);this.report(e,this.path)}constructor(e,t,n){(0,tr._)(this,"mode",void 0),(0,tr._)(this,"path",void 0),(0,tr._)(this,"debug",void 0),(0,tr._)(this,"parts",void 0),(0,tr._)(this,"report",(e,t)=>{t4.has(t)||ee().tracker.error({name:"SSEDeltaHandleError",message:"sse delta处理出错",payload:{scene:"writeDelta",info:e,path:t}})}),this.mode=e,this.path=t,this.debug=n,this.parts=t8(this.path)}}let t5=(e,t)=>0===t&&"message_id"===e?"id":e,t9="response",t8=e=>{let t=e.split("/").filter(Boolean);if(t[0]!==t9)throw Error("路径必须以 ".concat(t9," 开头，当前值：").concat(t[0]));return t.slice(1)},t7=e=>{switch(e){case G.MessageStatus.FINISHED:return W.MessageStatus.OK;case G.MessageStatus.CONTENT_FILTER:return W.MessageStatus.CONTENT_FILTER;case G.MessageStatus.CONTEXT_LENGTH_EXCEEDED:return W.MessageStatus.CONTEXT_LENGTH_EXCEEDED;case G.MessageStatus.INCOMPLETE:return W.MessageStatus.INCOMPLETE;case G.MessageStatus.WIP:return W.MessageStatus.WIP;case G.MessageStatus.TIMEOUT:return W.MessageStatus.TIMEOUT;default:return(0,er.s)(e),W.MessageStatus.OK}},ne=e=>e?e.feedback_type===G.MessageFeedbackType.LIKE?W.MessageFeedback.LIKE:W.MessageFeedback.DISLIKE:null,nt=(e,t)=>{var n,a,s,r;let o=t7(e.status),i=null!=(n=e.accumulated_token_usage)?n:nn(e);return{id:e.message_id,parentId:e.parent_id,isEditing:!1,accumulatedTokenUsage:i,status:o,generateState:null,role:e.role===G.MessageRole.ASSISTANT?W.MessageRole.ASSISTANT:W.MessageRole.USER,childIds:t.childIds,currentChildIndex:t.currentChildIndex,feedback:ne(e.feedback),files:e.files.map(tg.transformServerFileInfoToClient),banRegenerate:null!=(a=e.ban_regenerate)&&a,searchEnabled:e.search_enabled||!1,thinkingEnabled:null!=(s=e.thinking_enabled)&&s,insertedAt:null!=(r=e.inserted_at)?r:0,hint:null,resendInfo:null,responseMessageId:null,requestMessageId:null,clientStreamId:null,fragments:e.fragments.map(e=>t3.transfer(e)),hasPendingFragment:e.has_pending_fragment,isContinuing:!1,conversationMode:e.conversation_mode}},nn=e=>e.status===G.MessageStatus.CONTEXT_LENGTH_EXCEEDED?1/0:e.accumulated_token_usage||0;class na{get nonReactiveStore(){return eN.getState()}enterStatus(e,t,n){this.updateMessageByFn(e,t,e=>{e.status=n})}updateMessageByFn(e,t,n){this.nonReactiveStore.updateMessage(e,t,n)}completeMessage(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{let t=nt(n,{childIds:[],currentChildIndex:0});(0,t$.A)(e,t)})}applyDeltaToMessage(e,t){let{chatSessionId:n,messageId:a}=t;this.updateMessageByFn(n,a,t=>{var n;let a,{op:s,value:r,path:o}=e,i={set:(a=n=ee().__DEV__,(e,t,n)=>{new t6("set",t,a).write(e,t3.transfer(n))}),append:(e,t,a)=>{new t6("append",t,n).write(e,t3.transfer(a))}};switch(s){case"SET":i.set(t,o,r);break;case"APPEND":i.append(t,o,r);break;default:(0,er.s)(e)}})}upsertAssistantMessage(e,t){this.nonReactiveStore.addMessage(e,t)}addNewUserMessage(e,t,n){let a=t.chatSessionId,{messageId:s,childIds:r}=n,o=t.prompt,i=t.searchEnabled,l=t.thinkingEnabled,c=this.grabParentTokenCount(a,e),d={id:s,role:W.MessageRole.USER,status:W.MessageStatus.OK,parentId:e,childIds:r,currentChildIndex:0,feedback:null,isEditing:!1,files:ns(t),accumulatedTokenUsage:c,banRegenerate:!1,thinkingEnabled:l,insertedAt:Date.now(),searchEnabled:i,generateState:null,hint:null,resendInfo:t.resendInfo,responseMessageId:null,requestMessageId:null,clientStreamId:t.clientStreamId,fragments:[{type:"REQUEST",content:o,id:-1}],conversationMode:"DEFAULT",hasPendingFragment:!1,isContinuing:!1};return this.nonReactiveStore.addMessage(a,d),d}updateFakeUserMessageId(e){let{chatSessionId:t,newMessageId:n,fakeId:a}=e;if(n===a)return;let s=this.nonReactiveStore.getMessage(t,a);if(!s)return;let r=s.parentId,o={from:a,to:n};this.nonReactiveStore.addMessage(t,{...s,id:n}),null!==r?this.nonReactiveStore.replaceChildId(t,r,o):this.nonReactiveStore.replaceRootBranchId(t,o),this.nonReactiveStore.deleteMessage(t,a,{keepChildren:!0})}deleteMessage(e,t){this.nonReactiveStore.deleteMessage(e,t,{keepChildren:!0})}getIsAssistantMessage(e,t){var n;return"number"==typeof t&&(null==(n=this.nonReactiveStore.getMessage(e,t))?void 0:n.role)===W.MessageRole.ASSISTANT}getChildIndex(e,t){let{parent:n,child:a}=t,s=this.nonReactiveStore.getMessage(e,n);return s&&s.childIds.includes(a)?s.childIds.indexOf(a):null}getMessage(e,t){return this.nonReactiveStore.getMessage(e,t)}getMessageResponse(e,t){var n;let a=this.getMessage(e,t);return a?null==(n=e9.getResponseFragment(a))?void 0:n.content:null}clearStopResponseId(e,t){this.nonReactiveStore.updateMessage(e,t,e=>{e.responseMessageId=null})}getBranchInfo(e,t){let n=eE.getMessageBranchCount(this.nonReactiveStore,e,t);return{count:n,index:eE.getMessageBranchIndex(this.nonReactiveStore,e,t),isInBranch:n>1}}updateBranchIndex(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{e.currentChildIndex=n})}addNewUserMessageCompose(e,t){let{onNoParentMessage:n,parentMessageId:a,targetIndex:s,messageId:r,childIds:o}=t,i=this.addNewUserMessage(a,e,{messageId:r,childIds:o});return this.addMessageIdToParent({chatSessionId:e.chatSessionId,newMessageId:r,onNoParentMessage:n,targetIndex:s}),i}getParentMessage(e,t){return this.nonReactiveStore.getParentMessage(e,t)}grabParentTokenCount(e,t){if(null===t)return 0;let n=this.getParentMessage(e,t);return n?n.accumulatedTokenUsage:0}onMessageComplete(e,t){null!==t&&this.nonReactiveStore.updateMessage(e,t,e=>{e.status===W.MessageStatus.WIP&&(e.status=W.MessageStatus.OK)})}markMessageAsNotEditing(e,t){(0,eC.A)(t)||this.nonReactiveStore.updateMessage(e,t,e=>{e.isEditing=!1})}markMessageAsContinuing(e,t,n){this.nonReactiveStore.updateMessage(e,t,e=>{e.isContinuing=n})}constructor(){(0,tr._)(this,"addMessageIdToParent",e=>{let{chatSessionId:t,newMessageId:n,onNoParentMessage:a,targetIndex:s}=e,r=this.getParentMessage(t,n);if(!r)return void a({sessionId:t,messageId:n,index:s});let o=r.id;this.nonReactiveStore.updateMessage(t,o,e=>{if(e.childIds.includes(n)){if(ee().__DEV__)throw Error("messageId ID ".concat(n," already in childIds of ").concat(e.id));return}null===s?(e.childIds.push(n),e.currentChildIndex=J(e.childIds,e.childIds.length-1)):(e.childIds.splice(s,0,n),e.currentChildIndex=J(e.childIds,s))})})}}let ns=e=>"files"in e?e.files:nr(e.refFileIds),nr=e=>ec.getState().getFileInfoList(e).filter(e=>!!e);n(20124);let no=function(e,t){let{duration:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{withToast:a}=ee(),s=(0,td.getTranslate)(ee().getLocale());a(a=>{let r=(0,td.ensureTranslateComponent)(t,ee().useLocale),o=s(t);a[e]({node:(0,tC.jsx)(r,{}),description:o},{duration:n})})},ni=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return no("error",e,t)};class nl{get nonReactiveStore(){return eN.getState()}async createSession(e){let{tracker:t}=ee();t.info({name:"createSession",message:"开始创建对话",payload:{agentId:e}});try{let{data:{session:e}}=await function(e){let{characterId:t}=e;return ee().http.http.post("/api/v0/chat_session/create",{json:{character_id:t}}).then(e=>{let{context:t,json:n}=e,a=n.data.biz_data;return{data:{session:{id:a.id,title:a.title,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,agent:W.AgentId.CHAT,updatedAt:1e3*a.updated_at,state:W.SessionStateEnum.idle,titleType:a.title_type,agentId:W.AgentId.CHAT,isHidden:!1,pinned:a.pinned,version:a.version,_from:"create_new"}},context:t}})}({});return{session:e}}catch(n){return t.error({name:"createSessionAndStartCompletionFailed",message:"创建对话失败",payload:t.withError(n,{stage:"createSession"})}),ni("createSessionFailedToast"),this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1}),null}}deleteSession(e){this.nonReactiveStore.deleteSession(e)}markSessionAsSending(e){var t;(null==(t=this.nonReactiveStore.getSession(e))?void 0:t.state)!==W.SessionStateEnum.sending&&this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.sending})}clearSessionAbortsAndMarkAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.aborts=[],e.state=W.SessionStateEnum.idle})}updateSessionTitle(e,t,n){this.nonReactiveStore.updateSession(e,e=>{e.title=t,e.titleType=n})}updateSessionHidden(e,t){this.nonReactiveStore.updateSession(e,e=>{e.isHidden=t})}addAbort(e,t){this.nonReactiveStore.updateSession(e,e=>{e.aborts.push(t)})}updateSessionUpdatedAt(e,t){this.nonReactiveStore.updateSession(e,e=>{e.updatedAt<t&&(e.updatedAt=t)})}forceScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.forceScrollToBottomTrigger++})}requireScrollToBottom(e){this.nonReactiveStore.updateSession(e,e=>{e.scrollToBottomTrigger++})}addSession(e){this.nonReactiveStore.addSession(e)}markSessionAsIdle(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.idle})}markAgentAsSending(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!0})}markAgentAsIdleKeepPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1})}markAgentAsIdleAndClearPrompt(e){this.nonReactiveStore.updateAgent(e,e=>{e.isSending=!1,e.prompt=""})}markSessionCompleting(e){this.nonReactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.completing})}clearSessionPrompt(e){this.nonReactiveStore.updateSession(e,e=>{e.prompt=""})}getAgentIsSending(e){var t;return null==(t=this.nonReactiveStore.getAgent(e))?void 0:t.isSending}getUICompletionParentMessageId(e){let t=eE.getLatestMessageId(this.nonReactiveStore,e);if(null===t)return null;if(!ef(t)||eE.getMessageBranchSiblings(this.nonReactiveStore,e,t).every(ef))return t;let n=eE.getParentMessageImpl(this.nonReactiveStore,e,t);return n?n.id:null}getCompletionReqParentId(e,t){let n=eE.getMessagePath(this.nonReactiveStore,e),a=n.findLastIndex(e=>e===t);a<0&&(a=n.length);for(let e=a;e--;)if(!ef(n[e]))return n[e];return null}constructor(){(0,tr._)(this,"addMessageIdToRootBranch",e=>{let{sessionId:t,messageId:n,index:a}=e;this.nonReactiveStore.updateSession(t,e=>{if(e.rootBranchIds.includes(n)){if(ee().__DEV__)throw Error("Root Branch ID ".concat(n," already exists"));return}null===a?(e.rootBranchIds.push(n),e.rootBranchIndex=J(e.rootBranchIds,e.rootBranchIds.length-1)):(e.rootBranchIds.splice(a,0,n),e.rootBranchIndex=J(e.rootBranchIds,a))})})}}n(59587);var nc=n(92471),nd=n(9397);n(22024);var nu=n(25611),nh=n(23812),np=n(59809);let nm=function(e){let{fallback:t,onError:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return JSON.parse(e)}catch(e){return null==n||n(e),t}},ng=np.Ikc({content:np.YjP()}),nf=np.Ikc({response_message_id:np.aig(),request_message_id:np.aig()}),nC=np.Ikc({content:np.YjP(),type:np.KCZ([np.euz("warning"),np.euz("error")])}),nv=np.Ikc({p:np.lqM(np.YjP()),o:np.lqM(np.KCZ([np.euz("SET"),np.euz("BATCH"),np.euz("APPEND")])),v:np.bzn()}),nb=np.Ikc({type:np.KCZ([np.euz("warning"),np.euz("error")]),content:np.YjP(),clear_response:np.zMY()}),n_=np.Ikc({updated_at:np.aig()}),nS=np.Ikc({click_behavior:np.lqM(np.KCZ([np.euz("retry"),np.euz("none")]))}),nE={abortEarly:!0};class nx{parse(e){var t,n;let a=this.op=null!=(t=e.o)?t:this.op,s=this.path=null!=(n=e.p)?n:this.path;if("BATCH"!==a)return[{path:s,op:a,value:e.v}];if("BATCH"===a){let t=new nx,{v:n}=e,a=[];if(!Array.isArray(n))throw Error("expect batch op with v array");for(let e of n){let n=t.parse(e);for(let e of n)e.path=(s?"".concat(s,"/"):"")+e.path;a.push(...n)}return a}throw Error("Unknown delta operation: ".concat(e.o))}constructor(){(0,tr._)(this,"op","SET"),(0,tr._)(this,"path","")}}class ny{get triggered(){return this._triggered}onReady(){this.ready=!0}onParseError(){this._triggered||(this.parseErrorBeforeReady++,!this.ready&&this.parseErrorBeforeReady>=2&&(this.onViolation(),this._triggered=!0))}constructor(e){(0,tr._)(this,"onViolation",void 0),(0,tr._)(this,"ready",!1),(0,tr._)(this,"parseErrorBeforeReady",0),(0,tr._)(this,"_triggered",!1),this.onViolation=e}}let nw=U.NewSSEEventName;class nI{onServerEvent(e){switch(e.event){case"delta":this.deltaParser.parse(e.data).forEach(e=>{this.onEvent({event:nw.delta,data:e},this.context)});break;case"ready":this.onEvent({event:nw.ready,data:{responseMessageId:e.data.response_message_id,requestMessageId:e.data.request_message_id}},this.context);break;case"close":this.onEvent({event:nw.close,data:{clickBehavior:e.data.click_behavior}},this.context);break;case"finish":this.onEvent({event:nw.finish,data:e.data},this.context);break;case"title":this.onEvent({event:nw.title,data:e.data},this.context);break;case"toast":this.onEvent({event:nw.toast,data:e.data},this.context);break;case"update_session":this.onEvent({event:nw.updateSession,data:{updatedAt:1e3*e.data.updated_at}},this.context);break;case"hint":this.onEvent({event:nw.hint,data:{content:e.data.content,type:e.data.type,clearResponse:e.data.clear_response,clickBehavior:U.CloseClickBehavior.none}},this.context);break;default:(0,er.s)(e)}}parse(e,t){this.recentFeed=e,this.context=t;let n=e.slice(this.consumed);this.consumed=e.length,this.eventParser.feed(n)}constructor(e,t,n){(0,tr._)(this,"onEvent",void 0),(0,tr._)(this,"errorHandler",void 0),(0,tr._)(this,"consumed",0),(0,tr._)(this,"eventParser",void 0),(0,tr._)(this,"eventDataParser",void 0),(0,tr._)(this,"deltaParser",new nx),(0,tr._)(this,"context",void 0),(0,tr._)(this,"recentFeed","[null]"),(0,tr._)(this,"protocolGuard",void 0),(0,tr._)(this,"onEventParse",e=>{let{onEventDataValidateError:t,onUnexpectedSSEEvent:n}=this.errorHandler;if(!e.event&&e.data){let n=this.eventDataParser.parseDelta(e.data);return n.success?void this.onServerEvent({event:"delta",data:n.output}):void t("delta",n.issues)}switch(e.event){case"ready":{this.protocolGuard.onReady();let n=this.eventDataParser.parseReady(e.data);if(!n.success)return void t("ready",n.issues);this.onServerEvent({event:e.event,data:{response_message_id:n.output.response_message_id,request_message_id:n.output.request_message_id}});break}case"finish":this.onServerEvent({event:e.event,data:{}});break;case"close":{let n=this.eventDataParser.parseClose(e.data);if(!n.success)return void t("close",n.issues);this.onServerEvent({event:"close",data:{click_behavior:n.output.click_behavior||"none"}});break}case"hint":{let n=this.eventDataParser.parseHint(e.data);if(!n.success)return void t("hint",n.issues);this.onServerEvent({event:"hint",data:n.output});break}case"toast":{let n=this.eventDataParser.parseToast(e.data);if(!n.success)return void t("toast",n.issues);this.onServerEvent({event:e.event,data:n.output});break}case"title":{let n=this.eventDataParser.parseTitle(e.data);if(!n.success)return void t("title",n.issues);this.onServerEvent({event:e.event,data:n.output});break}case"update_session":{let n=this.eventDataParser.parseUpdateSession(e.data);if(!n.success)return void t("update_session",n.issues);this.onServerEvent({event:e.event,data:n.output});break}default:n(e)}}),this.onEvent=e,this.errorHandler=t,this.protocolGuard=new ny(n),this.eventParser=(0,nh.C)({onEvent:this.onEventParse,onError:e=>{this.protocolGuard.triggered||(this.errorHandler.onEventParseError(e,this.recentFeed),this.protocolGuard.onParseError())}}),this.eventDataParser=(e=>({parseTitle:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(ng,n,nE)},parseReady:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(nf,n,nE)},parseToast:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(nC,n,nE)},parseDelta:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(nv,n,nE)},parseHint:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(nb,n,nE)},parseUpdateSession:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(n_,n,nE)},parseClose:t=>{let n;return n=nm(t,{onError:n=>null==e?void 0:e(n,t)}),np.xLC(nS,n,nE)}}))(this.errorHandler.onEventDataJsonParseError)}}(H=(V=Z||(Z={})).EventNames||(V.EventNames={})).resumeMessageGotFullMessage="resumeMessageGotFullMessage",H.invalidSessionId="invalidSessionId",H.streamDispose="streamDispose",H.requestAborted="requestAborted",H.nonStreamError="nonStreamError";let nT=new Set,nA=e=>{if(!e||e===nd.QV)return!1;let t=nT.has(e);return nT.add(e),t},nj=()=>{let{tracker:e}=ee();return{onReqFinal:(t,n,a)=>{let{statesSnap:s,scene:r}=t;nA(n)||e.info({name:"clientStreamNetworkMonitor",message:"流式请求信息",payload:{streamErrorStage:nM(s,a),streamScenario:r,logId:n||nd.QV}})},onFinish:(t,n)=>{if(nA(n))return;let a=t.type;if("resumeStream"===a)return;let s=nk(a);e.info({name:"clientStreamNetworkMonitor",message:"流式请求信息",payload:{streamErrorStage:null,streamScenario:s,logId:n||nd.QV}})}}},nk=e=>"editMessage"===e?"edit":e,nM=(e,t)=>t?e.ready?e.delta?e.close?null:"wip":"waitFirstDelta":"waitReady":"send";class nR{ping(){this.lastPing=Date.now()}dispose(){this.taskId&&clearTimeout(this.taskId),this.isDisposed=!0}scheduleCheck(){this.isDisposed||(this.taskId=setTimeout(()=>{this.check()},this.config.checkInterval))}check(){if(this.isDisposed)return;let e=Date.now()-this.lastPing,{maxPingInterval:t}=this.config;e>t?this.onTimeout({lastPing:this.lastPing,now:Date.now(),timeout:t}):this.scheduleCheck()}constructor(e,t){(0,tr._)(this,"config",void 0),(0,tr._)(this,"onTimeout",void 0),(0,tr._)(this,"lastPing",void 0),(0,tr._)(this,"taskId",null),(0,tr._)(this,"isDisposed",!1),this.config=e,this.onTimeout=t,this.lastPing=Date.now(),this.scheduleCheck()}}var nN=G.GLOBAL_ERROR_BIZ_CODE,nO=n(41282);let nL=e=>(0,td.getTranslate)(ee().getLocale())(e);var nF=G.COMPLETION_ERROR_CODE,nP=G.GLOBAL_ERROR_BIZ_CODE,nD=U.NewSSEEventName,nB=U.HintType,nV=U.CloseClickBehavior;let nH=(0,nO.$)(()=>new Map([[nF.INVALID_SESSION_ID,{t:"hintInvalidParams",r:!1}],[nF.PARENT_ROLE_NOT_ASSISTANT,{t:"hintInvalidParams",r:!1}],[nF.MAX_MESSAGE_COUNT_REACHED,{t:"hintMaxMessageCount",r:!1}],[nF.EMPTY_PROMPT,{t:"completionPromptEmptyToast",r:!1}],[nF.LAST_MESSAGE_IS_WIP,{t:"hintLastMessageIsWIP",r:!0}],[nF.PARENT_MESSAGE_IS_LOCKED,{t:"msgGeneratingTryLater",r:!0}],[nP.IP_ACCESS_RESTRICTED,{t:"operationTooFastToast",r:!0}],[nP.POW_HEADER_ERROR,{t:"invalidPowResponseToast",r:!0}],[nP.INVALID_POW_RESPONSE,{t:"invalidPowResponseToast",r:!0}]])),nU=new Map([[nF.REGENERATE_TEMPLATE_RESPONSE,"completionRegenerateOnBadMessageToast"],[nF.RESUME_MESSAGE_NOT_FOUND,"invalidRequest"],[nF.RESUME_TIME_TOO_LONG,"invalidRequest"],[nF.INVALID_REF_FILE_ID,"invalidFileRefToast"],[nF.SESSION_FILE_LIMIT_EXCEEDED,"fileCountLimitExceededToast"],[nF.SEARCH_CANNOT_WITH_FILE,"hintMessageSearchWithFileError"],[nF.CURRENT_MESSAGE_IS_NOT_A_LEAF_MESSAGE,"msgNotSupportContinueToast"],[nF.CURRENT_MESSAGE_IS_LOCKED,"msgGeneratingTryLater"]]);var nW=U.NewSSEEventName,nz=U.CloseClickBehavior,nG=G.COMPLETION_ERROR_CODE,nK=U.NewSSEEventName;let nq=new Map;class nZ{startStream(e,t){let{tracker:n}=ee(),{abort:a,logIdRef:s}=((e,t)=>{let n,{tracker:a,http:s}=ee(),r={current:null},o=new nI((e,n)=>{t.onEvent(e,n)},t,t.onProtocolViolation);a.info({name:"chatCompletionApi",message:"chatCompletionApi 被调用",payload:{scene:e.type,chatSessionId:e.request.chatSessionId,withFile:"".concat("completion"===e.type&&e.request.refFileIds.length>0),fileExtensions:"fileExtensions"in e.request?e.request.fileExtensions:[],thinkingEnabled:"thinkingEnabled"in e.request&&e.request.thinkingEnabled?"true":"false",messageId:"messageId"in e.request?String(e.request.messageId):"",challengeResponse:"challengeResponse"in e.request&&e.request.challengeResponse?"true":"false",searchEnabled:"searchEnabled"in e.request&&e.request.searchEnabled?"true":"false"}});let i=new to.N,l=(e=>{let{tracker:t,getSSEAutoResumeConfig:n}=ee();return new nR({maxPingInterval:n().maxChunkInterval||7e4,checkInterval:3e3},n=>{var a;let s;e.abort("timeout"),t.error({name:"SSENetRequestDisconnect",message:"流式接口长时间未更新数据，自动中断",payload:(a=n,{lastPing:(s=e=>eK(e).format("MM/DD HH:mm:ss.SSS"))(a.lastPing),now:s(a.now),timeout:a.timeout})})})})(i),c=!0,d=!1,u=!1;return s.http({json:"completion"===e.type?{chat_session_id:e.request.chatSessionId,parent_message_id:ef(e.request.parentMessageId)?null:e.request.parentMessageId,prompt:e.request.prompt,ref_file_ids:e.request.refFileIds,thinking_enabled:e.request.thinkingEnabled,search_enabled:e.request.searchEnabled,client_stream_id:e.request.clientStreamId}:"regenerate"===e.type?{chat_session_id:e.request.chatSessionId,child_message_id:e.request.childMessageId,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled}:"continue"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId,fallback_to_resume:e.request.fallbackToResume}:"editMessage"===e.type?{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId,prompt:e.request.prompt,search_enabled:e.request.searchEnabled,thinking_enabled:e.request.thinkingEnabled,client_stream_id:e.request.clientStreamId}:{chat_session_id:e.request.chatSessionId,message_id:e.request.messageId},context:s.withDefaultHttpContext({mayMissingApiCode:!0}),extraOptions:{timeout:6e5},headers:{...(e=>{if("challengeResponse"in e.request&&e.request.challengeResponse){let t=ee().base64Encode,[n,a]=(0,eB.Bx)(e.request.challengeResponse,eV,t);return{[n]:a}}return{}})(e),...(n=ee().addSSEHeader)&&n()||{}},signal:i.signal,method:"post",url:(e=>{let t=e.type;switch(t){case"completion":return eV;case"regenerate":return"/api/v0/chat/regenerate";case"continue":return"/api/v0/chat/continue";case"editMessage":return"/api/v0/chat/edit_message";case"resumeStream":return"/api/v0/chat/resume_stream";default:return(0,er.Z)(t)}})(e),hooks:{onInit:[async e=>("miniprogram"===ee().platform&&await ee().http.monitor.waitUntil(t=>{let{requests:n}=t;return n[0].id===e.context.id}),e)],onHeadersReceived:[e=>{let{requestOptions:t,headers:n,originalRequest:s}=e,o=s.status;if((0,nd.pw)(o,n)||(0,nd.Bj)(o,n)){u=!0;return}u=!1,r.current=t.context.logId,d=!0;let i=String(n["content-type"]);i&&!i.includes("text/event-stream")&&(c=!1,a.info({name:"SSENetNotStreamResponse",message:"SSE请求响应不是流式",payload:{contentType:i}}))}]},onDownloadProgress:e=>{let{originalRequest:t,requestOptions:n,detail:a}=e;if(u||(l.ping(),!c||i.signal.aborted))return;let s=n.context.logId;"miniprogram"===ee().platform?o.parse(a.responseText,{logId:s}):o.parse(t.responseText,{logId:s})}}).then(n=>{var a;let s;if(nj().onFinish(e,r.current),c||(n.headers["content-type"]||"").includes("text/event-stream"))return;let o=(a=n.json,null===(s=(0,nc.A)(a,["data","biz_code"],null))?null:{code:s,msg:(0,nc.A)(a,["data","biz_msg"],""),data:(0,nc.A)(a,["data","biz_data"],null)});if(null===o)return;let i={logId:r.current||nd.QV};switch(o.code){case G.COMPLETION_ERROR_CODE.RESUME_MESSAGE_GOT_FULL_MESSAGE_CODE:{let e=n.json.data.biz_data;t.onEvent({event:Z.EventNames.resumeMessageGotFullMessage,data:{message:e}},i);return}case G.COMPLETION_ERROR_CODE.INVALID_SESSION_ID:t.onEvent({event:Z.EventNames.invalidSessionId,data:{sessionId:e.request.chatSessionId}},i);return;default:t.onEvent({event:Z.EventNames.nonStreamError,data:{...o,options:e}},i);return}},n=>{var a;let o=null==(a=Object(n))?void 0:a.error;[nN.IP_ACCESS_RESTRICTED,nN.INVALID_POW_RESPONSE,nN.POW_HEADER_ERROR].some(e=>nu.Q.isCode(o,e))?t.onEvent({event:Z.EventNames.nonStreamError,data:{code:Number(o.code),data:"",msg:o.message,options:e}},{logId:(0,nc.A)(n,"context.logId")}):s.isHttpClientError(n)?n.type===s.HTTP_CLIENT_ERROR.ABORTED?t.onEvent({event:Z.EventNames.requestAborted,data:{}},{logId:r.current||nd.QV}):t.onSSENetworkError(n):t.onSSENetUnexpectedError(n)}).finally(()=>{l.dispose(),t.onFinally({isHeaderReceived:d})}),{logIdRef:r,abort:()=>{i.abort()}}})((e=>{switch(e.scene){case"completion":return{type:"completion",request:e};case"regenerate":return{type:"regenerate",request:e};case"continue":return{type:"continue",request:e};case"resumeStream":return{type:"resumeStream",request:e};case"editMessage":return{type:"editMessage",request:e};default:return(0,er.Z)(e)}})(e),{onEvent:(e,n)=>{switch(e.event){case nK.toast:nQ(e);return;case nK.title:nY(e,t,n);return;case nK.delta:t.onEvent({event:e,context:n});return;case nK.finish:nX(e,t,n);return;case nK.close:nJ(e,t,n);return;case nK.ready:n$(e,t,n);return;case Z.EventNames.resumeMessageGotFullMessage:n1(e,t,n);return;case Z.EventNames.requestAborted:n0(e,t,n);return;case nK.updateSession:n2(e,t,n);return;case nK.hint:n4(e,t,n);return;case Z.EventNames.invalidSessionId:t.onEvent({event:e,context:n});return;case Z.EventNames.nonStreamError:n3(e,t,n),t.onEvent({event:e,context:n});return;default:(0,er.s)(e)}},onFinally:e=>{let{isHeaderReceived:a}=e;n.info({name:"SSENetStreamDispose",message:"SSE请求终止",payload:{isHeaderReceived:a}}),t.onEvent({event:{event:Z.EventNames.streamDispose,data:{isHeaderReceived:a}},context:{logId:s.current||nd.QV}})},onSSENetUnexpectedError:e=>{n.error({name:"SSENetUnexpectedError",message:"SSENet 意外错误",payload:n.withError(e,{})})},onSSENetworkError:e=>{var a;let r=(null==(a=e.response)?void 0:a.headers["x-ds-trace-id"])||s.current||nd.QV;n.error({name:"SSENetNetworkError",message:"SSENet 网络错误",payload:n.withError(e,{logId:r})});let o=(e=>{var t,n;let a;if(!ee().http.isHttpClientError(e))return null;let s=null==(t=e.response)?void 0:t.status;return(0,eC.A)(s)?null:(a=429===(n=s)?[nL("requestFrequencyTooHigh"),!0]:n>=500?[nL("completionServerErrorToast"),!1]:["".concat(nL("hintFallback")," (").concat(n,")"),!1],{event:nW.hint,data:{type:U.HintType.error,content:a[0],clearResponse:!1,clickBehavior:a[1]?nz.retry:nz.none}})})(e);o&&n4(o,t,{logId:r})},onEventParseError:(e,t)=>{n.error({name:"SSEOnEventParseError",message:"eventsource-parser 解析错误",payload:n.withError(e,{recentFeed:t,logId:s.current||nd.QV})})},onEventDataJsonParseError:(e,t,a)=>{let r=s.current,o=()=>n.error({name:"SSEOnEventDataJsonParseError",message:"event 中的 data 字段 json 解析错误",payload:n.withError(e,{str:t,logId:r||nd.QV,feeds:((null==a?void 0:a.at(-1))||"").slice(-2e3)})});if(!r)return void o();let i=nq.get(r)||0;i>3||(nq.set(r,i+1),o())},onEventDataValidateError:(e,t)=>{n.error({name:"SSEOnEventDataValidateError",message:"event 中的 data 字段验证错误",payload:{event:e,issue:JSON.stringify(t),logId:s.current||nd.QV}})},onUnexpectedSSEEvent:e=>{n.error({name:"SSEOnUnexpectedSSEEvent",message:"在 SSE 事件文档中未定义的事件",payload:{event:e.event||"",data:e.data}})},onProtocolViolation:t.onProtocolViolation});return{abort:a}}}let nQ=e=>{let{withToast:t,tracker:n}=ee(),{type:a,content:s}=e.data;n.info({name:"SSENetToast",message:"SSE 显示 toast",payload:{type:a,content:s}}),t(t=>{let{type:n,content:a}=e.data;"error"===n||"warning"===n?t.error(a):t.info(a)})},nY=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetTitle",message:"SSE title事件",payload:{title:e.data.content}}),t.onEvent({event:e,context:n})},nX=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetFinish",message:"SSE finish事件",payload:{}}),t.onEvent({event:e,context:n})},nJ=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetClose",message:"SSE close事件",payload:{}}),t.onEvent({event:e,context:n})},n$=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetReady",message:"SSE ready事件",payload:{}}),t.onEvent({event:e,context:n})},n1=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetGotFullMessage",message:"流式接口得到了完整消息",payload:{scene:"continue"}}),t.onEvent({event:e,context:n})},n0=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetAborted",message:"请求取消",payload:{logId:(null==n?void 0:n.logId)||""}}),t.onEvent({event:e,context:n})},n2=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetUpdateSession",message:"更新session信息",payload:{updatedAt:e.data.updatedAt}}),t.onEvent({event:e,context:n})},n3=(e,t,n)=>{var a;let s,{tracker:r}=ee(),o={code:e.data.code,msg:e.data.msg};r.error({name:"SSENetNonStreamError",message:"SSE接口非流式报错(json)",payload:o});let i=(s=((e,t)=>{if("resumeStream"===t.type)return null;let n=nH().get(e);if(!n)return null;let a=nL(n.t);if("string"!=typeof a&&ee().__DEV__)throw Error("content is not string");return{event:nD.hint,data:{type:nB.error,content:String(a),clearResponse:!0,clickBehavior:n.r?nV.retry:nV.none}}})(a=e.data.code,e.data.options))||(e=>{let t=nU.get(e);if(!t)return null;let n=nL(t);if("string"!=typeof n&&ee().__DEV__)throw Error("content is not string");return{event:nD.toast,data:{type:z.ToastType.ERROR,content:String(n)}}})(a);if((null==i?void 0:i.event)===nK.hint)return void n4(i,t,n);if((null==i?void 0:i.event)===nK.toast)return void nQ(i);if(e.data.code===nG.MUTED){let a,s;t.onMuted({muteUntil:1e3*(0,nc.A)(e.data.data,["mute_until"])||(s=(a=new Date).getDate(),a.setDate(s+7),a.valueOf())}),n4({event:nD.hint,data:{type:nB.error,content:nL("hintFallback"),clearResponse:!0,clickBehavior:nV.none}},t,n);return}r.error({name:"SSENetUnableConvertNonStreamError",message:"无法识别转化的错误",payload:o})},n4=(e,t,n)=>{let{tracker:a}=ee();a.info({name:"SSENetHint",message:"消息hint事件",payload:e.data}),t.onEvent({event:e,context:n})};var n6=n(4981);class n5{constructor(e){(0,tr._)(this,"services",void 0),this.services=e}}var n9=n(38499),n8=W.MessageRole;let n7=e=>{let{parent:t,id:n,clientStreamId:a,thinkingEnabled:s,searchEnabled:r}=e;return{id:n,parentId:t.id,role:n8.ASSISTANT,thinkingEnabled:s,insertedAt:Date.now(),banRegenerate:!1,searchEnabled:r,status:W.MessageStatus.WIP,generateState:W.GenerateState.INITIALIZING,childIds:[],currentChildIndex:0,accumulatedTokenUsage:t.accumulatedTokenUsage,feedback:null,isEditing:!1,files:[],hint:null,resendInfo:null,responseMessageId:null,requestMessageId:null,clientStreamId:a,fragments:[],hasPendingFragment:!0,isContinuing:!1,conversationMode:"DEFAULT"}},ae=(e,t)=>{var n,a,s,r,o,i;let{op:l}=e,{response:c}=e.value;if("SET"!==l)throw Error("首条 delta 必须为 SET 操作，当前值：".concat(l));return{id:c.message_id,parentId:c.parent_id,role:c.role,thinkingEnabled:null!=(n=c.thinking_enabled)&&n,insertedAt:null!=(a=c.inserted_at)?a:Date.now(),accumulatedTokenUsage:null!=(s=c.accumulated_token_usage)?s:0,files:(null!=(r=c.files)?r:[]).map(tg.transformServerFileInfoToClient),searchEnabled:null!=(o=c.search_enabled)&&o,status:t7(c.status),generateState:W.GenerateState.INITIALIZING,banRegenerate:null!=(i=c.ban_regenerate)&&i,childIds:[],currentChildIndex:0,feedback:ne(c.feedback),isEditing:!1,hint:null,resendInfo:null,responseMessageId:t.responseMessageId,requestMessageId:null,clientStreamId:null,fragments:c.fragments.map(e=>t3.transfer(e)),hasPendingFragment:c.has_pending_fragment,isContinuing:!1,conversationMode:c.conversation_mode}};var at=U.HintType,an=W.MessageStatus;let aa={onReady:e=>{var t;let{event:n,common:a,getParams:s}=e,{responseMessageId:r,requestMessageId:o}=n.data,{services:{messageService:i,sessionService:l},idSync:c}=a,{chatSessionId:d}=s();i.updateMessageByFn(d,c.assistantMessageId,e=>{e.responseMessageId=r}),i.updateMessageByFn(d,c.userMessageId,e=>{e.requestMessageId=o}),l.markSessionCompleting(d),null==(t=a.generateStateManager)||t.onReady()},cleanUpSimple:e=>{let{common:t,getParams:n}=e,{services:{sessionService:a,messageService:s},generateStateManager:r,idSync:o}=t,{chatSessionId:i,statesSnap:l}=n();if(l.sessionInvalid)return;a.markSessionAsIdle(i),null==r||r.dispose();let c=s.getMessage(i,o.assistantMessageId);if(c&&c.status===tS.WIP){let e=l.close?an.OK:an.INCOMPLETE;s.enterStatus(i,o.assistantMessageId,e)}s.clearStopResponseId(i,o.assistantMessageId)},cleanUp:(e,t)=>{let{common:n,getParams:a}=e,{services:{messageService:s,sessionService:r},generateStateManager:o,idSync:i}=n,{chatSessionId:l,statesSnap:c}=a(),d=ef(i.assistantMessageId);if(!c.sessionInvalid){if(d&&t.allowHint){let e=(0,td.getTranslate)(ee().getLocale())("hintNetworkError"),t=s.getMessage(l,i.userMessageId);(null==t?void 0:t.hint)===null&&s.updateMessageByFn(l,i.userMessageId,t=>{t.hint={clearResponse:!1,content:e,type:at.error,clickBehavior:U.CloseClickBehavior.retry}})}if(d&&s.deleteMessage(l,i.assistantMessageId),!d&&!c.close){let e=s.getMessage(l,i.assistantMessageId);(null==e?void 0:e.status)===an.WIP&&s.updateMessageByFn(l,i.assistantMessageId,e=>{e.status=an.INCOMPLETE})}r.markSessionAsIdle(l),null==o||o.dispose(),s.clearStopResponseId(l,i.assistantMessageId)}},onGetPowFail:e=>{let{onHint:t,common:n,getParams:a}=e,{services:{messageService:s,sessionService:r},idSync:o}=n,i=a(),{chatSessionId:l}=i,{getLocale:c}=ee();t({type:U.HintType.error,content:(0,td.getTranslate)(c())("hintNetworkError"),clearResponse:!1,clickBehavior:U.CloseClickBehavior.retry},i),s.deleteMessage(l,o.assistantMessageId),r.markSessionAsIdle(l)},onClose:(e,t)=>{let{common:{services:{messageService:n},idSync:a},getParams:s}=t,{chatSessionId:r}=s(),o=e.data.clickBehavior;o&&n.updateMessageByFn(r,a.userMessageId,e=>{e.hint&&(e.hint.clickBehavior=o)})},onNewAssistantMessage:(e,t)=>{let{common:{services:{messageService:n,sessionService:a},idSync:s}}=e,{chatSessionId:r}=e.getParams(),o=s.assistantMessageId,i=s.userMessageId,l=t.id,c=t.parentId,d=n.getChildIndex(r,{parent:s.userMessageId,child:s.assistantMessageId});n.deleteMessage(r,o),n.upsertAssistantMessage(r,t),a.markSessionCompleting(r),n.updateFakeUserMessageId({chatSessionId:r,newMessageId:c,fakeId:i}),s.set.assistantMessageId(l),s.set.userMessageId(c),n.addMessageIdToParent({chatSessionId:r,newMessageId:l,onNoParentMessage:n9.A,targetIndex:d})},onDelta:e=>{var t,n;let{event:a,common:s,getParams:r,onSent:o}=e,{services:{messageService:i},generateStateManager:l,idSync:c}=s,{chatSessionId:d}=r();if(null==l||l.onDelta(a),!ef(c.assistantMessageId))return void i.applyDeltaToMessage(a.data,{chatSessionId:d,messageId:c.assistantMessageId});let u=ae(a.data,{responseMessageId:null!=(n=null==(t=i.getMessage(d,c.assistantMessageId))?void 0:t.responseMessageId)?n:null});aa.onNewAssistantMessage(e,u),null==l||l.updateMessageId(u.id,a),null==o||o()}};var as=U.NewSSEEventName;class ar{attach(e){e!==this&&e&&this.attached.add(e)}get cannotAutoResume(){return this._close||this._sessionInvalid||this._userAborted||this._nonStreamError}get snap(){return{ready:this._ready,delta:this._delta,close:this._close,sessionInvalid:this._sessionInvalid,userAborted:this._userAborted,nonStreamError:this._nonStreamError}}constructor(){(0,tr._)(this,"_ready",!1),(0,tr._)(this,"_delta",!1),(0,tr._)(this,"_close",!1),(0,tr._)(this,"_sessionInvalid",!1),(0,tr._)(this,"_userAborted",!1),(0,tr._)(this,"_nonStreamError",!1),(0,tr._)(this,"attached",new Set),(0,tr._)(this,"onReady",e=>{this._ready=!0,this!==e&&this.attached.forEach(t=>t.onReady(e||this))}),(0,tr._)(this,"onDelta",e=>{this._delta=!0,this._ready=!0,this!==e&&this.attached.forEach(t=>t.onDelta(e||this))}),(0,tr._)(this,"onNonStreamError",e=>{this._nonStreamError=!0,this!==e&&this.attached.forEach(t=>t.onNonStreamError(e||this))}),(0,tr._)(this,"onClose",e=>{this._close=!0,this._ready=!0,this._delta=!0,this!==e&&this.attached.forEach(t=>t.onClose(e||this))}),(0,tr._)(this,"onSessionInvalid",e=>{this._sessionInvalid=!0,this!==e&&this.attached.forEach(t=>t.onSessionInvalid(e||this))}),(0,tr._)(this,"onUserAborted",e=>{this._userAborted=!0,this!==e&&this.attached.forEach(t=>t.onUserAborted(e||this))})}}var ao=W.GenerateState;class ai{getMessage(){return eN.getState().getMessage(this.sessionId,this.messageId)}read(){var e;return(null==(e=eN.getState().getMessage(this.sessionId,this.messageId))?void 0:e.generateState)||null}write(e){eN.getState().updateMessage(this.sessionId,this.messageId,t=>{t.generateState=e})}updateMessageId(e){this.messageId=e}constructor(e,t){(0,tr._)(this,"sessionId",void 0),(0,tr._)(this,"messageId",void 0),this.sessionId=e,this.messageId=t}}let al={[ao.INITIALIZING]:0,[ao.AWAITING_FIRST_CHANGE]:1,[ao.GENERATING]:2};class ac{static mayLoading(e){return!!e&&[ao.AWAITING_FIRST_CHANGE,ao.INITIALIZING].includes(e)}write(e){((e,t)=>{if(e===t)return!1;if(!e||e&&!t||!t)return!0;let n=al[e];return al[t]>n})(this.accessor.read(),e)&&this.accessor.write(e)}start(){this.write(ao.INITIALIZING)}updateMessageId(e,t){this.accessor.updateMessageId(e),this.onDelta(t)}onReady(){this.write(ao.AWAITING_FIRST_CHANGE)}onDelta(e){let t=e.data;ad(t,()=>this.accessor.getMessage())?this.write(ao.GENERATING):"string"!=typeof t.value?this.write(ao.AWAITING_FIRST_CHANGE):ad(t,()=>this.accessor.getMessage())&&t.value!==this.initContent?this.write(ao.GENERATING):this.write(ao.AWAITING_FIRST_CHANGE)}dispose(){this.write(null)}constructor(e,t){(0,tr._)(this,"initContent",void 0),(0,tr._)(this,"accessor",void 0),this.initContent=e,this.accessor=new ai(t.sessionId,t.messageId),this.start()}}let ad=(e,t)=>{let n=t();return!!n&&au(e,n)},au=(e,t)=>{let n=[...e4,...e$];if(!e.path){let t=(0,nc.A)(e.value,"response.fragments");return!!Array.isArray(t)&&t.some(e=>n.includes((0,nc.A)(e,"type"))&&(0,nc.A)(e,"content"))}let a=e.path.split("/").filter(Boolean).slice(1);if("fragments"!==a.at(0))return!1;let{value:s}=e;return(Array.isArray(s)?s.some(e=>n.includes((0,nc.A)(e,"type"))&&(0,nc.A)(e,"content")):n.includes(String((0,nc.A)(s,"type")))&&!!(0,nc.A)(s,"content"))||(()=>{if("string"!=typeof s&&"number"!=typeof s)return!1;let e=parseInt(a.at(1)||"NaN");if(!Number.isInteger(e))return!1;let r=t.fragments.at(e);return!!r&&n.includes(r.type)&&"content"===a.at(-1)})()};class ah{bindSync(e){e!==this&&this.bound.add(e)}get userMessageId(){return this._userMsgId}get assistantMessageId(){return this._asstMsgId}constructor(e){var t,n;(0,tr._)(this,"_userMsgId",-1),(0,tr._)(this,"_asstMsgId",-1),(0,tr._)(this,"bound",new Set),(0,tr._)(this,"set",{userMessageId:(e,t)=>{if(this._userMsgId=e,this===t)return;let n=t||this;this.bound.forEach(t=>t.set.userMessageId(e,n))},assistantMessageId:(e,t)=>{if(this._asstMsgId=e,this===t)return;let n=t||this;this.bound.forEach(t=>t.set.assistantMessageId(e,n))}}),this._userMsgId=null!=(t=e.userMessageId)?t:-1,this._asstMsgId=null!=(n=e.assistantMessageId)?n:-1}}let ap=U.NewSSEEventName;class am extends n5{execute(e){var t;let{params:n}=e,{sessionService:a,messageService:s,baseCompletionService:r}=this.services,{chatSessionId:o,messageId:i}=n;this.idSync.set.assistantMessageId(this.resolveAssistantMessageId(n)),this.idSync.set.userMessageId(this.resolveUserMessageId(n)),this.generateStateManager=new ac(s.getMessageResponse(o,i)||"",{sessionId:o,messageId:i}),a.markSessionAsSending(o);let l=s.getMessage(o,i);this.onBeforeCompletion(n);let{abort:c}=r.baseCompletion({...n,scene:"resumeStream",startContent:l&&(null==(t=e9.getResponseFragment(l))?void 0:t.content)||""},{onEvent:e=>{let{event:t}=e;switch(t.event){case Z.EventNames.resumeMessageGotFullMessage:this.onGotFullMessage(n,t),tB(o,i);break;case ap.delta:this.onDelta(n,t),tB(o,i);break;case ap.hint:this.onHint(n,t);break;case ap.ready:break;case ap.finish:s.onMessageComplete(o,i);break;case ap.close:aa.onClose(t,{common:this,getParams:this.getGetParams(o)});break;case Z.EventNames.requestAborted:break;case Z.EventNames.streamDispose:this.onDispose(n);break;default:(0,er.s)(t)}}},{states:this.states});return{abort:c,getStatesSnap:()=>this.states.snap,promise:this.getQuitPromise()}}onDelta(e,t){var n;let{chatSessionId:a,messageId:s}=e;null==(n=this.generateStateManager)||n.onDelta(t);let{messageService:r,sessionService:o}=this.services;if(!this.isFirstDelta)return void r.applyDeltaToMessage(t.data,{chatSessionId:a,messageId:s});if(this.isFirstDelta=!1,ef(this.idSync.assistantMessageId))return void aa.onDelta({event:t,common:this,getParams:this.getGetParams(a),onSent:void 0});let i=ae(t.data,{responseMessageId:e.messageId});r.upsertAssistantMessage(a,i),o.markSessionCompleting(a),o.forceScrollToBottom(a)}onHint(e,t){var n;let{data:a}=t,{messageService:s,sessionService:r}=this.services,{chatSessionId:o}=e;r.markSessionAsIdle(o),s.updateMessageByFn(o,this.idSync.userMessageId,e=>{e.hint=a}),a.clearResponse&&s.deleteMessage(o,e.messageId),null==(n=this.generateStateManager)||n.dispose()}onGotFullMessage(e,t){let{messageService:n,sessionService:a}=this.services,{chatSessionId:s}=e;ef(this.idSync.assistantMessageId)?aa.onNewAssistantMessage({common:this,getParams:this.getGetParams(s)},nt(t.data.message,{childIds:[],currentChildIndex:0})):n.completeMessage(e.chatSessionId,e.messageId,t.data.message),this.onAfterGotFullMessage(e,t),a.clearSessionAbortsAndMarkAsIdle(e.chatSessionId),a.requireScrollToBottom(s)}constructor(...e){super(...e),(0,tr._)(this,"states",new ar),(0,tr._)(this,"generateStateManager",void 0),(0,tr._)(this,"idSync",new ah({})),(0,tr._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap})),(0,tr._)(this,"isFirstDelta",!0)}}class ag extends am{resolveUserMessageId(e){let{chatSessionId:t}=e,{messageService:n}=this.services,a=n.getParentMessage(t,e.messageId);if(!a)throw Error("cannot find parent message: ".concat(t," ").concat(e.messageId));return a.id}resolveAssistantMessageId(e){return e.messageId}async getQuitPromise(){return Promise.resolve()}onBeforeCompletion(e){let{tracker:t}=ee(),{chatSessionId:n,messageId:a}=e;t.info({name:"resumeCompletion",message:"恢复对话生成",payload:{sessionId:n,messageId:"".concat(a),from:"history"}})}onAfterGotFullMessage(){}async onDispose(e){let{chatSessionId:t,messageId:n}=e,a=this.states.snap;!a.close&&a.delta&&await this.services.autoResume({states:this.states,chatSessionId:t,resumeId:n,idSync:this.idSync}),aa.cleanUp({common:this,getParams:this.getGetParams(t)},{allowHint:!0})}}class af extends am{resolveAssistantMessageId(e){return e.autoResume.idSync.assistantMessageId}resolveUserMessageId(e){return e.autoResume.idSync.userMessageId}async getQuitPromise(){return this.autoResumeDeferred.promise}onBeforeCompletion(e){let{tracker:t}=ee(),{chatSessionId:n,messageId:a}=e;t.info({name:"resumeCompletion",message:"恢复对话生成",payload:{sessionId:n,messageId:"".concat(a),from:"streamDispose"}});let s=e.autoResume;this.states.attach(s.states),this.idSync.bindSync(s.idSync)}onAfterGotFullMessage(e,t){let n=e.autoResume,a=t.data.message.parent_id;null!==a&&n.idSync.set.userMessageId(a),n.idSync.set.assistantMessageId(t.data.message.message_id)}async onDispose(e){let{chatSessionId:t,messageId:n}=e,a=this.states.snap;!a.close&&a.delta&&await this.services.autoResume({states:this.states,chatSessionId:t,resumeId:n,idSync:this.idSync}),this.autoResumeDeferred.resolve()}constructor(...e){super(...e),(0,tr._)(this,"autoResumeDeferred",new n6.c)}}var aC=n(66460);let av=()=>{let e=eK().format("YYYYMMDD"),t=(0,aC.A)().replace(/-/g,"").substring(0,16);return"".concat(e,"-").concat(t)};var ab=W.ResendScene;let a_=U.NewSSEEventName;class aS extends n5{get userMessageId(){return this.idSync.userMessageId}get assistantMessageId(){return this.idSync.assistantMessageId}initFakeMessages(e){var t;let{chatSessionId:n}=e,{sessionService:a,messageService:s}=this.services;a.markSessionAsSending(n);let r=av(),o=a.getUICompletionParentMessageId(n),i=s.addNewUserMessageCompose({...e,resendInfo:{scene:ab.completion,editMessageId:null},clientStreamId:r},{messageId:this.userMessageId,childIds:[this.assistantMessageId],parentMessageId:o,onNoParentMessage:a.addMessageIdToRootBranch,targetIndex:e.targetIndex}),l=n7({parent:i,id:this.assistantMessageId,clientStreamId:r,thinkingEnabled:e.thinkingEnabled,searchEnabled:e.searchEnabled});return s.upsertAssistantMessage(n,l),e.keepPrompt||(a.clearSessionPrompt(n),ec.getState().clearByBelongInfo({agentId:null,sessionId:n})),s.enterStatus(n,this.assistantMessageId,W.MessageStatus.WIP),this.generateStateManager=new ac((null==(t=e9.getResponseFragment(l))?void 0:t.content)||"",{sessionId:n,messageId:l.id}),a.forceScrollToBottom(n),{reqParentId:a.getCompletionReqParentId(n,i.id),clientStreamId:r}}async execute(e){let{params:t,callbacks:n}=e,{chatSessionId:a}=t,{messageService:s,baseCompletionService:r}=this.services,o=(e=>{let t=ec.getState();var n=e.map(e=>{let n=t.getFileInfo(e);return null==n?void 0:n.fileName}).filter(et);let a=new Set;for(let e of n){let t=eo(e,"lower");t&&a.add(t)}let s=Array.from(a);return s.sort(),s})(t.refFileIds),{reqParentId:i,clientStreamId:l}=this.initFakeMessages(t),c=await t.getPowRes();if(!c.success){n.onInterrupted(),aa.onGetPowFail({onHint:this.onHint.bind(this),getParams:this.getGetParams(a),common:this});return}r.baseCompletion({...t,fileExtensions:o,challengeResponse:c.res,parentMessageId:i,scene:"completion",clientStreamId:l},{onEvent:e=>{let{event:r}=e;switch(r.event){case a_.delta:aa.onDelta({event:r,common:this,getParams:this.getGetParams(a),onSent:n.onSent}),tB(a,this.assistantMessageId);break;case a_.finish:if(ef(this.assistantMessageId)){var o;null==(o=n.onUnsent)||o.call(n)}else s.onMessageComplete(a,this.assistantMessageId);break;case a_.hint:this.onHint(r.data,t);break;case a_.close:aa.onClose(r,{common:this,getParams:this.getGetParams(a)});break;case Z.EventNames.requestAborted:case Z.EventNames.resumeMessageGotFullMessage:break;case Z.EventNames.streamDispose:this.onDispose({params:t,callbacks:n});break;case a_.ready:aa.onReady({event:r,common:this,getParams:this.getGetParams(a)});break;default:(0,er.s)(r)}}},{states:this.states})}onHint(e,t){var n;let{messageService:a,sessionService:s}=this.services,{chatSessionId:r}=t;s.markSessionAsIdle(r),a.updateMessageByFn(r,this.userMessageId,t=>{t.hint=e}),e.clearResponse&&a.deleteMessage(r,this.assistantMessageId),null==(n=this.generateStateManager)||n.dispose()}async onDispose(e){let{params:t,callbacks:n}=e,{chatSessionId:a}=t;await this.services.autoResume({states:this.states,chatSessionId:a,resumeId:this.assistantMessageId,idSync:this.idSync}),aa.cleanUp({common:this,getParams:this.getGetParams(a)},{allowHint:!0}),this.states.snap.delta||n.onInterrupted()}constructor(...e){super(...e),(0,tr._)(this,"generateStateManager",void 0),(0,tr._)(this,"states",new ar),(0,tr._)(this,"idSync",new ah({userMessageId:eg(),assistantMessageId:eg()})),(0,tr._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap}))}}class aE extends n5{async execute(e){let{params:t,callbacks:n}=e,{sessionService:a}=this.services,{agentId:s}=t;if(a.getAgentIsSending(s))return;a.markAgentAsSending(s);let r=await a.createSession(s);if(!r)return;let{session:o}=r;n.onCreate({sessionId:o.id}),o.title="",o.state=W.SessionStateEnum.completing,o.isHidden=!0,a.addSession(o);let i=()=>{a.updateSessionHidden(o.id,!1),a.markAgentAsIdleAndClearPrompt(s)};t.eagerlyActivateSession&&i();let l=new aS(this.services),c={...t,chatSessionId:o.id,targetIndex:null};await l.execute({params:c,callbacks:{onSent:()=>{t.eagerlyActivateSession||i(),n.onSent({sessionId:o.id})},onUnsent:()=>{a.markAgentAsIdleKeepPrompt(s),n.onUnsent()},onInterrupted:()=>{a.markAgentAsIdleKeepPrompt(s)}}})}}class ax extends n5{async execute(e){let{params:t}=e,n=new aS(this.services);await n.execute({params:t,callbacks:{onInterrupted:n9.A}})}}let ay=U.NewSSEEventName;class aw extends n5{get userMessageId(){return this.idSync.userMessageId}get assistantMessageId(){return this.idSync.assistantMessageId}initFakeMessages(e){var t;let{chatSessionId:n,childMessageId:a}=e,{sessionService:s,messageService:r}=this.services,o=r.getParentMessage(n,a);if(!o)throw Error("cannot find parent message: ".concat(n));let i=av();this.idSync.set.userMessageId(o.id);let l=n7({parent:o,id:this.assistantMessageId,clientStreamId:i,thinkingEnabled:e.thinkingEnabled,searchEnabled:e.searchEnabled});return s.markSessionAsSending(n),r.upsertAssistantMessage(n,l),r.addMessageIdToParent({chatSessionId:n,newMessageId:l.id,onNoParentMessage:()=>0,targetIndex:null}),this.generateStateManager=new ac((null==(t=e9.getResponseFragment(l))?void 0:t.content)||"",{sessionId:n,messageId:l.id}),s.forceScrollToBottom(n),{parentMessage:o,clientStreamId:i}}async execute(e){let{params:t}=e,{messageService:n,baseCompletionService:a}=this.services,{chatSessionId:s,childMessageId:r}=t,{tracker:o}=ee();o.info({name:"regenerateMessage",message:"重新生成",payload:{sessionId:s,messageId:String(r)}}),this.recordInitBranchIndex(t);let{clientStreamId:i}=this.initFakeMessages(t),l=await t.getPowRes();l.success?a.baseCompletion({...t,challengeResponse:l.res,parentMessageId:this.userMessageId,scene:"regenerate",clientStreamId:i},{onEvent:e=>{let{event:a}=e;switch(a.event){case ay.delta:this.onDelta(a,t),tB(s,this.assistantMessageId);break;case ay.finish:n.onMessageComplete(s,this.assistantMessageId);break;case ay.hint:this.onHint(a.data,t);break;case ay.ready:aa.onReady({event:a,common:this,getParams:this.getGetParams(s)});break;case ay.close:case Z.EventNames.resumeMessageGotFullMessage:case Z.EventNames.requestAborted:break;case Z.EventNames.streamDispose:this.onDispose(t);break;default:(0,er.s)(a)}}},{states:this.states}):aa.onGetPowFail({onHint:this.onHint.bind(this),getParams:this.getGetParams(s),common:this})}recordInitBranchIndex(e){let{chatSessionId:t,childMessageId:n}=e,{messageService:a}=this.services,{index:s}=a.getBranchInfo(t,n);this.initialBranchIndex=s}restoreBranchIndex(e){let{chatSessionId:t,childMessageId:n}=e;if(!ef(this.assistantMessageId))return;let{messageService:a}=this.services,s=a.getParentMessage(t,n);s&&a.updateBranchIndex(t,s.id,this.initialBranchIndex)}onHint(e,t){var n;let{sessionService:a,messageService:s}=this.services,{chatSessionId:r}=t;e.clearResponse&&s.deleteMessage(r,this.assistantMessageId),a.markSessionAsIdle(r),ee().withToast(t=>{t.error(e.content)}),null==(n=this.generateStateManager)||n.dispose()}onDelta(e,t){var n;let{chatSessionId:a}=t;null==(n=this.generateStateManager)||n.onDelta(e),aa.onDelta({common:this,onSent:void 0,event:e,getParams:this.getGetParams(a)})}async onDispose(e){let{chatSessionId:t}=e;await this.services.autoResume({states:this.states,chatSessionId:t,resumeId:this.assistantMessageId,idSync:this.idSync}),this.restoreBranchIndex(e),aa.cleanUp({getParams:this.getGetParams(t),common:this},{allowHint:!1})}constructor(...e){super(...e),(0,tr._)(this,"generateStateManager",void 0),(0,tr._)(this,"states",new ar),(0,tr._)(this,"initialBranchIndex",0),(0,tr._)(this,"idSync",new ah({assistantMessageId:eg()})),(0,tr._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap}))}}var aI=W.ResendScene;let aT=U.NewSSEEventName;class aA extends n5{get userMessageId(){return this.idSync.userMessageId}get assistantMessageId(){return this.idSync.assistantMessageId}initFakeMessages(e){var t,n;let{sessionService:a,messageService:s}=this.services,{chatSessionId:r,messageId:o}=e;a.markSessionAsSending(r);let i=s.getMessage(r,o);if(!i)throw Error("Cannot find message of id: ".concat(o));s.markMessageAsNotEditing(r,o);let{files:l}=i,c=s.getParentMessage(r,o),d=av(),u=n7({parent:s.addNewUserMessageCompose({...e,files:l,resendInfo:{scene:aI.edit,editMessageId:e.messageId},clientStreamId:d},{messageId:this.userMessageId,childIds:[this.assistantMessageId],parentMessageId:null!=(n=null==c?void 0:c.id)?n:null,onNoParentMessage:a.addMessageIdToRootBranch,targetIndex:e.targetIndex}),id:this.assistantMessageId,clientStreamId:d,thinkingEnabled:e.thinkingEnabled,searchEnabled:e.searchEnabled});return s.upsertAssistantMessage(r,u),a.forceScrollToBottom(r),this.generateStateManager=new ac((null==(t=e9.getResponseFragment(u))?void 0:t.content)||"",{sessionId:r,messageId:u.id}),{clientStreamId:d}}async execute(e){let{params:t,callbacks:n}=e,{messageService:a,baseCompletionService:s}=this.services,{chatSessionId:r}=t,{clientStreamId:o}=this.initFakeMessages(t),i=await t.getPowRes();i.success?s.baseCompletion({...t,challengeResponse:i.res,scene:"editMessage",clientStreamId:o},{onEvent:e=>{let{event:s}=e;switch(s.event){case aT.delta:aa.onDelta({event:s,common:this,getParams:this.getGetParams(r),onSent:n.onSent}),tB(r,this.assistantMessageId);break;case aT.finish:ef(this.assistantMessageId)||a.onMessageComplete(r,this.assistantMessageId);break;case aT.ready:aa.onReady({common:this,getParams:this.getGetParams(r),event:s});break;case aT.hint:this.onHint(s.data,t);break;case aT.close:aa.onClose(s,{common:this,getParams:this.getGetParams(r)});break;case Z.EventNames.resumeMessageGotFullMessage:case Z.EventNames.requestAborted:break;case Z.EventNames.streamDispose:this.onDispose({params:t});break;default:(0,er.s)(s)}}},{states:this.states}):aa.onGetPowFail({onHint:this.onHint.bind(this),getParams:this.getGetParams(r),common:this})}onHint(e,t){var n;let{messageService:a,sessionService:s}=this.services,{chatSessionId:r}=t;s.markSessionAsIdle(r),a.updateMessageByFn(r,this.userMessageId,t=>{t.hint=e}),e.clearResponse&&a.deleteMessage(r,this.assistantMessageId),null==(n=this.generateStateManager)||n.dispose()}async onDispose(e){let{params:t}=e,{chatSessionId:n}=t;await this.services.autoResume({states:this.states,chatSessionId:n,resumeId:this.assistantMessageId,idSync:this.idSync}),aa.cleanUp({getParams:this.getGetParams(n),common:this},{allowHint:!0})}constructor(...e){super(...e),(0,tr._)(this,"generateStateManager",void 0),(0,tr._)(this,"states",new ar),(0,tr._)(this,"idSync",new ah({assistantMessageId:eg(),userMessageId:eg()})),(0,tr._)(this,"getGetParams",e=>()=>({chatSessionId:e,statesSnap:this.states.snap}))}}let aj=U.NewSSEEventName;class ak extends n5{prepare(e){let{sessionService:t,messageService:n}=this.services,{chatSessionId:a,messageId:s}=e,r=this.services.messageService.getParentMessage(a,s);if(!r)throw Error("cannot find parent of: ".concat(a," ").concat(s));this.idSync.set.assistantMessageId(e.messageId),this.idSync.set.userMessageId(r.id),t.markSessionAsSending(a),n.markMessageAsContinuing(a,s,!0);let{tracker:o}=ee();o.info({name:"continueCompletion",message:"用户点击了继续生成对话按钮",payload:{sessionId:a,messageId:"".concat(s)}}),this.generateStateManager=new ac(n.getMessageResponse(a,s)||"",{sessionId:a,messageId:s})}execute(e){let{params:t}=e,{baseCompletionService:n,messageService:a,sessionService:s}=this.services,{chatSessionId:r,messageId:o}=t;this.prepare(t),n.baseCompletion({...t,fallbackToResume:!0,scene:"continue"},{onEvent:e=>{var n,i;let{event:l}=e;switch(l.event){case aj.delta:this.onDelta(l,t),tB(r,o);break;case Z.EventNames.resumeMessageGotFullMessage:a.completeMessage(t.chatSessionId,t.messageId,l.data.message),s.clearSessionAbortsAndMarkAsIdle(t.chatSessionId),s.requireScrollToBottom(r),null==(n=this.generateStateManager)||n.dispose(),tB(r,o);break;case aj.finish:a.onMessageComplete(r,o),null==(i=this.generateStateManager)||i.dispose();break;case aj.close:case Z.EventNames.requestAborted:break;case Z.EventNames.streamDispose:this.onDispose({params:t});break;case aj.hint:ee().withToast(e=>{e.error(l.data.content)});break;case aj.ready:aa.onReady({event:l,common:this,getParams:this.getGetParams(t)});break;default:(0,er.s)(l)}}},{states:this.states})}onDelta(e,t){var n;let{sessionService:a,messageService:s}=this.services,{chatSessionId:r,messageId:o}=t;if(null==(n=this.generateStateManager)||n.onDelta(e),this.isFirstDelta){this.isFirstDelta=!1;let n=ae(e.data,{responseMessageId:t.messageId});s.upsertAssistantMessage(r,n),a.markSessionCompleting(r),a.forceScrollToBottom(r);return}s.applyDeltaToMessage(e.data,{chatSessionId:r,messageId:o})}async onDispose(e){let{params:t}=e,{chatSessionId:n,messageId:a}=t;await this.services.autoResume({states:this.states,chatSessionId:n,resumeId:a,idSync:this.idSync}),this.services.messageService.markMessageAsContinuing(n,a,!1),aa.cleanUpSimple({common:this,getParams:this.getGetParams(t)})}constructor(...e){super(...e),(0,tr._)(this,"generateStateManager",void 0),(0,tr._)(this,"states",new ar),(0,tr._)(this,"idSync",new ah({})),(0,tr._)(this,"getGetParams",e=>()=>({chatSessionId:e.chatSessionId,statesSnap:this.states.snap})),(0,tr._)(this,"isFirstDelta",!0)}}var aM=W.ResendScene;class aR extends n5{async execute(e){let{sessionId:t,messageId:n}=e,{messageService:a}=this.services,s=a.getMessage(t,n);if(!s)throw Error("cannot resolve message: ".concat(t," ").concat(n));let{resendInfo:r}=s;if(!r)throw Error("resend message without resendInfo");let{getPowRes:o,searchEnabled:i,thinkingEnabled:l,replacePrompt:c}=e,d=s.childIds.at(0);a.getIsAssistantMessage(t,d)&&a.deleteMessage(t,d);let{index:u,isInBranch:h}=a.getBranchInfo(t,n);a.deleteMessage(t,n);let p=e9.getUserQuery(s)||"",m=null===c?p:c;switch(ee().tracker.info({name:"resendMessage",message:"重新发送失败消息",payload:{sessionId:t,messageId:n,scene:r.scene,recordPromptLength:p.length,finalPromptLength:m.length,isReplace:null!==c}}),r.scene){case aM.completion:{let e=s.files;this.services.fileService.addUploadedFiles(e),await new ax(this.services).execute({params:{chatSessionId:t,refFileIds:s.files.map(e=>e.id),prompt:m,thinkingEnabled:l,getPowRes:o,searchEnabled:i,targetIndex:h?u:null,keepPrompt:!0}});break}case aM.edit:{let e=r.editMessageId;if((0,eC.A)(e))throw Error("unexpected editMessageId ".concat(e));await new aA(this.services).execute({callbacks:{onSent:n9.A},params:{messageId:e,prompt:m,chatSessionId:t,getPowRes:o,searchEnabled:i,thinkingEnabled:l,targetIndex:u}});break}default:(0,er.s)(r.scene)}}}class aN{get nonReactiveStore(){return ec.getState()}addUploadedFiles(e){this.nonReactiveStore.addUploadedFiles(e)}}let aO=function(e){var t,n;let{stopNetwork:a=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{getSession:s,transferSessionAbortStatus:r,updateMessage:o,deleteMessage:i}=eN.getState(),{tracker:l}=ee();l.info({name:"abortCompletion",message:"停止生成对话",payload:{sessionId:e,mode:(null==(t=aL(e))?void 0:t.conversationMode)||""}});let c=s(e);if(c)for(let t of(c.aborts.length>1&&l.error({name:"abortMeetMultipleFn",message:"停止生成时遇到多个abort方法",payload:{sessionId:e,len:c.aborts.length}}),a&&setTimeout(()=>{for(let e of c.aborts)e();r(e,{clearAborts:!0,toIdle:!0})},6e3),Object.values(c.messageStore)))null!==t.responseMessageId&&tE(t.status)&&(n={chatSessionId:e,messageId:t.responseMessageId},ee().http.http.post("/api/v0/chat/stop_stream",{json:{chat_session_id:n.chatSessionId,message_id:n.messageId}})).then(()=>{o(e,t.id,e=>{null==e||e.status,W.MessageStatus.WIP,e.responseMessageId=null}),ef(t.id)&&t.role===W.MessageRole.ASSISTANT&&i(e,t.id,{keepChildren:!0})}).catch(t=>{l.error({name:"abortCompletionFailed",message:"停止生成对话失败",payload:l.withError(t,{sessionId:e})})})},aL=e=>{let t=eN.getState().getSession(e);return t?Object.values(t.messageStore).findLast(e=>e.status===tS.WIP):null},aF=async(e,t)=>{let{getSession:n,deleteSession:a}=eN.getState(),{tracker:s}=ee(),r=n(e);(null==r?void 0:r.state)===W.SessionStateEnum.completing&&t(e,{stopNetwork:!0});try{var o;s.info({name:"deleteSessionApi",message:"开始请求delete session接口",payload:{chatSessionId:e}});let{data:{code:t},context:n}=await (o={chatSessionId:e},ee().http.http.post("/api/v0/chat_session/delete",{json:{chat_session_id:o.chatSessionId}}).then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}}));s.info({name:"deleteSessionApiOk",message:"请求delete session接口成功",payload:{chatSessionId:e,logId:n.logId}}),t===G.DeleteSessionErrorCode.OK?a(e):s.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，没有找到session ID",payload:{code:"".concat(t),reason:"sessionNotFound",chatSessionId:e,logId:n.logId}})}catch(t){s.error({name:"deleteSessionApiFailed",message:"请求delete session接口失败，意外错误",payload:s.withError(t,{chatSessionId:e})})}},aP=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{tracker:n,http:a}=ee();try{let n=await a.http.post("/api/v0/chat/get_client_streams",{json:{chat_session_id:e.chatSessionId,client_stream_ids:e.clientStreamIds},timeout:t.timeout});if(0!==n.json.data.biz_code)throw n.json.data;return{ok:!0,idList:n.json.data.biz_data.client_streams.map(e=>(null==e?void 0:e.response_message_id)||null)}}catch(t){return n.error({name:"getClientStreamsError",message:"获取clientStreams失败",payload:n.withError(t,{chatSessionId:e.chatSessionId})}),{ok:!1}}},aD=async function(e){let{chatSessionId:t,clientStreamId:n}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=await aP({clientStreamIds:[n],chatSessionId:t},a);if(!s.ok)return{ok:!1};let r=s.idList.at(0);return"number"==typeof r?{ok:!0,id:r}:{ok:!1}},aB=async(e,t)=>{let n,a=0;for(;a<t.maxRetry;){if(a++,(n=await aD(e,{timeout:t.requestTimeout})).ok)return n;await ti(t.retryInterval)}return{ok:!1}};class aV{async getResumeId(e){let{chatSessionId:t,resumeId:n}=e;if(!ef(n))return{ok:!0,id:n};let a=this.getServices().messageService.getMessage(t,n);if(!a)throw Error("cannot find message: ".concat(t," ").concat(n));if(null!==a.responseMessageId)return{ok:!0,id:a.responseMessageId};let{clientStreamId:s}=a;if(!s)return{ok:!1,reason:"noClientStreamId"};let r=await aB({chatSessionId:t,clientStreamId:s},{maxRetry:3,requestTimeout:3e3,retryInterval:2e3});return r.ok?r:{ok:!1,reason:"reqGotNull"}}async execute(e){if(e.states.cannotAutoResume)return;let{getSSEAutoResumeConfig:t,tracker:n}=ee(),a=t(),s=await this.getResumeId(e);if(!s.ok)return void n.info({name:"autoResumeAbort",message:"取消auto resume",payload:{reason:s.reason}});let{timeout:r}=a;return aH(new af(this.getServices()).execute({params:{...e,messageId:s.id,autoResume:e}}),r)}static reportError(e){let{tracker:t}=ee();t.error({name:"autoResumeBreak",message:"auto resume崩溃",payload:t.withError(e,{})})}constructor(e){(0,tr._)(this,"getServices",void 0),this.getServices=e}}let aH=(e,t)=>{let{abort:n,getStatesSnap:a,promise:s}=e;return new Promise((e,r)=>{setTimeout(()=>{try{a().ready?s.then(e):(n(),r("autoResumeTimeout: no ready chunk after ".concat(t,"ms")))}catch(e){r(e)}},t)})},aU=async(e,t,n)=>{if(!eN.getState().getMessage(e,t))return{};let{tracker:a}=ee();a.info({name:"feedback",message:"用户反馈",payload:{sessionId:e,messageId:t,feedbackType:""+n.feedbackType,feedbackDescription:""+n.description,feedbackTag:""+n.feedbackTag}});try{var s,r,o;let a,{sessionInvalid:i}=await (a=(s={chatSessionId:e,messageId:t,feedbackType:n.feedbackType,feedbackTag:n.feedbackTag,description:n.description}).feedbackType===W.MessageFeedback.LIKE?G.MessageFeedbackType.LIKE:s.feedbackType===W.MessageFeedback.DISLIKE?G.MessageFeedbackType.DISLIKE:null,ee().http.http.post("/api/v0/chat/message_feedback",{json:{chat_session_id:s.chatSessionId,message_id:s.messageId,feedback_type:a,feedback_tag:null!=(r=s.feedbackTag)?r:void 0,description:null!=(o=s.description)?o:void 0}}).then(e=>e.json.data.biz_code===G.HistoryMessagesErrorCode.INVALID_SESSION_ID?{sessionInvalid:!0}:{}));if(!i)return eN.getState().updateMessage(e,t,e=>{e.feedback=n.feedbackType}),{};return eN.getState().deleteSession(e),{sessionInvalid:i,toastFn:()=>ni("sessionDeleted")}}catch(s){return eN.getState().updateMessage(e,t,e=>{e.feedback=null}),a.info({name:"feedback",message:"用户反馈失败",payload:a.withError(s,{sessionId:e,messageId:t,feedbackType:""+n.feedbackType,feedbackDescription:""+n.description,feedbackTag:""+n.feedbackTag})}),{}}};class aW{onStartStream(e,t){let n=this.map.get(e);n?n.push(t):this.map.set(e,[t])}onStreamDispose(e,t){let n=this.map.get(e);n&&this.map.set(e,n.filter(e=>e!==t))}onAbortStream(e){let t=this.map.get(e);t&&t.forEach(e=>e.onUserAborted())}constructor(){(0,tr._)(this,"map",new Map)}}let az=U.NewSSEEventName;class aG{constructor(e,t,n,a){(0,tr._)(this,"sessionService",void 0),(0,tr._)(this,"streamService",void 0),(0,tr._)(this,"sseManualAbortStateManager",void 0),(0,tr._)(this,"callbacks",void 0),(0,tr._)(this,"baseCompletion",(e,t,n)=>{this.sessionService.markSessionAsSending(e.chatSessionId),this.sseManualAbortStateManager.onStartStream(e.chatSessionId,n.states);let a=a=>{let{tracker:r}=ee(),{event:o,context:i}=a,{event:l,data:c}=o,d=n.states;if(((e,t)=>{switch(e){case as.ready:t.onReady();return;case as.delta:t.onDelta();return;case Z.EventNames.requestAborted:return;case Z.EventNames.invalidSessionId:t.onSessionInvalid();return;case Z.EventNames.resumeMessageGotFullMessage:case as.close:t.onClose();return;case Z.EventNames.nonStreamError:t.onNonStreamError();return;default:return}})(l,d),((e,t)=>{let{states:n,context:a,scene:s}=t;"resumeStream"!==s&&e.event===Z.EventNames.streamDispose&&nj().onReqFinal({statesSnap:n.snap,scene:"editMessage"===s?"edit":s},null==a?void 0:a.logId,e.data.isHeaderReceived)})(o,{states:d,context:i,scene:e.scene}),l===az.title)return void this.sessionService.updateSessionTitle(e.chatSessionId,c.content,"SYSTEM");if(l===az.updateSession){this.sessionService.updateSessionUpdatedAt(e.chatSessionId,c.updatedAt),this.callbacks.onSessionUpdatedAtChange({sessionId:e.chatSessionId});return}if(l===az.close&&("miniprogram"===ee().platform&&setTimeout(()=>{r.info({name:"SSEMiniprogramAutoAbort",message:"小程序主动关闭请求",payload:{}}),s()},5e3),this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId)),l===Z.EventNames.invalidSessionId){this.sessionService.deleteSession(o.data.sessionId),this.callbacks.onSessionInvalid({sessionId:o.data.sessionId,toastFn:()=>ni("sessionDeleted")});return}if(l===Z.EventNames.streamDispose&&this.sseManualAbortStateManager.onStreamDispose(e.chatSessionId,n.states),l!==Z.EventNames.nonStreamError){try{t.onEvent({event:o,context:i})}catch(e){r.error({name:"baseCompletionOnEventError",message:"事件处理出错",payload:r.withError(e,{event:o.event,data:JSON.stringify(o.data)})})}l===az.finish&&this.sessionService.clearSessionAbortsAndMarkAsIdle(e.chatSessionId)}},{abort:s}=this.streamService.startStream(e,{onEvent:a,onProtocolViolation:()=>{let{tracker:t}=ee();t.error({name:"SSENetProtocolViolation",message:"SSE ready之前出现多次解析失败",payload:{}}),ni("protocolViolationToast",{duration:5e3}),s(),this.sessionService.markSessionAsIdle(e.chatSessionId)},onMuted:e=>{let{muteUntil:t}=e;eN.getState().setMuted({isMuted:!0,muteUntil:t})}});return this.sessionService.addAbort(e.chatSessionId,s),{abort:s}}),this.sessionService=e,this.streamService=t,this.sseManualAbortStateManager=n,this.callbacks=a}}class aK{async createSessionAndCompletion(e,t){let{tracker:n}=ee();try{await new aE(this.getServices()).execute({params:e,callbacks:t})}catch(e){n.error({name:"createSessionAndCompletionError",message:"创建session并会话失败",payload:n.withError(e,{})})}}async resend(e){let{tracker:t}=ee();try{await new aR(this.getServices()).execute(e)}catch(e){t.error({name:"resendMessageError",message:"重新发送消息失败",payload:t.withError(e,{})})}}async completion(e){let{tracker:t}=ee();try{await new ax(this.getServices()).execute({params:{...e,targetIndex:null}})}catch(e){t.error({name:"completionError",message:"普通消息错误",payload:t.withError(e,{})})}}async regenerateMessage(e){let{tracker:t}=ee();try{await new aw(this.getServices()).execute({params:e})}catch(e){t.error({name:"regenerateMessageError",message:"重新生成消息错误",payload:t.withError(e,{})})}}async editMessage(e,t){let{tracker:n}=ee();try{await new aA(this.getServices()).execute({params:{...e,targetIndex:null},callbacks:t})}catch(e){n.error({name:"editMessageError",message:"编辑消息错误",payload:n.withError(e,{})})}}continueCompletion(e){let{tracker:t}=ee();try{return new ak(this.getServices()).execute({params:e})}catch(e){t.error({name:"continueMessageError",message:"继续生成错误",payload:t.withError(e,{})})}}async deleteSession(e){await aF(e,aO)}constructor(e){var t=this;(0,tr._)(this,"callbacks",void 0),(0,tr._)(this,"sessionService",new nl),(0,tr._)(this,"messageService",new na),(0,tr._)(this,"fileService",new aN),(0,tr._)(this,"streamService",new nZ),(0,tr._)(this,"autoResume",(new aV(()=>this.getServices()),async e=>{})),(0,tr._)(this,"sseManualAbortStateManager",new aW),(0,tr._)(this,"baseCompletionService",void 0),(0,tr._)(this,"getServices",()=>({sessionService:this.sessionService,messageService:this.messageService,fileService:this.fileService,baseCompletionService:this.baseCompletionService,autoResume:this.autoResume})),(0,tr._)(this,"resumeCompletion",e=>{let{tracker:t}=ee();try{new ag(this.getServices()).execute({params:e})}catch(e){t.error({name:"resumeMessageError",message:"恢复会话错误",payload:t.withError(e,{})})}}),(0,tr._)(this,"abortCompletion",e=>{aO(e),this.sseManualAbortStateManager.onAbortStream(e)}),(0,tr._)(this,"triggerScrollToBottom",function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&(n?t.sessionService.forceScrollToBottom(e):t.sessionService.requireScrollToBottom(e))}),(0,tr._)(this,"feedbackMessage",aU),this.callbacks=e,this.baseCompletionService=new aG(this.sessionService,this.streamService,this.sseManualAbortStateManager,this.callbacks)}}let aq=(0,eG.createContext)({chatController:null});aq.displayName="ChatContext";let aZ=()=>{let{chatController:e}=(0,eG.useContext)(aq);if(!e)throw Error("useChatController must be used within a ChatProvider");return e},aQ=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];function aY(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=aQ[t],a=e/Math.pow(1024,t),s=Number.isInteger(a)?Math.floor(a).toString():a.toFixed(2).replace(/\.?0+$/,"");return{value:s,unit:n,formatStr:"".concat(s).concat(n)}}class aX{updateSettings(e){void 0!==e.normalHistoryAndFileTokenLimit&&(this.normalHistoryAndFileTokenLimit=e.normalHistoryAndFileTokenLimit),void 0!==e.thinkingHistoryAndFileTokenLimit&&(this.thinkingHistoryAndFileTokenLimit=e.thinkingHistoryAndFileTokenLimit)}getMaxPromptTokenCount(e){return e?this.thinkingHistoryAndFileTokenLimit:this.normalHistoryAndFileTokenLimit}constructor(){(0,tr._)(this,"normalHistoryAndFileTokenLimit",61440),(0,tr._)(this,"thinkingHistoryAndFileTokenLimit",61440),(0,tr._)(this,"hooks",{useBranchUsedTokenCount:e=>{let{sessionId:t}=e;return eN(e=>{if(!t)return 0;let n=eE.getLatestMessageId(e,t);if(null===n)return 0;let a=e.getMessage(t,n);return(null==a?void 0:a.accumulatedTokenUsage)||0})},useBranchAndProcessingFilesTokenCount:e=>ec(t=>t.getFilesTokenCount(e))+this.hooks.useBranchUsedTokenCount(e),useIsProcessingTokenCountExceeded:(e,t)=>{let{thinkingEnabled:n}=t;return this.hooks.useBranchAndProcessingFilesTokenCount(e)>this.getMaxPromptTokenCount(n)},useMaxTokenNewFilesAllowed:(e,t)=>{let{thinkingEnabled:n}=t,a=this.hooks.useBranchUsedTokenCount(e);return this.getMaxPromptTokenCount(n)-a},useIsFirstCompletion:e=>{let{sessionId:t}=e;return eN(e=>{if(!t)return!0;let n=eE.getLatestMessageId(e,t);if(null===n)return!0;let a=e.getMessage(t,n);return(null==a?void 0:a.accumulatedTokenUsage)===0})}})}}async function aJ(e){let{fileId:t,info:n}=e;return(await ee().http.http.get("/api/v0/file/preview",{query:{file_id:t,...n.unsent?{unsent:!0}:{chat_session_id:n.sessionId,message_id:n.messageId}}})).json.data.biz_data.url}n(14281),n(18009),n(95577),n(43536),n(95743),n(63538);let a$=new Set(["docx","xlsx","pptx","doc","xls","ppt"]),a1=new Set(["pdf"]),a0=new Set(["xlsx","xls","csv","tsv","tab"]),a2=new Set(["png","jpg","jpeg","svg","svgz","bmp","gif","webp","ico","xbm","dib","pjp","tif","pjpeg","avif","apng","tiff","jfif","jpe","jp2","jpc","jpf","jpx","mpeg","mpg","pbm","pcx","pfm","pgm","ppm","psd","pxr","qoi","ras","rgb","rgba","sgi","tga","vda","vst","wmf","xpm"]),a3=["jpg","png","jpeg","svg","gif","webp","bmp","apng","ico"],a4=(0,nO.$)(()=>new Promise(e=>{let t=new Image;t.onerror=()=>e(!1),t.onload=()=>e(!0),t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="}).catch(()=>!1));class a6{dispose(){this.subscription.unsubscribe()}static getIsImageExt(e){return a2.has(e.toLowerCase())}static getIsPdfExt(e){return a1.has(e.toLowerCase())}static getIsTableExt(e){return a0.has(e.toLowerCase())}listenPreview(e){return this.previewListeners.add(e),()=>{this.previewListeners.delete(e)}}getIsValidServerFile(e){let{status:t}=e;return G.fileParseStatusMeaning[t].isFinished}getPreviewType(e,t){if(!this.getIsValidServerFile(e))return null;let{fileName:n}=e,a=eo(n,"lower"),s=a$.has(a),r=a2.has(a),o=t(a),i=a1.has(a);return s?null:o?"image":r?null:i?"pdf":"text"}initSupportPreviewImageExts(){this.nonreactiveStore.addSupportPreviewImageExts(a3),a4().then(e=>{e&&this.nonreactiveStore.addSupportPreviewImageExts(["avif"])})}get nonreactiveStore(){return this.usePreviewStore.getState()}async getPreviewInfo(e,t){let n=this.getPreviewType(e,this.nonreactiveStore.getIsSupportedPreviewImage);if(!n)return null;let{id:a}=e,{tracker:s}=ee(),r=this.nonreactiveStore.getPreviewInfo(a);if(r&&a5(r))return s.info({name:"previewFileReuseUrl",message:"预览文件复用地址",payload:{type:n,fileName:e.fileName,id:a}}),r;try{let r=await aJ({fileId:a,info:t}),o={url:r,expireAt:a9(r),type:n,name:e.fileName};return this.nonreactiveStore.setPreviewInfo(a,o),s.info({name:"previewFileFetchUrlSuccess",message:"预览文件获取地址成功",payload:{id:a}}),o}catch(t){s.error({name:"previewFileGetUrlFailed",message:"获取预览文件地址失败",payload:s.withError(t,{type:n,fileName:e.fileName,id:a})})}return null}async toggleFilePreview(e,t){if(!this.getPreviewType(e,this.nonreactiveStore.getIsSupportedPreviewImage))return{success:!0};let{id:n}=e;if(n===this.nonreactiveStore.currentPreviewFileId)return this.closePreview(),{success:!0};let a=()=>{this.nonreactiveStore.setCurrentPreviewFileId(n),this.previewListeners.forEach(e=>e())};return(tb.next({method:"openPreview",args:null}),await this.getPreviewInfo(e,t))?(a(),{success:!0}):(this.closePreview(),{success:!1})}closePreview(){this.nonreactiveStore.setCurrentPreviewFileId(null)}matchCurrentPreviewFile(e){return this.nonreactiveStore.currentPreviewFileId===e.id}constructor(e){(0,tr._)(this,"usePreviewStore",void 0),(0,tr._)(this,"previewListeners",new Set),(0,tr._)(this,"subscription",void 0),(0,tr._)(this,"hooks",{usePreviewType:e=>{let t=this.usePreviewStore(e=>e.getIsSupportedPreviewImage);return this.getPreviewType(e,t)},useCurrentPreviewInfo:()=>{let e=this.usePreviewStore(e=>e.currentPreviewFileId);return this.usePreviewStore(t=>e?t.getPreviewInfo(e):null)},useIsShowPreview:()=>!!this.hooks.useCurrentPreviewInfo()}),this.usePreviewStore=e,this.initSupportPreviewImageExts(),this.subscription=tb.subscribe(e=>{let{method:t}=e;"openSearchView"===t&&this.closePreview()})}}let a5=e=>{let{expireAt:t}=e;return t-Date.now()>6e5},a9=e=>{let t=new URL(e).searchParams.get("Expires");return t?1e3*parseInt(t):Date.now()+144e5},a8=(0,eG.createContext)({previewController:null}),a7=e=>{let{children:t,location:n}=e,a=se();(0,eG.useEffect)(()=>{a.closePreview()},[n,a]),(0,eG.useEffect)(()=>()=>{a.dispose()},[a]);let s=(0,eG.useMemo)(()=>({previewController:a}),[a]);return(0,tC.jsx)(a8.Provider,{value:s,children:t})},se=()=>{let e=(0,eG.useRef)();return e.current||(e.current=new a6((0,Q.vt)()((0,Y.D)((e,t)=>({previewUrlMap:{},currentPreviewFileId:null,supportPreviewImageExts:[],setPreviewInfo(t,n){e(e=>{e.previewUrlMap[t]=n})},getPreviewInfo:e=>t().previewUrlMap[e]||null,setCurrentPreviewFileId(t){e(e=>{e.currentPreviewFileId=t})},addSupportPreviewImageExts(t){e(e=>{e.supportPreviewImageExts=Array.from(new Set([...e.supportPreviewImageExts,...t]))})},getIsSupportedPreviewImage:e=>t().supportPreviewImageExts.includes(e)}))))),e.current};a8.displayName="PreviewContext";let st=()=>{let{previewController:e}=(0,eG.useContext)(a8);if(!e)throw Error("usePreviewController must be used within a PreviewProvider");return e},sn=(0,eG.createContext)({getTokenCountController:()=>{throw Error("getTokenCountController is not implemented")}});sn.displayName="TokenCountContext";let sa=()=>{let{getTokenCountController:e}=(0,eG.useContext)(sn);return e()},ss=()=>+new Date;class sr{constructor(){(0,tr._)(this,"versionHelper",{getGuardedFrontendVersion:e=>e&&e.match(/^fv-\d+/)?e:so})}}let so="fv-0",si={users_current:"/users/current",users_settings:"/users/settings",character_detail:"/character/detail",character_mine:"/character/mine",download_export_history:"/download_export_history"};function sl(){let{http:e}=ee();return e.http.get("/api/v0/users/settings").then(e=>{let{context:t,json:n}=e;return{data:{training_allowed:n.data.biz_data.training_allowed},context:t}})}function sc(e){let{http:t}=ee();return t.http.post("/api/v0/users/update_settings",{json:e})}n(34169);var sd=n(93003),su=n(73800);async function sh(e,t){let n=await sp(e,t);if("sessionInvalid"in n)return n;let{bizData:a,context:s,cacheInfo:r}=n,o={},i={},l=(0,sd.A)(a.chat_messages,e=>e.message_id),c=!0;l.forEach(e=>{i[e.message_id]=e,null==e.parent_id||i[e.parent_id]||(c=!1);let t="".concat(e.parent_id),n=o[t];n||(n=o[t]=[]),n.push(e.message_id)});let d=[],u=sm(a);for(;u;){let e=i[u];if(!e)break;d.push(u),u=e.parent_id}d.reverse();let h=-1;if(d.length>0){let e=d[0];h=o["".concat(null)].indexOf(e)}let p=l.map(e=>{let t=o[e.message_id]||[],n=Math.max(t.findIndex(e=>d.includes(e)),0);return nt(e,{childIds:t||[],currentChildIndex:n})}),m={};return p.forEach(e=>{m[e.id]=e}),{context:s,data:{session:{id:a.chat_session.id,messageStore:m,title:a.chat_session.title,aborts:[],prompt:"",state:W.SessionStateEnum.idle,rootBranchIndex:h,rootBranchIds:o["".concat(null)]||[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,updatedAt:1e3*a.chat_session.updated_at,agent:W.AgentId.CHAT,titleType:a.chat_session.title_type,agentId:W.AgentId.CHAT,isHidden:!1,pinned:a.chat_session.pinned,version:a.chat_session.version,_from:"history_messages"}},isValidTree:c,cacheInfo:r}}let sp=async(e,t)=>{var n,a,s,r,o,i;let l,c=await (null==(n=t.cache)?void 0:n.get({key:e.chatSessionId,frontendVersion:t.frontendVersion})),d=await ee().http.http.get("/api/v0/chat/history_messages",{query:{chat_session_id:e.chatSessionId,cache_version:(null==c?void 0:c.version)||null}}),u=d.json.data.biz_code,h=d.json.data.biz_data,p=u===G.HistoryMessagesErrorCode.INVALID_SESSION_ID,m=!(l=null==h?void 0:h.chat_session)||(null==l?void 0:l.version)===0;if(p||m||!h)return null==(r=t.cache)||r.delete(e.chatSessionId),{sessionInvalid:p?"deleted":"empty"};let g="REPLACE"===h.cache_control?h.chat_messages:(0,eJ.A)([...h.chat_messages,...null!=(o=null==c||null==(a=c.data)?void 0:a.chat_messages)?o:[]],"message_id"),f={hasCache:!!c,cacheControl:h.cache_control,responseMessageCount:h.chat_messages.length,updatedMessageCount:g.length,messageCountDelta:g.length-((null==c||null==(s=c.data)?void 0:s.chat_messages.length)||0),reqVersion:(null==c?void 0:c.version)||null,frontendVersion:(null==c?void 0:c.frontendVersion)||""},C=("MERGE"!==h.cache_control||0!==h.chat_messages.length)&&0!==g.length;return h.chat_messages=g,C&&(null==(i=t.cache)||i.set({data:{data:h,version:h.chat_session.version,key:e.chatSessionId},frontendVersion:t.frontendVersion})),{bizData:h,context:d.context,cacheInfo:f}},sm=e=>{var t,n;return null!=(n=null!=(t=e.chat_session.current_message_id)?t:(0,su.A)(e.chat_messages.map(e=>e.message_id)))?n:null};async function sg(e){var t;let{chatSessionId:n,pinned:a}=e,{context:s,json:r}=await ee().http.http.post("/api/v0/chat_session/update_pinned",{context:await ee().http.withDefaultHttpContext({shouldWaitSse:!0}),json:{chat_session_id:n,pinned:a}});return{context:s,bizCode:r.data.biz_code,data:{updatedAtMs:null==(t=r.data.biz_data)?void 0:t.chat_session_updated_at}}}var sf=n(3325),sC=n(22089);let sv=e=>({id:e.id,title:e.title,messageStore:{},aborts:[],prompt:"",rootBranchIndex:0,rootBranchIds:[],scrollToBottomTrigger:0,forceScrollToBottomTrigger:0,updatedAt:1e3*e.updated_at,agent:W.AgentId.CHAT,state:W.SessionStateEnum.idleWithNoHistory,titleType:e.title_type,isHidden:!1,pinned:e.pinned,version:"unknown",_from:"fetch_page"}),sb=async e=>{let t,{signal:n,count:a=s_}=e,{tracker:s}=ee(),r={...{pinned:(t=eI.getState().cursor).pinned||!1,updatedAt:t.value},count:a,mode:"lte"};s.info({name:"fetchSessionsApi",message:"开始请求fetch_page接口",payload:r}),eI.getState().setSessionsState("loading");try{let{data:{sessions:e,hasMore:t},context:a}=await function(e){let{count:t,mode:n="gte",updatedAt:a,pinned:s,abortSignal:r}=e;return ee().http.http.get("/api/v0/chat_session/fetch_page",{query:"gte"===n?{"gte_cursor.pinned":s,"gte_cursor.updated_at":a,count:t}:{"lte_cursor.pinned":s,"lte_cursor.updated_at":a,count:t},signal:r}).then(e=>{let{context:t,json:n}=e;return{data:{hasMore:n.data.biz_data.has_more,sessions:n.data.biz_data.chat_sessions.map(e=>({...sv(e)})),characters:[]},context:t}})}({...r,abortSignal:n});return s.info({name:"fetchSessionsApiOk",message:"请求fetch_page接口成功",payload:{...r,logId:a.logId}}),eI.getState().setSessionsState("loaded"),eI.getState().setNoMore(!t),eN.setState((0,sf.jM)(t=>{e.forEach(e=>{eI.getState().touchCursor((e=>{let{pinned:t,updatedAt:n}=e;return eT(n)?{pinned:t,value:n,[ey]:1}:{pinned:t,value:n/1e3,[ey]:1}})(e));let n=eE.getSessionImpl(t,e.id);n?Object.assign(n,(0,sC.A)(e,["title","updatedAt"])):t.sessionStore[e.id]={...e,agentId:"chat"}})})),"ok"}catch(e){return s.error({name:"fetchSessionsApiFailed",message:"请求fetch_page接口失败",payload:s.withError(e,{reason:"api",...r})}),"loading"===eI.getState().sessionsState&&eI.getState().setSessionsState("error"),"fail"}finally{eI.getState().setFirstPageSettled(!0)}},s_=(()=>{try{var e;return parseInt(null!=(e=localStorage.getItem("__session_page_size__"))?e:"")||null}catch{return null}})();class sS{get nonreactiveStore(){return eN.getState()}get nonreactiveLoadStore(){return eI.getState()}reachFrequencyLimit(){this.fetchSessionAt.length>50&&(this.fetchSessionAt=this.fetchSessionAt.slice(-30));let e=Date.now(),t=this.fetchSessionAt.at(-15);return void 0!==t&&t>=e-2e4}handleInvalidSessionResponse(e,t,n,a){switch(e.sessionInvalid){case"deleted":a.error({name:"fetchHistoryInvalid",message:"获取对话历史记录不存在",payload:{chatSessionId:t}}),ni(n?"sessionDeleted":"sessionNotExist"),this.nonreactiveStore.deleteSession(t);break;case"empty":a.error({name:"fetchHistoryEmpty",message:"获取对话为空",payload:{chatSessionId:t}}),this.nonreactiveStore.deleteSession(t);break;default:(0,er.s)(e.sessionInvalid)}return{exist:!1,gotSession:n,sessionDeleted:!0}}validateSessionPathAndTree(e,t,n,a){return -1===e.data.session.rootBranchIndex?(this.nonreactiveStore.getSession(t)||this.nonreactiveStore.addSession(e.data.session),a.value=!0,{error:!0,reason:"invalidPath"}):(e.isValidTree||n.error({name:"fetchSessionHistoryFailed",message:"获取对话历史记录失败",payload:n.withError("invalidTree",{sessionId:t})}),{error:!1})}updateOrAddSession(e,t){this.nonreactiveStore.getSession(e)?this.nonreactiveStore.updateSession(e,e=>{sx(e)&&Object.assign(e,function(e,t){let n={};for(let a of t)n[a]=e[a];return n}(t,["messageStore","rootBranchIds","rootBranchIndex","title","updatedAt","version"])),e.state=W.SessionStateEnum.idle}):this.nonreactiveStore.addSession(t)}resumeLatestMessageAsNeed(e){let t=eE.getLatestSentMessageId(this.nonreactiveStore,e);if((0,eC.A)(t))return;let n=this.nonreactiveStore.getSession(e);if(n)for(let t of Object.values(n.messageStore))t.status===W.MessageStatus.WIP&&this.resumeCompletion({chatSessionId:e,messageId:t.id})}constructor(e){var t=this;(0,tr._)(this,"resumeCompletion",void 0),(0,tr._)(this,"fetchSessionAt",[]),(0,tr._)(this,"updateSessionPinned",async(e,t)=>{let n=ee().tracker;n.info({name:"updateSessionPin",message:t?"置顶会话":"取消会话置顶",payload:{pinned:t,sessionId:e}});try{let a=await sg({chatSessionId:e,pinned:t});if(a.bizCode===G.SessionUpdatePinErrorCode.OK)return void this.nonreactiveStore.updateSession(e,e=>{e.pinned=t;let n=a.data.updatedAtMs;"number"==typeof n&&(e.updatedAt=1e3*n)});switch(a.bizCode===G.SessionUpdatePinErrorCode.ILLEGAL_CHAT_SESSION_ID&&(this.nonreactiveStore.deleteSession(e),ni("sessionDeleted")),n.error({name:"updateSessionPinnedFailed",message:"更新会话置顶失败，错误码",payload:{sessionId:e,code:a.bizCode}}),a.bizCode){case G.SessionUpdatePinErrorCode.ILLEGAL_CHAT_SESSION_ID:break;case G.SessionUpdatePinErrorCode.TOO_MANY_PINNED_CHAT_SESSIONS:ni("pinSessionTooMany");break;case G.SessionUpdatePinErrorCode.EMPTY_CHAT_SESSION:ni("sessionNotExist");break;default:(0,er.s)(a.bizCode)}}catch(a){ni(t?"pinSessionFailed":"unpinSessionFailed"),n.error({name:"updateSessionPinnedFailed",message:"更新会话置顶失败，异常",payload:n.withError(a,{sessionId:e})})}}),(0,tr._)(this,"renameSession",async(e,t,n)=>{let{tracker:a}=ee(),s=eN.getState().getSession(e);if((null==s?void 0:s.title)===t)return{deleted:!1};try{a.info({name:"renameSessionApi",message:"开始请求rename session接口",payload:{chatSessionId:e,title:t,position:n}});let{context:{logId:s},data:{success:r,bizCode:o,bizMsg:i}}=await function(e){let{chatSessionId:t,title:n}=e;return ee().http.http.post("/api/v0/chat_session/update_title",{json:{chat_session_id:t,title:n}}).then(e=>{let{context:t,json:n}=e,a=n.data.biz_code;return{data:{success:0===a,bizCode:a,bizMsg:n.data.biz_msg},context:t}})}({chatSessionId:e,title:t});if(!r&&o===G.HistoryMessagesErrorCode.INVALID_SESSION_ID)return this.nonreactiveStore.deleteSession(e),ni("sessionDeleted"),a.error({name:"renameSessionApiFailed",message:"重命名session失败，会话已删除",payload:{chatSessionId:e,reason:"sessionDeleted"}}),{deleted:!0};if(!r)return a.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:a.withError(Error("biz_code: ".concat(o,", biz_msg: ").concat(i)),{chatSessionId:e,title:t})}),ni("renameFailed"),{};return a.info({name:"renameSessionApiOk",message:"请求rename session接口成功",payload:{chatSessionId:e,title:t,logId:s}}),this.nonreactiveStore.updateSession(e,e=>{e.title=t,e.titleType="USER",e.updatedAt=Date.now()}),{}}catch(n){return a.error({name:"renameSessionApiFailed",message:"重命名session失败，意外错误",payload:a.withError(n,{chatSessionId:e,title:t})}),ni("renameFailed"),{}}}),(0,tr._)(this,"fetchSessionHistory",async(e,t)=>{let n=this.nonreactiveStore.getSession(e),a={value:!!n};if(sE(n))return{exist:!0,gotSession:a.value,sessionDeleted:!1};if((null==n?void 0:n.state)===W.SessionStateEnum.historyError){var s;if(null==t||null==(s=t.cache)||s.delete(e),!(null==t?void 0:t.isManual))return{exist:!0,gotSession:a.value,sessionDeleted:!1}}let{tracker:r}=ee();this.nonreactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.fetchingHistory});try{r.info({name:"fetchHistoryApi",message:"开始请求fetchHistory接口",payload:{chatSessionId:e,cacheVersion:null}});let n=await sh({chatSessionId:e},{cache:null==t?void 0:t.cache,frontendVersion:"fv-3"});if("sessionInvalid"in n)return this.handleInvalidSessionResponse(n,e,a.value,r);let s=this.validateSessionPathAndTree(n,e,r,a);if(s.error)throw s.reason;let{data:{session:o},context:{logId:i},cacheInfo:l}=n;return r.info({name:"fetchHistoryApiOk",message:"请求fetchHistory接口成功",payload:{logId:i,chatSessionId:e,...l}}),this.updateOrAddSession(e,o),this.resumeLatestMessageAsNeed(o.id),tV(e),{exist:!0,gotSession:a.value,sessionDeleted:!1}}catch(t){return this.nonreactiveStore.updateSession(e,e=>{e.state=W.SessionStateEnum.historyError}),r.error({name:"fetchSessionHistoryFailed",message:"获取 session 历史消息失败",payload:r.withError(t,{sessionId:e})}),{exist:!1,gotSession:a.value,sessionDeleted:!1}}}),(0,tr._)(this,"fetchSessions",async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!t.reachFrequencyLimit())return t.fetchSessionAt.push(Date.now()),t.nonreactiveLoadStore.addLoadTask(()=>(e=>{if(eI.getState().noMore)return{abort:n9.A,promise:Promise.resolve("void")};let t=new to.N;return{abort:()=>t.abort(),promise:sb({...e,signal:t.signal})}})(e)),t.nonreactiveLoadStore.waitFinish()}),this.resumeCompletion=e}}let sE=e=>e&&(e.state===W.SessionStateEnum.completing||e.state===W.SessionStateEnum.fetchingHistory||e.state===W.SessionStateEnum.sending),sx=e=>e.state===W.SessionStateEnum.historyError||e.state===W.SessionStateEnum.fetchingHistory||e.state===W.SessionStateEnum.idleWithNoHistory,sy=(0,eG.createContext)({sessionHistoryController:null}),sw=e=>{let{children:t,resumeCompletion:n}=e,a=(0,eG.useRef)(null);a.current||(a.current=new sS(n));let s=(0,eG.useMemo)(()=>({sessionHistoryController:a.current}),[]);return(0,tC.jsx)(sy.Provider,{value:s,children:t})};sw.displayName="SessionHistoryProvider";let sI=()=>{let{sessionHistoryController:e}=(0,eG.useContext)(sy);if(!e)throw Error("cannot useSessionHistoryController outside sessionHistoryContext");return e};n(84253);var sT=n(15191);let sA=(e,t)=>eN(n=>{let a=n.getMessage(e,t);if(!a||!e9.getReadLinkFragment(a))return"none";let s=a.status===tS.WIP,r=sj(a);return!s&&r?"interrupted":sk(a)?"reading":"finishRead"}),sj=e=>!e9.getPossibleResponseFragments(e).length&&!e9.getCollapsibleAreaFragments(e).length,sk=e=>e.status===tS.WIP&&e9.getReadLinkFragment(e)&&sj(e),sM=e=>!(!e.isContinuing||e.status===tS.WIP)&&!!ac.mayLoading(e.generateState)&&"dot-multi",sR=e=>(t,n,a)=>eN(s=>{let r=s.getMessage(t,n);if(!r)return null;let o=r.fragments.find(e=>e.id===a);return e9.isToolFragment(o,e)?o.status:null}),sN=(e,t,n)=>eN(a=>{let s=a.getMessage(e,t);if(!s)return"error";let r=e9.filterFragments(s,["TOOL_OPEN"]).filter(e=>{let{id:t}=e;return n.includes(t)});if(!r.length)return"error";if(r.every(e=>"FAILED"===e.status))return"failed";let o=tw(s,r);return o.composedList.length&&!o.results.length?"mixed":o.results.length?"detailed":"error"}),sO=(e,t,n)=>sR("TOOL_OPEN")(e,t,n)||"WIP",sL=(e,t,n)=>eN((0,eq.aD)(a=>{var s;let r=a.getMessage(e,t);if(!r)return null;let o=r.fragments.find(e=>e.id===n);if(!e9.isToolFragment(o,"TOOL_OPEN"))return null;let{composedList:i,results:l}=tw(r,[o]);if(i.length)return null;let c=(s=l.find(e=>e.title)||l.find(e=>e.url))?{...s,title:s.title||s.url}:{url:"",title:""};return c||null},(e,t)=>(0,eq.fG)(e,t,{url:1,title:1}))),sF=(e,t,n)=>sR("TOOL_FIND")(e,t,n)||"WIP",sP=(e,t,n)=>eN(a=>{let s=a.getMessage(e,t);if(!s)return"error";let r=e9.filterFragments(s,["TOOL_FIND"]).filter(e=>{let{id:t}=e;return n.includes(t)});return r.length?r.every(e=>"FAILED"===e.status)?"failed":r.every(e=>"NO_RESULT"===e.status)?"noResult":"display":"error"}),sD=(e,t,n)=>eN(a=>{let s=a.getMessage(e,t);if(!s)return"";let r=s.fragments.find(e=>e.id===n);return e9.isToolFragment(r,"TOOL_FIND")?r.pattern:""}),sB={composedList:[],results:[]},sV=(e,t,n,a)=>eN(s=>{let r=s.getMessage(e,t);if(!r)return null;let o=r.fragments.find(e=>e.id===n);if(!o||"THINK"===o.type||!tk(o))return null;let i=o.references.at(a);if(!i)return null;let l=r.fragments.find(e=>e.id===i.id&&e.type===i.type);return l?tw(r,[l]):null})||sB,sH=(e,t,n)=>tD((0,ez.k)(a=>a.getIndexMap(e,t,n))),sU=(e,t)=>e.length===t.length&&e.every((e,n)=>{let a=t[n];return e.type===a.type&&("parallelGroup"===e.type&&"parallelGroup"===a.type?e.toolType===a.toolType&&e.ids.length===a.ids.length&&(0,tM.A)(e.ids,a.ids):"parallelGroup"!==e.type&&"parallelGroup"!==a.type&&e.fragmentType===a.fragmentType&&e.id===a.id)}),sW=e=>{var t;return e.role===W.MessageRole.USER?e9.getUserQuery(e):null==(t=e9.getResponseFragment(e))?void 0:t.content},sz=(e,t,n)=>{let a=e.getMessage(t,n);return!!a&&a.status===W.MessageStatus.INCOMPLETE&&a.role===W.MessageRole.ASSISTANT&&!a.childIds.length},sG=(e,t,n)=>eN(a=>{let s=a.getMessage(e,t);return s?s.fragments.find(e=>e.id===n):null}),sK=(e,t,n)=>eN(a=>{let s=a.getMessage(e,t);if(!s)return null;let r=s.fragments.find(e=>e.id===n);return(null==r?void 0:r.type)==="THINK"?r:null}),sq=(e,t)=>eN(n=>{let a=n.getMessage(e,t);return!!a&&a.status===tS.WIP&&!!a.thinkingEnabled&&(!a.fragments.at(-1)||!e9.getHasMainResponse(a)&&!e9.getHasTemplateResponse(a))}),sZ=(e,t)=>{let n=eN.getState().getMessage(e,t);return n?(sW(n)||"").trim().replace(/\[citation:\d+\]/g,""):""},sQ=(e,t,n)=>eN((0,ez.k)(a=>{let s=a.getMessage(e,t);return e9.getSearchQueries(s,e=>e.id===n)})),sY=e=>{let t=t_();return e<2?t("messageSearchSummary"):t("messageSearchSummaries")(e)},sX=(e,t,n)=>eN(a=>{if("loading"===n)return!0;let s=a.getMessage(e,t);if(!s||s.status!==tS.WIP||s.hasPendingFragment)return!1;let r=null==s?void 0:s.fragments.at(-1);return(null==r?void 0:r.type)==="THINK"&&r.id===n}),sJ=(e,t)=>({messageBody:{getCopyContent:(0,sT.A)(sZ,e,t),useReferenceSchema:()=>eN(n=>{let a=n.getMessage(e,t);return(null==a?void 0:a.conversationMode)||"DEFAULT"}),useResponseContentFragmentId:()=>eN(n=>{let a=n.getMessage(e,t);if(!a)return null;let s=e9.getResponseFragment(a);return s?s.id:null}),useMessageRole:()=>eN(n=>{let a=n.getMessage(e,t);return a?a.role:null}),useMessageContent:()=>eN(n=>{let a=n.getMessage(e,t);return a?sW(a):null}),useMessageStatus:()=>eN(n=>{let a=n.getMessage(e,t);return a?a.status:W.MessageStatus.OK}),useBanRegenerate:()=>eN(n=>{let a=n.getMessage(e,t);return!!a&&a.banRegenerate}),useIsWIP:()=>eN(n=>{let a=n.getMessage(e,t);return!!a&&a.status===tS.WIP}),useIsWIPRef:()=>{let n,a;return n=(0,eG.useRef)(!1),(a=eN.getState().getMessage(e,t))?n.current=a.status===tS.WIP:n.current=!1,n},useThinkingElapsedSecs:()=>eN(n=>{var a;let s=n.getMessage(e,t);return s?null==(a=e9.getThinkFragments(s).at(0))?void 0:a.elapsedSecs:null}),useShowLoading:()=>eN(n=>{let a=n.getMessage(e,t);if(!a)return!1;let s=sM(a);if(s)return s;if(a.status!==tS.WIP)return!1;if(!a.thinkingEnabled){let e,t,n;return e=ac.mayLoading(a.generateState),t=e9.getSearchFragments(a).some(e=>"WIP"===e.status),n=sk(a),!t&&!n&&!!e&&"dot-multi"}return!sk(a)&&(e9.getCollapsibleAreaFragments(a).length?!(!a.hasPendingFragment||e9.isAnyToolWIP(a))&&"dot-single":"dot-multi")}),useTips:n=>(e=>{let{messageId:t,sessionId:n,style:a}=e;return eN((0,ez.k)(e=>e9.getStandardTipFragments(e.getMessage(n,t)).filter(e=>e.style===a)))})({messageId:t,sessionId:e,style:n}),useFilesCount:()=>eN(n=>{var a,s;let r=n.getMessage(e,t);return null!=(s=null==r||null==(a=r.files)?void 0:a.length)?s:null})},bottom:{useShowContinue:()=>eN(n=>sz(n,e,t)),useContinueButtonDisabled:()=>eN(n=>{if(!sz(n,e,t))return!1;let a=n.getSession(e);return!!a&&[W.SessionStateEnum.sending,W.SessionStateEnum.completing].includes(a.state)}),useMessageHint:()=>eN(n=>{let a=n.getMessage(e,t);return a?a.hint:null}),useMessageFeedback:()=>eN(n=>{let a=n.getMessage(e,t);return a?a.feedback:null}),useShowAssistantBottomThings:()=>eN(n=>{let a=n.getMessage(e,t);return!(!a||sM(a))&&a.status!==tS.WIP}),useBranchCount:()=>eN(n=>eE.getMessageBranchCount(n,e,t)),useBranchIndex:()=>eN(n=>eE.getMessageBranchIndex(n,e,t))},layout:{useIsLastUserMessage:()=>eN(n=>eE.getIsLastShowingUserMessage(n,e,t)),useBranchRestoreScrollPosKey:()=>eN(n=>eE.getBranchRestoreScrollPosKey(n,e,t))},fragment:{useFragment:(0,sT.A)(sG,e,t),useThinkFragment:(0,sT.A)(sK,e,t),useIsAnyInfoExistInMessage:()=>eN(n=>{let a=n.getMessage(e,t);if(!a)return!1;let s=e9.filterFragments(a,e3).some(e=>e.content),r=e9.getStandardTipFragments(a).length,o=e9.getSearchFragments(a).length,i=e9.getCollapsibleAreaFragments(a).length,l=e9.getReadLinkFragment(a);return s||r||o||i||l}),useIsWIPThinking:(0,sT.A)(sX,e,t),useToolOpenTitle:(0,sT.A)(sL,e,t),useToolOpenParallelStatus:(0,sT.A)(sN,e,t),useToolSearchParallelStatus:(0,sT.A)(tH,e,t),useToolOpenStatus:(0,sT.A)(sO,e,t),useToolFindPattern:(0,sT.A)(sD,e,t),useToolFindParallelStatus:(0,sT.A)(sP,e,t),useToolFindStatus:(0,sT.A)(sF,e,t),useSearchTitle:(0,sT.A)(tz,e,t),useReadLinkStatus:(0,sT.A)(sA,e,t)},reference:{useReferenceResult:(0,sT.A)(sV,e,t),useReferenceIndexMap:(0,sT.A)(sH,e,t)},collapsible:{useSearchSitesText:sY,useShowCollapsibleGroupTitle:()=>eN(n=>{let a=n.getMessage(e,t);return!(!(null==a?void 0:a.thinkingEnabled)||e9.getHasTemplateResponse(a)||a.status===tS.CONTENT_FILTER)&&e9.getCollapsibleAreaFragments(a).length}),useShowCollapsibleArea:()=>eN(n=>{let a=n.getMessage(e,t);return!(!a||e9.getHasTemplateResponse(a)||a.status===tS.CONTENT_FILTER)&&!!e9.getCollapsibleAreaFragments(a).length}),useCollapsibleAreaTitle:()=>{let n;return n=t_(),eN(a=>{let s=a.getMessage(e,t);if(!s)return"";if(e9.getPossibleResponseFragments(s).length){let e=Math.max(Math.round(e9.getThinkFragments(s).reduce((e,t)=>(t.elapsedSecs||0)+e,0)),1);return n(e>1?"messageThinkDurationPlural":"messageThinkDuration")(e)}if(s.status!==W.MessageStatus.WIP)return n("messageThinkStopped");let r=e9.getCollapsibleAreaFragments(s).at(-1),o=n("messageThinking");if(!r||"TIP"===r.type)return o;switch(r.type){case"THINK":return o;case"TOOL_SEARCH":if("WIP"===r.status)return n("deepSearchSearching");return o;case"TOOL_OPEN":case"TOOL_FIND":if("WIP"===r.status)return n("groupTitleToolOpen");return o;case"SEARCH":return n("deepSearchSearching");default:return(0,er.s)(r),o}})},useCollapsibleAreaStopped:()=>eN(n=>{let a=n.getMessage(e,t);return!!a&&!e9.getPossibleResponseFragments(a).length&&a.status!==W.MessageStatus.WIP}),useCollapsibleAreaFragmentsMeta:()=>eN((0,eq.aD)(n=>{let a,s,r=n.getMessage(e,t),o=((null==r?void 0:r.fragments)||[]).filter(e9.isCollapsibleAreaFragment);return a=[],s=null,o.forEach(e=>{e9.getIsParallelizableTool(e)?(null==s?void 0:s.toolType)===e.type&&s.stageId===e.stageId?s.ids.push(e.id):(s={type:"parallelGroup",ids:[e.id],toolType:e.type,stageId:e.stageId},a.push(s)):(s=null,a.push({type:"generalFragment",id:e.id,fragmentType:e.type}))}),a},sU)),useSearchQueries:(0,sT.A)(sQ,e,t),useSearchResults:(0,sT.A)(tW,e,t),useIsCollapsibleAreaWIP:(0,sT.A)(sq,e,t),useShowSearchSitesSummary:()=>eN(n=>{let a=n.getMessage(e,t);if(!a||a.status!==tS.OK||"DEFAULT"===a.conversationMode)return!1;if("SEARCH"===a.conversationMode)return e9.getSearchResults(a,Boolean).length;if("DEEP_SEARCH"===a.conversationMode)return e9.filterFragments(a,["TOOL_SEARCH","TOOL_OPEN"]).some(e=>(e=>{switch(e.type){case tT.TOOL_SEARCH:return!!e.results.length;case tT.TOOL_OPEN:var t;return!!(null==(t=e.result)?void 0:t.url);default:return!1}})(e));return(0,er.s)(a.conversationMode),null})}});function s$(e){return"share-".concat(e)}function s1(e){return!(e.status===W.MessageStatus.CONTENT_FILTER||e.status===W.MessageStatus.WIP||ef(e.id))}let s0=(e,t)=>t?(eE.getMessagePath(e,t)||[]).filter(n=>{let a=e.getMessage(t,n),s=e.getMatchingMessage(t,n);return a&&s&&s1(a)&&s1(s)}):[],s2=e=>eN((0,ez.k)(t=>s0(t,e))),s3={useSessionIsWaitingSelection:e=>e7(t=>void 0!==e&&t.currentSessionId===e),useSelectedMessagesCount:e=>{let t=s2(e);return e7(n=>void 0===e||n.currentSessionId!==e?0:"all"===n.selectedMessages?t.length:n.selectedMessages.length)},useShareContent:e=>e7(t=>{if(void 0!==e)return t.getShareContent(e)}),useIsAllSelected:()=>e7(e=>"all"===e.selectedMessages),useMessageSelectStatus:(e,t)=>{let n=eN(n=>{let a=n.getMessage(e,t),s=n.getMatchingMessage(e,t);return!!a&&!!s&&s1(a)&&s1(s)}),a=e7(n=>n.currentSessionId===e&&("all"===n.selectedMessages||n.selectedMessages.includes(t))),s=n&&a;return(0,eG.useMemo)(()=>({selected:s,selectable:n}),[s,n])},useSelectableMessageIds:s2,useIsShareSelecting:()=>e7(e=>null!=e.currentSessionId)},s4=()=>{let e=aZ();return{deleteSession:e.deleteSession,abortCompletion:e.abortCompletion,startCompletion:e.completion.bind(e),createSessionAndStartCompletion:e.createSessionAndCompletion.bind(e),editMessage:e.editMessage.bind(e),regenerateMessage:e.regenerateMessage.bind(e),continueCompletion:e.continueCompletion.bind(e),resendMessage:e.resend.bind(e),feedbackMessage:e.feedbackMessage.bind(e)}};var s6=n(97287),s5=n(24856);class s9{get plainStore(){return e7.getState()}get plainChatStore(){return eN.getState()}enterSelection(e,t){this.plainStore.enterSelection(e),"all"===t?this.toggleAllMessagesSelection():null==t||t.forEach(e=>{this.toggleMessageSelection(e)})}switchSession(e){this.plainStore.currentSessionId!==e&&this.exitSelection()}toggleMessageSelection(e){let t=this.plainStore;if(!t.currentSessionId)return;let n=this.plainChatStore.getMatchingMessage(t.currentSessionId,e);if(!n)return;let a=s0(this.plainChatStore,t.currentSessionId),{selectedMessages:s}=t;if("all"===s)e7.setState({selectedMessages:(0,s6.A)(a,e,n.id)});else{let t=s.includes(e)?(0,s6.A)(s,e,n.id):(0,s5.A)(s,[e,n.id]);e7.setState(()=>({selectedMessages:a.length===t.length?"all":t}))}}toggleAllMessagesSelection(){this.plainStore.currentSessionId&&e7.setState({selectedMessages:"all"===this.plainStore.selectedMessages?[]:"all"})}getSelectedMessages(e){if(void 0===e||this.plainStore.currentSessionId!==e)return[];let{selectedMessages:t}=this.plainStore;return"all"===t?s0(this.plainChatStore,e):t}async createShare(e,t){try{return(await function(e){let{chatSessionId:t,messageIds:n}=e;return ee().http.http.post("/api/v0/share/create",{json:{chat_session_id:t,message_ids:n}}).then(e=>{let{context:t,json:n}=e;if(n.data.biz_code!==G.CreateShareErrorCode.OK)throw{code:n.data.biz_code};return{data:{shareId:n.data.biz_data.share_id},context:t}})}({chatSessionId:e,messageIds:t})).data.shareId}catch(e){if(e&&"object"==typeof e&&"code"in e)switch(e.code){case G.CreateShareErrorCode.INVALID_CHAT_SESSION:ni("sessionDeleted");break;case G.CreateShareErrorCode.TOO_MANY_SHARES_FOR_THIS_SESSION:ni("shareCreateLinkExceedLimitToast");break;case G.CreateShareErrorCode.RATE_LIMIT_REACHED:ni("operationTooFastToast");break;default:ni("shareCreateLinkFailedToast")}else ni("shareCreateLinkFailedToast");throw e}}async fetchShareContent(e){let t=s$(e);if(!this.plainStore.getShareContent(e))try{let n=(await function(e){let{shareId:t}=e;return ee().http.http.get("/api/v0/share/content",{query:{share_id:t}}).then(e=>{let{context:n,json:a}=e;if(a.data.biz_code!==G.GetShareContentErrorCode.OK)throw{code:a.data.biz_code};let{messages:s}=a.data.biz_data,r=s.map(e=>{var t;return nt(e,{childIds:[null==(t=s.find(t=>t.parent_id===e.message_id))?void 0:t.message_id].filter(et),currentChildIndex:0})}),o=a.data.biz_data.title,i=(0,aC.A)(),l=Object.fromEntries(r.map(e=>[e.id,{...e,status:W.MessageStatus.OK}]));return{data:{title:o,messages:r,chatSessionId:i,fakeSession:{...sv({id:s$(t),title:o,title_type:"USER",updated_at:0,pinned:!1}),isHidden:!0,messageStore:l,agentId:"chat",state:W.SessionStateEnum.idle}},context:n}})}({shareId:e})).data;this.plainStore.setShareContent(e,n),n.messages.forEach(e=>{this.plainChatStore.addMessage(n.fakeSession.id,e)}),this.plainChatStore.addSession(n.fakeSession),tV(t)}catch(e){if(e&&"object"==typeof e&&"code"in e)switch(e.code){case G.GetShareContentErrorCode.SHARE_DOES_NOT_EXIST:ni("sessionNotExist");return;case G.GetShareContentErrorCode.SHARE_IS_DELETED_OR_BANNED:case G.GetShareContentErrorCode.ORIGINAL_SESSION_DELETED:ni("sessionDeleted");return}ni("hintNetworkError"),this.plainChatStore.addSession({...sv({id:t,title:"",title_type:"USER",updated_at:0,pinned:!1}),isHidden:!0,messageStore:{},agentId:"chat",state:W.SessionStateEnum.historyError})}}async listShares(e,t){return(await function(e){let{count:t,lteDate:n}=e;return ee().http.http.get("/api/v0/share/list",{query:{count:t,lte_date:n}}).then(e=>{let{context:t,json:n}=e;return{data:{shares:n.data.biz_data.shares.map(e=>({shareId:e.share_id,createdAt:e.created_at,chatSessionId:e.chat_session_id,hint:e.hint}))},context:t}})}({count:e,lteDate:t})).data.shares}async deleteShare(e){let t=ee().tracker;t.info({name:"shareLinkDelete",message:"删除分享链接",payload:{id:e}});try{let n=(await function(e){let{shareId:t}=e;return ee().http.http.post("/api/v0/share/delete",{json:{share_id:t}}).then(e=>{let{context:t,json:n}=e;return{data:{code:n.data.biz_code},context:t}})}({shareId:e})).data.code;return n!==G.DeleteShareErrorCode.OK&&t.error({name:"shareLinkDeleteFail",message:"删除分享链接失败，错误码 ".concat(n),payload:{id:e,code:n}}),n}catch(n){throw t.error({name:"shareLinkDeleteFail",message:"删除分享链接失败",payload:t.withError(n,{id:e})}),n}}async forkShare(e){return(await function(e){let{shareId:t}=e;return ee().http.http.post("/api/v0/share/fork",{json:{share_id:t}}).then(e=>{let{context:t,json:n}=e;if(n.data.biz_code!==G.ForkShareErrorCode.OK)throw{code:n.data.biz_code};return{data:{chatSessionId:n.data.biz_data.chat_session_id},context:t}})}({shareId:e})).data.chatSessionId}constructor(){(0,tr._)(this,"subscribeIsSelecting",te),(0,tr._)(this,"exitSelection",this.plainStore.exitSelection),(0,tr._)(this,"removeShareContent",e=>{this.plainChatStore.deleteSession(s$(e))})}}let s8=(0,eG.createContext)({shareController:null}),s7=e=>{let{children:t}=e,n=re(),a=(0,eG.useMemo)(()=>({shareController:n}),[n]);return(0,tC.jsx)(s8.Provider,{value:a,children:t})},re=()=>{let e=(0,eG.useRef)();return e.current||(e.current=new s9),e.current},rt=()=>{let e=(0,eG.useContext)(s8).shareController;if(!e)throw Error("not under ShareProvider");return e};var rn=n(16188);let ra=async e=>{let{http:t}=ee();try{let n=await t.http.get(e,{timeout:3e3,context:t.withDefaultHttpContext({withToken:!1})}),a=n.headers["x-hif-ttl"],s=a?parseInt(a,10):600,{json:r}=n;if(0!==r.data.biz_code)return{success:!1,errorType:"bizCode",statusCode:null,bizCode:r.data.biz_code,responseCode:null,error:r.data.biz_msg||"Biz code error: ".concat(r.data.biz_code)};return{success:!0,value:r.data.biz_data.value,ttlSec:isNaN(s)?600:s}}catch(e){if((0,rn.Hp)(e)){if("TIMEOUT"===e.type)return{success:!1,errorType:"timeout",statusCode:null,bizCode:null,responseCode:null,error:e};if("NETWORK"===e.type)return{success:!1,errorType:"network",statusCode:null,bizCode:null,responseCode:null,error:e};if("HTTP"===e.type&&e.response.status)return{success:!1,errorType:"status",statusCode:e.response.status,bizCode:null,responseCode:null,error:e}}return{success:!1,errorType:"unknown",statusCode:null,bizCode:null,responseCode:null,error:e}}},rs=(e,t)=>{let n=Math.max(t.maxBackoffMs,6e4),{url:a}=e,s=null,r=!1,o=null,i=null,l=()=>{r||(o=new tc({pollFn:()=>ra(a),shouldStopPolling:e=>e.success,initialInterval:1e3,maxInterval:n,backoffMultiplier:2,onPoll:e=>{let{tracker:n}=ee();e.success?(s=e.value,t.onRefresh(s),n.info({name:"hifRequestSuccess",message:"HIF请求成功: ".concat(a),payload:{url:a,ttl:e.ttlSec}})):n.error({name:"hifRequestError",message:"HIF请求失败: ".concat(a),payload:n.withError(e.error,{url:a,errorType:e.errorType,statusCode:e.statusCode,bizCode:e.bizCode,responseCode:e.responseCode})})}})).start().then(e=>{!r&&e.success&&e.data.success&&(i=setTimeout(l,1e3*e.data.ttlSec))})};return{start:()=>{r||(r=!1,l())},stop:()=>{r=!0,null==o||o.abort(),i&&(clearTimeout(i),i=null)},getValue:()=>s}};class rr{start(){this.leimPoller.start(),this.dliqPoller.start()}stop(){this.leimPoller.stop(),this.dliqPoller.stop()}getHeaders(){return{leim:this.leimPoller.getValue(),dliq:this.dliqPoller.getValue()}}constructor(e){(0,tr._)(this,"leimPoller",void 0),(0,tr._)(this,"dliqPoller",void 0);const t=t=>({maxBackoffMs:e.maxBackoffMs,onRefresh:n=>e.onRefresh(t,n)});this.leimPoller=rs(e.endPoints.leim,t("leim")),this.dliqPoller=rs(e.endPoints.dliq,t("dliq"))}}},5413:function(e,t,n){"use strict";let a;n.d(t,{xr:()=>f,Xn:()=>g,dT:()=>C,OB:()=>m}),n(42551);let s="__widgetRemoved",r="cf-overlay",o="cf-turnstile",i=()=>{},l=(new Promise(e=>{i=e}),null),c="",d=null,u=null,h=!1,p=!1;function m(e){let{sitekey:t,tracker:n,logger:a,ignoreFailed:s}=e;h=s,c=t,d=n,u=a}function g(){let e,t,n;if(p)return;if(!c)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 sitekey");if(!d)throw Error("[@deepseek/cloudflare-turnstile]: 未设置 tracker");p=!0,(e=document.createElement("div")).id=r,e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.right="0",e.style.bottom="0",e.style.backgroundColor="rgba(0, 0, 0, 0.7)",e.style.border="1px solid grey",e.style.zIndex="10000",e.style.display="none",e.innerHTML='<p style="color: white; text-align: center; margin-top: 50vh;">One more step before you proceed...</p><div style="display: flex; flex-wrap: nowrap; align-items: center; justify-content: center;" id="'.concat(o,'"></div>'),document.body.appendChild(e),a=new Promise((e,a)=>{t=e,n=a});let s=document.createElement("script");s.src="https://challenges.cloudflare.com/turnstile/v0/api.js?onload=onloadTurnstileCallback",s.defer=!0,s.onerror=e=>{null==n||n(e),null==d||d.error({name:"__cloudflareTurnstileLoadFailed",message:"cloudflare turnstile 加载失败",payload:d.withError(e,{ignoreFailed:"".concat(h)})})},document.body.appendChild(s),window.onloadTurnstileCallback=function(){null==t||t(),null==d||d.info({name:"__cloudflareTurnstileLoadOk",message:"cloudflare turnstile 加载成功",payload:{ignoreFailed:"".concat(h)}})}}async function f(){let e=document.getElementById(r);if(!e)throw Error("[@deepseek/cloudflare-turnstile]: 未找到 overlay");if(e.style.display="block",!document.getElementById(o))throw Error("[@deepseek/cloudflare-turnstile]: 未找到 widget");return await a,new Promise((t,n)=>{null==u||u.info("开始渲染 cloudflare turnstile widget");try{l=window.turnstile.render("#cf-turnstile",{sitekey:c,"error-callback":e=>{null==d||d.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，code: ".concat(e),payload:{code:e,ignoreFailed:"".concat(h)}}),h||t(),C(),n(e)},callback:function(a,s){if(null==d||d.info({name:"__cloudflareTurnstileChallengeOk",message:"获取到 cloudflare turnstile token，".concat(a,"，preClearanceObtained: ").concat(s),payload:{token:a,ignoreFailed:"".concat(h)}}),s){e.style.display="none";let n=l;n&&window.turnstile.remove(n),t()}else null==d||d.error({name:"__cloudflareTurnstileChallengeFailed",message:"获取 cloudflare turnstile token 失败，preClearanceObtained 为 false",payload:{code:"[PRE_CLEARANCE_FALSE]",ignoreFailed:"".concat(h)}}),e.style.display="none",n(Error("Unable to obtain pre-clearance"));C()}})}catch(e){null==d||d.error({name:"__cloudflareTurnstileRenderFailed",message:"cloudflare render turnstile 失败",payload:d.withError(e,{ignoreFailed:"".concat(h)})})}})}function C(){null==u||u.info("停止 cloudflare turnstile 后台刷新 token 任务"),l&&(window.turnstile.remove(l),i({code:s,action:"unexpected",reason:s,status:"failed"}),l=null,new Promise(e=>{i=e}))}},2542:function(e,t,n){"use strict";n.d(t,{Bd:()=>a,Mf:()=>u,Yb:()=>s,aq:()=>d,f8:()=>c,fQ:()=>m,gI:()=>i,mI:()=>p,nr:()=>o,oi:()=>h,tR:()=>l}),n(42551),n(40966),n(14281),n(18009),n(95577),n(43536),n(95743),n(63538);let a="undefined"!=typeof document&&"undefined"!=typeof window,s="undefined"!=typeof wx&&wx&&"object"==typeof wx&&"getSystemInfoSync"in wx,r=a&&"chrome"in window;a&&navigator.userAgent.includes("Firefox");let o=a&&navigator.userAgent.includes("Safari")&&!r,i=!!a&&(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream,l=a&&navigator.userAgent.match(/(MicroMessenger|micromessenger);?/i),c=a&&navigator.platform.toLowerCase().startsWith("mac")||i,d="session_v0_".concat(Math.random().toString(36).slice(2)),u=a&&location.search.includes("ios_auth"),h=(()=>{try{return Error("Test error",{cause:Error("Cause error")}).cause instanceof Error}catch(e){return!1}})(),p="inDpskApp",m=a&&("true"===new URL(window.location.href).searchParams.get(p)||"true"===sessionStorage.getItem(p))},194:function(e,t,n){"use strict";n.r(t),n.d(t,{availableLocales:()=>a});let a=["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fi","fil","fr","fr_CA","gl","gu","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","vi","zu"]},48933:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s,en_US:()=>a});let a={default:"Parsing failed",error40000:"No text extracted",error40001:"No text extracted",error40002:"No text extracted",error40003:"Parsing failed",error40004:"Parsing failed",error40006:"Parsing failed",error40007:"Parsing failed",error40008:"Parsing failed",error40009:"No text extracted",error50200:"Server busy",error50201:"Server busy",error50202:"Server busy",error50300:"Server busy",error50400:"Server busy",error50401:"Server busy",error50402:"Server busy",error50403:"Server busy",error50404:"Server busy"},s=a},66980:function(e,t,n){"use strict";n.r(t),n.d(t,{ensureTranslateComponent:()=>p,getTranslate:()=>m,useTranslate:()=>h,useTranslateWithLocale:()=>u}),n(40966);var a=n(11285),s=n(96171),r=n(48933),o=n(25452),i=n(194);let l={zh_CN:s.zh_CN,en_US:r.en_US},c=n(34635);(0,o.h2)(async e=>{let t=(await c("./".concat(e,".js"))).default;l[e]=t},i.availableLocales);let d={};function u(){return(0,a.useCallback)((e,t)=>{var n;return(null!=(n=l[t])?n:l.en_US)[e]},[])}function h(e){return(0,a.useCallback)(t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]},[e])}function p(e,t){return d[e]?d[e]:d[e]=function(n){let{args:a}=n,s=m(t())(e);return"string"==typeof s?s:s(...a)}}function m(e){return t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]}}},96171:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s,zh_CN:()=>a});let a={default:"解析失败",error40000:"未提取到文字",error40001:"未提取到文字",error40002:"未提取到文字",error40003:"解析失败",error40004:"解析失败",error40006:"解析失败",error40007:"解析失败",error40008:"解析失败",error40009:"未提取到文字",error50200:"服务器繁忙",error50201:"服务器繁忙",error50202:"服务器繁忙",error50300:"服务器繁忙",error50400:"服务器繁忙",error50401:"服务器繁忙",error50402:"服务器繁忙",error50403:"服务器繁忙",error50404:"服务器繁忙"},s=a},91753:function(e,t,n){"use strict";n.d(t,{fG:()=>p,kZ:()=>m,ip:()=>f,HR:()=>g,ML:()=>C,Qj:()=>l,SE:()=>o,aD:()=>h,_u:()=>c,iL:()=>i,nI:()=>d,DK:()=>s,gK:()=>r}),n(40966);var a=n(11285);function s(e){let t=(0,a.useRef)(e);return t.current=e,(0,a.useCallback)(function(){for(var e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];return t.current(...n)},[])}function r(e){let t=(0,a.useRef)(null),n=(0,a.useRef)(),s=(0,a.useCallback)(a=>{var s;null==(s=n.current)||s.call(n),t.current=a,n.current=e(a)},[e]);return Object.assign(s,{ref:t}),s}function o(e){let t=(0,a.useRef)(e);return t.current=e,t}function i(e){let{rootMargin:t,threshold:n,rootRef:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=s(e);return r((0,a.useCallback)(e=>{if(!e||"undefined"==typeof IntersectionObserver)return;let a=new IntersectionObserver(e=>{var t;let[n]=e;i(null!=(t=null==n?void 0:n.isIntersecting)&&t,e)},{root:null==o?void 0:o.current,rootMargin:t,threshold:n});return a.observe(e),()=>{a.disconnect()}},[i,t,o,n]))}function l(e){let{value:t,shouldDelay:n=()=>!0,delay:s,defaultValue:r}=e,o=n(t),i=(0,a.useRef)(r),l=(0,a.useReducer)(e=>e+1,0)[1];return(0,a.useEffect)(()=>{if(!o)return i.current=t,()=>{};{let e=setTimeout(()=>{i.current=t,l()},s);return()=>clearTimeout(e)}},[t,s,o,l]),o?i.current:t}function c(e){let{value:t,shouldDelay:n=()=>!0,defaultValue:r}=e,o=n(t),i=(0,a.useRef)(r),l=(0,a.useReducer)(e=>e+1,0)[1],c=s(()=>{i.current=t,l()});return(0,a.useEffect)(()=>{o||(i.current=t)},[t,o]),{value:o?i.current:t,trigger:c}}function d(e,t,n){let{showDelay:s,minDuration:r}=t,[,o]=(0,a.useReducer)(e=>e+1,0),i=(0,a.useRef)(!1),c=(0,a.useRef)(!1);(0,a.useMemo)(()=>{c.current=!1},[n]),(0,a.useEffect)(()=>{c.current||(i.current=!1,c.current=!0,o())},[n]);let d=e=>e,u=l({value:c.current,shouldDelay:d,delay:s,defaultValue:!1}),h=l({value:u,shouldDelay:d,delay:r,defaultValue:!1}),p=e&&u||i.current&&!h;return i.current=i.current||p,p}n(91405),n(67539),n(95266),n(37560);try{new Intl.Segmenter("en",{granularity:"grapheme"})}catch{}n(20370),n(42551),n(93649);let u=Symbol("useZustandCompare");function h(e,t){let n=(0,a.useRef)(u);return a=>{let s=e(a);return n.current===u?(n.current=s,s):(function(e){if(e===u)throw Error("Unexpected default value")}(n.current),t(n.current,s)?n.current:n.current=s)}}let p=(e,t,n)=>e===t||!!e&&!!t&&Object.keys(n).every(n=>e[n]===t[n]),m=(e,t,n)=>e===t||!!e&&!!t&&e.length===t.length&&e.every((e,a)=>p(e,t[a],n)),g=e=>{let{content:t,maxWait:n=2e3,enable:s,timeConsumingRate:r,getNow:o}=e,i=Math.max(1,r),l=(0,a.useRef)(0),c=(0,a.useRef)(0),d=(0,a.useRef)(o);d.current=o;let[u,h]=(0,a.useState)(t);return((0,a.useMemo)(()=>{l.current=d.current()},[u]),(0,a.useEffect)(()=>{let e=d.current();c.current=Math.min(n,(e-l.current)*i)+e},[n,i,u]),(0,a.useEffect)(()=>{d.current()>=c.current&&h(t)},[t]),s)?u:t};function f(){return(0,a.useMemo)(()=>Math.random().toString(36).slice(2),[])}function C(e,t,n,r){let o=s(t);(0,a.useEffect)(()=>{var t;let a=null!=(t=null==n?void 0:n.current)?t:window;if(a&&a.addEventListener)return a.addEventListener(e,o,r),()=>{a.removeEventListener(e,o,r)}},[e,n,r,o])}},31567:function(e,t,n){"use strict";n.r(t),n.d(t,{availableLocales:()=>a});let a=["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fi","fil","fr","fr_CA","gl","gu","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","vi","zu"]},63180:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s,en_US:()=>a});let a={invalidPowResponseToast:"Validation failed",invalidTokenToast:"You have signed out of your account, please log in again.",ipAccessRestrictedToast:"Too many requests. Please try again later.",mobileNotBindedInMainlandChinaToast:"Please verify your phone number.",underReviewToast:"Your account is under review.",userIsBannedToast:"As a result of violations, your account has been suspended."},s=a},33041:function(e,t,n){"use strict";n.r(t),n.d(t,{ensureTranslateComponent:()=>p,getTranslate:()=>m,useTranslate:()=>h,useTranslateWithLocale:()=>u}),n(40966);var a=n(11285),s=n(19630),r=n(63180),o=n(25452),i=n(31567);let l={zh_CN:s.zh_CN,en_US:r.en_US},c=n(43764);(0,o.h2)(async e=>{let t=(await c("./".concat(e,".js"))).default;l[e]=t},i.availableLocales);let d={};function u(){return(0,a.useCallback)((e,t)=>{var n;return(null!=(n=l[t])?n:l.en_US)[e]},[])}function h(e){return(0,a.useCallback)(t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]},[e])}function p(e,t){return d[e]?d[e]:d[e]=function(n){let{args:a}=n,s=m(t())(e);return"string"==typeof s?s:s(...a)}}function m(e){return t=>{var n;return(null!=(n=l[e])?n:l.en_US)[t]}}},19630:function(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s,zh_CN:()=>a});let a={invalidPowResponseToast:"请求验证失败",invalidTokenToast:"登录信息已失效，请重新登录",ipAccessRestrictedToast:"请求过于频繁，请稍后再试",mobileNotBindedInMainlandChinaToast:"请完成实名认证",underReviewToast:"你的账户正在审核中",userIsBannedToast:"由于违规次数过多，你的账户已被停用"},s=a},25452:function(e,t,n){"use strict";n.d(t,{aO:()=>h,vK:()=>d,h2:()=>r,Be:()=>i,Xq:()=>o,it:()=>u}),n(59605),n(14979),n(99046),n(40339),n(31188),n(89851),n(73191),n(40966),n(67539),n(95266),n(45363),n(37560);let a=[],s=new Set;function r(e,t){a.push(e),0===s.size?t.forEach(e=>s.add(e)):s.forEach(e=>{t.includes(e)||s.delete(e)})}async function o(e){await Promise.all(a.map(t=>t(e)))}function i(){return[...s]}n(3143);let l=["zh_CN","en_US","zh_Hant","zh_HK","ja","en_AU","en_CA","en_GB","en_IN","en_SG","en_ZA","af","am","ar","az","be","bg","bn","ca","cs","da","de","el","es","es_419","es_US","et","eu","fa","fa_AE","fa_AF","fa_IR","fi","fil","fr","fr_CA","gl","gu","he","hi","hr","hu","hy","id","is","it","ka","kk","km","kn","ko","ky","lo","lt","lv","mk","ml","mn","mr","ms","ms_MY","my","nb","ne","nl","pa","pl","pt_BR","pt_PT","rm","ro","ru","si","sk","sl","sq","sr","sv","sw","ta","te","th","tr","uk","ur","vi","zu"],c={"zh-CN":"zh_CN","en-US":"en_US","zh-Hant":"zh_Hant","zh-HK":"zh_HK",ja:"ja","en-AU":"en_AU","en-CA":"en_CA","en-GB":"en_GB","en-IN":"en_IN","en-SG":"en_SG","en-ZA":"en_ZA",af:"af",am:"am",ar:"ar",az:"az",be:"be",bg:"bg",bn:"bn",ca:"ca",cs:"cs",da:"da",de:"de",el:"el",es:"es","es-419":"es_419","es-US":"es_US",et:"et",eu:"eu",fa:"fa","fa-AE":"fa_AE","fa-AF":"fa_AF","fa-IR":"fa_IR",fi:"fi",fil:"fil",fr:"fr","fr-CA":"fr_CA",gl:"gl",gu:"gu",he:"he",hi:"hi",hr:"hr",hu:"hu",hy:"hy",id:"id",is:"is",it:"it",ka:"ka",kk:"kk",km:"km",kn:"kn",ko:"ko",ky:"ky",lo:"lo",lt:"lt",lv:"lv",mk:"mk",ml:"ml",mn:"mn",mr:"mr",ms:"ms","ms-MY":"ms_MY",my:"my",nb:"nb",ne:"ne",nl:"nl",pa:"pa",pl:"pl","pt-BR":"pt_BR","pt-PT":"pt_PT",rm:"rm",ro:"ro",ru:"ru",si:"si",sk:"sk",sl:"sl",sq:"sq",sr:"sr",sv:"sv",sw:"sw",ta:"ta",te:"te",th:"th",tr:"tr",uk:"uk",ur:"ur",vi:"vi",zu:"zu"},d={zh_CN:"简体中文",en_US:"English",zh_Hant:"繁體中文",zh_HK:"繁體中文（中國香港）",ja:"日本語",en_AU:"English (Australia)",en_CA:"English (Canada)",en_GB:"English (United Kingdom)",en_IN:"English (India)",en_SG:"English (Singapore)",en_ZA:"English (South Africa)",af:"Afrikaans",am:"አማርኛ",ar:"العربية",az:"Azərbaycan",be:"Беларуская",bg:"Български",bn:"বাংলা",ca:"Catal\xe0",cs:"Čeština",da:"Dansk",de:"Deutsch",el:"Ελληνικά",es:"Espa\xf1ol",es_419:"Espa\xf1ol (Latinoam\xe9rica)",es_US:"Espa\xf1ol (Estados Unidos)",et:"Eesti",eu:"Euskara",fa:"فارسی",fa_AE:"فارسی (امارات متحدهٔ عربی)",fa_AF:"فارسی (افغانستان)",fa_IR:"فارسی (ایران)",fi:"Suomi",fil:"Filipino",fr:"Fran\xe7ais",fr_CA:"Fran\xe7ais (Canada)",gl:"Galego",gu:"ગુજરાતી",he:"עברית",hi:"हिन्दी",hr:"Hrvatski",hu:"Magyar",hy:"Հայերեն",id:"Indonesia",is:"\xcdslenska",it:"Italiano",ka:"Ქართული",kk:"Қазақ Тілі",km:"ខ្មែរ",kn:"ಕನ್ನಡ",ko:"한국어",ky:"Кыргызча",lo:"ລາວ",lt:"Lietuvių",lv:"Latviešu",mk:"Македонски",ml:"മലയാളം",mn:"Монгол",mr:"मराठी",ms:"Melayu",ms_MY:"Melayu (Malaysia)",my:"မြန်မာ",nb:"Norsk bokm\xe5l",ne:"नेपाली",nl:"Nederlands",pa:"ਪੰਜਾਬੀ",pl:"Polski",pt_BR:"Portugu\xeas (Brasil)",pt_PT:"Portugu\xeas (Portugal)",rm:"Rumantsch",ro:"Rom\xe2nă",ru:"Русский",si:"සිංහල",sk:"Slovenčina",sl:"Slovenščina",sq:"Shqip",sr:"Српски",sv:"Svenska",sw:"Kiswahili",ta:"தமிழ்",te:"తెలుగు",th:"ไทย",tr:"T\xfcrk\xe7e",uk:"Українська",ur:"اردو",vi:"Tiếng Việt",zu:"isiZulu"};function u(e){for(let[t,n]of Object.entries(c))if(n===e)return t;return"en"}function h(e,t){let n=c[e]||l.find(t=>t===e);if(!n||!t.includes(n)){let a=new Set(e.split("-").map(e=>e.toLowerCase())),s=-1;for(let e of(n=t[0],t)){let t=new Set(e.split("_").map(e=>e.toLowerCase())),r=a.size+t.size-new Set([...a,...t]).size;r>s&&(s=r,n=e)}if(0===s)return"en_US"}return n}},97222:function(e,t,n){"use strict";n.d(t,{F7:()=>c,qo:()=>b,i3:()=>o,Xu:()=>u,qZ:()=>s,CA:()=>g,gu:()=>f}),n(95266),n(37560),n(40966);let a=(e,t)=>{var n,a,s,r;let o=e.viewBox.baseVal,i={x:null!=(n=t.x)?n:o.x,y:null!=(a=t.y)?a:o.y,width:null!=(s=t.width)?s:o.width,height:null!=(r=t.height)?r:o.height};e.setAttribute("viewBox","".concat(i.x," ").concat(i.y," ").concat(i.width," ").concat(i.height))},s=(e,t)=>{let{x:n,y:s,width:r,height:o}=e.viewBox.baseVal,i=Math.min(r,o),l="number"==typeof t?{top:t,right:t,bottom:t,left:t}:t,c=i*l.left,d=i*l.top;a(e,{width:r+c+i*l.right,height:o+d+i*l.bottom,x:n-c,y:s-d})},r=(e,t)=>{a(e,{width:t})},o=e=>{"gantt"===e.ariaRoleDescription?i(e):"journey"===e.ariaRoleDescription&&l(e)},i=e=>{let t=e.querySelector("rect.section");if(t){let n=t.getAttribute("width");n&&r(e,Number(n))}},l=e=>{try{e.removeAttribute("preserveAspectRatio");let t=Math.max(...Array.from(e.querySelectorAll("line")).map(e=>e.x2.baseVal.value)),n=Math.max(0,...Array.from(e.querySelectorAll("text")).map(e=>e.getBoundingClientRect().right));if(Math.max(0,...Array.from(e.querySelectorAll("line")).map(e=>e.getBoundingClientRect().right))>n)t>0&&r(e,Number(t+12));else{let t=e.getBoundingClientRect().right;n>t&&r(e,e.viewBox.baseVal.width*n/t+12)}}catch(e){console.error(e)}},c=e=>{e.setAttribute("height","100%"),e.style.maxWidth="100%"};n(93649);let d=e=>{let{width:t,height:n}=e.getBoundingClientRect();return 0===t&&0===n},u=(e,t)=>"treemap"===t?Array.from(e.querySelectorAll("text")).every(d):!function e(t){for(let n of t.children){switch(n.tagName.toUpperCase()){case"DEFS":case"MARKER":case"STYLE":continue}if(!d(n)||e(n))return!0}return!1}(e);n(45363),n(50353),n(21215);var h=n(12929);let p=function(e){let{width:t,height:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new DOMParser().parseFromString(e,"text/xml");return a.getElementsByName("svg").forEach(e=>{e.setAttribute("width","".concat(t,"px")),e.setAttribute("height","".concat(n,"px"))}),a.children[0].outerHTML},m=/transform:\s?(translate\(-?[\d.]+(px)?,\s?-?[\d.]+(px)?\))?\s*(scale\(-?[\d.]+?\))?;?/,g=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=(!(t=e).match(/^<svg[^>]+xmlns="http:\/\/www\.w3\.org\/2000\/svg"/)&&(t=t.replace(/^<svg/,'<svg xmlns="http://www.w3.org/2000/svg"')),!t.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xlink"/)&&(t=t.replace(/^<svg/,'<svg xmlns:xlink="http://www.w3.org/1999/xlink"')),!t.match(/^<svg[^>]+"http:\/\/www\.w3\.org\/1999\/xhtml"/)&&(t=t.replace(/^<svg/,'<svg xmlns:xhtml="http://www.w3.org/1999/xhtml"')),t).replaceAll("<br>","<br/>").replaceAll(/<img([^>]*)>/g,(e,t)=>"<img ".concat(t," />")).replace(/&nbsp;/g,"&#160;").replace(/&copy;/g,"&#169;").replace(/&reg;/g,"&#174;").replace(/&trade;/g,"&#8482;").replace(/&mdash;/g,"&#8212;").replace(/&ndash;/g,"&#8211;").replace(/&hellip;/g,"&#8230;").replace(/&bull;/g,"&#8226;").replace(/&euro;/g,"&#8364;").replace(/&pound;/g,"&#163;").replace(/&yen;/g,"&#165;").replace(/&cent;/g,"&#162;").replace(/\s*aria-roledescription="[^"]*"/g,"").replace(/\s*role="[^"]*"/g,"");return n&&(a=p(a,n)),a=a.replace(m,""),'<?xml version="1.0" encoding="UTF-8"?>\n'.concat(a)},f=async e=>{let{isDark:t,svgEl:n,isAppCodeBlock:a,getResolutionRatio:s}=e,r=document.createElement("canvas"),o=n.viewBox.baseVal.width,i=n.viewBox.baseVal.height,l=s({canvas:r,imageSize:n.viewBox.baseVal}),c=o*l,d=i*l;r.width=c,r.height=d,r.style.width="".concat(c,"px"),r.style.height="".concat(d,"px");let u=r.getContext("2d");if(!u)throw"CREATE_CANVAS_CONTEXT_FAILED";a?u.fillStyle="#00000000":u.fillStyle=t?"#000":"#FFF",u.fillRect(0,0,c,d);let p=new Image,m=new Promise((e,t)=>{p.addEventListener("load",()=>{u.drawImage(p,0,0,c,d),e(r)}),p.addEventListener("error",e=>{console.log(e),t("IMAGE_LOAD_ERROR")})}),f=g(n.outerHTML,{width:r.width,height:r.height});return p.src="data:image/svg+xml;base64,".concat((0,h.lF)(f)),await m};n(84253);let C=(e,t,n,a)=>{let s=1;for(let r=t+1;r<e.length;r++){let t=e[r];if(t===n&&n!==a?s++:t===a&&s--,0===s)return r}return -1},v=(e,t,n)=>{let a="",s=0,r=!1;for(;s<e.length;){let o=e[s];if('"'===o&&(r=!r),o!==t||r)a+=o;else{let r=C(e,s,t,n);if(-1!==r){let o=e.substring(s+1,r).trim();o.startsWith('"')&&o.endsWith('"')&&(o=o.slice(1,-1)),a+=t+'"'.concat(o.trim(),'"')+n,s=r}else a+=o}s++}return a},b=e=>{let t=e;for(let[e,n]of[["{","}"],["[","]"],["|","|"]])t=v(t,e,n);return t}},42587:function(e,t,n){"use strict";n.d(t,{Bx:()=>c,fg:()=>l,Y_:()=>u,_E:()=>p});var a=n(7623);n(42551);var s=n(33265),r=n(7779);let o=()=>({preparing:!1,pair:{challenge:null,answer:null,updatedAt:Date.now()}});n(40966),n(59587);let i=(e,t)=>async function(){for(var n=arguments.length,a=Array(n),s=0;s<n;s++)a[s]=arguments[s];try{return await e(...a)}catch(e){throw t(e,...a),e}},l=(e,t)=>["X-DS-Guest-PoW-Response",t(JSON.stringify({salt:e.salt,answer:e.answer}))],c=(e,t,n)=>["X-DS-PoW-Response",n(JSON.stringify({algorithm:e.algorithm,challenge:e.challenge,salt:e.salt,answer:e.answer,signature:e.signature,target_path:t}))];class d{get tracker(){return this.getTracker()}constructor(e){(0,a._)(this,"getTracker",void 0),(0,a._)(this,"doSolveChallenge",void 0),(0,a._)(this,"expireTimeOffset",void 0),(0,a._)(this,"getChallengeWrapped",void 0),(0,a._)(this,"useProofOfWorkStore",void 0),(0,a._)(this,"scene",void 0),(0,a._)(this,"clearAll",()=>{this.useProofOfWorkStore.getState().clearAll()}),(0,a._)(this,"verifySolveExpired",()=>{let{pair:e}=this.useProofOfWorkStore.getState();if(!e.answer||!e.challenge)return"empty";let{expireAfter:t}=e.challenge,{updatedAt:n}=e;return n+t-this.expireTimeOffset>Date.now()?"valid":"expired"}),(0,a._)(this,"calcImmediatelyNotStore",async()=>{this.tracker.info({name:"calcPowImmediatelyNotStore",message:"立即计算工作量证明: ".concat(this.scene),payload:{scene:this.scene}});try{let e=await this.getChallengeWrapped(),{challengeResponse:t,duration:n}=await this.doSolveChallenge(e,this.getTracker());return this.tracker.info({name:"calcPowImmediatelyNotStoreSuccess",message:"立即计算工作量证明成功: ".concat(this.scene),payload:{duration:n,scene:this.scene,difficulty:e.difficulty,answer:t.answer}}),{res:t,duration:n}}catch(e){return this.tracker.error({name:"proofOfWorkFailed",message:"准备工作量证明失败: ".concat(this.scene),payload:this.tracker.withError(e,{scene:this.scene,source:"calcImmediatelyNotStore"})}),null}}),(0,a._)(this,"retrieveAnswer",()=>{if(this.useProofOfWorkStore.getState().preparing)return this.calcImmediatelyNotStore();let e=this.verifySolveExpired();if("valid"!==e)return this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),this.calcImmediatelyNotStore();let{pair:{answer:t,challenge:n}}=this.useProofOfWorkStore.getState();return(this.useProofOfWorkStore.getState().clear(this.tracker,this.scene),Number.isInteger(null==t?void 0:t.res.answer))?(this.tracker.info({name:"retrievePowAnswer",message:"获取工作量证明: ".concat(this.scene),payload:{expireInfo:e,expireAt:(null==n?void 0:n.expireAt)||-1,scene:this.scene,answer:(null==t?void 0:t.res.answer)||-1,expireAfter:(null==n?void 0:n.expireAfter)||-1}}),t):(this.tracker.error({name:"retrievePowAnswerFailed",message:"获取工作量证明失败: ".concat(this.scene,",重新计算"),payload:this.tracker.withError(Error("invalid answer"),{scene:this.scene})}),this.calcImmediatelyNotStore())}),this.getTracker=e.getTracker,this.doSolveChallenge=e.doSolveChallenge,this.expireTimeOffset=e.expireTimeOffset,this.scene=e.scene||"completion_like",this.getChallengeWrapped=i(e.getChallengeApi,e=>{this.tracker.error({name:"getChallengeFailed",message:"获取工作量证明失败",payload:this.tracker.withError(e,{scene:this.scene})})}),this.useProofOfWorkStore=(0,s.vt)()((0,r.D)((e,t)=>({...o(),clear:(n,a)=>{let{pair:s}=t();(s.challenge||s.answer)&&(n.info({name:"powCleared",message:"工作量证明清除: ".concat(a),payload:{scene:a}}),e(o()))},clearAll:()=>{e(o())}})))}}class u{get tracker(){return this.getTracker()}async getChallengeAndSolve(e){let{url:t}=e;this.tracker.info({name:"getGuestPowChallengeAndSolve",message:"guest pow 获取",payload:{url:t}});let n=await this.getChallengeWrapped(e);try{let{challengeResponse:e,duration:a}=await this.solveChallenge(n);return this.tracker.info({name:"guestPowSolved",message:"guest pow 计算完成",payload:{url:t,duration:a,difficulty:n.difficulty,answer:e.answer}}),{challenge:n,challengeResponse:e,duration:a}}catch(e){throw this.tracker.error({name:"guestProofOfWorkFailed",message:"准备工作量证明失败",payload:this.tracker.withError(e,{url:t})}),e}}constructor(e){(0,a._)(this,"solveChallenge",void 0),(0,a._)(this,"getTracker",void 0),(0,a._)(this,"getChallengeWrapped",void 0),this.solveChallenge=e.solveChallenge,this.getTracker=e.getTracker,this.getChallengeWrapped=i(e.getChallengeApi,(e,t)=>{let{url:n}=t;this.tracker.error({name:"guestGetChallengeFailed",message:"guest pow 获取失败",payload:this.tracker.withError(e,{url:n})})})}}let h=["completion_like","upload_file"];class p{constructor(e){for(const t of((0,a._)(this,"services",new Map),(0,a._)(this,"getTracker",void 0),(0,a._)(this,"retrieveAnswer",async e=>{let t=this.services.get(e);if(!t)throw Error("Scene ".concat(e," not found"));return t.retrieveAnswer()}),(0,a._)(this,"clearAllPow",()=>{for(let e of(this.getTracker().info({name:"clearAllPow",message:"清理所有Pow",payload:{}}),this.services.values()))e.clearAll()}),this.getTracker=e.getTracker,h))this.services.set(t,new d({...e,scene:t,getChallengeApi:()=>e.getChallengeByScene(t)}))}}},87109:function(e,t,n){"use strict";n.d(t,{gx:()=>r,Bx:()=>a.Bx,Qc:()=>d});var a=n(42587);n(42551),n(40966),n(14281),n(18009),n(95577),n(43536),n(95743),n(63538),n(59587);var s=n(2542);let r=async(e,t)=>{t.info({name:"powSolveChallengeStart",message:"Start solving challenge",payload:{}});try{let a=performance.now(),s=(()=>{if(!window.Worker)throw Error("Worker is not supported");return new Worker(new URL(n.p+n.u("33614"),n.b),Object.assign({},{type:"module"},{type:void 0}))})(),r=await o(e,s);return t.info({name:"powSolveChallengeSuccess",message:"Solved challenge",payload:{duration:performance.now()-a,from:"normal"}}),r}catch(n){t.error({name:"powSolveChallengeFailed",message:"Failed to solve challenge",payload:t.withError(n,{from:"normal",info:JSON.stringify(e)})})}try{let a=performance.now(),s=(()=>{if(!window.Worker)throw Error("Worker is not supported");return new Worker(new URL(n.p+n.u("38401"),n.b),Object.assign({},{type:"module"},{type:void 0}))})(),r=await o(e,s);return t.info({name:"powSolveChallengeSuccess",message:"Solved challenge",payload:{from:"js",duration:performance.now()-a}}),r}catch(n){throw t.error({name:"powSolveChallengeFailed",message:"Failed to solve challenge",payload:t.withError(n,{from:"js",info:JSON.stringify(e)})}),n}},o=async(e,t)=>{t.postMessage({type:"pow-challenge",challenge:e});let n=performance.now(),a=await new Promise((e,n)=>{t.onmessage=a=>{if(l(a)){n(s.oi?Error("Worker error",{cause:a.data.error}):a.data.error),t.terminate();return}if(i(a)){e(a.data),t.terminate();return}},t.onerror=e=>{n(Error("Worker error: ".concat(e.message," ").concat(e.filename,":").concat(e.lineno,":").concat(e.colno))),t.terminate()}}),r=performance.now();return{challengeResponse:a.answer,duration:r-n}},i=e=>"pow-answer"===e.data.type,l=e=>"pow-error"===e.data.type;n(70968),n(76966),n(35399),n(36279),n(18062),n(16389),n(36073),n(27448),n(10681),n(32014),n(46596),n(39008),n(71),n(85540),("undefined"!=typeof TextEncoder?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}}).encodeInto;let c="undefined"!=typeof TextDecoder?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};"undefined"!=typeof TextDecoder&&c.decode(),new URL(n(36761),n.b);let d=e=>new a._E({...e,doSolveChallenge:r,expireTimeOffset:6e4})},9397:function(e,t,n){"use strict";var a,s,r,o;n.d(t,{pw:()=>d,Ns:()=>p,VQ:()=>a,Bj:()=>u,O6:()=>l,q_:()=>c,QV:()=>i,Tr:()=>s});let i="[unset]",l=Object.freeze({withToken:!0,tokenSource:"none",startTime:-1,duration:-1,path:"",logId:i,mayMissingApiCode:!1,unauthorizedReason:null,id:-1,isSse:!1,shouldWaitSse:!1}),c=e=>{let{platform:t,version:n,locale:a,timezoneOffsetSeconds:s}=e;return{"x-client-platform":t,"x-client-version":n,"x-client-locale":a,"x-client-timezone-offset":s}},d=(e,t)=>405===e&&(null==t?void 0:t["x-amzn-waf-action"])==="captcha"?"captcha":202===e&&(null==t?void 0:t["x-amzn-waf-action"])==="challenge"&&"challenge",u=(e,t)=>(403===e||429===e)&&(null==t?void 0:t["cf-mitigated"])==="challenge";(r=a||(a={}))[r.OK=0]="OK",r[r.MISSING_TOKEN=40002]="MISSING_TOKEN",r[r.INVALID_TOKEN=40003]="INVALID_TOKEN",r[r.IP_ACCESS_RESTRICTED=40029]="IP_ACCESS_RESTRICTED",r[r.USER_IS_BANNED=40012]="USER_IS_BANNED",r[r.MUTED=50006]="MUTED",r[r.POW_HEADER_ERROR=40300]="POW_HEADER_ERROR",r[r.INVALID_POW_RESPONSE=40301]="INVALID_POW_RESPONSE",(o=s||(s={}))[o.OK=0]="OK",n(40966);let h=["AT","BE","BG","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE"],p={cookieBannerRegions:["GB","US",...h],raw:{UnitedStatesOfAmerica:"US",UnitedKingdom:"GB",EuropeanUnionCodes:h}}},40081:function(e,t,n){"use strict";n.d(t,{l:()=>i,H:()=>o});var a=n(7623);n(59587),n(95266),n(45363),n(59605),n(14979),n(99046),n(40339),n(31188),n(89851),n(73191),n(40966);var s=n(11285),r=n(2542);class o{create(e,t,n){let a,o=null!=n?n:"0",i=!0,l=null;function c(t,n,s){(0!==s||t!==d())&&(i=!0,a={value:t,__version:o},localStorage.setItem(e,JSON.stringify(a)),n&&u.forEach(e=>{e(t)}))}let d=()=>{if(!r.Bd)return t;if(!i)return a.value;let n=localStorage.getItem(e);if(null===n)return c(t,!1,1),i=!1,t;try{let e=(a=JSON.parse(n)).__version;return e||(c(a,!1,1),e="0"),e!==o&&c(t,!1,1),i=!1,a.value}catch(a){return this.onGetError(a,{key:e,value:n}),c(t,!1,1),i=!1,t}},u=new Set;return{set:function(e){r.Bd&&(null==l||l(e),c(e,!0,0))},get:d,useState(){if(!r.Bd)return[t,()=>{}];let[e,n]=(0,s.useState)(d),a=(0,s.useCallback)(e=>{c(e,!0,0),n(e)},[]);return(0,s.useEffect)(()=>(u.add(n),()=>{u.delete(n)}),[]),[e,a]},subscribe(e,t){let{immediately:n}=t;r.Bd&&(l=e,n&&e(d()))}}}createMock(e,t){let n=new Set,a=null,o=e=>{null==a||a(e),n.forEach(t=>{t(e)})},i=()=>t;return{set:o,get:i,useState(){if(!r.Bd)return[t,()=>{}];let[e,a]=(0,s.useState)(i),l=(0,s.useCallback)(e=>{o(e),a(e)},[]);return(0,s.useEffect)(()=>(n.add(a),()=>{n.delete(a)}),[]),[e,l]},subscribe(e,t){let{immediately:n}=t;r.Bd&&(a=e,n&&e(i()))}}}constructor({onGetError:e}){(0,a._)(this,"onGetError",void 0),this.onGetError=e}}function i(e){let{key:t,storage:n="local",defaultValue:a,serializer:s={read:JSON.parse,write:JSON.stringify}}=e,r="local"===n?localStorage:sessionStorage;return{get(){try{let e=r.getItem(t);return e?s.read(e):a}catch{return a}},set(e){try{r.setItem(t,s.write(e))}catch(e){console.warn("Failed to set ".concat(t,":"),e)}},remove(){r.removeItem(t)},consume(){let e=this.get();return this.remove(),e},exists:()=>null!==r.getItem(t)}}},32592:function(e,t,n){"use strict";n.d(t,{P:()=>u,se:()=>f}),n(40966);var a=n(55846),s=n(62130),r=n(9397),o=n(2542),i=n(34913);n(67539),n(95266),n(45363);let l=0;function c(e){e.length>=1e3&&(e=e.slice(e.length-500,e.length),l+=e.length-500+1)}let d=e=>{let t=(0,i.P5)(e);return t&&"object"!=typeof t?{error_wrap:t}:t};function u(e){let{staticEnv:t,lylaAdapter:n,customEventsApi:i}=e,u=function(e){let{channel:t}=e,n=[],a=!1;switch(t){case"console":return{debug:console.debug,info:console.info,warn:console.warn,error:console.error,switchToConsoleChannel(e){}};case"queue":return{debug(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a?console.debug(...t):(n.push({level:"debug",args:t}),c(n))},info:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a?console.info(...t):(n.push({level:"info",args:t}),c(n))},warn:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a?console.warn(...t):(n.push({level:"warn",args:t}),c(n))},error:function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];a?console.error(...t):(n.push({level:"error",args:t}),c(n))},switchToConsoleChannel(e){a||(console.log("[@deepseek/tracker]: ".concat("debugPanel"===e?"Debug 面板打开":"未知原因","，切换到 console channel")),l>0&&console.log("[@deepseek/tracker]: 队列过长，丢弃了 "+l+" 条消息"),a=!0,n.forEach(e=>{let{level:t,args:n}=e;console[t](...n)}),n=[])}}}}({channel:o.Bd||o.Yb?t.channel:"console"}),h=(0,a.v)({onEvent(e){let t,{level:n,event:a,options:{consoleOnlyArgs:s=[]}={},stack:r}=e,{name:o,message:l,payload:c}=a;t="object"==typeof c&&null!==c?{...c}:{},"undefined"!=typeof window?(t.__windowWidth=window.innerWidth,t.__windowHeight=window.innerHeight):(t.__windowWidth=-996,t.__windowWidth=-996),"undefined"!=typeof document?t.__documentHidden="".concat(document.hidden):t.__documentHidden="[missing document]","debug"!==n&&(null==i||i({event:{level:n,eventMessage:l,eventName:o,payload:t}})),u[n]("%c[".concat(o,"]:%c ").concat(l).concat("error"===n?"\n\n":""),"info"===n?"color: blue;":"warn"===n?"color: orange;":"debug"===n?"color: grey;":"","",{payload:t},...s,"error"==n?"\n\n"+r:"")}}).mergePayloadObjectWith(i?{__appVersion:t.appVersion,__commitId:t.commitId,__runtimeSessionId:o.aq}:{__nodeEnv:t.nodeEnv,__deployEnv:t.deployEnv,__appVersion:t.appVersion,__commitId:t.commitId,__userAgent:t.userAgent,__referrer:t.referrer}),{isLylaError:p}=(0,s.h)(n,{context:r.O6}),m=(e,t)=>{if(u.error(e),p(e)){var n,a;return Object.assign({__error:{name:e.name,message:e.message,stack:e.stack,cause:e.cause,error:d(e.error)||null,logId:e.context.logId,httpStatus:"".concat(null!=(a=null==(n=e.response)?void 0:n.status)?a:-1)}},t)}{let n=d(e)||{};return n.name||(n.name=""),n.message||(n.message=""),n.stack||(n.stack=""),n.cause||(n.cause=""),Object.assign({__error:n},t)}};return h.withError=m,{tracker:h,logger:{debug(e,t){h.debug({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},info(e,t){h.info({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},warn(e,t){h.warn({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})},error(e,t){h.error({name:"__log",message:e,options:{consoleOnlyArgs:null==t?void 0:t.consoleOnlyArgs}})}},switchToConsoleChannel:u.switchToConsoleChannel,withError:m}}n(59587),n(19610),n(37560),n(14281),n(18009),n(95577),n(43536),n(95743),n(63538);let h="dsp__location",p="dsp__host",m=e=>"object"==typeof e&&null!==e,g=["__httpRequest","__httpResponse","__getIpFromHtmlOk","__log"],f=e=>{var t;let n,a;return(e=>{if("__globalError"!==e.eventName)return!1;let{payload:t}=e;if(!m(t))return!1;let n=(e=>{if("filename"in e&&"string"==typeof e.filename&&e.filename)return e.filename;if(!("__error"in e&&m(e.__error)))return null;let t=e.__error;return"stack"in t&&"string"==typeof t.stack?t.stack:null})(t);return!!n&&n.includes("extension://")})(e)||g.includes(e.eventName)&&"error"!==e.level?{skip:!0}:{payload:{event_level:e.level,event_message:e.eventMessage,...(t=e.payload,a=(e=>{if(!e)return"";try{return new URL(e).host}catch(e){return""}})(n=(()=>{try{if("undefined"!=typeof window&&window.location)return window.location.href}catch(e){}return""})()),"object"!=typeof t||null===t?{dsp__abnormal_payload:"string"==typeof t||"number"==typeof t?t:JSON.stringify(t),dsp__payload_type:typeof t,[h]:n,[p]:a}:Object.fromEntries([...Object.entries(t).map(e=>{let[t,n]=e;return[t.startsWith("_")?"dsp".concat(t):"ds_".concat(t),["string","number"].includes(typeof n)?n:JSON.stringify(n)]}),[h,n],[p,a]]))},skip:!1}}},61660:function(e,t,n){"use strict";n.d(t,{V:()=>a});let a="ds"},55338:function(e,t,n){"use strict";n.d(t,{n:()=>r});let a="undefined"!=typeof document&&"undefined"!=typeof window,s=a&&"chrome"in window,r=a&&navigator.userAgent.includes("Safari")&&!s},3205:function(e,t,n){"use strict";n.d(t,{Eb:()=>r,RF:()=>s,Zs:()=>o});var a=n(11285);function s(e,t,n){let s=(0,a.useRef)(e);return n&&(s.current=t),s}let r=e=>"string"==typeof e?e:"number"==typeof e?String(e):"<ReactNode />";function o(){let e=(0,a.useRef)(!1),t=(0,a.useRef)(!1);return(0,a.useLayoutEffect)(()=>(e.current=!0,()=>{t.current=!0}),[]),{isMountedRef:e,isUnmountedRef:t}}},32675:function(e,t,n){"use strict";function a(e,t){return n=>{e&&("function"==typeof e?e(n):e.current=n),t&&("function"==typeof t?t(n):t.current=n)}}n.d(t,{P:()=>a})},5296:function(e,t,n){"use strict";n.d(t,{Y:()=>r}),n(67539);var a=n(11285);let s=[];function r(e){let t=(0,a.useRef)(null),n=(0,a.useMemo)(()=>{if(t.current){let e=s.indexOf(t.current);e>-1&&s.splice(e,1)}if(!e)return 0;let n=1024;return s.length&&(n=s[s.length-1]+1),s.push(n),t.current=n,n},[e]);return(0,a.useEffect)(()=>()=>{if(t.current){let e=s.indexOf(t.current);e>-1&&s.splice(e,1)}},[]),n}},53573:function(e,t,n){"use strict";n.d(t,{A:()=>l}),n(95266),n(45363),n(40966);var a=n(57713),s=n(11285),r=n(86122),o=n(61660),i=n(55338);function l(e){let{className:t,theme:n,style:l,render:c,domRef:d,children:u,_type:h="link",...p}=e,m={...l,"--a-border-radius":null==n?void 0:n.borderRadius,"--a-text-color":null==n?void 0:n.textColor,"--a-box-shadow-color-focus":null==n?void 0:n.boxShadowColorFocus},g=(0,r.A)("".concat(o.V,"-a"),h&&"".concat(o.V,"-a--").concat(h),t),f=(0,s.useRef)(null),[C,v]=(0,s.useState)(!1),b=function(){let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{t(!0)},[]),e}(),_=(0,a.jsx)("span",{"aria-hidden":"true",tabIndex:i.n?C?-1:0:b?-1:0,style:{position:"fixed",userSelect:"none",msUserSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",opacity:0,width:0,height:0,display:"block"},onFocus:i.n?()=>{var e;null==(e=f.current)||e.focus()}:void 0}),S=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.useCallback)(e=>{t.forEach(t=>{"function"==typeof t?t(e):t&&(t.current=e)})},t)}(d,f),E=e=>{var t,n;i.n&&(e.preventDefault(),null==(n=f.current)||n.focus()),null==p||null==(t=p.onMouseDown)||t.call(p,e)},x=e=>{var t;v(!0),null==p||null==(t=p.onFocus)||t.call(p,e)},y=e=>{var t;v(!1),null==p||null==(t=p.onBlur)||t.call(p,e)};return c?(0,a.jsx)(a.Fragment,{children:c({...p,ref:S,onFocus:x,onBlur:y,onMouseDown:E,style:m,className:g,children:(0,a.jsxs)(a.Fragment,{children:[_,u]})})}):(0,a.jsxs)("a",{...p,onFocus:x,onBlur:y,onMouseDown:E,ref:S,style:m,className:g,children:[_,u]})}n(81119)},63708:function(e,t,n){"use strict";n.d(t,{$:()=>c}),n(40966);var a=n(57713),s=n(86122),r=n(11285),o=n(91753),i=n(73934),l=n(61660);function c(e){let{className:t,children:n,shape:c="rect",variant:d="filled",type:u="primary",icon:h,block:p,disabled:m,size:g="m",style:f,loading:C,loadingDelay:v=0,onClick:b,theme:_,domProps:S,domRef:E,component:x}=e,y=(0,o.SE)(C||m),w=(0,r.useCallback)(()=>{y.current||null==b||b()},[b,y]),[I,T]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(0!==v&&C){let e=window.setTimeout(()=>{T(!0)},v);return()=>{window.clearTimeout(e)}}},[C,v]);let A=0===v?C:I,j=E||(0,r.useRef)(null),k=null!=n,M=(0,r.useMemo)(()=>({...f,"--button-ring-color":null==_?void 0:_.ringColor,"--ds-button-color":null==_?void 0:_.color,"--button-text-color":null==_?void 0:_.textColor,"--button-font-size":null==_?void 0:_.fontSize,"--button-line-height":null==_?void 0:_.lineHeight,"--button-height":null==_?void 0:_.height,"--button-padding":null==_?void 0:_.padding,"--button-border-color":null==_?void 0:_.borderColor,"--button-border-radius":null==_?void 0:_.borderRadius,"--button-icon-margin":null==_?void 0:_.iconMargin,"--ds-button-hover-color":null==_?void 0:_.hoverColor,"--ds-button-hover-text-color":null==_?void 0:_.hoverTextColor,"--ds-secondary-button-color":null==_?void 0:_.secondaryButtonColor,"--ds-bordered-secondary-button-color":null==_?void 0:_.borderedSecondaryColor,"--ds-secondary-button-hover-color":null==_?void 0:_.secondaryButtonHoverColor,"--ds-button-bordered-hover-color":null==_?void 0:_.borderedHoverColor,"--ds-text-primary-button-color":null==_?void 0:_.textPrimaryColor}),[f,_]);return(0,a.jsxs)(x||"div",{...S,ref:j,role:"button",className:(0,s.A)("".concat(l.V,"-button"),"".concat(l.V,"-button--").concat(u),"".concat(l.V,"-button--").concat(d),"".concat(l.V,"-button--").concat(c),p&&"".concat(l.V,"-button--block"),"".concat(l.V,"-button--").concat(g),m&&"".concat(l.V,"-button--disabled"),t),style:M,onClick:w,onKeyDown:e=>{if("Enter"===e.key){var t;null==(t=j.current)||t.click()}},tabIndex:m?void 0:0,children:[h||A?(0,a.jsx)("div",{className:(0,s.A)("".concat(l.V,"-button__icon"),!k&&"".concat(l.V,"-button__icon--last-child")),children:A?(0,a.jsx)(i.R,{}):h}):null,n]})}n(7165)},74910:function(e,t,n){"use strict";n.d(t,{J:()=>o});var a=n(57713),s=n(31302);let r=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.1167 13.197L13.1969 14.1168L1.88324 2.80309L2.80303 1.8833L14.1167 13.197Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.1969 1.88331L14.1167 2.8031L2.80303 14.1168L1.88324 13.197L13.1969 1.88331Z",fill:"currentColor"})]});function o(e){return(0,a.jsx)(s.K,{sizing:"icon",...e,children:(0,a.jsx)(r,{})})}},27198:function(e,t,n){"use strict";n.d(t,{e:()=>c}),n(95266),n(37560);var a=n(11285),s=n(57713),r=n(61660),o=n(53573);n(67539),n(40966);let i=/[a-zA-Z\d.\-_]+@[a-zA-Z\d.\-_]+.com/g,l=/(\*\*(.+)\*\*)|(\[([^\]]+)\]\(([^)]+)\))/g;function c(e){let{children:t,splitParagraph:n=!1,splitLine:o=!1,showEmailLink:i=!1,showMarkdownBold:l=!1,showMarkdownLink:c=!1,style:u,aProps:h}=e;return t?n||o?(0,s.jsx)(s.Fragment,{children:t.split("\n").map(n?(e,t)=>(0,s.jsx)("p",{className:"".concat(r.V,"-enhanced-text__p"),style:u,children:(0,s.jsx)(d,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:c,aProps:h,children:e})},t):(e,n)=>(0,s.jsxs)(a.Fragment,{children:[(0,s.jsx)(d,{style:void 0,showEmailLink:i,showMarkdownBold:l,showMarkdownLink:c,aProps:h,children:e},"".concat(n,"_1")),n===t.length-1?null:(0,s.jsx)("br",{},"".concat(n,"_2"))]},n))}):(0,s.jsx)(d,{showEmailLink:i,showMarkdownBold:l,showMarkdownLink:c,style:u,aProps:h,children:t}):null}function d(e){let{children:t,showEmailLink:n,showMarkdownBold:c,showMarkdownLink:d,style:u,aProps:h}=e;return n||c||d?(function(e,t){let{showEmailLink:n,showMarkdownBold:a,showMarkdownLink:s}=t,r=[];if(n){let t=0;for(;;){let n=i.exec(e);if(n){let a=e.slice(t,n.index);a&&r.push({type:"text",content:a}),r.push({type:"email",content:n[0]}),t=n.index+n[0].length}else{let n=e.slice(t,e.length);n&&r.push({type:"text",content:n});break}}i.lastIndex=0}else r.push({type:"text",content:e});let o=[];for(let e of r)if("email"===e.type)o.push(e);else for(let t of function(e,t){let{showMarkdownBold:n,showMarkdownLink:a}=t,s=[],r=0;for(;;){let t=l.exec(e);if(t){let o=e.slice(r,t.index);o&&s.push({type:"text",content:o}),t[2]?n?s.push({type:"bold",content:t[2]}):s.push({type:"text",content:t[0]}):t[4]&&(a?s.push({type:"link",content:t[4],href:t[5]}):s.push({type:"text",content:t[0]})),r=t.index+t[0].length}else{let t=e.slice(r,e.length);t&&s.push({type:"text",content:t});break}}return l.lastIndex=0,s}(e.content,{showMarkdownBold:a,showMarkdownLink:s}))o.push(t);return o})(t,{showEmailLink:n,showMarkdownBold:c,showMarkdownLink:d}).map((e,t)=>{switch(e.type){case"email":return(0,a.createElement)(o.A,{...h,href:"mailto:".concat(e.content),key:t},e.content);case"link":return(0,a.createElement)(o.A,{...h,href:e.href,key:t,target:"_blank"},e.content);case"bold":return(0,s.jsx)("span",{className:"".concat(r.V,"-enhanced-text__bold"),style:u,children:e.content},t);case"text":return(0,s.jsx)("span",{style:u,children:e.content},t)}}):t}n(80463)},80433:function(e,t,n){"use strict";n.d(t,{C:()=>c});var a=n(57713),s=n(11285),r=n(40635),o=n(61660);n(41119);var i=n(91753),l=n(3205);function c(e){let{children:t,in:n,appear:c,onExit:d,onExited:u,componentRef:h,animated:p}=e,m=(0,s.useRef)(null);(0,s.useImperativeHandle)(h,()=>({nodeRef:m}),[]);let g=(0,i.SE)(d),f=(0,i.SE)(u),C=(0,i.SE)(p),{isUnmountedRef:v}=(0,l.Zs)();return((0,s.useLayoutEffect)(()=>()=>{if(!C.current&&!v.current&&n){var e,t;null==(e=g.current)||e.call(g),null==(t=f.current)||t.call(f)}},[n,g,f,v,C]),p)?(0,a.jsx)(r.A,{nodeRef:m,appear:c,in:n,timeout:100,classNames:{appear:"".concat(o.V,"-fade-in-zoom-in-enter"),appearActive:"".concat(o.V,"-fade-in-zoom-in-active"),enter:"".concat(o.V,"-fade-in-zoom-in-enter"),enterActive:"".concat(o.V,"-fade-in-zoom-in-active"),exit:"".concat(o.V,"-fade-in-zoom-in-exit"),exitActive:"".concat(o.V,"-fade-in-zoom-in-exit-active")},onExit:d,onExited:u,unmountOnExit:!0,children:t(m)}):n?t(m):null}},37194:function(e,t,n){"use strict";n.d(t,{c:()=>l});var a=n(57713),s=n(11285),r=n(40635),o=n(61660);n(84255);var i=n(86122);function l(e){let{children:t,in:n,appear:l,transformOrigin:c,className:d,onEntered:u,onExited:h}=e,p=(0,s.useRef)(null),m=(0,s.useRef)("");return(0,a.jsx)(r.A,{nodeRef:p,appear:l,in:n,timeout:100,classNames:{appear:"".concat(o.V,"-fade-in-zoom-in-expand-enter"),appearActive:"".concat(o.V,"-fade-in-zoom-in-expand-enter-active"),enter:"".concat(o.V,"-fade-in-zoom-in-expand-enter"),enterActive:"".concat(o.V,"-fade-in-zoom-in-expand-enter-active"),exit:"".concat(o.V,"-fade-in-zoom-in-expand-exit"),exitActive:"".concat(o.V,"-fade-in-zoom-in-expand-exit-active")},unmountOnExit:!0,onEnter:()=>{let e=p.current;e&&(e.style.transition="unset",e.style.maxHeight="unset",m.current="".concat(e.offsetHeight,"px"),e.style.maxHeight="0")},onEntering:()=>{let e=p.current;e&&(e.style.transition="",e.style.maxHeight=m.current)},onEntered:()=>{null==u||u();let e=p.current;e&&(e.style.maxHeight="")},onExit:()=>{let e=p.current;e&&(e.style.maxHeight="".concat(e.offsetHeight,"px"))},onExiting:()=>{let e=p.current;e&&(e.style.maxHeight="0")},onExited:h,children:(0,a.jsx)("div",{ref:p,className:(0,i.A)("".concat(o.V,"-fade-in-zoom-in-expand-").concat(c),d),children:t})})}},39120:function(e,t,n){"use strict";n.d(t,{D:()=>v}),n(40966),n(67539),n(95266),n(45363);var a=n(57713),s=n(86122),r=n(74770),o=n(11285),i=n(91753),l=n(85788),c=n(2858),d=n(65124),u=n(80433),h=n(61660),p=n(32956),m=n(5296),g=n(3205);let f={bottom:"top","bottom-start":"top left","bottom-end":"top right",left:"right","left-start":"right top","left-end":"right bottom",right:"left","right-start":"left top","right-end":"left bottom",top:"bottom","top-start":"bottom left","top-end":"bottom right"};n(4397);let C=(0,o.createContext)(null);function v(e){let{trigger:t="none",leaveDelay:n=300,enterDelay:v=300,disabled:_=!1,placement:S="top",floatingAnimated:E=!0,isOpen:x,showArrow:y,wrapperStyle:w,wrapperDisplayPolicy:I="keepAfterFirstOpen",widthPolicy:T,checkEllipsis:A,hoverable:j=!0,onIsOpenChange:k,renderTrigger:M,renderFloating:R,onClickoutside:N,componentRef:O,floatingWrapperClassName:L,offsetOptions:F,flipOptions:P}=e,D=(0,o.useRef)(null),B=(0,o.useRef)(null),V=(0,o.useRef)(null),H=(0,o.useRef)(null),U=(0,o.useRef)(null),W=(0,i.SE)(F),z=(0,i.SE)(P),[G,K]=(0,o.useState)(!1),q=(0,i.DK)(e=>{"function"==typeof e?K(t=>{let n=e(t);return null==k||k(n),n}):(null==k||k(e),K(e))}),Z=!_&&(void 0===x?G:x),Q=(0,o.useRef)(0),Y=(0,o.useRef)(0),X=(0,i.SE)(n),J=(0,i.SE)(v),$=(0,o.useRef)(),ee=(0,o.useCallback)(e=>{var t,n;return(null==(t=e_.current)?void 0:t.nodeRef.current)&&B.current&&$.current&&function(e,t,n,a){let s=[];switch(a){case"bottom":case"bottom-end":case"bottom-start":s.push({y:t.bottom-1,x:t.left},{y:t.bottom-1,x:t.right},{y:n.top+1,x:n.left},{y:n.top+1,x:n.right});break;case"top":case"top-end":case"top-start":s.push({y:t.top+1,x:t.left},{y:t.top+1,x:t.right},{y:n.bottom-1,x:n.left},{y:n.bottom-1,x:n.right});break;case"left":case"left-end":case"left-start":s.push({y:t.top,x:t.left+1},{y:t.bottom,x:t.left+1},{y:n.top,x:n.right-1},{y:n.bottom,x:n.right-1});break;case"right":case"right-end":case"right-start":s.push({y:t.top,x:t.right-1},{y:t.bottom,x:t.right-1},{y:n.top,x:n.left+1},{y:n.bottom,x:n.left+1})}return function(e,t){let n,a,[s,r,o,i]=(n=(e[0].x+e[1].x+e[2].x+e[3].x)/4,a=(e[0].y+e[1].y+e[2].y+e[3].y)/4,e.sort((e,t)=>Math.atan2(e.y-a,e.x-n)-Math.atan2(t.y-a,t.x-n)));function l(e,t,n){var a,s,r;return a=t.x-e.x,s=t.y-e.y,r=n.x-e.x,a*(n.y-e.y)-s*r}let c=l(s,r,t),d=l(r,o,t),u=l(o,i,t),h=l(i,s,t);return!((c>0||d>0||u>0||h>0)&&(c<0||d<0||u<0||h<0))}(s,e)}({x:e.clientX,y:e.clientY},B.current.getBoundingClientRect(),null==(n=e_.current)?void 0:n.nodeRef.current.getBoundingClientRect(),$.current)},[]);(0,o.useImperativeHandle)(O,()=>({setIsOpen:e=>{window.clearTimeout(Q.current),window.clearTimeout(Y.current),q(e)},getIsOpen:()=>Z}));let et=(0,i.DK)(e=>{!1===e?(window.clearTimeout(Y.current),Y.current=0,Q.current||(Q.current=window.setTimeout(()=>{q(!1),Q.current=0},X.current))):(window.clearTimeout(Q.current),Q.current=0,Y.current||(Y.current=window.setTimeout(()=>{if(A){let e=D.current;e&&function(e){let{width:t,height:n}=e.getBoundingClientRect();return e.scrollHeight>Math.max(n,e.offsetHeight)||e.scrollWidth>Math.max(t,e.offsetWidth)}(e)&&q(!0)}else q(!0);Y.current=0},J.current)))});(0,o.useEffect)(()=>{q(!1)},[_]);let en=(0,i.DK)(()=>{"hover"!==t||_||et(!0)}),ea=(0,i.DK)(()=>{Z&&("hover"!==t||_||et(!0))}),es=(0,o.useCallback)(e=>{if("hover"===t&&!_){if(e.target instanceof Node){var n,a,s;if((null==(n=B.current)?void 0:n.contains(e.target))||j&&((null==(s=e_.current)||null==(a=s.nodeRef.current)?void 0:a.contains(e.target))||ee(e)))return}et(!1)}},[t,_,et,ee,j]),er=(0,o.useCallback)(e=>{if(!_){if(e.target instanceof Node){var n,a,s;if((null==(a=e_.current)||null==(n=a.nodeRef.current)?void 0:n.contains(e.target))||(null==(s=B.current)?void 0:s.contains(e.target)))return}null==N||N(),"click"!==t||_||q(!1)}},[_,N,t,q]),eo=(0,o.useCallback)(()=>{"hover"!==t||_||q(!0)},[t,_,q]),ei=(0,o.useRef)(!1),el=(0,o.useCallback)(()=>{!ei.current&&("hover"!==t||_||q(!1))},[t,_,q]),ec=(0,o.useCallback)(e=>{"hover"===t&&(j&&ee(e)||et(!1))},[et,t,ee,j]),ed=(0,o.useCallback)(()=>{ei.current=!0,setTimeout(()=>{ei.current=!1},0)},[]),eu=(0,o.useCallback)(()=>{"click"!==t||_||K(e=>!e)},[t,_]),eh=(0,o.useContext)(C),ep=(0,p.d)();(0,o.useLayoutEffect)(()=>{if(Z&&B.current){let e=[];if("hover"===t){let t=B.current;(0,l.on)("mousemoveoutside",t,es),e.push(()=>(0,l.A)("mousemoveoutside",t,es))}let n=B.current;return(0,l.on)("clickoutside",n,er),e.push(()=>(0,l.A)("clickoutside",n,er)),()=>e.forEach(e=>e())}},[Z,es,er,B,t]),(0,o.useLayoutEffect)(()=>{let e=U.current||B.current;if(Z&&e&&H.current)return(0,c.ll)(e,H.current,()=>{if(e&&H.current){var t;(0,c.rD)(e,H.current,{placement:S,middleware:[(0,d.cY)(null!=(t=W.current)?t:8+4*!!y),(0,c.BN)({padding:8}),(0,c.UU)(z.current),y&&V.current?(0,c.UE)({element:V.current}):void 0]}).then(e=>{let{x:t,y:n,placement:a,middlewareData:s}=e;if($.current=a,H.current&&(H.current.setAttribute("data-transform-origin",f[a]),Object.assign(H.current.style,{left:"".concat(t,"px"),top:"".concat(n,"px")})),V.current&&s.arrow){let{x:e,y:t}=s.arrow;V.current.setAttribute("ds-floating-placement",a),Object.assign(V.current.style,{left:"number"==typeof e?"".concat(e,"px"):void 0,top:"number"==typeof t?"".concat(t,"px"):void 0})}})}})},[z,Z,W,S,y]);let{value:em,trigger:eg}=(0,i._u)({value:Z,defaultValue:Z,shouldDelay:()=>!Z}),ef=(0,m.Y)(em),eC=(0,g.RF)(Z,!0,Z),ev=(0,o.useMemo)(()=>null==M?void 0:M({isOpen:Z,domProps:{onMouseEnter:en,onMouseLeave:ec,onFocus:eo,onBlur:el,onClick:eu},ellipsisDomRef:D,domRef:B,positionDomRef:U}),[Z,el,eo,en,ec,M,eu]),eb=eC.current,e_=(0,o.useRef)(null),eS=(0,g.Zs)().isMountedRef.current,eE=(0,o.useMemo)(()=>{if("undefined"==typeof document)return null;let e=null==eh?void 0:eh.current,t=document.body,n=e instanceof HTMLElement?e:t instanceof HTMLElement?t:null;return null===n?null:(0,r.createPortal)(eb&&!_&&"alwaysKeep"===I||"keepAfterFirstOpen"===I&&eb||"keepIfIsOpen"===I&&Z?(0,a.jsx)("div",{className:"".concat(h.V,"-floating-container"),style:{zIndex:ef},children:(0,a.jsx)("div",{className:(0,s.A)("".concat(h.V,"-floating-position-wrapper"),"".concat(h.V,"-theme"),L),ref:H,style:{...ep,zIndex:ef,width:"consistent"===T?b(B.current):void 0,minWidth:"minConsistent"===T?b(B.current):void 0,...w},children:(0,a.jsx)(u.C,{appear:eS,in:Z,componentRef:e_,onExited:eg,animated:E,children:e=>R({arrowNodeRef:V,nodeRef:e,onMouseEnter:ea,onMouseLeave:ec,onMouseDown:ed})})})}):null,n)},[eb,_,I,Z,L,ep,ef,T,w,E,eg,eh,R,ea,ec,ed,eS]);return(0,a.jsxs)(a.Fragment,{children:[ev,eE]})}let b=e=>{if(e)return getComputedStyle(e).width}},17938:function(e,t,n){"use strict";n.d(t,{v:()=>i});var a=n(57713),s=n(86122),r=n(61660);n(80479);var o=n(11285);function i(e){let{className:t,style:n,offset:i,borderRadius:l}=e,c=(0,o.useMemo)(()=>({...n,borderRadius:l,"--ds-focus-ring-offset":"number"==typeof i?"".concat(-i,"px"):i}),[n,i,l]);return(0,a.jsx)("div",{className:(0,s.A)("".concat(r.V,"-focus-ring"),t),style:c})}},11082:function(e,t,n){"use strict";n.d(t,{I:()=>o});var a=n(57713),s=n(86122),r=n(61660);function o(e){var t;let{children:n,size:o,height:i=o,width:l=o,style:c,domProps:d,domRef:u,className:h}=e;return(0,a.jsx)("div",{...d,className:(0,s.A)("".concat(r.V,"-icon"),null==d?void 0:d.className,h),style:{fontSize:o,width:l,height:i,...null!=(t=null==d?void 0:d.style)?t:{},...c},ref:u,children:n})}n(97823)},31302:function(e,t,n){"use strict";n.d(t,{K:()=>l});var a=n(57713),s=n(86122),r=n(11285),o=n(11082);n(33359);var i=n(17938);function l(e){let{children:t,onClick:n,onFocus:l,onBlur:c,onKeyDown:d,className:u,style:h,disabled:p=!1,size:m="m",sizing:g="container",iconSize:f,domProps:C,domRef:v,hoverBgRef:b,focusable:_=!0,focusRingProps:S,theme:E}=e,x=(0,r.useMemo)(()=>({...h,"--ds-icon-button-focus-color":null==E?void 0:E.boxShadowColorFocus,"--ds-icon-button-hover-color":null==E?void 0:E.hoverColor,"--ds-icon-button-text-color":null==E?void 0:E.textColor}),[h,E]);return(0,a.jsxs)("div",{...C,ref:v,className:(0,s.A)(u,"ds-icon-button","ds-icon-button--".concat(m),"ds-icon-button--sizing-".concat(g),p&&"ds-icon-button--disabled"),style:x,onClick:e=>{var t;if(p){e.preventDefault(),e.stopPropagation();return}null==C||null==(t=C.onClick)||t.call(C,e),null==n||n({source:"click",evt:e})},onFocus:e=>{var t;null==l||l(e),null==C||null==(t=C.onFocus)||t.call(C,e)},onBlur:e=>{var t;null==c||c(e),null==C||null==(t=C.onBlur)||t.call(C,e)},onKeyDown:e=>{var t;if(p){e.preventDefault(),e.stopPropagation();return}if(null==C||null==(t=C.onKeyDown)||t.call(C,e),null==d||d(e),n&&"Enter"===e.key){if(e.isDefaultPrevented())return;e.preventDefault(),n({source:"keyboard",evt:e})}},tabIndex:!_||p?void 0:0,role:"button","aria-disabled":p,children:[(0,a.jsx)("div",{ref:b,className:"ds-icon-button__hover-bg"}),(0,a.jsx)(o.I,{size:f,children:t}),(0,a.jsx)(i.v,{...S})]})}},31788:function(e,t,n){"use strict";n.d(t,{$h:()=>$,A8:()=>u,Bk:()=>w,CO:()=>X,Ct:()=>Y,Cw:()=>P,DZ:()=>G,Dy:()=>z,Ec:()=>ea,FG:()=>ee,FQ:()=>_,FY:()=>B,Fs:()=>j,H4:()=>N,K8:()=>l,NC:()=>er,NE:()=>x,NH:()=>en,P:()=>O,PT:()=>S,Px:()=>v,Q0:()=>m,RI:()=>k,RM:()=>q,RX:()=>ei,Rx:()=>D,TE:()=>ed,Tz:()=>eh,U0:()=>T,U5:()=>A,VO:()=>f,Vd:()=>ec,Wh:()=>J,Xh:()=>s,Yp:()=>H,_Z:()=>I,aR:()=>y,cV:()=>es,cf:()=>p,ch:()=>F,di:()=>el,du:()=>L,eG:()=>R,eT:()=>V,ee:()=>U,f9:()=>d,fZ:()=>h,fg:()=>Q,ft:()=>M,gD:()=>eu,iK:()=>b,jL:()=>W,lN:()=>o,m6:()=>Z,rB:()=>i,sB:()=>E,sS:()=>g,tq:()=>C,uN:()=>eo,uj:()=>c,xM:()=>et,y7:()=>ep,ze:()=>r,zk:()=>K});var a=n(57713);let s=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M14.6793 11.6331C14.3149 12.4423 14.1394 12.8041 13.6707 13.5183C13.0146 14.5163 12.0891 15.7626 10.9459 15.7705C9.92801 15.7797 9.66529 15.1065 8.28307 15.1183C6.90217 15.1249 6.61437 15.7837 5.59519 15.7731C4.4506 15.7626 3.57533 14.6404 2.9192 13.6437C1.08416 10.8489 0.890091 7.57221 2.02412 5.82958C2.82679 4.5939 4.09548 3.8678 5.28759 3.8678C6.50215 3.8678 7.26522 4.53449 8.26855 4.53449C9.24284 4.53449 9.8356 3.86648 11.2403 3.86648C12.3017 3.86648 13.4238 4.44472 14.2265 5.44277C11.602 6.88176 12.0284 10.6297 14.6793 11.6331ZM10.1736 2.75094C10.6845 2.09481 11.0726 1.16937 10.9313 0.226761C10.0983 0.283528 9.12402 0.815559 8.55503 1.50469C8.03884 2.13309 7.6111 3.06514 7.77744 3.96682C8.68704 3.99586 9.62833 3.45327 10.1736 2.75094Z",fill:"currentColor"})}),r=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.2426 4.80473V6.10551H4.75819V4.80473H11.2426Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.40858 7.84479V9.14557H4.75819V7.84479H9.40858Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.23438 0.546391C10.1941 0.546391 10.9683 0.544916 11.5859 0.611821C12.2161 0.680097 12.7634 0.825747 13.2393 1.17139C13.5172 1.3733 13.7619 1.61812 13.9639 1.896C14.3096 2.37183 14.4551 2.91922 14.5234 3.54932C14.5903 4.16686 14.5889 4.94133 14.5889 5.90088V10.0981C14.5889 11.0576 14.5903 11.8321 14.5234 12.4497C14.4552 13.0798 14.3094 13.6272 13.9639 14.103C13.7619 14.381 13.5172 14.6257 13.2393 14.8276C12.7633 15.1734 12.2163 15.3189 11.5859 15.3872C10.9683 15.4541 10.1942 15.4536 9.23438 15.4536H6.76563C5.80591 15.4536 5.03168 15.4541 4.41407 15.3872C3.78385 15.3189 3.23665 15.1734 2.76074 14.8276C2.48291 14.6257 2.23802 14.3809 2.03614 14.103C1.69066 13.6272 1.54483 13.0798 1.47657 12.4497C1.40973 11.8322 1.41114 11.0576 1.41114 10.0981V5.90088C1.41113 4.94133 1.40966 4.16686 1.47657 3.54932C1.54488 2.91921 1.69042 2.37184 2.03614 1.896C2.2381 1.61807 2.4828 1.37333 2.76074 1.17139C3.23665 0.825684 3.78386 0.680111 4.41407 0.611821C5.03168 0.544907 5.80591 0.546391 6.76563 0.546391H9.23438ZM6.76563 1.896C5.77586 1.896 5.0876 1.89739 4.55957 1.95459C4.0443 2.01043 3.76214 2.11349 3.55469 2.26416C3.39135 2.38284 3.24761 2.52662 3.12891 2.68995C2.97821 2.89736 2.8752 3.17967 2.81934 3.69483C2.76214 4.2228 2.76075 4.91131 2.76074 5.90088V10.0981C2.76074 11.0876 2.76221 11.7762 2.81934 12.3042C2.87516 12.8194 2.97829 13.1026 3.12891 13.3101C3.24754 13.4733 3.39147 13.6172 3.55469 13.7358C3.76213 13.8865 4.04438 13.9896 4.55957 14.0454C5.0876 14.1026 5.77586 14.103 6.76563 14.103H9.23438C10.2242 14.103 10.9124 14.1026 11.4404 14.0454C11.9556 13.9896 12.2379 13.8865 12.4453 13.7358C12.6086 13.6172 12.7525 13.4733 12.8711 13.3101C13.0217 13.1026 13.1248 12.8195 13.1807 12.3042C13.2378 11.7762 13.2393 11.0876 13.2393 10.0981V5.90088C13.2393 4.91131 13.2379 4.2228 13.1807 3.69483C13.1248 3.17969 13.0218 2.89736 12.8711 2.68995C12.7524 2.52667 12.6086 2.38281 12.4453 2.26416C12.2379 2.11355 11.9556 2.01041 11.4404 1.95459C10.9124 1.8974 10.2241 1.896 9.23438 1.896H6.76563Z",fill:"currentColor"})]}),o=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1.3252 3.75391C1.3252 1.99831 2.74831 0.575195 4.50391 0.575195V1.9248C3.4939 1.9248 2.6748 2.7439 2.6748 3.75391V4.58789H1.3252V3.75391Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M1.3252 12.2461C1.3252 14.0017 2.74831 15.4248 4.50391 15.4248V14.0752C3.4939 14.0752 2.6748 13.2561 2.6748 12.2461V11.4121H1.3252V12.2461Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.6748 3.75391C14.6748 1.99831 13.2517 0.575195 11.4961 0.575195V1.9248C12.5061 1.9248 13.3252 2.7439 13.3252 3.75391V4.58789H14.6748V3.75391Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.6748 12.2461C14.6748 14.0017 13.2517 15.4248 11.4961 15.4248V14.0752C12.5061 14.0752 13.3252 13.2561 13.3252 12.2461V11.4121H14.6748V12.2461Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.78125 0.575195V1.9248H6.21875V0.575195H9.78125Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.78125 14.0752V15.4248H6.21875V14.0752H9.78125Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.3252 6.45602H14.6748V9.4111H13.3252V6.45602Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M1.3252 6.45602H2.6748L2.6748 9.4111H1.3252L1.3252 6.45602Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.2421 5.05475V6.35553H4.75769V5.05475H11.2421Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.40808 8.09479V9.39557H4.75769V8.09479H9.40808Z",fill:"currentColor"})]}),i=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.0498 3.92578L8.49512 12.3818C8.25774 12.6881 8.04517 12.9645 7.84668 13.1689C7.63957 13.3823 7.38732 13.5841 7.04492 13.6719C6.86373 13.7183 6.6757 13.7346 6.48926 13.7197C6.13666 13.6915 5.8528 13.5355 5.6123 13.3604C5.38201 13.1926 5.12573 12.9567 4.83984 12.6953L1.03125 9.21289L1.96875 8.1875L5.77734 11.6699C6.08684 11.9529 6.27773 12.1249 6.43066 12.2363C6.50183 12.2882 6.54699 12.3135 6.57324 12.3252C6.58525 12.3305 6.59269 12.3322 6.5957 12.333C6.59802 12.3336 6.59961 12.334 6.59961 12.334C6.63317 12.3367 6.66758 12.3335 6.7002 12.3252C6.7002 12.3252 6.70211 12.3251 6.7041 12.3242C6.70698 12.3229 6.71348 12.319 6.72461 12.3115C6.74849 12.2956 6.78843 12.2642 6.84961 12.2012C6.98138 12.0654 7.13957 11.8628 7.39648 11.5312L13.9502 3.07422L15.0498 3.92578Z",fill:"currentColor"})}),l=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M11.5625 4.59024L7.61328 9.07755C7.35056 9.37601 7.11248 9.64852 6.89355 9.84708C6.66495 10.0544 6.38421 10.251 6.01367 10.3168C5.81982 10.3512 5.62109 10.3533 5.42676 10.3217C5.05512 10.2612 4.77168 10.0678 4.54004 9.86368C4.31828 9.66831 4.07654 9.3995 3.80957 9.10489L2.44434 7.59903L3.55566 6.59122L4.9209 8.09805C5.21158 8.41883 5.3878 8.6123 5.53125 8.73868C5.60924 8.80738 5.65156 8.83232 5.66797 8.84024C5.6955 8.84468 5.72351 8.84507 5.75098 8.84024C5.72559 8.8449 5.75466 8.85461 5.88574 8.73575C6.02735 8.60732 6.20128 8.41128 6.4873 8.08633L10.4375 3.60001L11.5625 4.59024Z",fill:"currentColor"})}),c=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M11.8486 5.5L11.4238 5.92383L8.69727 8.65137C8.44157 8.90706 8.21562 9.13382 8.01172 9.29785C7.79912 9.46883 7.55595 9.61756 7.25 9.66602C7.08435 9.69222 6.91565 9.69222 6.75 9.66602C6.44405 9.61756 6.20088 9.46883 5.98828 9.29785C5.78438 9.13382 5.55843 8.90706 5.30273 8.65137L2.57617 5.92383L2.15137 5.5L3 4.65137L3.42383 5.07617L6.15137 7.80273C6.42595 8.07732 6.59876 8.24849 6.74023 8.3623C6.87291 8.46904 6.92272 8.47813 6.9375 8.48047C6.97895 8.48703 7.02105 8.48703 7.0625 8.48047C7.07728 8.47813 7.12709 8.46904 7.25977 8.3623C7.40124 8.24849 7.57405 8.07732 7.84863 7.80273L10.5762 5.07617L11 4.65137L11.8486 5.5Z",fill:"currentColor"})}),d=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.5 2.15137L8.07617 2.57617L5.34863 5.30273C5.09294 5.55843 4.86618 5.78438 4.70215 5.98828C4.53117 6.20088 4.38244 6.44405 4.33398 6.75C4.30778 6.91565 4.30778 7.08435 4.33398 7.25C4.38244 7.55595 4.53117 7.79912 4.70215 8.01172C4.86618 8.21561 5.09294 8.44157 5.34863 8.69727L8.07617 11.4238L8.5 11.8486L9.34863 11L8.92383 10.5762L6.19727 7.84863C5.92268 7.57405 5.75151 7.40124 5.6377 7.25977C5.53096 7.12709 5.52187 7.07728 5.51953 7.0625C5.51297 7.02105 5.51297 6.97895 5.51953 6.9375C5.52187 6.92272 5.53096 6.87291 5.6377 6.74023C5.75152 6.59876 5.92268 6.42595 6.19727 6.15137L8.92383 3.42383L9.34863 3L8.5 2.15137Z",fill:"currentColor"})}),u=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5.5 2.15137L5.92383 2.57617L8.65137 5.30273C8.90706 5.55843 9.13382 5.78438 9.29785 5.98828C9.46883 6.20088 9.61756 6.44405 9.66602 6.75C9.69222 6.91565 9.69222 7.08435 9.66602 7.25C9.61756 7.55595 9.46883 7.79912 9.29785 8.01172C9.13382 8.21561 8.90706 8.44157 8.65137 8.69727L5.92383 11.4238L5.5 11.8486L4.65137 11L5.07617 10.5762L7.80273 7.84863C8.07732 7.57405 8.24849 7.40124 8.3623 7.25977C8.46904 7.12709 8.47813 7.07728 8.48047 7.0625C8.48703 7.02105 8.48703 6.97895 8.48047 6.9375C8.47813 6.92272 8.46904 6.87291 8.3623 6.74023C8.24848 6.59876 8.07732 6.42595 7.80273 6.15137L5.07617 3.42383L4.65137 3L5.5 2.15137Z",fill:"currentColor"})}),h=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M2.15137 8.5L2.57617 8.07617L5.30273 5.34863C5.55843 5.09294 5.78438 4.86618 5.98828 4.70215C6.20088 4.53117 6.44405 4.38244 6.75 4.33398C6.91565 4.30778 7.08435 4.30778 7.25 4.33398C7.55595 4.38244 7.79912 4.53117 8.01172 4.70215C8.21561 4.86618 8.44157 5.09294 8.69727 5.34863L11.4238 8.07617L11.8486 8.5L11 9.34863L10.5762 8.92383L7.84863 6.19727C7.57405 5.92269 7.40124 5.75152 7.25977 5.6377C7.12709 5.53096 7.07728 5.52187 7.0625 5.51953C7.02105 5.51297 6.97895 5.51297 6.9375 5.51953C6.92272 5.52187 6.87291 5.53096 6.74023 5.6377C6.59876 5.75152 6.42595 5.92268 6.15137 6.19727L3.42383 8.92383L3 9.34863L2.15137 8.5Z",fill:"currentColor"})}),p=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10.6074 4.40278L8.00978 6.99973L10.6074 9.59739L9.59739 10.6074L6.99973 8.00978L4.40278 10.6074L3.39273 9.59739L5.98969 6.99973L3.39273 4.40278L4.40278 3.39273L6.99973 5.98969L9.59739 3.39273L10.6074 4.40278Z",fill:"currentColor"})}),m=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.1167 13.1969L13.1969 14.1167L1.88324 2.80303L2.80303 1.88324L14.1167 13.1969Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.1969 1.88325L14.1167 2.80304L2.80303 14.1168L1.88324 13.197L13.1969 1.88325Z",fill:"currentColor"})]}),g=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.14923 4.02032C7.11191 4.02032 7.87977 4.02017 8.49591 4.07599C9.12122 4.1327 9.65786 4.25188 10.1414 4.53107C10.7201 4.8653 11.2008 5.34591 11.535 5.92462C11.8142 6.40818 11.9333 6.94482 11.9901 7.57013C12.0459 8.18625 12.0457 8.9542 12.0457 9.91681C12.0457 10.8795 12.0459 11.6474 11.9901 12.2635C11.9333 12.8888 11.8142 13.4254 11.535 13.909C11.2008 14.4877 10.7201 14.9683 10.1414 15.3026C9.65786 15.5817 9.12122 15.7009 8.49591 15.7576C7.87977 15.8134 7.1119 15.8133 6.14923 15.8133C5.18661 15.8133 4.41868 15.8134 3.80255 15.7576C3.17724 15.7009 2.6406 15.5817 2.15704 15.3026C1.57834 14.9684 1.09772 14.4877 0.763489 13.909C0.484305 13.4254 0.365123 12.8888 0.308411 12.2635C0.252587 11.6474 0.252747 10.8795 0.252747 9.91681C0.252747 8.95419 0.252603 8.18625 0.308411 7.57013C0.365123 6.94482 0.484305 6.40818 0.763489 5.92462C1.09771 5.3459 1.57833 4.86529 2.15704 4.53107C2.6406 4.25188 3.17724 4.1327 3.80255 4.07599C4.41868 4.02018 5.1866 4.02032 6.14923 4.02032ZM6.14923 5.37775C5.16175 5.37775 4.46628 5.37761 3.9256 5.42657C3.39428 5.47473 3.07853 5.56574 2.83575 5.70587C2.46313 5.92106 2.15348 6.23071 1.93829 6.60333C1.79817 6.84611 1.70715 7.16185 1.659 7.69318C1.61004 8.23385 1.61017 8.92934 1.61017 9.91681C1.61017 10.9043 1.61002 11.5998 1.659 12.1404C1.70715 12.6717 1.79817 12.9875 1.93829 13.2303C2.15349 13.6029 2.46315 13.9126 2.83575 14.1277C3.07853 14.2679 3.39428 14.3589 3.9256 14.407C4.46628 14.456 5.16176 14.4559 6.14923 14.4559C7.13675 14.4559 7.83218 14.456 8.37286 14.407C8.90419 14.3589 9.21993 14.2679 9.46271 14.1277C9.83529 13.9126 10.145 13.6029 10.3602 13.2303C10.5003 12.9875 10.5913 12.6718 10.6395 12.1404C10.6884 11.5998 10.6883 10.9043 10.6883 9.91681C10.6883 8.92935 10.6884 8.23385 10.6395 7.69318C10.5913 7.16185 10.5003 6.84611 10.3602 6.60333C10.145 6.23072 9.8353 5.92107 9.46271 5.70587C9.21993 5.56574 8.90418 5.47473 8.37286 5.42657C7.83218 5.3776 7.13676 5.37775 6.14923 5.37775ZM9.80157 0.367981C10.7637 0.367981 11.5313 0.367886 12.1473 0.423645C12.7725 0.480313 13.3093 0.598765 13.7928 0.877747C14.3716 1.21192 14.852 1.69355 15.1863 2.27228C15.4655 2.75575 15.5857 3.29165 15.6424 3.91681C15.6982 4.53301 15.6971 5.30161 15.6971 6.26447V7.8299C15.6971 8.29265 15.6989 8.58994 15.6649 8.84845C15.4667 10.3525 14.4009 11.5738 12.9832 11.9988V10.5467C13.6973 10.1903 14.2104 9.49662 14.3192 8.67169C14.3387 8.52348 14.3406 8.3358 14.3406 7.8299V6.26447C14.3406 5.27707 14.3398 4.58149 14.2908 4.04083C14.2427 3.50969 14.1526 3.19373 14.0125 2.95099C13.7974 2.5785 13.4875 2.2687 13.1151 2.05353C12.8723 1.91347 12.5563 1.82237 12.0252 1.77423C11.4846 1.72528 10.7888 1.7254 9.80157 1.7254H7.71466C6.75614 1.72559 5.92659 2.27697 5.52325 3.07892H4.07013C4.54215 1.51132 5.99314 0.368192 7.71466 0.367981H9.80157Z",fill:"currentColor"})}),f=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M13.2764 9.52325C12.5607 9.97755 11.7177 10.242 10.7812 10.242C8.11386 10.2419 5.95042 8.07997 5.9502 5.4129C5.9502 4.48129 6.21453 3.61072 6.67188 2.87286C4.30332 3.4658 2.54992 5.60846 2.5498 8.16094C2.5498 11.1712 4.99103 13.6102 8 13.6102C10.5383 13.6102 12.6709 11.8725 13.2764 9.52325ZM7.05078 5.4129C7.051 7.47225 8.72116 9.14231 10.7812 9.14239C11.9248 9.14239 12.887 8.63398 13.5781 7.8084C13.7266 7.63107 13.9701 7.56548 14.1875 7.64434C14.4049 7.7233 14.5497 7.9297 14.5498 8.16094C14.5498 11.7766 11.6161 14.7098 8 14.7098C4.38402 14.7098 1.4502 11.7792 1.4502 8.16094C1.45033 4.54323 4.3812 1.61016 8 1.61016C8.23027 1.61016 8.43585 1.75353 8.51562 1.96954C8.59536 2.18555 8.53241 2.4283 8.35742 2.57793C7.55573 3.26311 7.05078 4.27877 7.05078 5.4129Z",fill:"currentColor"})}),C=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0997 8.54555C12.2905 8.54989 12.3541 8.58057 12.4535 8.74615L12.8849 9.46388C12.9851 9.63072 13.0464 9.66014 13.2388 9.66448H14.1138C14.3417 9.66449 14.3512 9.66938 14.4686 9.86508L14.892 10.5717C14.9942 10.7422 14.9948 10.8247 14.892 10.9961L14.4756 11.6907C14.3741 11.8677 14.3694 11.9379 14.4756 12.115L14.892 12.8096C14.9942 12.9801 14.9947 13.0625 14.892 13.234L14.4686 13.9406C14.3643 14.1028 14.3063 14.1354 14.1138 14.1412H13.2388C13.0465 14.1456 12.985 14.1752 12.8849 14.3418L12.4535 15.0596C12.353 15.2195 12.2895 15.2558 12.0997 15.2602H11.2237C10.9962 15.2602 10.9871 15.2548 10.8699 15.0596L10.4384 14.3418C10.3383 14.175 10.2767 14.1456 10.0846 14.1412H9.2096C9.01854 14.1355 8.95761 14.1006 8.85477 13.9406L8.43139 13.234C8.32562 13.0576 8.33148 12.9862 8.43139 12.8096L8.84771 12.115C8.95165 11.9416 8.94659 11.863 8.84771 11.6907L8.43139 10.9961C8.32767 10.8232 8.33411 10.7437 8.43139 10.5717L8.85477 9.86508C8.95447 9.69892 9.01875 9.67018 9.2096 9.66448H10.0846C10.2741 9.66442 10.3414 9.62548 10.4384 9.46388L10.8699 8.74615C10.987 8.55107 10.9963 8.54555 11.2237 8.54555H12.0997ZM11.6612 10.232C11.3326 10.7798 10.8155 11.0948 10.1743 11.106C10.4443 11.61 10.4425 12.1976 10.1743 12.6987C10.803 12.7096 11.3391 13.0359 11.6612 13.5727C11.9855 13.0323 12.5131 12.7098 13.148 12.6987C12.879 12.196 12.8789 11.6087 13.148 11.106C12.5076 11.0948 11.9894 10.7794 11.6612 10.232Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.51205 0.790634C9.19055 0.790657 10.7401 1.0691 11.892 1.54365C12.4664 1.7803 12.9719 2.07886 13.3436 2.44081C13.7171 2.80467 13.9916 3.27254 13.9918 3.82385V7.90443C13.6067 7.69533 13.1907 7.53598 12.7529 7.43367V5.66455C12.4928 5.82899 12.2028 5.97602 11.892 6.10405C10.74 6.57866 9.19071 6.85707 7.51205 6.85707C5.8337 6.85703 4.285 6.57853 3.13309 6.10405C2.82215 5.97593 2.53164 5.8291 2.27121 5.66455V7.41351C2.27134 7.75678 2.6066 8.27107 3.62502 8.73405C4.58641 9.17098 5.95762 9.45592 7.50499 9.45682C7.24582 9.83133 7.03684 10.2434 6.88706 10.6826C5.44388 10.6162 4.12516 10.3216 3.11192 9.86105C2.81708 9.72699 2.53185 9.56867 2.27121 9.38928V11.2542C2.27158 11.5974 2.60697 12.1109 3.62502 12.5737C4.41933 12.9347 5.4937 13.1898 6.71569 13.2693C6.80349 13.7128 6.9513 14.1345 7.14814 14.5273C5.60324 14.4862 4.18593 14.1889 3.11192 13.7007C2.01039 13.1998 1.03366 12.3814 1.03333 11.2542V3.82385C1.03352 3.27274 1.30721 2.80462 1.68049 2.44081C2.05211 2.07894 2.55887 1.78027 3.13309 1.54365C4.28492 1.06927 5.83393 0.79069 7.51205 0.790634ZM7.51205 2.02852C5.95492 2.02857 4.57354 2.2908 3.60486 2.6898C3.11958 2.88978 2.76667 3.11254 2.5454 3.32789C2.32671 3.54102 2.2714 3.70891 2.27121 3.82385C2.27121 3.93883 2.32624 4.10626 2.5454 4.31981C2.76667 4.53528 3.11927 4.75782 3.60486 4.9579C4.5736 5.35699 5.95467 5.61915 7.51205 5.61918C9.06942 5.61918 10.4505 5.35696 11.4192 4.9579C11.9051 4.75774 12.2584 4.53537 12.4797 4.31981C12.6988 4.10628 12.7529 3.93882 12.7529 3.82385C12.7527 3.7089 12.6984 3.54104 12.4797 3.32789C12.2584 3.11239 11.9049 2.8899 11.4192 2.6898C10.4505 2.29079 9.06925 2.02854 7.51205 2.02852Z",fill:"currentColor"})]}),v=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M1.92844 3.06812L0.888051 5.87105C0.67651 6.44097 0.570689 6.72606 0.528311 6.95131C0.249475 8.43336 1.23916 9.85637 2.72561 10.1107C2.95155 10.1493 3.25555 10.1493 3.86354 10.1493H4.88377C5.33312 10.1493 5.5578 10.1493 5.69193 10.2708C5.73473 10.3096 5.77 10.3559 5.79599 10.4075C5.87745 10.5691 5.81772 10.7856 5.69827 11.2188L5.18615 13.076L5.17529 13.1157C4.96026 13.9217 5.18916 14.7812 5.77656 15.3735L5.80574 15.4025L5.82641 15.4229C6.2228 15.8056 6.86206 15.7663 7.20852 15.3378L7.22653 15.3151L11.2958 10.1435C11.4773 9.91285 11.6215 9.65195 11.6215 9.35847V3.24734C11.6215 1.62712 10.3081 0.313661 8.68782 0.313661L5.88892 0.31366C4.63038 0.31366 4.00111 0.31366 3.48655 0.585583C3.31822 0.674542 3.16133 0.783653 3.01935 0.910513C2.58537 1.29829 2.36639 1.88825 1.92844 3.06812Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.0963 2.77816C13.0963 1.29585 11.9229 0.43121 11.9229 0.43121H13.3547C14.5499 0.43121 15.5187 1.4001 15.5187 2.59529V7.65492C15.5187 8.85011 14.5499 9.819 13.3547 9.819H13.0963V2.77816Z",fill:"currentColor"})]}),b=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.72451 15.1086C7.18929 15.7705 6.22975 15.8694 5.57357 15.3597L5.44643 15.2492L5.42247 15.2253L5.41934 15.2232L5.39016 15.194C4.68239 14.4804 4.40679 13.4442 4.66589 12.473L4.66693 12.4689L4.67631 12.4334L4.67735 12.4314L5.14318 10.7431C5.15243 10.7096 5.1613 10.6783 5.16923 10.6493C5.13878 10.6493 5.10558 10.6483 5.07023 10.6483H4.14274C3.62288 10.6483 3.27015 10.6512 2.9912 10.6035C1.25757 10.3069 0.103662 8.64703 0.42863 6.91855C0.480965 6.64038 0.606164 6.30975 0.787119 5.82224L1.73336 3.27321C1.92812 2.74853 2.08912 2.31209 2.25442 1.96535C2.42515 1.60725 2.62191 1.29594 2.91304 1.03578C3.08408 0.882955 3.273 0.751124 3.47579 0.643948C3.82102 0.461508 4.18214 0.385514 4.57731 0.35007C4.95993 0.315788 5.42553 0.316722 5.98521 0.316722H11.0916C11.876 0.316722 12.52 0.316073 13.0362 0.371954C13.5655 0.429296 14.0423 0.552538 14.4608 0.85654C14.7007 1.03085 14.9117 1.24193 15.086 1.48181C15.3901 1.90027 15.5143 2.3771 15.5717 2.90639C15.6276 3.42269 15.6269 4.06721 15.6269 4.85203V6.50274C15.6269 7.1616 15.633 7.63691 15.5164 8.04299C15.2475 8.97962 14.5158 9.71242 13.5791 9.98134C13.173 10.0979 12.6977 10.0908 12.0389 10.0908C11.8372 10.0908 11.8118 10.0933 11.795 10.096C11.723 10.1077 11.6549 10.1393 11.6012 10.1887C11.5887 10.2002 11.5724 10.219 11.447 10.3784L7.74639 15.0815L7.74535 15.0825L7.72451 15.1086ZM14.2388 4.85203C14.2388 4.03628 14.2379 3.47965 14.1919 3.05541C14.1473 2.64443 14.0672 2.4403 13.9637 2.29779C13.8749 2.17563 13.768 2.06769 13.6458 1.9789C13.5033 1.87533 13.2984 1.79523 12.8872 1.75068C12.4907 1.70773 11.979 1.70512 11.2479 1.70482C11.6511 2.25918 11.8918 2.93968 11.8919 3.67756V7.41251H10.5038V3.67756C10.5036 2.58745 9.62023 1.70378 8.53007 1.70378H5.98521C5.40065 1.70378 5.00679 1.70443 4.70028 1.73192C4.40651 1.7583 4.24662 1.80571 4.12399 1.87052C4.02069 1.92512 3.92452 1.99277 3.8374 2.07061C3.73401 2.16306 3.634 2.29621 3.50705 2.56249C3.37462 2.84028 3.23734 3.20874 3.03393 3.75676L2.08768 6.30578C1.88395 6.85468 1.81646 7.04341 1.79172 7.17491C1.61005 8.14146 2.25533 9.06902 3.22464 9.23518C3.35654 9.25775 3.55717 9.26123 4.14274 9.26123H5.07023C5.25717 9.26123 5.4593 9.25926 5.62672 9.27895C5.80364 9.29976 6.05492 9.35452 6.27179 9.55094C6.37381 9.6434 6.45784 9.75417 6.51982 9.87712C6.65133 10.1381 6.6374 10.3941 6.61048 10.5701C6.58498 10.7366 6.52988 10.9309 6.48022 11.111L6.01439 12.8003L6.00501 12.8347C5.87513 13.3268 6.01464 13.8509 6.37184 14.2134L6.40935 14.2509L6.46667 14.2863C6.52866 14.3087 6.60155 14.2912 6.64591 14.2363L6.65738 14.2238L6.65633 14.2228L10.3569 9.52072C10.4543 9.39693 10.5491 9.27239 10.6633 9.16744C10.9166 8.93477 11.2325 8.7818 11.572 8.72662C11.7251 8.70177 11.8814 8.7037 12.0389 8.7037C12.7927 8.7037 13.0245 8.69645 13.1956 8.64742C13.6727 8.51045 14.0465 8.13762 14.1836 7.66054C14.2327 7.48935 14.2388 7.25721 14.2388 6.50274V4.85203Z",fill:"currentColor"})}),_=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.3695 11.411L15.1234 12.8866C14.8869 14.3042 13.6603 15.3436 12.223 15.3436H3.7767C2.33954 15.3434 1.11276 14.3042 0.876312 12.8866L0.630219 11.411L2.05405 11.1747L2.29916 12.6493C2.41969 13.3713 3.04472 13.9001 3.7767 13.9003H12.223C12.9551 13.9002 13.58 13.3713 13.7005 12.6493L13.9456 11.1747L15.3695 11.411ZM8.72202 8.994C8.77714 8.93934 8.83789 8.88106 8.90268 8.81627L12.4828 5.23424L13.5042 6.25572L9.92221 9.8358C9.63947 10.1185 9.3876 10.3732 9.15854 10.5575C8.91889 10.7503 8.6395 10.9224 8.28647 10.9784C8.09708 11.0083 7.9036 11.0083 7.7142 10.9784C7.36103 10.9224 7.08087 10.7503 6.84116 10.5575C6.61212 10.3732 6.36019 10.1185 6.07748 9.8358L2.49643 6.25572L3.51694 5.23424L7.09702 8.81627C7.16216 8.88142 7.22327 8.94006 7.27866 8.99498V1.3065H8.72202V8.994Z",fill:"currentColor"})}),S=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.94073 1.34942C10.7047 0.902314 11.6503 0.902418 12.4143 1.34942C12.706 1.52016 12.9687 1.79118 13.3104 2.13284C13.652 2.47448 13.9231 2.73721 14.0938 3.02894C14.5408 3.79295 14.5409 4.73856 14.0938 5.50251C13.9231 5.79415 13.652 6.05704 13.3104 6.39861L6.65929 13.0497C6.28065 13.4284 6.00692 13.7108 5.6654 13.9097C5.32388 14.1085 4.94312 14.2074 4.42702 14.3498L3.24391 14.6761C2.77524 14.8054 2.34535 14.9262 2.00128 14.9684C1.65193 15.0112 1.17961 15.0013 0.810733 14.6325C0.44189 14.2637 0.432076 13.7913 0.474829 13.442C0.517004 13.0979 0.63787 12.668 0.767151 12.1993L1.09349 11.0162C1.23585 10.5001 1.33478 10.1194 1.53356 9.77785C1.73246 9.43633 2.01487 9.1626 2.39352 8.78395L9.04463 2.13284C9.38622 1.79126 9.64908 1.52017 9.94073 1.34942ZM15.5427 14.8398H7.5522L8.96704 13.425H15.5427V14.8398ZM3.39379 9.78423C2.96497 10.2131 2.84241 10.3436 2.75706 10.49C2.6718 10.6366 2.61858 10.8079 2.4573 11.3925L2.13096 12.5756C2.0018 13.0439 1.92191 13.3419 1.8886 13.5536C2.10038 13.5204 2.39869 13.4416 2.86761 13.3123L4.05072 12.9859C4.63541 12.8246 4.80666 12.7715 4.9532 12.6862C5.09965 12.6008 5.23019 12.4783 5.65902 12.0495L10.721 6.98644L8.45574 4.72122L3.39379 9.78423ZM11.7 2.57079C11.3774 2.38199 10.9777 2.38199 10.6551 2.57079C10.5602 2.62647 10.4487 2.72931 10.0449 3.13311L9.45601 3.72094L11.7212 5.98617L12.3101 5.39834C12.7139 4.99458 12.8168 4.88307 12.8725 4.78818C13.0612 4.46561 13.0612 4.06586 12.8725 3.74327C12.8168 3.64827 12.7145 3.53752 12.3101 3.13311C11.9057 2.72863 11.795 2.62641 11.7 2.57079Z",fill:"currentColor"})}),E=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M4.5514 8C4.5514 8.63513 4.03653 9.15 3.4014 9.15C2.76628 9.15 2.2514 8.63513 2.2514 8C2.2514 7.36487 2.76628 6.85 3.4014 6.85C4.03653 6.85 4.5514 7.36487 4.5514 8Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.14754 8C9.14754 8.63513 8.63267 9.15 7.99754 9.15C7.36242 9.15 6.84754 8.63513 6.84754 8C6.84754 7.36487 7.36242 6.85 7.99754 6.85C8.63267 6.85 9.14754 7.36487 9.14754 8Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.7486 8C13.7486 8.63513 13.2337 9.15 12.5986 9.15C11.9634 9.15 11.4486 8.63513 11.4486 8C11.4486 7.36487 11.9634 6.85 12.5986 6.85C13.2337 6.85 13.7486 7.36487 13.7486 8Z",fill:"currentColor"})]}),x=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.90039 3.97328V9.07973H7.09961V3.97328H8.90039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.90039 10.341V12.3654H7.09961V10.341H8.90039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.5996 8C14.5996 4.35492 11.6451 1.40039 8 1.40039C4.35492 1.40039 1.40039 4.35492 1.40039 8C1.40039 11.6451 4.35492 14.5996 8 14.5996C11.6451 14.5996 14.5996 11.6451 14.5996 8ZM15.9004 8C15.9004 12.363 12.363 15.9004 8 15.9004C3.63695 15.9004 0.0996094 12.363 0.0996094 8C0.0996094 3.63695 3.63695 0.0996094 8 0.0996094C12.363 0.0996094 15.9004 3.63695 15.9004 8Z",fill:"currentColor"})]}),y=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M15.0147 8.3086C11.7816 13.697 4.21842 13.697 0.985381 8.3086C0.871489 8.11867 0.871493 7.88136 0.985381 7.69142C4.21842 2.30302 11.7816 2.30301 15.0147 7.69142C15.1286 7.88135 15.1286 8.11867 15.0147 8.3086ZM2.21097 8.00001C5.008 12.1994 10.9933 12.1997 13.7901 8.00001C10.9933 3.80032 5.008 3.80062 2.21097 8.00001Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.40042 8.00001C9.40042 7.22681 8.77323 6.59962 8.00003 6.59962C7.22683 6.59962 6.59964 7.22681 6.59964 8.00001C6.59964 8.7732 7.22683 9.4004 8.00003 9.4004C8.77323 9.4004 9.40042 8.7732 9.40042 8.00001ZM10.5996 8.00001C10.5996 9.43595 9.43597 10.5996 8.00003 10.5996C6.56409 10.5996 5.40042 9.43595 5.40042 8.00001C5.40042 6.56407 6.56409 5.4004 8.00003 5.4004C9.43597 5.4004 10.5996 6.56407 10.5996 8.00001Z",fill:"currentColor"})]}),w=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12.1665 13.5811V14.7803H3.66651V13.5811H12.1665Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.4453 7.02379C13.4453 6.04702 13.4452 5.3616 13.3887 4.83434C13.3333 4.31828 13.2302 4.02378 13.0723 3.80309C12.9446 3.62475 12.7877 3.46883 12.6094 3.34117C12.3887 3.18328 12.0942 3.08007 11.5781 3.02477C11.0508 2.96829 10.3655 2.96715 9.38867 2.96715H6.61035C5.63359 2.96715 4.94816 2.96827 4.4209 3.02477C3.90486 3.0801 3.61034 3.18321 3.38965 3.34117C3.21143 3.46878 3.05534 3.62487 2.92774 3.80309C2.76977 4.02377 2.66667 4.3183 2.61133 4.83434C2.55483 5.3616 2.55371 6.04702 2.55371 7.02379C2.55371 8.0006 2.55485 8.68596 2.61133 9.21324C2.66663 9.72936 2.76983 10.0238 2.92774 10.2445C3.0554 10.4228 3.21131 10.5797 3.38965 10.7074C3.61034 10.8654 3.90484 10.9685 4.4209 11.0238C4.94816 11.0803 5.63359 11.0804 6.61035 11.0804H9.38867C10.3654 11.0804 11.0508 11.0803 11.5781 11.0238C12.0941 10.9685 12.3887 10.8652 12.6094 10.7074C12.7877 10.5797 12.9446 10.4229 13.0723 10.2445C13.2301 10.0238 13.3334 9.72927 13.3887 9.21324C13.4452 8.68596 13.4453 8.00058 13.4453 7.02379ZM14.6455 7.02379C14.6455 7.97428 14.646 8.73509 14.5811 9.34117C14.5149 9.95828 14.3756 10.4858 14.0479 10.9437C13.8436 11.229 13.5938 11.4788 13.3086 11.683C12.8507 12.0108 12.3232 12.15 11.7061 12.2162C11.1 12.2811 10.3391 12.2806 9.38867 12.2806H6.61035C5.66018 12.2806 4.89991 12.2811 4.29395 12.2162C3.67684 12.15 3.14935 12.0108 2.69141 11.683C2.40613 11.4788 2.15639 11.229 1.95215 10.9437C1.62436 10.4858 1.4841 9.95828 1.41797 9.34117C1.35305 8.73511 1.35449 7.97424 1.35449 7.02379C1.35449 6.07366 1.35308 5.31333 1.41797 4.70738C1.4841 4.09028 1.62436 3.56279 1.95215 3.10485C2.15638 2.81956 2.40613 2.56982 2.69141 2.36559C3.14935 2.03779 3.67684 1.89753 4.29395 1.83141C4.8999 1.76652 5.66022 1.76793 6.61035 1.76793H9.38867C10.3391 1.76793 11.1 1.76649 11.7061 1.83141C12.3232 1.89753 12.8507 2.03779 13.3086 2.36559C13.5939 2.56982 13.8436 2.81957 14.0479 3.10485C14.3756 3.56279 14.5149 4.09028 14.5811 4.70738C14.646 5.31335 14.6455 6.07362 14.6455 7.02379Z",fill:"currentColor"})]}),I=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M2.58875 12.3407L6.59167 8.33777L7.66296 9.40808L3.66003 13.411H7.99988V14.8065H3.05457C2.02633 14.8065 1.19324 13.9734 1.19324 12.9452V7.99988H2.58875V12.3407Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.9452 1.19324C13.9734 1.19324 14.8065 2.02633 14.8065 3.05457V7.99988H13.411V3.66003L9.40808 7.66296L8.33777 6.59167L12.3407 2.58875H7.99988V1.19324H12.9452Z",fill:"currentColor"})]}),T=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0.150391C10.7832 0.150391 13.8496 3.21685 13.8496 7C13.8496 10.7832 10.7832 13.8496 7 13.8496C3.21685 13.8496 0.150391 10.7832 0.150391 7C0.150391 3.21685 3.21685 0.150391 7 0.150391ZM5.37793 7.59961C5.42667 9.03204 5.64751 10.2965 5.97363 11.2197C6.15993 11.7471 6.36943 12.1301 6.57324 12.3701C6.77748 12.6105 6.9234 12.6504 7 12.6504C7.0766 12.6504 7.22252 12.6105 7.42676 12.3701C7.63057 12.1301 7.84007 11.7471 8.02637 11.2197C8.35249 10.2965 8.57333 9.03204 8.62207 7.59961H5.37793ZM1.38184 7.59961C1.61453 9.80492 3.1159 11.6304 5.14258 12.3359C5.03265 12.1128 4.93224 11.8724 4.84277 11.6191C4.46339 10.5451 4.22772 9.13988 4.17871 7.59961H1.38184ZM9.82129 7.59961C9.77228 9.13988 9.53661 10.5451 9.15723 11.6191C9.06771 11.8726 8.96645 12.1127 8.85645 12.3359C10.8836 11.6307 12.3854 9.80524 12.6182 7.59961H9.82129ZM7 1.34961C6.9234 1.34961 6.77748 1.38949 6.57324 1.62988C6.36943 1.86988 6.15993 2.25291 5.97363 2.78027C5.64751 3.70351 5.42667 4.96796 5.37793 6.40039H8.62207C8.57333 4.96796 8.35249 3.70351 8.02637 2.78027C7.84007 2.25291 7.63057 1.86988 7.42676 1.62988C7.22252 1.38949 7.0766 1.34961 7 1.34961ZM8.85645 1.66309C8.9666 1.88656 9.0676 2.12715 9.15723 2.38086C9.53661 3.45487 9.77228 4.86012 9.82129 6.40039H12.6182C12.3854 4.19465 10.8837 2.36828 8.85645 1.66309ZM5.14258 1.66309C3.11575 2.3685 1.61454 4.19497 1.38184 6.40039H4.17871C4.22772 4.86012 4.46339 3.45487 4.84277 2.38086C4.93234 2.1273 5.03249 1.88645 5.14258 1.66309Z",fill:"currentColor"})}),A=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.3726 8.00049C14.3726 4.48132 11.5196 1.6285 8.00049 1.62842C4.48127 1.62842 1.62842 4.48127 1.62842 8.00049C1.6285 11.5196 4.48132 14.3726 8.00049 14.3726C11.5196 14.3725 14.3725 11.5196 14.3726 8.00049ZM15.772 8.00049C15.7719 12.2928 12.2928 15.7719 8.00049 15.772C3.70812 15.772 0.22811 12.2928 0.228027 8.00049C0.228027 3.70807 3.70807 0.228027 8.00049 0.228027C12.2928 0.22811 15.772 3.70812 15.772 8.00049Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M7.06369 9.92245C7.06369 9.24781 7.23342 8.39641 7.91037 7.82675C8.32682 7.47633 8.87011 7.16969 9.14572 6.98105C9.47422 6.7562 9.62589 6.58962 9.69553 6.38828C9.80348 6.07588 9.7503 5.72497 9.54221 5.44882C9.34217 5.18345 8.95897 4.94003 8.32248 4.94003C6.85369 4.94006 6.25143 5.84986 6.25119 6.61679H4.8508C4.85104 5.02826 6.1298 3.53968 8.32248 3.53964C9.34633 3.53964 10.1659 3.95013 10.6604 4.60605C11.1465 5.25107 11.2796 6.08921 11.0178 6.84628C10.7986 7.47967 10.34 7.86026 9.93674 8.13632C9.48042 8.44865 9.1697 8.59682 8.81174 8.89804C8.59398 9.08128 8.46408 9.42776 8.46408 9.92245V10.0064H7.06369V9.92245Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.45126 10.7892V12.3556H7.05087V10.7892H8.45126Z",fill:"currentColor"})]}),j=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M4.00962 6.13132C3.33092 6.61662 2.71789 7.23911 2.21078 8.00046C3.81319 10.4061 6.46178 11.4302 8.9579 11.0796L9.98134 12.103C6.69858 12.9317 3.00058 11.6678 0.985191 8.30905C0.871385 8.11926 0.871561 7.88173 0.985191 7.69186C1.57827 6.70341 2.31725 5.8958 3.14829 5.26999L4.00962 6.13132ZM6.01647 3.89597C9.2998 3.06626 12.9988 4.33228 15.0146 7.69186C15.1283 7.88176 15.1284 8.1192 15.0146 8.30905C14.4213 9.29771 13.6809 10.1031 12.8495 10.729L11.9892 9.86862C12.6683 9.38324 13.2826 8.76226 13.79 8.00046C12.1872 5.59372 9.53783 4.56861 7.04089 4.92038L6.01647 3.89597Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.8495 11.9296L11.9296 12.8495L3.0897 4.00958L4.00962 3.08966L12.8495 11.9296Z",fill:"currentColor"})]}),k=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.3496 8C11.3496 6.14985 9.85015 4.65039 8 4.65039C6.14985 4.65039 4.65039 6.14985 4.65039 8C4.65039 9.85015 6.14985 11.3496 8 11.3496C9.85015 11.3496 11.3496 9.85015 11.3496 8ZM12.6504 8C12.6504 10.5681 10.5681 12.6504 8 12.6504C5.43188 12.6504 3.34961 10.5681 3.34961 8C3.34961 5.43188 5.43188 3.34961 8 3.34961C10.5681 3.34961 12.6504 5.43188 12.6504 8Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.65039 0.5V2.5H7.34961V0.5H8.65039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.65039 13.5V15.5H7.34961V13.5H8.65039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M3.15808 2.24035L4.57229 3.65456L3.6525 4.57435L2.23829 3.16014L3.15808 2.24035Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.3505 11.4327L13.7647 12.8469L12.8449 13.7667L11.4307 12.3525L12.3505 11.4327Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M2.24537 12.8469L3.65958 11.4327L4.57937 12.3525L3.16516 13.7667L2.24537 12.8469Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.4377 3.65455L12.852 2.24033L13.7718 3.16012L12.3575 4.57434L11.4377 3.65455Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M0.5 7.35461H2.5V8.6554H0.5L0.5 7.35461Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M13.5 7.35461H15.5V8.6554H13.5V7.35461Z",fill:"currentColor"})]}),M=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.0593 12.922L15.0976 10.1247C15.3088 9.5559 15.4144 9.27138 15.4567 9.04659C15.7349 7.56752 14.7472 6.14738 13.2638 5.89357C13.0383 5.855 12.7349 5.855 12.1281 5.855H11.11C10.6615 5.855 10.4373 5.855 10.3034 5.73376C10.2607 5.69508 10.2255 5.64886 10.1996 5.5974C10.1183 5.43613 10.1779 5.21997 10.2971 4.78765L10.8082 2.93419L10.819 2.89457C11.0336 2.09024 10.8052 1.23245 10.219 0.641394L10.1899 0.612409L10.1692 0.592072C9.77363 0.21008 9.13565 0.249348 8.7899 0.67697L8.77192 0.699682L4.71082 5.86084C4.52971 6.09101 4.38579 6.35138 4.38579 6.64427V12.7431C4.38579 14.3601 5.6966 15.6709 7.31357 15.6709L10.1068 15.6709C11.3628 15.6709 11.9908 15.6709 12.5044 15.3995C12.6724 15.3107 12.8289 15.2018 12.9706 15.0752C13.4037 14.6882 13.6223 14.0995 14.0593 12.922Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M2.91394 13.2113C2.91394 14.6907 4.08505 15.5536 4.08505 15.5536H2.65612C1.46334 15.5536 0.496399 14.5866 0.496399 13.3938V8.3444C0.496399 7.15161 1.46334 6.18467 2.65612 6.18467H2.91394V13.2113Z",fill:"currentColor"})]}),R=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.27861 0.811572C8.81985 0.142194 9.79016 0.0421835 10.4537 0.557601L10.5823 0.669306L10.6065 0.693544L10.6097 0.695652L10.6392 0.725159C11.3549 1.44679 11.6336 2.49468 11.3716 3.47669L11.3705 3.48091L11.361 3.51674L11.36 3.51885L10.8889 5.22604C10.8796 5.25997 10.8706 5.29157 10.8626 5.32088C10.8934 5.32095 10.927 5.32194 10.9627 5.32194H11.9006C12.4263 5.32194 12.783 5.319 13.0651 5.36725C14.8182 5.66719 15.9851 7.34568 15.6564 9.09357C15.6035 9.37487 15.4769 9.7092 15.2939 10.2022L14.337 12.7798C14.1401 13.3104 13.9773 13.7518 13.8101 14.1024C13.6375 14.4645 13.4385 14.7793 13.1441 15.0424C12.9712 15.197 12.7801 15.3303 12.5751 15.4386C12.2259 15.6231 11.8608 15.7 11.4612 15.7358C11.0742 15.7705 10.6034 15.7695 10.0374 15.7695H4.87371C4.08047 15.7695 3.42922 15.7702 2.90728 15.7137C2.37206 15.6557 1.88985 15.5311 1.4667 15.2237C1.22409 15.0474 1.01072 14.8339 0.834405 14.5914C0.52696 14.1682 0.401312 13.686 0.343323 13.1508C0.286761 12.6287 0.28747 11.9769 0.28747 11.1833V9.51405C0.28747 8.84778 0.281286 8.36714 0.399176 7.9565C0.671091 7.00935 1.41109 6.26832 2.35823 5.99638C2.76888 5.87849 3.24952 5.88573 3.91579 5.88573C4.11977 5.88573 4.14542 5.88319 4.16238 5.88046C4.23526 5.86863 4.30403 5.83663 4.35839 5.78667C4.37104 5.77504 4.38755 5.75604 4.51436 5.59488L8.25648 0.838972L8.25754 0.837918L8.27861 0.811572ZM1.69116 11.1833C1.69116 12.0082 1.69211 12.5711 1.73859 13.0001C1.78365 13.4157 1.86467 13.6221 1.96937 13.7662C2.05914 13.8898 2.16727 13.9989 2.29079 14.0887C2.43495 14.1934 2.6421 14.2744 3.05797 14.3195C3.45891 14.3629 3.97631 14.3656 4.71564 14.3659C4.30795 13.8053 4.06447 13.1171 4.06437 12.371V8.59406H5.46807V12.371C5.46832 13.4733 6.3616 14.3669 7.46401 14.3669H10.0374C10.6286 14.3669 11.0269 14.3663 11.3368 14.3385C11.6339 14.3118 11.7956 14.2638 11.9196 14.1983C12.024 14.1431 12.1213 14.0747 12.2094 13.996C12.3139 13.9025 12.4151 13.7678 12.5434 13.4986C12.6774 13.2176 12.8162 12.845 13.0219 12.2909L13.9787 9.71322C14.1848 9.15816 14.253 8.96731 14.278 8.83433C14.4617 7.85692 13.8092 6.91895 12.829 6.75092C12.6956 6.7281 12.4928 6.72458 11.9006 6.72458H10.9627C10.7737 6.72458 10.5693 6.72657 10.4 6.70666C10.2211 6.68562 9.96696 6.63024 9.74764 6.43161C9.64448 6.33811 9.5595 6.2261 9.49683 6.10177C9.36384 5.83784 9.37793 5.57899 9.40515 5.40097C9.43094 5.23261 9.48666 5.03616 9.53688 4.85404L10.0079 3.14579L10.0174 3.11102C10.1488 2.61338 10.0077 2.08338 9.64648 1.71681L9.60854 1.67887L9.55058 1.64304C9.48789 1.62043 9.41419 1.63814 9.36932 1.69362L9.35773 1.70627L9.35878 1.70732L5.61666 6.46217C5.51816 6.58735 5.42231 6.7133 5.30683 6.81942C5.05069 7.05471 4.73119 7.20939 4.3879 7.26519C4.23309 7.29032 4.07507 7.28837 3.91579 7.28837C3.1535 7.28837 2.9191 7.2957 2.74604 7.34528C2.26358 7.48379 1.88558 7.86081 1.74702 8.34325C1.69732 8.51636 1.69116 8.7511 1.69116 9.51405V11.1833Z",fill:"currentColor"})}),N=()=>(0,a.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M2.84336 13.3411C2.71486 14.3087 3.01305 15.3218 3.74278 16.0745L3.92246 16.2561C4.67502 16.9858 5.68876 17.2827 6.65684 17.1546L7.81114 18.3088C6.17348 18.8966 4.27552 18.5485 2.94785 17.261C2.87685 17.1921 2.80679 17.122 2.73789 17.051C1.4501 15.7234 1.10046 13.8247 1.68809 12.1868L2.84336 13.3411Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.7477 13.8049C12.5649 14.1103 12.3456 14.4001 12.0875 14.6663C12.0618 14.6927 12.0315 14.7233 11.983 14.7717L9.59922 17.1565C9.43845 17.3173 9.26949 17.4686 9.08946 17.6077L8.08848 16.6067C8.23895 16.5032 8.3838 16.3874 8.51914 16.2561L11.0826 13.6917C11.3509 13.4149 11.5612 13.1029 11.7135 12.7708L12.7477 13.8049Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.03965 9.10182C8.14036 9.75537 8.43496 10.3851 8.9293 10.8948C9.2276 11.2022 9.55943 11.4696 9.92344 11.6526L8.8961 12.6799C8.53564 12.4523 8.22465 12.173 7.92539 11.8723C6.8245 10.7381 6.4077 9.18688 6.67637 7.73756L8.03965 9.10182Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.0934 7.29713C11.4509 7.5206 11.7823 7.80682 12.0875 8.12135C13.2202 9.28945 13.6251 10.8987 13.3063 12.384L11.9967 11.0745C11.9272 10.3548 11.6233 9.65364 11.0826 9.09596C10.7791 8.78909 10.4567 8.51817 10.066 8.32545L11.0934 7.29713Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M4.87168 8.37135C4.81989 8.98939 4.85611 9.6179 4.98692 10.2376L3.74278 11.4797C3.61161 11.615 3.49466 11.7591 3.39121 11.9094L2.38926 10.9075C2.52811 10.7278 2.68095 10.5601 2.84141 10.3997L4.87168 8.37135Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M17.5064 9.21998C17.3968 9.35203 17.2801 9.47756 17.1588 9.59889L15.1158 11.6409C15.1558 11.0305 15.1094 10.4122 14.9723 9.80397L16.2564 8.52076C16.3482 8.42623 16.4322 8.32607 16.5104 8.22389L17.5064 9.21998Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.0221 1.75514C13.6968 1.07963 15.6808 1.40856 17.0543 2.74147C17.1243 2.80947 17.1933 2.87845 17.2613 2.9485C18.5936 4.32203 18.9217 6.30589 18.2467 7.98072L17.1256 6.85963C17.3269 5.83208 17.0376 4.7273 16.2564 3.92213L16.0797 3.74537C15.2744 2.96412 14.1695 2.6744 13.1422 2.87623L12.0221 1.75514Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.7779 3.49147C11.6758 3.5696 11.5775 3.65469 11.483 3.74635L8.9293 6.30006C8.63121 6.60727 8.40461 6.95806 8.24961 7.33131L7.20469 6.28639C7.39848 5.9437 7.63875 5.6198 7.92539 5.32447C7.95046 5.29865 7.97959 5.26833 8.02696 5.22096L10.4049 2.84498C10.5262 2.72364 10.6507 2.60606 10.7828 2.49635L11.7779 3.49147Z",fill:"currentColor"})]}),O=()=>(0,a.jsxs)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.19724 5.86969C9.20917 6.90067 9.20966 8.55271 8.19724 9.58338L6.88868 10.8919C5.85798 11.9039 4.20581 11.9037 3.17499 10.8919L3.1087 10.8243C2.09619 9.7934 2.09623 8.14148 3.1087 7.11058L4.36754 5.85174C4.28258 6.33758 4.30352 6.84354 4.44074 7.33362L3.89245 7.88053C3.3004 8.48348 3.30105 9.4507 3.89315 10.0536L3.94563 10.1061C4.54858 10.698 5.51518 10.6981 6.11805 10.1061L7.4128 8.81275C8.00481 8.21002 8.00501 7.24267 7.41349 6.63964L7.35963 6.58716C7.21972 6.44976 7.05991 6.34434 6.89006 6.27089L7.70006 5.4609C7.85173 5.55768 7.99604 5.67091 8.12957 5.80202L8.19724 5.86969Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M5.8091 8.12648C4.79581 7.09547 4.79588 5.44245 5.8091 4.41141C5.8173 4.40304 5.82704 4.39209 5.84087 4.37826L7.0783 3.14082C7.09221 3.12693 7.10308 3.11729 7.11145 3.10906C8.1425 2.09591 9.79554 2.09579 10.8265 3.10906L10.8907 3.17328C11.9041 4.20425 11.9039 5.85727 10.8907 6.88835L9.6319 8.14581C9.70563 7.66581 9.67561 7.16895 9.53453 6.68948L10.1063 6.11772C10.6989 5.51458 10.6991 4.54691 10.1063 3.94391L10.0552 3.8942C9.45212 3.30157 8.48443 3.30151 7.88139 3.8942L6.59355 5.18204C6.00078 5.78507 6.00089 6.75274 6.59355 7.35584L6.64327 7.40694C6.77994 7.54132 6.93552 7.64528 7.10109 7.71837L6.29247 8.52699C6.14443 8.43127 6.00392 8.31906 5.87332 8.1907L5.8091 8.12648Z",fill:"currentColor"})]}),L=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M9.94133 6.50173C11.3218 7.99603 11.3218 10.3011 9.94128 11.7954C9.88691 11.8542 9.82125 11.9196 9.72099 12.0198L7.75707 13.9838C7.65709 14.0838 7.592 14.1491 7.53334 14.2034C6.03906 15.5843 3.7327 15.5854 2.23827 14.2048C2.17933 14.1503 2.11374 14.0844 2.01315 13.9838C1.91318 13.8839 1.84922 13.8188 1.79495 13.7601C0.413857 12.2657 0.413909 9.95948 1.795 8.46503C1.84923 8.4064 1.91335 8.34115 2.01321 8.24129L3.79275 6.46313C3.71814 7.08101 3.75236 7.71445 3.90115 8.33518L3.00344 9.23151C2.89398 9.34097 2.8535 9.38307 2.82251 9.41658C1.93771 10.3744 1.93704 11.8514 2.82179 12.8092C2.85279 12.8427 2.89383 12.884 3.0034 12.9936C3.11272 13.1029 3.15429 13.1442 3.18777 13.1752C4.14561 14.0603 5.62381 14.0608 6.58178 13.1758C6.61532 13.1448 6.65722 13.1032 6.76685 12.9935L8.73077 11.0296C8.83999 10.9204 8.88142 10.8787 8.91238 10.8452C9.79744 9.88728 9.7969 8.40911 8.91173 7.45124C8.88074 7.41775 8.83944 7.3762 8.73011 7.26687C8.62082 7.15757 8.58061 7.11623 8.54712 7.08526C8.37347 6.92477 8.18243 6.79361 7.98088 6.69165L9.00289 5.66964C9.17506 5.78373 9.34035 5.91265 9.49663 6.05703C9.55538 6.11135 9.62026 6.17652 9.72036 6.27662C9.82094 6.3772 9.88686 6.4428 9.94133 6.50173Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M6.06816 9.49196C4.68626 7.99724 4.68667 5.68942 6.06885 4.19487C6.12268 4.13671 6.18789 4.07306 6.28706 3.9739L8.24541 2.01416C8.34478 1.91479 8.41018 1.85055 8.46845 1.79665C9.96301 0.414902 12.2689 0.414922 13.7635 1.79665C13.8217 1.85051 13.8866 1.91559 13.9858 2.01486C14.0849 2.11394 14.1502 2.17769 14.204 2.23583C15.5861 3.7304 15.5866 6.03823 14.2047 7.53291C14.1508 7.59125 14.0854 7.65638 13.9858 7.75595L12.1994 9.54098C12.2614 8.92982 12.2185 8.30587 12.0634 7.69657L12.9956 6.76573C13.1044 6.65692 13.1458 6.61529 13.1765 6.58205C14.0621 5.62404 14.0621 4.1454 13.1765 3.18738C13.1458 3.15419 13.104 3.1135 12.9956 3.00508C12.8877 2.89716 12.8471 2.85551 12.814 2.82485C11.8559 1.9389 10.376 1.93886 9.41794 2.82485C9.38479 2.85554 9.34381 2.89622 9.23564 3.00439L7.27728 4.96413C7.16875 5.07265 7.12708 5.11322 7.09636 5.14643C6.21074 6.10441 6.21153 7.58236 7.09705 8.5404C7.12775 8.57357 7.16826 8.61575 7.27659 8.72408C7.38456 8.83205 7.42647 8.87227 7.45958 8.90293C7.62849 9.0591 7.81309 9.1881 8.00856 9.28894L6.98795 10.3095C6.82111 10.1978 6.66052 10.0715 6.50872 9.93114C6.45057 9.87733 6.38547 9.81341 6.28637 9.71431C6.1871 9.61504 6.12202 9.55018 6.06816 9.49196Z",fill:"currentColor"})]}),F=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10.8239 3.54733V4.78442H4.63437V3.54733H10.8239Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.8239 6.12628V7.36337H4.63437V6.12628H10.8239Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.073 8.70524V9.94233H4.63437V8.70524H9.073Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.13321 0.573518C10.0076 0.573517 10.7179 0.572514 11.285 0.633962C11.8645 0.696783 12.3743 0.83164 12.8193 1.15479C13.0776 1.34245 13.3056 1.57046 13.4933 1.82874C13.8164 2.27369 13.9513 2.78359 14.0141 3.36302C14.0755 3.93014 14.0745 4.64048 14.0745 5.51484V6.1757L12.7327 7.56289V5.51484C12.7327 4.61092 12.732 3.98619 12.6803 3.50809C12.6298 3.04269 12.5379 2.79496 12.4083 2.61653C12.3033 2.4721 12.176 2.34471 12.0315 2.23977C11.8531 2.11015 11.6054 2.01822 11.14 1.96777C10.6618 1.916 10.0372 1.91538 9.13321 1.91538H6.32658C5.42262 1.91538 4.79796 1.91603 4.31983 1.96777C3.85451 2.01818 3.60672 2.11028 3.42827 2.23977C3.28392 2.34464 3.15643 2.47222 3.0515 2.61653C2.9219 2.79495 2.82997 3.04273 2.7795 3.50809C2.72774 3.98619 2.72712 4.61092 2.72712 5.51484V10.023C2.72712 10.9273 2.72773 11.5525 2.7795 12.0307C2.82992 12.4959 2.92205 12.7429 3.0515 12.9213C3.15645 13.0657 3.28384 13.1931 3.42827 13.298C3.60676 13.4277 3.85408 13.5206 4.31983 13.5711C4.79797 13.6228 5.42259 13.6234 6.32658 13.6234H6.87057L5.57707 14.9593C5.03527 14.9556 4.57031 14.9467 4.17476 14.9039C3.59508 14.841 3.08558 14.7063 2.64048 14.383C2.38215 14.1953 2.15422 13.9684 1.96653 13.7101C1.64319 13.2649 1.50851 12.7545 1.4457 12.1748C1.38432 11.6076 1.38525 10.8973 1.38525 10.023V5.51484C1.38525 4.64048 1.38426 3.93014 1.4457 3.36302C1.50853 2.78362 1.64341 2.27368 1.96653 1.82874C2.15417 1.57058 2.38228 1.34238 2.64048 1.15479C3.08544 0.831797 3.59533 0.696754 4.17476 0.633962C4.74193 0.572545 5.45218 0.573518 6.32658 0.573518H9.13321Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.2193 14.9553H10.0124L11.3744 13.6134H14.2193V14.9553Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.24493 13.3711L7.49015 14.8806C7.40148 15.058 7.58961 15.2461 7.76695 15.1574L9.27651 14.4027L14.6147 9.09933L13.5832 8.06775L8.24493 13.3711Z",fill:"currentColor"})]}),P=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.65039 12.2344H7.34961V9.23438H8.65039V12.2344Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 0.615234C9.87777 0.615234 11.4004 2.13786 11.4004 4.01562V6.10156C11.5457 6.10775 11.6823 6.11533 11.8105 6.12695C12.299 6.17123 12.7312 6.26582 13.125 6.49316C13.5885 6.76079 13.9735 7.14589 14.2412 7.60938C14.4686 8.00316 14.5631 8.43543 14.6074 8.92383C14.6509 9.40335 14.6504 9.99884 14.6504 10.7344C14.6504 11.4699 14.6509 12.0654 14.6074 12.5449C14.5632 13.0334 14.4685 13.4656 14.2412 13.8594C13.9736 14.3229 13.5885 14.7079 13.125 14.9756C12.7311 15.203 12.2991 15.2975 11.8105 15.3418C11.331 15.3853 10.7357 15.3848 10 15.3848H6C5.26431 15.3848 4.66905 15.3853 4.18945 15.3418C3.70092 15.2975 3.26887 15.203 2.875 14.9756C2.41147 14.7079 2.02644 14.3229 1.75879 13.8594C1.53149 13.4656 1.43685 13.0334 1.39258 12.5449C1.34915 12.0654 1.34961 11.4699 1.34961 10.7344C1.34961 9.99884 1.34912 9.40335 1.39258 8.92383C1.43687 8.43543 1.53144 8.00316 1.75879 7.60938C2.02646 7.14589 2.41149 6.76079 2.875 6.49316C3.26884 6.26582 3.70097 6.17123 4.18945 6.12695C4.31772 6.11533 4.45432 6.10775 4.59961 6.10156V4.01562C4.59961 2.13786 6.12223 0.615235 8 0.615234ZM6 7.38477C5.24037 7.38477 4.71395 7.38496 4.30664 7.42188C3.90858 7.45796 3.68839 7.52511 3.52539 7.61914C3.25944 7.77268 3.03835 7.99385 2.88477 8.25977C2.79072 8.42273 2.7236 8.64305 2.6875 9.04102C2.65059 9.44827 2.65039 9.97491 2.65039 10.7344C2.65039 11.4938 2.65062 12.0205 2.6875 12.4277C2.72358 12.8257 2.79077 13.046 2.88477 13.209C3.03833 13.475 3.25943 13.696 3.52539 13.8496C3.6884 13.9437 3.90848 14.0108 4.30664 14.0469C4.71396 14.0838 5.24035 14.084 6 14.084H10C10.7597 14.084 11.286 14.0838 11.6934 14.0469C12.0915 14.0108 12.3116 13.9437 12.4746 13.8496C12.7406 13.696 12.9617 13.475 13.1152 13.209C13.2092 13.046 13.2764 12.8257 13.3125 12.4277C13.3494 12.0205 13.3496 11.4938 13.3496 10.7344C13.3496 9.97491 13.3494 9.44827 13.3125 9.04102C13.2764 8.64305 13.2093 8.42273 13.1152 8.25977C12.9616 7.99385 12.7406 7.77268 12.4746 7.61914C12.3116 7.52511 12.0914 7.45796 11.6934 7.42188C11.286 7.38496 10.7596 7.38477 10 7.38477H6ZM8 1.91602C6.8402 1.91602 5.90039 2.85583 5.90039 4.01562V6.08398H10.0996V4.01562C10.0996 2.85583 9.1598 1.91602 8 1.91602Z",fill:"currentColor"})]}),D=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M5.16434 2.61472C4.54666 2.61472 4.12852 2.61472 3.80692 2.64304C3.49456 2.67059 3.33995 2.72098 3.23465 2.77976C3.0243 2.8972 2.85013 3.07037 2.7327 3.28073C2.67394 3.38605 2.6245 3.5406 2.59696 3.853C2.5686 4.17462 2.56766 4.59259 2.56766 5.21042L2.56766 10.7895C2.56766 11.4073 2.56861 11.8253 2.59696 12.1469C2.6245 12.4594 2.67394 12.6139 2.7327 12.7192C2.85012 12.9296 3.0243 13.1027 3.23465 13.2202C3.33995 13.279 3.49456 13.3294 3.80692 13.3569C4.12852 13.3852 4.54666 13.3852 5.16434 13.3852V14.7856C4.57155 14.7856 4.08121 14.7864 3.68387 14.7514C3.2773 14.7156 2.90102 14.6376 2.55203 14.4428C2.11508 14.1989 1.75394 13.8378 1.51004 13.4009C1.31549 13.052 1.23826 12.6764 1.20242 12.27C1.1674 11.8726 1.16824 11.3824 1.16825 10.7895L1.16825 5.21042C1.16825 4.61757 1.1674 4.1273 1.20243 3.72995C1.23826 3.32357 1.31548 2.94794 1.51004 2.59909C1.75395 2.16208 2.11507 1.80107 2.55203 1.5571C2.90102 1.36233 3.2773 1.28436 3.68387 1.24851C4.08121 1.2135 4.57155 1.21433 5.16434 1.21433L5.16434 2.61472Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.8108 7.73386C14.8387 7.91002 14.8387 8.08992 14.8108 8.26608C14.7585 8.59621 14.5985 8.85544 14.4222 9.07468C14.254 9.28369 14.0228 9.51404 13.7688 9.76804L10.4768 13.0591L9.4866 12.0688L12.7786 8.7778C12.8053 8.75114 12.8311 8.72537 12.8557 8.70065H4.91141V7.30026H12.8567C12.8317 7.2752 12.8057 7.2492 12.7786 7.22214L9.4866 3.93112L10.4768 2.94089L13.7688 6.2319C14.0229 6.48602 14.2539 6.71617 14.4222 6.92526C14.5985 7.14451 14.7585 7.40371 14.8108 7.73386Z",fill:"currentColor"})]}),B=()=>(0,a.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M17.2027 4.90036V6.43657H2.79727V4.90036H17.2027Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.9604 13.0635V14.5997H2.79727V13.0635H10.9604Z",fill:"currentColor"})]}),V=()=>(0,a.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.8113 15.8271C13.5355 16.8432 11.9198 17.4502 10.1599 17.4502V19.0498C12.2947 19.0498 14.2593 18.312 15.8084 17.0781L14.8113 15.8271ZM15.9939 5.35352C17.0139 6.62776 17.6238 8.24181 17.6238 10C17.6238 11.7582 17.0139 13.3722 15.9939 14.6465L17.2439 15.6465C18.4826 14.099 19.2234 12.1348 19.2234 10C19.2234 7.86525 18.4826 5.90103 17.2439 4.35352L15.9939 5.35352ZM1.95972 6.33594C0.912026 8.63275 0.776579 11.3729 1.96949 13.8799L3.41382 13.1924C2.44402 11.1543 2.54402 8.91111 3.41578 7L1.95972 6.33594ZM10.1599 0.950195C7.35573 0.950203 4.95212 2.24332 3.3357 4.16113L4.55933 5.19238C5.90077 3.60083 7.8707 2.54981 10.1599 2.5498C11.9198 2.54982 13.5355 3.15676 14.8113 4.17285L15.8084 2.92188C14.2593 1.68801 12.2947 0.950206 10.1599 0.950195Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M6.33863 16.2573C5.45619 15.642 4.19001 15.4232 3.14527 16.0825L3.12769 16.0933L2.12964 16.7964L2.63257 18.2935L2.6814 18.3648L4.0066 17.4312C4.37843 17.2015 4.93515 17.2284 5.42359 17.5689C5.84126 17.8602 6.24521 18.0987 6.65992 18.2867L7.38843 18.6168L8.04957 17.1597L7.32105 16.8296C7.01376 16.6903 6.69427 16.5054 6.33863 16.2573Z",fill:"currentColor"})]}),H=()=>(0,a.jsx)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M10 1.22943C5.15604 1.22943 1.22943 5.15604 1.22943 10C1.22943 11.3437 1.53197 12.6189 2.07365 13.7592L2.40679 14.4596L3.80656 13.7942L3.47436 13.0939L3.31631 12.7371C2.97057 11.8938 2.77968 10.97 2.77968 10C2.77968 6.01243 6.01243 2.77968 10 2.77968C13.9876 2.77968 17.2203 6.01243 17.2203 10C17.2203 13.9876 13.9876 17.2203 10 17.2203C9.18341 17.2203 8.58586 17.1622 8.05603 17.0159C7.53403 16.8717 7.03891 16.6305 6.44615 16.2171C5.5775 15.6112 4.3323 15.3975 3.3059 16.0458L3.28981 16.0562L3.27372 16.0676L2.5904 16.5484L3.10431 18.0825L4.14444 17.35C4.51837 17.1207 5.07302 17.1507 5.5584 17.4891C6.26064 17.9789 6.91506 18.3092 7.64339 18.5103C8.36397 18.7093 9.11785 18.7706 10 18.7706C14.844 18.7706 18.7706 14.844 18.7706 10C18.7706 5.15604 14.844 1.22943 10 1.22943ZM9.2192 6.36949V9.22487H6.36949V10.7751H9.2192V13.6305H10.7694V10.7751H13.6305V9.22487H10.7694V6.36949H9.2192Z",fill:"currentColor"})}),U=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.67272 0.522827C10.8339 0.522827 11.76 0.522701 12.4963 0.60248C13.2453 0.683644 13.8789 0.854235 14.4264 1.25196C14.7504 1.48738 15.0355 1.77246 15.2709 2.09648C15.6686 2.64392 15.8392 3.27756 15.9204 4.02653C16.0002 4.76289 16 5.68894 16 6.85013V9.14985C16 10.311 16.0002 11.2371 15.9204 11.9734C15.8392 12.7224 15.6686 13.3561 15.2709 13.9035C15.0355 14.2275 14.7504 14.5126 14.4264 14.748C13.8789 15.1457 13.2453 15.3163 12.4963 15.3975C11.76 15.4773 10.8339 15.4772 9.67272 15.4772H6.3273C5.16611 15.4772 4.24006 15.4773 3.50371 15.3975C2.75474 15.3163 2.1211 15.1457 1.57366 14.748C1.24963 14.5126 0.964549 14.2275 0.729131 13.9035C0.331407 13.3561 0.160817 12.7224 0.0796529 11.9734C-0.000126137 11.2371 1.25338e-09 10.311 1.25338e-09 9.14985V6.85013C1.25329e-09 5.68894 -0.000126137 4.76289 0.0796529 4.02653C0.160817 3.27756 0.331407 2.64392 0.729131 2.09648C0.964549 1.77246 1.24963 1.48738 1.57366 1.25196C2.1211 0.854235 2.75474 0.683644 3.50371 0.60248C4.24006 0.522701 5.16611 0.522827 6.3273 0.522827H9.67272ZM5.54303 1.88714V14.1118C5.78636 14.1128 6.04709 14.1169 6.3273 14.1169H9.67272C10.8639 14.1169 11.7032 14.1164 12.3493 14.0465C12.9824 13.9779 13.3497 13.8494 13.6268 13.6482C13.8354 13.4966 14.0195 13.3125 14.1711 13.1039C14.3723 12.8268 14.5007 12.4595 14.5693 11.8264C14.6393 11.1803 14.6398 10.341 14.6398 9.14985V6.85013C14.6398 5.65895 14.6393 4.81965 14.5693 4.17359C14.5007 3.54047 14.3723 3.17317 14.1711 2.89608C14.0195 2.68746 13.8354 2.50335 13.6268 2.35178C13.3497 2.15059 12.9824 2.02211 12.3493 1.95352C11.7032 1.88356 10.8639 1.88305 9.67272 1.88305H6.3273C6.04709 1.88305 5.78636 1.88618 5.54303 1.88714ZM4.1828 1.91165C3.99125 1.92158 3.8148 1.93575 3.65076 1.95352C3.01764 2.02211 2.65034 2.15059 2.37325 2.35178C2.16463 2.50335 1.98052 2.68746 1.82895 2.89608C1.62776 3.17317 1.49928 3.54047 1.43069 4.17359C1.36074 4.81965 1.36023 5.65895 1.36023 6.85013V9.14985C1.36023 10.341 1.36074 11.1803 1.43069 11.8264C1.49928 12.4595 1.62776 12.8268 1.82895 13.1039C1.98052 13.3125 2.16463 13.4966 2.37325 13.6482C2.65034 13.8494 3.01764 13.9779 3.65076 14.0465C3.81478 14.0642 3.99127 14.0774 4.1828 14.0873V1.91165Z",fill:"currentColor"})}),W=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M5.5498 9.75V5H6.9502V9.75C6.9502 10.3299 7.4201 10.7998 8 10.7998C8.5799 10.7998 9.0498 10.3299 9.0498 9.75V4.5C9.0498 2.9536 7.7964 1.7002 6.25 1.7002C4.7036 1.7002 3.4502 2.9536 3.4502 4.5V9.75C3.4502 12.2629 5.4871 14.2998 8 14.2998C10.5129 14.2998 12.5498 12.2629 12.5498 9.75V4H13.9502V9.75C13.9502 13.0361 11.2861 15.7002 8 15.7002C4.71391 15.7002 2.0498 13.0361 2.0498 9.75V4.5C2.04981 2.1804 3.9304 0.299806 6.25 0.299805C8.5696 0.299805 10.4502 2.1804 10.4502 4.5V9.75C10.4502 11.1031 9.3531 12.2002 8 12.2002C6.6469 12.2002 5.5498 11.1031 5.5498 9.75Z",fill:"currentColor"})}),z=()=>(0,a.jsxs)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10.3574 5.02295C10.3574 4.18592 10.3566 3.60598 10.3086 3.16162C10.2617 2.72854 10.1758 2.49535 10.0527 2.32568C9.95376 2.18922 9.83369 2.06924 9.69727 1.97022C9.5276 1.84716 9.29444 1.76026 8.86133 1.71338C8.41698 1.6653 7.83709 1.66455 7 1.66455C6.16301 1.66455 5.58302 1.66533 5.13867 1.71338C4.70548 1.76026 4.47242 1.84714 4.30274 1.97022C4.16621 2.06926 4.04631 2.18916 3.94727 2.32568C3.82419 2.49537 3.73731 2.72843 3.69043 3.16162C3.64238 3.60597 3.6416 4.18596 3.6416 5.02295V8.97705C3.6416 9.814 3.64239 10.394 3.69043 10.8384C3.73731 11.2716 3.82419 11.5046 3.94727 11.6743C4.04634 11.8109 4.16615 11.9317 4.30274 12.0308C4.47239 12.1537 4.70575 12.2398 5.13867 12.2866C5.58302 12.3347 6.163 12.3355 7 12.3355C7.83709 12.3355 8.41698 12.3347 8.86133 12.2866C9.29443 12.2397 9.5276 12.1538 9.69727 12.0308C9.83387 11.9317 9.95365 11.8109 10.0527 11.6743C10.1757 11.5047 10.2617 11.2714 10.3086 10.8384C10.3566 10.394 10.3574 9.81403 10.3574 8.97705V5.02295ZM11.5576 8.97705C11.5576 9.78758 11.5586 10.4443 11.502 10.9683C11.444 11.5033 11.3204 11.9713 11.0244 12.3794C10.851 12.6184 10.6404 12.8281 10.4014 13.0015C9.9932 13.2975 9.52537 13.4211 8.99024 13.479C8.46635 13.5357 7.81041 13.5347 7 13.5347C6.18948 13.5347 5.53273 13.5357 5.00879 13.479C4.47385 13.4211 4.0057 13.2974 3.59766 13.0015C3.35882 12.8282 3.14886 12.6182 2.97559 12.3794C2.67961 11.9713 2.55597 11.5032 2.49805 10.9683C2.44135 10.4443 2.44238 9.78758 2.44238 8.97705V5.02295C2.44238 4.21243 2.44135 3.55568 2.49805 3.03174C2.55598 2.4968 2.67962 2.02866 2.97559 1.62061C3.14887 1.38177 3.35883 1.17182 3.59766 0.998536C4.00571 0.70257 4.47385 0.578927 5.00879 0.520997C5.53273 0.464302 6.18948 0.465333 7 0.465333C7.81041 0.465333 8.46635 0.464308 8.99024 0.520997C9.52537 0.578905 9.9932 0.702489 10.4014 0.998536C10.6404 1.17191 10.851 1.38158 11.0244 1.62061C11.3204 2.02867 11.444 2.49678 11.502 3.03174C11.5586 3.55568 11.5576 4.21243 11.5576 5.02295V8.97705Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M8.75829 10.2657V11.3653H5.24071V10.2657H8.75829Z",fill:"currentColor"})]}),G=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M12.3032 5.2207C12.3032 4.30537 12.3017 3.67471 12.2495 3.19238C12.1987 2.72311 12.1061 2.477 11.978 2.30078C11.8732 2.15657 11.7463 2.0296 11.6021 1.92481C11.4259 1.79683 11.1804 1.70416 10.7114 1.65332C10.2291 1.60107 9.59844 1.60059 8.68311 1.60059H7.31787C6.40256 1.60059 5.77188 1.6011 5.28955 1.65332C4.82028 1.70416 4.57417 1.79677 4.39795 1.92481C4.25372 2.02961 4.12678 2.15655 4.02197 2.30078C3.89394 2.477 3.80133 2.72311 3.75049 3.19238C3.69826 3.67471 3.69775 4.30539 3.69775 5.2207V10.7803C3.69775 11.6958 3.69823 12.3262 3.75049 12.8086C3.80131 13.2776 3.89404 13.523 4.02197 13.6992C4.12673 13.8434 4.25379 13.9704 4.39795 14.0752C4.57417 14.2032 4.82028 14.2958 5.28955 14.3467C5.77189 14.3989 6.40252 14.4004 7.31787 14.4004H8.68311C9.59844 14.4004 10.2291 14.3989 10.7114 14.3467C11.1804 14.2958 11.4259 14.2032 11.6021 14.0752C11.7463 13.9704 11.8732 13.8435 11.978 13.6992C12.106 13.523 12.1987 13.2777 12.2495 12.8086C12.3018 12.3262 12.3032 11.6958 12.3032 10.7803V5.2207ZM13.7026 10.7803C13.7026 11.6644 13.7034 12.3838 13.6411 12.959C13.5774 13.5474 13.4412 14.0678 13.1108 14.5225C12.9197 14.7855 12.6883 15.0169 12.4253 15.208C11.9706 15.5383 11.4502 15.6755 10.8618 15.7393C10.2866 15.8016 9.56724 15.7998 8.68311 15.7998H7.31787C6.43353 15.7998 5.71347 15.8016 5.13818 15.7393C4.54993 15.6755 4.03026 15.5382 3.57568 15.208C3.31251 15.0168 3.08037 14.7856 2.88916 14.5225C2.5589 14.0678 2.42263 13.5473 2.35889 12.959C2.2966 12.3838 2.29736 11.6644 2.29736 10.7803V5.2207C2.29736 4.33636 2.29656 3.6163 2.35889 3.04102C2.42263 2.4529 2.55908 1.93301 2.88916 1.47852C3.08037 1.21534 3.31251 0.983199 3.57568 0.791993C4.03018 0.461915 4.55007 0.325461 5.13818 0.261719C5.71347 0.199391 6.43353 0.200196 7.31787 0.200196H8.68311C9.56726 0.200196 10.2866 0.199405 10.8618 0.261719C11.4502 0.325467 11.9706 0.461667 12.4253 0.791993C12.6884 0.983191 12.9196 1.21536 13.1108 1.47852C13.441 1.93304 13.5774 2.45285 13.6411 3.04102C13.7034 3.6163 13.7026 4.33636 13.7026 5.2207V10.7803Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.1039 11.9141V13.2149H5.89593V11.9141H10.1039Z",fill:"currentColor"})]}),K=()=>(0,a.jsxs)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M5.90892 1.66374V3.06413H4.54564C3.1215 3.06418 1.97342 4.21226 1.97337 5.6364H0.572983C0.573032 3.43906 2.3483 1.66379 4.54564 1.66374H5.90892Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M0.572968 14.3636V13.8461H1.97336V14.3636C1.97354 15.7877 3.12156 16.9359 4.54562 16.9359H10.904V18.3363H4.54562C2.34837 18.3362 0.573148 16.5609 0.572968 14.3636Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M19.4269 14.3633C19.4269 16.5607 17.6517 18.336 15.4543 18.336V16.9356C16.8785 16.9356 18.0265 15.7875 18.0265 14.3633H19.4269Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M18.0264 5.63638C18.0264 4.21221 16.8783 3.06412 15.4541 3.06412H7.53813V1.66373H15.4541C17.6515 1.66373 19.4268 3.43901 19.4268 5.63638V7.2731H18.0264V5.63638Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M11.8388 7.45163C11.8085 7.569 11.791 7.6915 11.791 7.81784C11.791 8.63113 12.4591 9.29922 13.2724 9.29928C13.3985 9.29928 13.5205 9.28063 13.6376 9.25046L14.7021 10.3149C14.2799 10.558 13.7926 10.6997 13.2724 10.6997C11.6859 10.6996 10.3906 9.40433 10.3906 7.81784C10.3906 7.29761 10.5312 6.80937 10.7744 6.38718L11.8388 7.45163ZM13.2724 4.936C14.8588 4.936 16.1541 6.23144 16.1542 7.81784C16.1542 8.34149 16.0107 8.83222 15.7646 9.25632L14.7021 8.19382C14.7341 8.07345 14.7539 7.94775 14.7539 7.81784C14.7537 7.00464 14.0856 6.33639 13.2724 6.33639C13.1422 6.33641 13.0161 6.35506 12.8955 6.38718L11.8339 5.32565C12.258 5.0795 12.7487 4.93603 13.2724 4.936Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M14.6537 16.9359L15.4543 16.9356V18.336L14.3636 18.3363C14.1781 18.3362 13.9998 18.2623 13.8685 18.1312L13.0501 17.3128L14.0404 16.3226L14.6537 16.9359Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M5.05383 9.26958C5.43503 9.24329 5.80608 9.26943 6.1759 9.34868H6.1798C6.69303 9.46207 7.07354 9.57983 7.53137 9.91509C7.9313 10.208 8.39807 10.6748 9.14074 11.4122L8.15441 12.4053C7.37046 11.627 6.99684 11.2593 6.70422 11.045C6.4695 10.8731 6.30341 10.8097 5.87902 10.7159C5.63931 10.6648 5.40059 10.6479 5.15051 10.6651L5.14855 10.6661C4.8821 10.6838 4.61763 10.7601 4.27648 10.9375C4.18129 10.9871 4.07986 11.0441 3.97082 11.1104L3.24426 9.91411C3.37498 9.83466 3.5036 9.76161 3.63098 9.69536C4.09922 9.45183 4.55103 9.30336 5.05383 9.26958Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M1.97336 7.07517V10.7861C2.10107 10.692 2.22778 10.5963 2.35617 10.5029L2.7673 11.0693L3.17941 11.6347C2.78952 11.9183 2.40213 12.2062 2.01633 12.497C1.42509 12.9428 0.572968 12.5239 0.572968 11.7783V7.07517H1.97336Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M19.427 8.63629V13.1812H18.0266V8.63629H19.427Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.714 14.9964L11.7238 15.9866L9.47769 13.7405L10.4679 12.7503L12.714 14.9964Z",fill:"currentColor"})]}),q=()=>(0,a.jsx)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M15.6778 1.54349C16.4878 1.6394 17.1933 1.83692 17.8096 2.2847C18.1831 2.55607 18.5119 2.88485 18.7833 3.25833C19.2472 3.89714 19.4424 4.6316 19.5342 5.47904C19.6243 6.30992 19.6231 7.35184 19.6231 8.64408V11.356C19.6231 12.6479 19.6242 13.6893 19.5342 14.5201C19.4424 15.3677 19.2474 16.1028 18.7833 16.7417C18.5119 17.1152 18.1831 17.444 17.8096 17.7154C17.1706 18.1796 16.4357 18.3755 15.588 18.4673C14.7571 18.5573 13.7152 18.5552 12.4229 18.5552H7.57623C7.27432 18.5552 6.98608 18.5552 6.711 18.5542L10.5811 11.2124L17.6397 14.9556C17.6825 14.7788 17.7185 14.5725 17.7452 14.3267C17.8223 13.6153 17.8233 12.6882 17.8233 11.356V8.64408C17.8233 7.31183 17.8222 6.38479 17.7452 5.67337C17.6699 4.97877 17.5304 4.59697 17.3262 4.31595C17.1659 4.09534 16.9717 3.90105 16.751 3.74075C16.4701 3.53675 16.0887 3.39802 15.3946 3.32279C15.2018 3.30189 14.993 3.28712 14.7647 3.27591L15.6778 1.54349ZM13.0176 1.44388L12.0684 3.24466H7.57623C6.24392 3.24466 5.31696 3.24571 4.60553 3.32279C3.91091 3.39804 3.52913 3.53658 3.24811 3.74075C3.02741 3.90111 2.83327 4.09525 2.67291 4.31595C2.46875 4.59697 2.3302 4.97877 2.25494 5.67337C2.17788 6.3848 2.17682 7.3118 2.17682 8.64408V11.647C2.24714 11.5791 2.33523 11.4992 2.47077 11.3775L2.96002 10.938C3.99714 10.0064 4.51567 9.54029 5.12702 9.34427C5.48616 9.22916 5.86398 9.18274 6.2403 9.20755C6.83267 9.24668 7.40367 9.52967 8.46002 10.0884L4.06745 18.4214C3.36332 18.3148 2.74132 18.1155 2.19049 17.7154C1.81697 17.444 1.48824 17.1153 1.21686 16.7417C0.752646 16.1028 0.556756 15.3678 0.464906 14.5201C0.374943 13.6893 0.376038 12.6479 0.376038 11.356V8.64408C0.376038 7.35184 0.37489 6.30992 0.464906 5.47904C0.556763 4.63148 0.752758 3.89721 1.21686 3.25833C1.48824 2.88481 1.81697 2.55609 2.19049 2.2847C2.82937 1.82058 3.56363 1.62461 4.4112 1.53275C5.24209 1.44272 6.28397 1.44388 7.57623 1.44388H13.0176ZM14.3282 5.89212C15.425 5.89212 16.3145 6.78161 16.3145 7.87845C16.3143 8.97511 15.4249 9.8638 14.3282 9.8638C13.2316 9.86366 12.343 8.97503 12.3428 7.87845C12.3428 6.7817 13.2315 5.89226 14.3282 5.89212Z",fill:"currentColor"})}),Z=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.66 0.963799L14.9887 7.29249L13.2307 7.64409L9.71478 11.16L9.20327 14.2291C9.12304 14.7105 8.53225 14.8998 8.18717 14.5547L1.39776 7.76533C1.05267 7.42024 1.242 6.82946 1.72338 6.74923L4.79246 6.23771L8.30841 2.72177L8.66 0.963799Z",stroke:"currentColor",strokeWidth:1.4,strokeLinejoin:"round"}),(0,a.jsx)("path",{d:"M4.41056 12.8146C3.98733 12.3893 3.56409 11.964 3.14085 11.5387C3.0912 11.6014 3.04156 11.664 2.99192 11.7266C2.09834 12.854 1.20476 13.9813 0.311181 15.1087C0.261538 15.1713 0.211895 15.234 0.162251 15.2966C0.320966 15.4561 0.479681 15.6156 0.638396 15.775C0.701265 15.7257 0.764135 15.6764 0.827004 15.627C1.95865 14.7389 3.09031 13.8508 4.22196 12.9626C4.28483 12.9133 4.3477 12.8639 4.41056 12.8146Z",fill:"currentColor"})]}),Q=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M14.1446 8C14.1446 4.6062 11.3938 1.85539 8 1.85539C4.6062 1.85539 1.85539 4.6062 1.85539 8C1.85539 11.3938 4.6062 14.1446 8 14.1446C11.3938 14.1446 14.1446 11.3938 14.1446 8ZM15.511 8C15.511 12.148 12.148 15.511 8 15.511C3.85202 15.511 0.489014 12.148 0.489014 8C0.489014 3.85202 3.85202 0.489014 8 0.489014C12.148 0.489014 15.511 3.85202 15.511 8Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M10.5617 8.42578C10.852 8.21614 10.852 7.78386 10.5617 7.57422L7.25708 5.18751C6.90974 4.93666 6.42436 5.18484 6.42436 5.61329V10.3867C6.42436 10.8152 6.90974 11.0633 7.25708 10.8125L10.5617 8.42578Z",fill:"currentColor"})]}),Y=()=>(0,a.jsx)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M1.27206 6.2135C1.70651 3.0889 4.59175 0.90808 7.7164 1.3424C8.95502 1.5147 10.0438 2.07333 10.8814 2.87756L11.9459 1.81408C12.1348 1.62551 12.4572 1.75913 12.4576 2.026V5.08752C12.4574 5.25304 12.3234 5.38733 12.1578 5.38733H9.09726C8.82999 5.38733 8.69635 5.06362 8.88534 4.87463L10.0328 3.72619C9.37326 3.09995 8.52012 2.6657 7.55136 2.53088C5.08319 2.18781 2.80382 3.91045 2.46054 6.37854C2.11753 8.84666 3.84015 11.1261 6.3082 11.4694C8.77618 11.8122 11.0557 10.0896 11.399 7.6217L11.9937 7.70373L12.5875 7.78674C12.1531 10.9112 9.26762 13.0919 6.14316 12.6578C3.0186 12.2234 0.837799 9.3381 1.27206 6.2135Z",fill:"currentColor"})}),X=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.92139 0.349152C10.3744 0.349234 12.5564 1.5052 13.9558 3.29894L15.1281 2.12759C15.3304 1.92546 15.6767 2.06943 15.6767 2.35538V5.53923C15.6766 5.71626 15.5329 5.85976 15.3559 5.86002H12.171C11.8855 5.8597 11.7426 5.51465 11.9443 5.31249L12.9641 4.29056C11.8237 2.74305 9.98911 1.74106 7.92139 1.74097C4.46439 1.74097 1.66236 4.543 1.66236 8C1.66236 11.457 4.46439 14.259 7.92139 14.259C11.3783 14.2589 14.1804 11.4569 14.1804 8H15.5722C15.5722 12.2251 12.1465 15.6507 7.92139 15.6508C3.69617 15.6508 0.270538 12.2252 0.270538 8C0.270538 3.77478 3.69617 0.349152 7.92139 0.349152Z",fill:"currentColor"})}),J=()=>(0,a.jsx)("svg",{width:8,height:14,viewBox:"0 0 8 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M6.54199 8.62824C6.54199 8.44193 6.54146 8.28829 6.53906 8.15851L1.11719 13.5814L0.728516 13.1927L0.339844 12.803L5.76172 7.38019C5.63201 7.3778 5.47812 7.37824 5.29199 7.37824H1.43555V6.27863H5.29199C5.65471 6.27863 5.97167 6.27814 6.22852 6.30597C6.49541 6.33493 6.76232 6.3998 7.00293 6.57452C7.13452 6.67013 7.25108 6.78571 7.34668 6.9173C7.52157 7.15808 7.5863 7.4256 7.61523 7.69269C7.64305 7.94948 7.64258 8.26562 7.64258 8.62824V12.4857H6.54199V8.62824Z",fill:"currentColor"})}),$=()=>(0,a.jsx)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.70001 1.40039C12.4666 1.40039 14.9263 2.70742 16.4988 4.73535L18.0057 3.22949C18.2324 3.00276 18.6208 3.16374 18.6209 3.48438V7.17871C18.6208 7.37742 18.4593 7.53809 18.2606 7.53809H14.5662C14.2458 7.53771 14.0856 7.15051 14.3123 6.92383L15.6434 5.59082C14.2941 3.77513 12.134 2.59961 9.70001 2.59961C5.61311 2.59961 2.29962 5.91309 2.29962 10C2.29962 14.0869 5.6131 17.4004 9.70001 17.4004C13.7869 17.4004 17.1004 14.0869 17.1004 10H18.2996C18.2996 14.7496 14.4497 18.5996 9.70001 18.5996C4.95036 18.5996 1.1004 14.7496 1.1004 10C1.1004 5.25035 4.95036 1.40039 9.70001 1.40039Z",fill:"currentColor"})}),ee=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.7481 6.70281C11.7481 3.90104 9.47656 1.62977 6.67484 1.62957C3.87295 1.62957 1.60159 3.90092 1.60159 6.70281C1.60179 9.50454 3.87307 11.7761 6.67484 11.7761C9.47644 11.7759 11.7479 9.50441 11.7481 6.70281ZM13.0479 6.70281C13.0477 10.2224 10.1944 13.0757 6.67484 13.0759C3.1551 13.0759 0.301008 10.2225 0.300812 6.70281C0.300812 3.18295 3.15498 0.328789 6.67484 0.328789C10.1945 0.328985 13.0479 3.18307 13.0479 6.70281Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M15.6992 14.7513L14.7792 15.6712L11.3974 12.2894L12.3173 11.3695L15.6992 14.7513Z",fill:"currentColor"})]}),et=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M15.683 14.7514L14.763 15.6713L11.3812 12.2895L12.3011 11.3695L15.683 14.7514Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.26526 12.5172C8.46932 12.8746 7.58782 13.0757 6.65881 13.0758C5.72972 13.0758 4.84747 12.8756 4.05139 12.5181L4.70471 11.3853C5.30616 11.6366 5.96625 11.776 6.65881 11.776C7.3511 11.7759 8.01067 11.6365 8.61194 11.3853L9.26526 12.5172ZM1.62854 7.3531C1.80466 8.72851 2.53029 9.93116 3.57971 10.734L2.92542 11.8668C1.49134 10.8285 0.505229 9.20914 0.317017 7.3531H1.62854ZM12.9987 7.3531C12.8104 9.20937 11.8245 10.8285 10.3903 11.8668L9.73694 10.734C10.7865 9.93115 11.5129 8.72861 11.6891 7.3531H12.9987ZM10.3903 1.53767C11.8246 2.57611 12.8104 4.1959 12.9987 6.05232H11.6891C11.5129 4.6766 10.7869 3.47321 9.73694 2.67049L10.3903 1.53767ZM3.57971 2.67049C2.52998 3.4732 1.8047 4.67669 1.62854 6.05232H0.317017C0.505244 4.19613 1.49119 2.57614 2.92542 1.53767L3.57971 2.67049ZM6.65881 0.32869C7.58761 0.328776 8.46946 0.528969 9.26526 0.886307L8.61096 2.0201C8.00995 1.7692 7.35073 1.62955 6.65881 1.62947C5.96675 1.62947 5.30679 1.76821 4.70569 2.01912L4.05139 0.886307C4.84743 0.528886 5.72979 0.32869 6.65881 0.32869Z",fill:"currentColor"})]}),en=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M8.3125 0.981587C8.66767 1.0545 8.97902 1.20558 9.2627 1.43374C9.48724 1.61438 9.73029 1.85933 9.97949 2.10854L14.707 6.83608L13.293 8.25014L9 3.95717V15.0431H7V3.95717L2.70703 8.25014L1.29297 6.83608L6.02051 2.10854C6.26971 1.85933 6.51277 1.61438 6.7373 1.43374C6.97662 1.24126 7.28445 1.04542 7.6875 0.981587C7.8973 0.94841 8.1031 0.956564 8.3125 0.981587Z",fill:"currentColor"})}),ea=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsxs)("g",{clipPath:"url(#clip0_1450_63327)",children:[(0,a.jsx)("path",{d:"M14.086 5.51365C13.8717 5.05749 13.5879 4.58542 13.2889 4.18107C13.208 4.07171 13.1596 4.04373 13.0242 4.03053C12.4276 3.97254 11.8244 4.05526 11.2269 3.99719C10.7223 3.94815 10.3132 3.7166 10.0115 3.30918C9.6698 2.84776 9.43967 2.31343 9.09818 1.85234C9.01765 1.74364 8.96799 1.71588 8.83348 1.70281C8.29426 1.65044 7.70396 1.65061 7.1665 1.70281C7.03199 1.71588 6.98233 1.74364 6.9018 1.85234C6.56061 2.31302 6.33019 2.84774 5.98849 3.30918C5.68675 3.7166 5.27768 3.94815 4.7731 3.99719C4.17557 4.05526 3.57233 3.97254 2.97579 4.03053C2.8404 4.04373 2.79201 4.07171 2.71109 4.18107C2.41205 4.58542 2.12829 5.05749 1.91397 5.51365C1.85293 5.64358 1.8528 5.7018 1.91397 5.83189C2.14859 6.33076 2.49741 6.76892 2.73231 7.26853C2.95934 7.7515 2.96035 8.24716 2.73332 8.73043C2.49831 9.2306 2.14885 9.66837 1.91397 10.1681C1.85285 10.2982 1.85293 10.3564 1.91397 10.4863C2.1285 10.9428 2.41179 11.4142 2.71109 11.8189C2.79201 11.9283 2.8404 11.9562 2.97579 11.9694C3.57233 12.0274 4.17557 11.9447 4.7731 12.0028C5.27768 12.0518 5.68675 12.2834 5.98849 12.6908C6.33018 13.1522 6.56031 13.6865 6.9018 14.1476C6.98233 14.2563 7.03199 14.2841 7.1665 14.2972C7.70396 14.3494 8.29426 14.3495 8.83348 14.2972C8.96799 14.2841 9.01765 14.2563 9.09818 14.1476C9.43937 13.687 9.66979 13.1522 10.0115 12.6908C10.3132 12.2834 10.7223 12.0518 11.2269 12.0028C11.8243 11.9447 12.4271 12.0275 13.0242 11.9694C13.1596 11.9562 13.208 11.9283 13.2889 11.8189C13.589 11.4131 13.8719 10.942 14.086 10.4863C14.1471 10.3564 14.1471 10.2982 14.086 10.1681C13.8512 9.6686 13.5017 9.23061 13.2667 8.73043C13.0396 8.24716 13.0406 7.7515 13.2677 7.26853C13.5026 6.7689 13.8513 6.33106 14.086 5.83189C14.1472 5.7018 14.1471 5.64358 14.086 5.51365ZM15.3034 6.40372C15.0684 6.90358 14.7188 7.34118 14.4841 7.84036C14.423 7.97024 14.423 8.02855 14.4841 8.1586C14.7189 8.65833 15.0684 9.09611 15.3034 9.59626C15.5308 10.0801 15.5307 10.5743 15.3034 11.0582C15.052 11.5933 14.7224 12.1425 14.3699 12.6191C14.0684 13.0265 13.658 13.259 13.1535 13.3081C12.5565 13.366 11.9541 13.2835 11.3572 13.3414C11.2227 13.3545 11.173 13.3822 11.0925 13.4909C10.751 13.9521 10.5209 14.4864 10.1792 14.9478C9.87822 15.3542 9.46713 15.5869 8.96381 15.6358C8.34002 15.6964 7.66188 15.6966 7.03617 15.6358C6.53285 15.5869 6.12176 15.3542 5.82078 14.9478C5.47905 14.4863 5.24872 13.9517 4.90747 13.4909C4.82695 13.3822 4.77728 13.3545 4.64278 13.3414C4.04641 13.2835 3.44367 13.366 2.84647 13.3081C2.34195 13.259 1.93158 13.0265 1.63007 12.6191C1.27861 12.144 0.948392 11.5941 0.69656 11.0582C0.469254 10.5743 0.469218 10.0801 0.69656 9.59626C0.931567 9.09612 1.28124 8.65806 1.51591 8.1586C1.57702 8.02855 1.57696 7.97024 1.51591 7.84036C1.28111 7.34094 0.931574 6.90359 0.69656 6.40372C0.469152 5.91991 0.469306 5.42561 0.69656 4.94182C0.94838 4.40586 1.27862 3.85597 1.63007 3.38091C1.93158 2.97348 2.34195 2.74094 2.84647 2.69189C3.44347 2.63396 4.04593 2.71648 4.64278 2.65855C4.77728 2.64548 4.82695 2.61773 4.90747 2.50903C5.24898 2.04791 5.47907 1.51361 5.82078 1.05218C6.12176 0.645798 6.53285 0.413111 7.03617 0.36417C7.65996 0.303549 8.3381 0.303362 8.96381 0.36417C9.46713 0.413111 9.87822 0.645798 10.1792 1.05218C10.5209 1.51364 10.7513 2.04827 11.0925 2.50903C11.173 2.61773 11.2227 2.64548 11.3572 2.65855C11.9541 2.71648 12.5565 2.63396 13.1535 2.69189C13.658 2.74094 14.0684 2.97348 14.3699 3.38091C14.7214 3.85597 15.0516 4.40586 15.3034 4.94182C15.5307 5.42561 15.5308 5.91991 15.3034 6.40372Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M9.13758 7.99999C9.13758 7.37149 8.62849 6.86239 7.99999 6.86239C7.37149 6.86239 6.8624 7.37149 6.8624 7.99999C6.8624 8.62849 7.37149 9.13758 7.99999 9.13758C8.62849 9.13758 9.13758 8.62849 9.13758 7.99999ZM10.4833 7.99999C10.4833 9.37126 9.37126 10.4833 7.99999 10.4833C6.62872 10.4833 5.51668 9.37126 5.51668 7.99999C5.51668 6.62872 6.62872 5.51668 7.99999 5.51668C9.37126 5.51668 10.4833 6.62872 10.4833 7.99999Z",fill:"currentColor"})]}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_1450_63327",children:(0,a.jsx)("rect",{width:16,height:16,fill:"currentColor"})})})]}),es=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M7.95889 1.52285C7.95888 0.826234 8.76055 0.467983 9.27669 0.875208L9.37524 0.967191L15.1317 7.18358C15.5582 7.64419 15.5582 8.35614 15.1317 8.81676L9.37524 15.0331C8.87034 15.578 7.95888 15.2205 7.95889 14.4775V10.8207C7.10614 10.8432 6.31361 10.9316 5.45468 11.2515C4.39484 11.6463 3.18248 12.413 1.64676 13.9425C1.4533 14.135 1.18329 14.1696 0.969086 14.0908C0.74748 14.0091 0.547307 13.7879 0.54859 13.4844L0.55516 13.1315C0.618924 11.3494 1.11153 9.29838 2.27656 7.63787C3.45289 5.96147 5.29554 4.71635 7.95889 4.54797V1.52285ZM9.20911 5.13366C9.20899 5.50567 8.9031 5.77687 8.56523 5.77755C5.99383 5.78282 4.33736 6.8762 3.29964 8.35496C2.54519 9.43014 2.10739 10.7283 1.9152 11.9939C3.04749 11.0323 4.0569 10.4385 5.01917 10.0801C6.29638 9.60449 7.4406 9.56343 8.56429 9.56295C8.9178 9.5628 9.20894 9.84909 9.20911 10.2068L9.20817 13.3737L14.1837 8.00017L9.20817 2.62571L9.20911 5.13366Z",fill:"currentColor"})}),er=()=>(0,a.jsx)("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M9.73047 1.98239C9.73046 1.21153 10.6128 0.810523 11.1895 1.25486L11.3008 1.35544L18.3906 8.83005C18.8698 9.33527 18.8696 10.1273 18.3906 10.6328L11.3008 18.1152C10.735 18.7123 9.73046 18.3118 9.73047 17.4892V12.9765C9.05058 12.9603 8.23982 12.9642 7.26075 13.206C5.95079 13.5297 4.32474 14.294 2.49512 16.1133C2.27349 16.3334 1.96525 16.3697 1.72364 16.2793C1.47489 16.1859 1.24879 15.9363 1.25 15.5937L1.25879 15.167C1.33996 13.0226 1.97201 10.7003 3.34278 8.85642C4.71905 7.00534 6.81702 5.67342 9.73047 5.48728V1.98239ZM11.1504 6.15427C11.1502 6.57441 10.8056 6.88304 10.4209 6.88376C7.60432 6.88909 5.7029 8.06242 4.48243 9.70407C3.57516 10.9245 3.03042 12.426 2.79981 13.9394C4.29988 12.7446 5.69229 12.1304 6.91993 11.8271C8.47348 11.4433 9.75076 11.5693 10.4229 11.5713C10.8512 11.5725 11.1504 11.926 11.1504 12.3017V16.209L17.2881 9.73142L11.1504 3.25974V6.15427Z",fill:"currentColor"})}),eo=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M2 4.88C2 3.68009 2 3.08013 2.30557 2.65954C2.40426 2.52371 2.52371 2.40426 2.65954 2.30557C3.08013 2 3.68009 2 4.88 2H11.12C12.3199 2 12.9199 2 13.3405 2.30557C13.4763 2.40426 13.5957 2.52371 13.6944 2.65954C14 3.08013 14 3.68009 14 4.88V11.12C14 12.3199 14 12.9199 13.6944 13.3405C13.5957 13.4763 13.4763 13.5957 13.3405 13.6944C12.9199 14 12.3199 14 11.12 14H4.88C3.68009 14 3.08013 14 2.65954 13.6944C2.52371 13.5957 2.40426 13.4763 2.30557 13.3405C2 12.9199 2 12.3199 2 11.12V4.88Z",fill:"currentColor"})}),ei=()=>(0,a.jsxs)("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M7.06428 5.93342C7.6876 5.93342 8.19304 6.43904 8.19319 7.06233C8.19319 7.68573 7.68769 8.19123 7.06428 8.19123C6.44096 8.19113 5.93537 7.68567 5.93537 7.06233C5.93552 6.43911 6.44105 5.93353 7.06428 5.93342Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.68147 0.963693C10.1168 0.447019 11.6266 0.374829 12.5633 1.31135C13.5 2.24805 13.4276 3.75776 12.911 5.19319C12.7126 5.74431 12.4385 6.31796 12.0965 6.89729C12.4969 7.54638 12.8141 8.19018 13.036 8.80647C13.5527 10.2419 13.625 11.7516 12.6883 12.6883C11.7516 13.625 10.2419 13.5527 8.80647 13.036C8.19019 12.8141 7.54638 12.4969 6.89729 12.0965C6.31794 12.4386 5.74432 12.7125 5.19319 12.911C3.75774 13.4276 2.24807 13.5 1.31135 12.5633C0.374829 11.6266 0.447019 10.1168 0.963693 8.68147C1.17182 8.10338 1.46318 7.50063 1.82893 6.8924C1.52179 6.35711 1.27232 5.82825 1.08869 5.31819C0.572038 3.88278 0.499683 2.37306 1.43635 1.43635C2.37304 0.499655 3.88277 0.572044 5.31819 1.08869C5.82825 1.27232 6.35712 1.5218 6.8924 1.82893C7.50063 1.46318 8.10338 1.17181 8.68147 0.963693ZM11.3572 8.01154C10.9083 8.62253 10.3901 9.22873 9.8094 9.8094C9.22874 10.3901 8.62252 10.9083 8.01154 11.3572C8.42567 11.5841 8.82867 11.7688 9.21272 11.9071C10.5455 12.3868 11.4246 12.2547 11.8397 11.8397C12.2547 11.4246 12.3869 10.5456 11.9071 9.21272C11.7688 8.82866 11.5841 8.42568 11.3572 8.01154ZM2.56526 8.02912C2.3734 8.39322 2.21492 8.74796 2.0926 9.08772C1.61288 10.4204 1.74509 11.2995 2.15998 11.7147C2.57502 12.1297 3.45412 12.2618 4.78694 11.7821C5.11053 11.6656 5.44783 11.5164 5.79377 11.3367C5.24897 10.9223 4.70919 10.4533 4.19026 9.9344C3.57575 9.31987 3.03166 8.67633 2.56526 8.02912ZM6.90705 3.2469C6.24062 3.70479 5.56457 4.26321 4.91389 4.91389C4.26322 5.56456 3.70479 6.24063 3.2469 6.90705C3.72671 7.63325 4.32774 8.37459 5.03889 9.08576C5.6494 9.69627 6.2818 10.2265 6.90803 10.6678C7.59365 10.2025 8.29077 9.63076 8.96076 8.96076C9.63077 8.29075 10.2025 7.59366 10.6678 6.90803C10.2265 6.2818 9.69628 5.6494 9.08576 5.03889C8.37459 4.32773 7.63325 3.72672 6.90705 3.2469ZM11.7147 2.15998C11.2995 1.74509 10.4204 1.61288 9.08772 2.0926C8.74832 2.21479 8.39379 2.37271 8.0301 2.56428C8.67725 3.03065 9.31992 3.5758 9.9344 4.19026C10.4533 4.7092 10.9223 5.24896 11.3367 5.79377C11.5164 5.44785 11.6656 5.11052 11.7821 4.78694C12.2618 3.45416 12.1297 2.57502 11.7147 2.15998ZM4.91194 2.2176C3.57918 1.73788 2.70001 1.86995 2.28498 2.28498C1.86998 2.70003 1.73788 3.5792 2.2176 4.91194C2.31706 5.18822 2.44109 5.47427 2.58674 5.7674C3.01928 5.1887 3.51471 4.6158 4.06526 4.06526C4.61581 3.5147 5.18869 3.01928 5.7674 2.58674C5.47428 2.4411 5.18821 2.31706 4.91194 2.2176Z",fill:"currentColor"})]}),el=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8.00195 6.64454C8.75029 6.64454 9.35735 7.25169 9.35742 8.00001C9.35742 8.74838 8.75033 9.35548 8.00195 9.35548C7.2537 9.35533 6.64746 8.74829 6.64746 8.00001C6.64753 7.25178 7.25374 6.64468 8.00195 6.64454Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.97168 1.29981C11.5854 0.718916 13.271 0.642197 14.3145 1.68555C15.3578 2.72902 15.2811 4.41466 14.7002 6.02833C14.4708 6.66561 14.1505 7.32937 13.75 8.00001C14.1505 8.67062 14.4708 9.33444 14.7002 9.97169C15.2811 11.5854 15.3579 13.271 14.3145 14.3145C13.271 15.3579 11.5854 15.2811 9.97168 14.7002C9.33443 14.4708 8.67062 14.1505 8 13.75C7.32936 14.1505 6.66561 14.4708 6.02832 14.7002C4.41464 15.2811 2.72902 15.3578 1.68555 14.3145C0.642186 13.271 0.718901 11.5854 1.29981 9.97169C1.52918 9.33454 1.84868 8.67049 2.24902 8.00001C1.84869 7.32953 1.52918 6.66544 1.29981 6.02833C0.718882 4.41459 0.6421 2.729 1.68555 1.68555C2.729 0.642112 4.41459 0.718887 6.02832 1.29981C6.66544 1.52918 7.32953 1.8487 8 2.24903C8.67048 1.84869 9.33454 1.52919 9.97168 1.29981ZM12.9404 9.2129C12.4391 9.893 11.8616 10.5681 11.2148 11.2149C10.5681 11.8616 9.89299 12.4391 9.21289 12.9404C9.62535 13.1579 10.0271 13.338 10.4121 13.4766C11.9146 14.0174 12.9173 13.8738 13.3955 13.3955C13.8737 12.9173 14.0174 11.9146 13.4766 10.4121C13.338 10.0271 13.1579 9.62535 12.9404 9.2129ZM3.05859 9.2129C2.84124 9.62523 2.662 10.0272 2.52344 10.4121C1.98255 11.9146 2.1263 12.9172 2.60449 13.3955C3.08281 13.8737 4.08548 14.0174 5.58789 13.4766C5.97267 13.338 6.37392 13.1577 6.78613 12.9404C6.10627 12.4393 5.43171 11.8614 4.78516 11.2149C4.13826 10.5679 3.55995 9.89313 3.05859 9.2129ZM7.99902 3.792C7.23182 4.31419 6.45309 4.95512 5.7041 5.70411C4.95512 6.45309 4.31418 7.23184 3.79199 7.99903C4.31434 8.76666 4.95474 9.54653 5.7041 10.2959C6.45312 11.0449 7.23274 11.6848 8 12.207C8.76728 11.6848 9.54686 11.0449 10.2959 10.2959C11.0449 9.54686 11.6848 8.76729 12.207 8.00001C11.6848 7.23275 11.0449 6.45312 10.2959 5.70411C9.54653 4.95475 8.76665 4.31434 7.99902 3.792ZM5.58789 2.52344C4.08536 1.98255 3.08275 2.12625 2.60449 2.6045C2.12624 3.08275 1.98255 4.08536 2.52344 5.5879C2.66192 5.97253 2.84143 6.37409 3.05859 6.78614C3.55986 6.10611 4.13843 5.43189 4.78516 4.78516C5.4319 4.13843 6.10609 3.55987 6.78613 3.0586C6.37408 2.84144 5.97252 2.66192 5.58789 2.52344ZM13.3955 2.6045C12.9172 2.12631 11.9146 1.98257 10.4121 2.52344C10.0272 2.66201 9.62522 2.84125 9.21289 3.0586C9.89313 3.55996 10.5679 4.13827 11.2148 4.78516C11.8614 5.43172 12.4392 6.10627 12.9404 6.78614C13.1577 6.37393 13.338 5.97267 13.4766 5.5879C14.0174 4.08549 13.8736 3.08281 13.3955 2.6045Z",fill:"currentColor"})]}),ec=()=>(0,a.jsx)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M14.4782 4.84066L14.2138 10.1152C14.1102 12.1872 14.0671 13.0115 13.3867 13.9607C13.1044 14.3546 12.7499 14.6912 12.3425 14.9535C11.824 15.2872 11.2415 15.4316 10.5586 15.4998C9.88733 15.5668 9.04952 15.5656 8.00004 15.5656C6.95057 15.5656 6.11276 15.5668 5.44148 15.4998C4.75857 15.4316 4.17608 15.2872 3.65759 14.9535C3.25019 14.6912 2.89565 14.3546 2.61338 13.9607C1.93303 13.0115 1.88985 12.1872 1.78625 10.1152L1.52186 4.84066L2.89012 4.77276L3.15349 10.0463C3.26227 12.2218 3.32458 12.6015 3.72652 13.1624C3.90831 13.4161 4.13693 13.6334 4.39934 13.8023C4.6621 13.9714 5.00269 14.0792 5.57831 14.1367C6.16568 14.1953 6.92304 14.1963 8.00004 14.1963C9.07705 14.1963 9.8344 14.1953 10.4218 14.1367C10.9974 14.0792 11.338 13.9714 11.6008 13.8023C11.8632 13.6334 12.0918 13.4161 12.2736 13.1624C12.6755 12.6015 12.7378 12.2218 12.8466 10.0463L13.11 4.77276L14.4782 4.84066ZM5.43017 6.22848H6.79947V11.3909H5.43017V6.22848ZM9.20062 6.22848H10.5699V11.3909H9.20062V6.22848ZM8.53604 0.434423C9.17982 0.434423 9.65226 0.426918 10.0967 0.57125C10.2358 0.616443 10.3717 0.672546 10.502 0.73894C10.9183 0.951099 11.2465 1.29098 11.7016 1.74611L12.4978 2.54135H15.3743V3.91168H0.625793V2.54135H3.50225L4.29852 1.74611C4.75364 1.29098 5.0818 0.9511 5.49807 0.73894C5.62837 0.672546 5.76431 0.616443 5.9034 0.57125C6.34783 0.426918 6.82027 0.434423 7.46405 0.434423H8.53604ZM7.46405 1.80475C6.73214 1.80475 6.51647 1.81187 6.32623 1.87368C6.25551 1.89666 6.18674 1.92533 6.12047 1.95907C5.96404 2.03877 5.82354 2.16252 5.44148 2.54135H10.5586C10.1765 2.16252 10.036 2.03877 9.87961 1.95907C9.81335 1.92532 9.74458 1.89666 9.67386 1.87368C9.48362 1.81187 9.26795 1.80475 8.53604 1.80475H7.46405Z",fill:"currentColor"})}),ed=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M4.89413 7.25418L2.48691 7.65555L8.34335 13.514L8.74472 11.1057L9.96152 12.3216L9.69296 13.9358C9.51908 14.9787 8.23946 15.3883 7.49179 14.6409L1.35995 8.50809C0.612687 7.76036 1.0232 6.48076 2.06601 6.30692L3.67734 6.03739L4.89413 7.25418ZM8.28378 1.00711C8.53082 0.932422 8.79955 0.999397 8.98203 1.18192L14.817 7.01883C14.9991 7.20133 15.0664 7.46933 14.9918 7.7161C14.917 7.96307 14.7116 8.14879 14.4586 8.1995L13.0455 8.48172L11.5631 9.96415L10.5738 8.97489L12.2057 7.34305L12.2838 7.27567C12.3662 7.2145 12.4616 7.17203 12.5631 7.15165L12.9019 7.08329L8.9166 3.09696L8.84921 3.43583C8.8221 3.57112 8.75533 3.69563 8.65781 3.79325L7.02499 5.42508L6.03476 4.43387L7.51718 2.95243L7.80038 1.53934L7.82578 1.44754C7.89861 1.23769 8.06756 1.0726 8.28378 1.00711Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M4.65713 12.6155C4.23145 12.1927 3.80577 11.7698 3.38008 11.347C3.34021 11.4005 3.30033 11.4539 3.26045 11.5074C2.54263 12.4699 1.82481 13.4324 1.107 14.3948C1.06712 14.4483 1.02724 14.5018 0.987361 14.5553C1.14699 14.7138 1.30662 14.8724 1.46625 15.031C1.51943 14.9907 1.57262 14.9504 1.6258 14.9102C2.58306 14.1855 3.54032 13.4609 4.49758 12.7363C4.55077 12.696 4.60395 12.6558 4.65713 12.6155Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M1.85056 2.22839L13.77 14.1506",stroke:"currentColor",strokeWidth:1.4})]}),eu=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M11.0306 5.46369C11.0304 3.78995 9.67334 2.43357 7.99955 2.43357C6.32595 2.4338 4.96965 3.79009 4.96943 5.46369C4.96943 7.13748 6.32581 8.49455 7.99955 8.49477C9.67348 8.49477 11.0306 7.13762 11.0306 5.46369ZM12.3163 5.46369C12.3163 7.84777 10.3836 9.78042 7.99955 9.78042C5.61566 9.7802 3.68281 7.84763 3.68281 5.46369C3.68304 3.07994 5.61579 1.14718 7.99955 1.14696C10.3835 1.14696 12.3161 3.0798 12.3163 5.46369Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M7.99996 10.3316C11.7342 10.3316 14.1863 11.8997 15.0387 14.4445L14.4292 14.6483L13.8197 14.8531C13.1954 12.9893 11.3672 11.6182 7.99996 11.6182C4.63271 11.6182 2.80449 12.9893 2.18024 14.8531L1.57074 14.6483L0.961243 14.4445C1.81362 11.8997 4.26573 10.3316 7.99996 10.3316Z",fill:"currentColor"})]}),eh=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M7.65039 6.34961H10.1504V7.65039H7.65039V10.1504H6.34961V7.65039H3.84961V6.34961H6.34961V3.84961H7.65039V6.34961Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 0.349609C10.6727 0.349609 13.6504 3.32731 13.6504 7C13.6504 10.6727 10.6727 13.6504 7 13.6504C3.32731 13.6504 0.349609 10.6727 0.349609 7C0.34961 3.32731 3.32731 0.34961 7 0.349609ZM7 1.65039C4.04528 1.65039 1.65039 4.04528 1.65039 7C1.65039 9.95472 4.04528 12.3496 7 12.3496C9.95472 12.3496 12.3496 9.95472 12.3496 7C12.3496 4.04528 9.95472 1.65039 7 1.65039Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.7688 11.8438L15.2437 14.3187L14.3239 15.2385L11.849 12.7636L12.7688 11.8438Z",fill:"currentColor"})]}),ep=()=>(0,a.jsxs)("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M10.167 7.66602H3.86621V6.36523H10.167V7.66602Z",fill:"currentColor"}),(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.0166 0.365234C10.6891 0.365465 13.667 3.34307 13.667 7.01562C13.6669 10.6881 10.689 13.6658 7.0166 13.666C3.34398 13.666 0.366326 10.6882 0.366211 7.01562C0.366211 3.34293 3.34391 0.365235 7.0166 0.365234ZM7.0166 1.66602C4.06188 1.66602 1.66699 4.0609 1.66699 7.01562C1.66711 9.97025 4.06195 12.3652 7.0166 12.3652C9.97106 12.365 12.3661 9.97011 12.3662 7.01562C12.3662 4.06104 9.97113 1.66625 7.0166 1.66602Z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M12.7424 11.8829L15.2172 14.3578L14.2974 15.2775L11.8226 12.8027L12.7424 11.8829Z",fill:"currentColor"})]})},73934:function(e,t,n){"use strict";n.d(t,{R:()=>i});var a=n(57713),s=n(11285),r=n(86122),o=n(61660);n(94971);let i=(0,s.forwardRef)(function(e,t){let{size:n,className:i,style:l}=e,c=(0,s.useId)(),d="linearGradient-".concat(c);return(0,a.jsx)("div",{className:(0,r.A)("".concat(o.V,"-loading"),i),ref:t,style:{..."number"==typeof n?{fontSize:"".concat(n,"px")}:n?{fontSize:n}:void 0,...l},children:(0,a.jsxs)("svg",{viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true","data-icon":"spin",children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:d,children:[(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),(0,a.jsx)("stop",{stopColor:"currentColor",offset:"100%"})]})}),(0,a.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),(0,a.jsx)("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:"url(#".concat(d,")"),strokeWidth:"4",strokeLinecap:"round"})]})]})})})},52340:function(e,t,n){"use strict";n.d(t,{j:()=>s});var a=n(799);let s=void 0===window.ResizeObserver?a.tb:window.ResizeObserver},47896:function(e,t,n){"use strict";n.d(t,{Qh:()=>m,x$:()=>g});var a=n(57713),s=n(11285),r=n(91753);let o="onpointermove"in window?"pointermove":"mousemove";var i=n(52340);n(42405);let l=(0,s.createContext)({});function c(e){let t=(0,s.useRef)(e);return t.current=e,(0,s.useCallback)(()=>t.current,[])}let d={leading:0,trailing:0,top:8,bottom:8},u={leading:8,trailing:8,top:0,bottom:0},h={leading:8,trailing:16,top:0,bottom:8},p={leading:0,trailing:8,top:8,bottom:16},m=e=>{let{verticalScrollbarInsets:t=d,horizontalScrollbarInsets:n=u,verticalScrollbarMinHeight:m=24,horizontalScrollbarMinWidth:f=24,conflictedHorizontalScrollbarInsets:C=h,conflictedVerticalScrollbarInsets:v=p,verticalScrollbarWidth:b=8,horizontalScrollbarHeight:_=8,guttersPosition:S="sticky",hideHorizontalScrollbar:E=!1}=e,x=(0,s.useRef)(null),y=(0,s.useRef)(null),w=(0,s.useCallback)(()=>{var e;null==(e=y.current)||e.call(y)},[]),I=(0,s.useMemo)(()=>({}),[]),T=c(m),A=c(f),j=c(S),k=c(t),M=c(n),R=c(E),N=c(v),O=c(C),L=c(b+2),F=c(_+2);(0,s.useLayoutEffect)(()=>{w()},[w,e.horizontalScrollbarMinWidth,e.verticalScrollbarMinHeight,S,t.leading,t.trailing,t.top,t.bottom,n.leading,n.trailing,n.top,n.bottom,v.leading,v.trailing,v.top,v.bottom,C.leading,C.trailing,C.top,C.bottom,b,_]);let P=(0,s.useCallback)(()=>{let e=x.current.offsetHeight;I.guttersRef.current.style.setProperty("--container-height","".concat(e,"px")),w()},[I.guttersRef,w]),D=(0,s.useMemo)(()=>function(e){let{children:t}=e;return(0,a.jsx)(l.Provider,{value:I,children:t})},[I]),B=(0,s.useMemo)(()=>function(e){return(0,a.jsx)(D,{children:(0,a.jsx)(g,{...e})})},[D]),V=(0,r.DK)((e,t)=>{let n=new i.j(t);n.observe(e);let{teardown:a,deriveScrollingStatus:s}=function(e){let{container:t,verticalBar:n,verticalGutter:a,horizontalBar:s,horizontalGutter:r,getVerticalScrollbarMinHeight:i,getHorizontalScrollbarMinWidth:l,gutters:c,getGuttersPosition:d,getVerticalScrollbarInsets:u,getHorizontalScrollbarInsets:h,getHideHorizontalScrollbar:p,getConflictedVerticalScrollbarInsets:m,getConflictedHorizontalScrollbarInsets:g,getVerticalScrollbarWidth:f,getHorizontalScrollbarHeight:C}=e,v=!1,b=!1,_=0,S=0,E=0,x=0,y=0,w=0;function I(e){c.style.position=d(),c.style.top="0",c.style.left="0",c.style.right="0";let t=e?m():u(),n=e?g():h();switch(a.style.right="".concat(t.trailing,"px"),a.style.top="".concat(t.top,"px"),r.style.left="".concat(n.leading,"px"),r.style.right="".concat(n.trailing,"px"),r.style.display=p()?"none":"block",d()){case"sticky":a.style.bottom="calc(0px - var(--container-height) + ".concat(t.bottom,"px)"),r.style.top="calc(var(--container-height) - ".concat(n.bottom+C(),"px)"),c.style.bottom="",c.style.height="0";break;case"absolute":a.style.bottom="".concat(t.bottom,"px"),r.style.bottom="".concat(n.bottom,"px"),c.style.bottom="0",c.style.height=""}r.style.height="".concat(C(),"px"),a.style.width="".concat(f(),"px")}let T=0,A=null;function j(){A&&cancelAnimationFrame(A),A=requestAnimationFrame(()=>{v||b?function(){let e=t.offsetHeight,o=t.offsetWidth,c=t.scrollHeight,d=T>0&&c!==T;T=c;let u=t.scrollWidth;I(c>e&&u>o);let h=a.offsetHeight,p=r.offsetWidth,{top:m}=a.getBoundingClientRect(),{left:g}=r.getBoundingClientRect();if(c<=e)n.style.display="none";else if(v){let a=Math.max(i(),h/c*e),s=0,r=S+w;d?(s=(h-a)*t.scrollTop/(c-e),S=r-w,x=(r-m-s)/a):(t.scrollTop=(c-e)*(s=r-a*x-m)/(h-a),s=function(e,t,n){return e<t?t:e>n?n:e}(s,0,h-a)),n.style.display="",n.style.top="".concat(s,"px"),n.style.height="".concat(a,"px")}if(u<=o)s.style.display="none";else if(b){let e=Math.max(l(),p/u*o),n=_+y-e*E-g;n=function(e,t,n){return e<t?t:e>n?n:e}(n,0,p-e),s.style.display="",s.style.left="".concat(n,"px"),s.style.width="".concat(e,"px"),t.scrollLeft=(u-o)*n/(p-e)}}():function(){let e=t.scrollHeight,o=t.scrollWidth,c=t.scrollTop,d=t.scrollLeft,u=t.offsetHeight,h=t.offsetWidth;I(e>u&&o>h);let p=a.offsetHeight,m=r.offsetWidth;if(e<=u)n.style.display="none";else{let t=Math.max(i(),p/e*u);n.style.display="",n.style.top="".concat((p-t)*c/(e-u),"px"),n.style.height="".concat(t,"px")}if(o<=h)s.style.display="none";else{let e=Math.max(l(),m/o*h);s.style.display="",s.style.left="".concat((m-e)*d/(o-h),"px"),s.style.width="".concat(e,"px")}}()})}let k=()=>{b=!1,window.removeEventListener("mouseup",k),window.removeEventListener(o,R)},M=()=>{v=!1,window.removeEventListener("mouseup",M),window.removeEventListener(o,N)},R=e=>{e.preventDefault(),y=e.clientX-_,j()},N=e=>{e.preventDefault(),w=e.clientY-S,j()},O=e=>{e.stopPropagation()};s.addEventListener("click",O),n.addEventListener("click",O);let L=e=>{e.preventDefault(),b=!0,_=e.clientX;let{left:t}=s.getBoundingClientRect();E=(e.clientX-t)/s.offsetWidth,window.addEventListener(o,R),window.addEventListener("mouseup",k)};s.addEventListener("mousedown",L);let F=e=>{e.preventDefault(),v=!0,S=e.clientY;let{top:t}=n.getBoundingClientRect();x=(e.clientY-t)/n.offsetHeight,window.addEventListener(o,N),window.addEventListener("mouseup",M)};return n.addEventListener("mousedown",F),{deriveScrollingStatus:j,teardown:()=>{s.removeEventListener("click",O),n.removeEventListener("click",O),s.removeEventListener("mousedown",L),n.removeEventListener("mousedown",F),window.removeEventListener("mouseup",k),window.removeEventListener("mouseup",M),window.removeEventListener(o,R),window.removeEventListener(o,N)}}}({getVerticalScrollbarMinHeight:T,getHorizontalScrollbarMinWidth:A,container:x.current,horizontalBar:I.horizontalBarRef.current,horizontalGutter:I.horizontalGutterRef.current,verticalBar:I.verticalBarRef.current,verticalGutter:I.verticalGutterRef.current,gutters:I.guttersRef.current,getGuttersPosition:j,getVerticalScrollbarInsets:k,getHorizontalScrollbarInsets:M,getHideHorizontalScrollbar:R,getConflictedVerticalScrollbarInsets:N,getConflictedHorizontalScrollbarInsets:O,getVerticalScrollbarWidth:L,getHorizontalScrollbarHeight:F});return y.current=s,()=>{n.disconnect(),a()}});return{ScrollAreaContextProvider:D,ScrollAreaGutters:B,containerDomRef:(0,r.gK)((0,s.useCallback)(e=>{var t,n;if(x.current=e,e&&(null==(t=I.horizontalBarRef)?void 0:t.current)&&(null==(n=I.guttersRef)?void 0:n.current))return V(e,P)},[I.horizontalBarRef,I.guttersRef,V,P])),onContainerScroll:w,onContentResize:w,className:"ds-scroll-area"}};function g(e){var t,n,r;let o=(0,s.useRef)(null),i=(0,s.useRef)(null),c=(0,s.useRef)(null),d=(0,s.useRef)(null),u=(0,s.useRef)(null),h=(0,s.useContext)(l);return h.horizontalBarRef=o,h.horizontalGutterRef=i,h.verticalBarRef=c,h.verticalGutterRef=d,h.guttersRef=u,(0,a.jsxs)("div",{className:"ds-scroll-area__gutters",style:{"--scrollbar-bg":null==(t=e.theme)?void 0:t.bgColor,"--scrollbar-hover":null==(n=e.theme)?void 0:n.hoverColor,"--ds-scroll-area-vertical-gutter-padding":e.verticalGutterPadding,"--ds-scroll-area-horizontal-gutter-padding":e.horizontalGutterPadding,"--ds-scroll-area-gutters-disappear-delay":null==(r=e.theme)?void 0:r.disappearDelay},ref:u,children:[(0,a.jsx)("div",{className:"ds-scroll-area__horizontal-gutter",ref:i,children:(0,a.jsx)("div",{className:"ds-scroll-area__horizontal-bar",ref:o})}),(0,a.jsx)("div",{className:"ds-scroll-area__vertical-gutter",ref:d,children:(0,a.jsx)("div",{className:"ds-scroll-area__vertical-bar",ref:c})})]})}},38290:function(e,t,n){"use strict";n.d(t,{E:()=>i}),n(67539);var a=n(57713);n(6835);var s=n(86122),r=n(61660),o=n(11285);function i(e){let{variant:t="rect",sharp:n=!1,size:i="m",repeat:l=1,repeatSeparator:c,className:d,style:u,children:h}=e,p=(0,o.useCallback)(e=>(0,a.jsx)("div",{className:(0,s.A)("".concat(r.V,"-skeleton"),"".concat(r.V,"-skeleton--").concat(i),"".concat(r.V,"-skeleton--").concat(t),n&&"".concat(r.V,"-skeleton--sharp"),h&&"".concat(r.V,"-skeleton--has-children"),d),style:u,children:"text"===t?void 0===h?(0,a.jsx)("span",{"aria-hidden":!0,children:"\xa0"}):(0,a.jsx)("span",{"aria-hidden":!0,children:h}):h},e),[d,u,i,t,n,h]);return(0,o.useMemo)(()=>{if(1===l)return p(void 0);let e=[];for(let t=0;t<l;t++)e.push(p(t)),void 0!==c&&t<l-1&&e.push(c);return(0,a.jsx)(a.Fragment,{children:e})},[l,p,c])}},32956:function(e,t,n){"use strict";n.d(t,{H:()=>s,d:()=>r});var a=n(11285);let s=(0,a.createContext)(void 0),r=()=>(0,a.useContext)(s)},4442:function(e,t,n){"use strict";n.d(t,{BK:()=>p,IJ:()=>u,dj:()=>f,id:()=>h,t8:()=>g}),n(40966),n(95266),n(1326),n(42551),n(71060);var a=n(57713),s=n(11285),r=n(86122),o=n(91753),i=n(37194),l=n(61660),c=n(59826);n(17903);let d=0;function u(){return(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 16 16",children:(0,a.jsx)("g",{fill:"none",children:(0,a.jsx)("path",{d:"M8 2a6 6 0 1 1 0 12A6 6 0 0 1 8 2zM6.534 5.839a.5.5 0 0 0-.638.057l-.057.07a.5.5 0 0 0 .057.638L7.293 8L5.896 9.396l-.057.07a.5.5 0 0 0 .057.638l.07.057a.5.5 0 0 0 .638-.057L8 8.707l1.396 1.397l.07.057a.5.5 0 0 0 .638-.057l.057-.07a.5.5 0 0 0-.057-.638L8.707 8l1.397-1.396l.057-.07a.5.5 0 0 0-.057-.638l-.07-.057a.5.5 0 0 0-.638.057L8 7.293L6.604 5.896l-.07-.057z",fill:"currentColor"})})})}function h(){return(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("path",{d:"M8 .333a7.667 7.667 0 1 1 0 15.334A7.667 7.667 0 0 1 8 .333zm0 1.334a6.333 6.333 0 1 0 0 12.666A6.333 6.333 0 0 0 8 1.667z",fill:"#F59E0B"}),(0,a.jsx)("path",{d:"M7.383 8.4c.013.406.222.61.624.61.388 0 .587-.204.597-.61l.11-3.373a.603.603 0 0 0-.194-.492.728.728 0 0 0-.527-.202.718.718 0 0 0-.52.195.622.622 0 0 0-.188.5l.098 3.371zM7.424 11.098a.849.849 0 0 0 .583.215.83.83 0 0 0 .569-.215.7.7 0 0 0 .243-.548.7.7 0 0 0-.243-.548.815.815 0 0 0-.569-.215.834.834 0 0 0-.583.222.701.701 0 0 0-.236.54c0 .218.079.4.236.549z",fill:"#F59E0B"})]})}function p(){return(0,a.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("g",{clipPath:"url(#clip0_12563_43114)",children:(0,a.jsx)("path",{d:"M8 .333a7.667 7.667 0 1 1 0 15.334A7.667 7.667 0 0 1 8 .333zm0 1.334a6.333 6.333 0 1 0 0 12.666A6.333 6.333 0 0 0 8 1.667zm1.762 3.656a.667.667 0 0 1 1.143.687l-3 5a.667.667 0 0 1-1.078.09l-2-2.332a.667.667 0 0 1 1.013-.869L7.237 9.53l2.525-4.207z",fill:"#22C55E"})}),(0,a.jsx)("defs",{children:(0,a.jsx)("clipPath",{id:"clip0_12563_43114",children:(0,a.jsx)("path",{fill:"#fff",d:"M0 0h16v16H0z"})})})]})}function m(e){let t,{content:n,type:s}=e;switch(s){case"warning":case"error":t=(0,a.jsx)(h,{});break;case"success":t=(0,a.jsx)(p,{});break;default:t=null}return(0,a.jsxs)("div",{className:(0,r.A)("".concat(l.V,"-toast"),"".concat(l.V,"-toast--").concat(s)),children:[t?(0,a.jsx)("div",{className:(0,r.A)("".concat(l.V,"-toast__icon")),children:t}):null,(0,a.jsx)("div",{className:"".concat(l.V,"-toast__content"),children:"string"==typeof n?n:n.node})]})}function g(e){let{toastProps:t,setToasts:n}=e,[r,o]=(0,s.useState)(!0);return(0,a.jsx)(i.c,{appear:!0,className:"".concat(l.V,"-toast-animation"),transformOrigin:t.placement,in:r,onEntered:()=>{setTimeout(()=>{o(!1)},t.duration)},onExited:()=>{n(e=>e.filter(e=>e.id!==t.id))},children:(0,s.useMemo)(()=>(0,a.jsx)(m,{...t}),[t])})}function f(){let e=(0,s.useContext)(c.Lp),t=(0,s.useContext)(c.u9),n=(0,s.useContext)(c.Sf)||"top";if(!e)throw Error("useToast must be used inside ToastProvider");let a=(0,o.SE)(t),r=(0,s.useCallback)(function(t,s){let{duration:r=5e3,dedupeKey:o,placement:i=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=d++;e(e=>{var n;return void 0!==o&&e.some(e=>e.dedupeKey===o)?e:(null==(n=a.current)||n.call(a,s,"success"===t?"info":"warning"===t?"warn":"error"),e.concat({type:t,content:s,id:l,duration:r,dedupeKey:o,placement:i}))})},[n,e,a]);return(0,s.useMemo)(()=>({warning:(e,t)=>r("warning",e,t),error:(e,t)=>r("error",e,t),success:(e,t)=>r("success",e,t),info:(e,t)=>r("info",e,t)}),[r])}},15383:function(e,t,n){"use strict";n.d(t,{t:()=>h}),n(40966),n(95266),n(45363),n(37560),n(1326);var a=n(57713),s=n(11285),r=n(86122),o=n(91753),i=n(74770),l=n(4442),c=n(32956),d=n(61660),u=n(59826);function h(e){let{children:t,onToast:n,placement:h}=e,[p,m]=(0,s.useState)([]),g=(0,c.d)(),[f,C]=(0,s.useState)([]),v=(0,o.DK)(e=>{let t=f,n=!1;"function"==typeof e?m(a=>{let s=e(a);return s.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),s}):(e.forEach(e=>{t.includes(e.placement)||(t=t.concat(e.placement),n=!0)}),m(e)),n&&C(t)});return(0,a.jsx)(u.Lp.Provider,{value:v,children:(0,a.jsx)(u.u9.Provider,{value:n||null,children:(0,a.jsxs)(u.Sf.Provider,{value:h||null,children:[t,f.map(e=>(0,i.createPortal)((0,a.jsx)("div",{className:(0,r.A)("".concat(d.V,"-toast-container"),"".concat(d.V,"-toast-container--").concat(e),"".concat(d.V,"-theme")),style:g,children:p.filter(t=>t.placement===e).map(e=>(0,a.jsx)(l.t8,{setToasts:v,toastProps:e},e.id))}),document.body,e))]})})})}},59826:function(e,t,n){"use strict";n.d(t,{Lp:()=>s,Sf:()=>r,u9:()=>o});var a=n(11285);let s=(0,a.createContext)(null),r=(0,a.createContext)(null),o=(0,a.createContext)(null)},77058:function(e,t,n){"use strict";n.d(t,{m:()=>d});var a=n(57713),s=n(86122),r=n(11285),o=n(61660),i=n(32956),l=n(39120);n(13183);var c=n(4222);function d(e){var t,n,d,h,p,m,g,f;let{children:C,size:v,leaveDelay:b,enterDelay:_,wrapperStyle:S,showShadow:E,isOpen:x,disabled:y,showArrow:w,arrowVariant:I,placement:T="top",trigger:A="hover",componentRef:j,theme:k,checkEllipsis:M,floatingAnimated:R,renderTrigger:N,className:O,hoverable:L,...F}=e,P=(0,r.useContext)(c.l),D=null!=(t=null!=w?w:P.showArrow)&&t,B=null!=(n=null!=y?y:P.disabled)&&n,V=null!=(d=null!=I?I:P.arrowVariant)?d:"sharp",H=null!=(h=null!=b?b:P.leaveDelay)?h:void 0,U=null!=(p=null!=_?_:P.enterDelay)?p:void 0,W=null==(m=null!=R?R:P.floatingAnimated)||m,z=null!=(g=null!=L?L:P.hoverable)&&g,G=null!=(f=null!=v?v:P.size)?f:"m",K=(0,r.useMemo)(()=>{switch(G){case"m":return;case"s":return{mainAxis:4}}},[G]),q=(0,i.d)(),Z={"--tooltip-font-size":null==k?void 0:k.fontSize,"--tooltip-line-height":null==k?void 0:k.lineHeight,"--tooltip-padding":null==k?void 0:k.padding,"--ds-toast-max-width":null==k?void 0:k.maxWidth,"--tooltip-color":null==k?void 0:k.backgroundColor,"--tooltip-text-color":null==k?void 0:k.color},Q=(0,r.useRef)(null);return(0,r.useImperativeHandle)(j,()=>({setIsOpen(e){var t;null==(t=Q.current)||t.setIsOpen(e)}})),(0,a.jsx)(l.D,{floatingAnimated:W,disabled:B,leaveDelay:H,enterDelay:U,wrapperStyle:S,renderTrigger:N,renderFloating:e=>{let{nodeRef:t,arrowNodeRef:n,onMouseEnter:r,onMouseDown:i,onMouseLeave:l}=e;return(0,a.jsxs)("div",{ref:t,className:(0,s.A)("".concat(o.V,"-tooltip"),"".concat(o.V,"-tooltip--").concat(G),E&&"".concat(o.V,"-tooltip--show-shadow"),"".concat(o.V,"-elevated"),"".concat(o.V,"-theme"),O),style:{...q,...Z},onMouseEnter:r,onMouseLeave:l,onMouseDown:i,onClick:e=>e.stopPropagation(),children:[C,D&&(0,a.jsx)("div",{className:(0,s.A)("".concat(o.V,"-tooltip__arrow"),"".concat(o.V,"-tooltip__arrow--").concat(V)),ref:n,children:"soft"===V&&(0,a.jsx)(u,{})})]})},placement:T,trigger:A,isOpen:x,componentRef:Q,showArrow:D,checkEllipsis:M,offsetOptions:K,hoverable:z,...F})}function u(){return(0,a.jsxs)("svg",{className:"".concat(o.V,"-tooltip__soft-arrow"),viewBox:"0 0 47 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,a.jsx)("mask",{id:"mask0_0_3329",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"47",height:"13",children:(0,a.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0.00316996C1.71249 0.00316996 3.42448 -0.00533022 5.13697 0.0131702C6.77598 0.0311706 8.61044 0.0566711 10.2055 0.658184C11.9284 1.3082 13.0691 2.44472 14.2168 3.78225C15.043 4.74427 16.666 6.79681 17.4563 7.78784C18.1031 8.60035 19.3692 10.2064 20.0605 10.9834C20.9308 11.9609 22.0064 12.9999 23.5005 12.9999C24.9946 12.9999 26.0697 11.9609 26.9395 10.9844C27.6308 10.2079 28.8969 8.60085 29.5442 7.78884C30.3335 6.79781 31.9565 4.74527 32.7832 3.78325C33.9329 2.44572 35.0716 1.3092 36.794 0.659184C38.3896 0.0591711 40.2245 0.0321706 41.8625 0.0141702C43.5755 -0.0043302 45.2875 0.00416998 47 0.00416998",fill:"#FF0000"})}),(0,a.jsx)("g",{mask:"url(#mask0_0_3329)",children:(0,a.jsx)("g",{clipPath:"url(#clip0_0_3329)",children:(0,a.jsx)("g",{filter:"url(#filter0_b_0_3329)",children:(0,a.jsx)("rect",{width:"47",height:"13",fill:"currentColor",style:{mixBlendMode:"color-dodge"}})})})}),(0,a.jsxs)("defs",{children:[(0,a.jsxs)("filter",{id:"filter0_b_0_3329",x:"-50",y:"-50",width:"147",height:"113",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[(0,a.jsx)("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),(0,a.jsx)("feGaussianBlur",{in:"BackgroundImageFix",stdDeviation:"25"}),(0,a.jsx)("feComposite",{in2:"SourceAlpha",operator:"in",result:"effect1_backgroundBlur_0_3329"}),(0,a.jsx)("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_backgroundBlur_0_3329",result:"shape"})]}),(0,a.jsx)("clipPath",{id:"clip0_0_3329",children:(0,a.jsx)("rect",{width:"47",height:"13",fill:"white"})})]})]})}},4222:function(e,t,n){"use strict";n.d(t,{l:()=>a});let a=(0,n(11285).createContext)({})},25611:function(e,t,n){"use strict";n.d(t,{Q:()=>s});var a=n(7623);n(42551);class s extends Error{static isBizError(e){return e instanceof s}static isCode(e,t){return s.isBizError(e)&&e.code===t}constructor(e,t=""){if(null==e)throw Error();super("BizError: ".concat(e).concat(t?" - ".concat(t):"")),(0,a._)(this,"code",void 0),(0,a._)(this,"msg",void 0),this.code=e,this.msg=t,this.name="BizError"}}},92177:function(e,t,n){"use strict";n.d(t,{O:()=>r});var a=n(7623);n(88370);var s=n(4981);class r{get finishPromise(){return this.deferred.promise}async add(e){return null===this.deferred.instantValue&&(this.deferred=new s.c),new Promise((t,n)=>{let a=async()=>{try{let{promise:n,abort:a}=e();this.abortFn=a,await n,t()}catch(e){n(e)}finally{await this.yieldFn(),this.running=!1,this.processQueue()}};this.queue.unshift(a),this.processQueue()})}processQueue(){if(!this.running&&this.queue.length>0){let e=this.queue.shift();e&&(this.running=!0,e())}this.running||this.queue.length||this.deferred.resolve("done")}constructor(e=()=>Promise.resolve()){(0,a._)(this,"yieldFn",void 0),(0,a._)(this,"queue",[]),(0,a._)(this,"running",!1),(0,a._)(this,"abortFn",null),(0,a._)(this,"deferred",new s.c),(0,a._)(this,"abort",()=>{this.abortFn&&this.abortFn(),this.running=!1,this.queue=[],this.deferred.resolve("aborted")}),this.yieldFn=e}}},4981:function(e,t,n){"use strict";n.d(t,{c:()=>s});var a=n(7623);class s{get instantValue(){return this.value}constructor(){(0,a._)(this,"promise",void 0),(0,a._)(this,"resolve",void 0),(0,a._)(this,"reject",void 0),(0,a._)(this,"then",void 0),(0,a._)(this,"value",null);const e=new Promise((e,t)=>{this.resolve=t=>{this.value=t,e(t)},this.reject=t});this.promise=e,this.then=e.then.bind(e)}}},26848:function(e,t,n){"use strict";n.d(t,{Z:()=>s,s:()=>a}),n(42551);let a=e=>{},s=e=>{throw Error("Unhandled case: ".concat(e))}},41282:function(e,t,n){"use strict";n.d(t,{$:()=>s}),n(20370);let a=Symbol("lazyGet"),s=e=>{let t=a;return()=>(t===a&&(t=e()),t)}},60965:function(e,t,n){"use strict";n.d(t,{F:()=>i,i:()=>s}),n(95266),n(45363),n(50353),n(40966);var a=n(5606);let s=(e,t)=>{let n=new DOMParser().parseFromString(e,"text/html").querySelector("svg");return n?{inner:n.innerHTML,properties:r(n.attributes,t)}:null},r=(e,t)=>{let n={};return Array.from(e).forEach(e=>{let s=e.name;s.includes("-")&&(s=s.replace(/-([a-z])/g,e=>e[1].toUpperCase())),"class"===s&&(s="className"),!s.startsWith("aria")&&("style"===s?t.clearDefaultStyle||(n[s]=o((0,a.A)(e.value))):n[s]=e.value)}),n.className="".concat(String(n.className)," ").concat(t.className),n.style={...Object(n.style),...t.style},n},o=e=>{if(!e)return null;let t={};for(let n of Object.keys(e))t[n.replace(/-([a-z])/g,(e,t)=>t.toUpperCase())]=e[n];return t},i=e=>{let t=new XMLSerializer().serializeToString(e);return"data:image/svg+xml;charset=utf-8,".concat(encodeURIComponent(t))}},51783:function(e,t,n){"use strict";function a(e,t){return new Promise(n=>{let a=setTimeout(()=>{n({status:"timeout"})},t);e.then(e=>n({status:"fulfilled",value:e})).catch(e=>n({status:"rejected",reason:e})).finally(()=>clearTimeout(a))})}n.d(t,{w:()=>a}),n(22024)}},u={};function h(e){var t=u[e];if(void 0!==t)return t.exports;var n=u[e]={id:e,loaded:!1,exports:{}};return d[e].call(n.exports,n,n.exports,h),n.loaded=!0,n.exports}h.m=d,h.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return h.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,h.t=function(n,a){if(1&a&&(n=this(n)),8&a||"object"==typeof n&&n&&(4&a&&n.__esModule||16&a&&"function"==typeof n.then))return n;var s=Object.create(null);h.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var o=2&a&&n;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>{r[e]=()=>n[e]});return r.default=()=>n,h.d(s,r),s},h.d=(e,t)=>{for(var n in t)h.o(t,n)&&!h.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},h.f={},h.e=e=>Promise.all(Object.keys(h.f).reduce((t,n)=>(h.f[n](e,t),t),[])),h.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),h.k=e=>"static/"+({52059:"katex",66233:"mermaidRender",91851:"previewAll"})[e]+"."+({52059:"e3bf7abdb0",66233:"3e57e36033",91851:"6a0d302e55"})[e]+".css",h.u=e=>"static/"+(({27390:"prism-m-r",32549:"prism-common",52059:"katex",66233:"mermaidRender",70028:"prism-s-z",81800:"prism-e-l",91851:"previewAll",96259:"mermaid-vendors",97548:"prism-a-d"})[e]||e)+"."+({10100:"5ac1ea4510",10167:"8ca1551c7e",10224:"f449fccbee",10359:"b45167b2e3",10521:"fba1e7b256",10561:"e733586cf3",10571:"d8d09c75cc",10703:"7265706048",10706:"8f41fe19d1",10729:"e1d996c3ab",10918:"8e4ca2500b",10974:"be81db4c58",11096:"a5b2992df2",11593:"378b8c9423",11683:"8252371385",11759:"bcf65b3d04",11770:"2c724f397c",11776:"5cae096ff8",11974:"7d849e1660",12124:"d0ab61074c",12206:"a3c2de2971",12235:"0219d98a59",12490:"835ef2520d",1259:"979eddd932",12693:"d11823c6b4",12895:"0f4a3dbbbd",12927:"193346bfc1",12993:"c0ca1b4e8e",13022:"46a94a0de0",13283:"efb5c3cb44",13302:"80bea10fa2",13375:"263cf535a9",13397:"d9121d44c3",13401:"df8628f9f1",13451:"a29ebeaa9a",13492:"3b16725089",13519:"61fe50151a",13725:"7baf898487",14306:"24bad916e9",14354:"06d35dd583",14371:"91cb536fed",14533:"a507be5464",14621:"262ba7be38",14653:"044a7e4a43",14753:"5fe41bba84",14874:"13c9cfd863",14958:"ce9566f3a9",14969:"8b85106fab",15199:"dab4e25646",15537:"1a7a82536e",15611:"770ff74169",15730:"fa78ec97bf",15748:"6d272874f7",15836:"82ad996feb",15919:"29c7578280",15958:"1d9c8b5893",16160:"77b0bd0903",16185:"17684727e7",16265:"8bb067b2c6",16277:"840fc50af7",16665:"56931724d7",16789:"650563a87f",17193:"d22ac64f55",17211:"a4c94d5cb3",17542:"1319366a84",18221:"43a56da2ba",18285:"2216e67096",18315:"ea99dfbc2c",18625:"2d9f3f4f0b",1874:"b9f9ce0764",18797:"ac1f5dffbc",18867:"f6263dbd6f",18968:"f1b0e5b521",18983:"d8a32888f4",19030:"0d6b3972d2",19047:"1561d28bf6",19279:"ac346e9fa7",19561:"e97ab0815f",19720:"5e9ab32606",1984:"53f3628c1f",19916:"6e399d0898",20098:"e8549a7d58",2018:"73ba0dbecc",20377:"563b463a40",20795:"fe7657d18c",20796:"b735b10cc0",20839:"20d02f3231",20881:"0324bdd3e9",20907:"66c8e94c55",21679:"0190cc5cfc",21712:"86e016b875",2183:"a9f324e4cb",21833:"4b8f638dab",21943:"46b4f65fb3",21985:"085022b67f",21999:"941fbb1290",22142:"9f5375b7fe",22515:"98f7a14676",22750:"41ee61c95a",22786:"c16338f07d",22850:"803a56c98e",23115:"3051adf0d6",23164:"186031437e",23221:"8816a40fbf",23275:"520c6567d6",23674:"9f73f9d012",2389:"0b056c0a6d",24078:"0586810e96",24133:"d650fbbd3a",2417:"619cdf0748",24200:"52c43437ba",24339:"da497ffc90",24582:"5630d0863f",24738:"ad6c50c4a7",24808:"10fd2b3a39",25314:"b237f116d3",2546:"f4eeb9abcb",25916:"2b04593421",26047:"d81bacd441",2619:"43b8a93e5f",26534:"645bb32a4b",26589:"c7e4b25bec",26706:"d9b7dbc053",26856:"4b2564d200",27005:"6d8283e564",2711:"f3af7ce5c7",27390:"80270dc45d",27496:"ccef131d22",27511:"d34f714449",27642:"1ab0d729ac",27773:"c344fd3af7",27829:"0a92bb28ce",27834:"be44f60e39",27835:"e3b0b4e71b",27886:"d3d4812dff",27949:"536910d8fe",2795:"c47eb2799b",28086:"da944f0452",28090:"6ea0100111",28098:"52c84048b3",28120:"5ff5212df1",28531:"3eadbdad19",28545:"6c047a15e5",28615:"6aefd15d75",28948:"10b1c0a069",29062:"bdee0771ed",29096:"3bf0a5044b",29365:"ba133737f1",29554:"85cec72bbd",29644:"e92f2b171a",29754:"20b12a97ab",29830:"ff16258b7d",30003:"f3a97a1648",30023:"d9c31d03f0",30083:"9074517fec",30084:"41a3c45abe",30270:"36549810ae",3034:"16cdb360ad",30381:"bffab31ebc",30421:"17b4d92482",305:"2bf80eab06",30659:"322584e007",30694:"7490e1f6e2",30818:"64cc6d24e2",31523:"6257debdf9",32129:"90bccdea95",32177:"5e70e15147",32435:"898503dbab",32473:"f042e4efc0",32506:"0c07141456",32549:"e964344b90",33163:"87a12e44ef",33614:"1ba98674d4",33949:"5ebc973341",33969:"2960cd0b0e",34326:"c8019a4401",34563:"ca3ffee971",34610:"469292dc3a",34839:"241bf7cfd4",34841:"73cf0b4f8f",34892:"5411f5f9e4",35099:"e973177db7",35164:"3b03b1e996",35226:"1ae500fa2b",35271:"da3132bce0",35363:"545de02a4d",35551:"4919a69963",35694:"062b67c4ed",35974:"ed5943dc55",3612:"f268b6a500",36216:"8f96323fd2",36342:"98c6e7df44",36553:"74bcbad0cc",36567:"923df80696",36607:"8b59128065",36769:"551923b733",36897:"de3d247a63",3710:"1d68b7660f",37257:"6dfb6e0871",37293:"3f683b9d28",37309:"be082d43f4",37315:"ddd3f03daf",37601:"9973a113d8",37710:"ea0938cff7",37765:"4bc8fb4281",38050:"e37e3ba167",38064:"3f045b8a7b",3819:"8f66f5799d",38195:"204e7c5634",38246:"e8d933776c",38401:"a8c4129551",38484:"793dd02339",38511:"3e1af5a285",38583:"f8d8f989e7",38684:"7567907db4",38694:"1f25c54e56",3879:"758f4928bf",38963:"f9dd35c9d3",39181:"b8381ad7f0",3938:"407ae0349a",39418:"1d0e3b60ad",39789:"0d276e0be1",40309:"16d35afd4d",40746:"2d1029d525",40910:"81390c0eed",40911:"4363b01c1b",41175:"97dda80687",41395:"ec1a5b2f63",41429:"652d9efb79",41561:"e126aa89ef",41612:"277a68c633",41686:"55c34e3dbf",41785:"e89d193424",41903:"7d6b2afb81",41994:"07e5a66dfd",42e3:"2241a8d2ff",42099:"e6865effb9",42124:"3bcb9bf22e",42172:"3cdd8b7470",4227:"6334d5a194",42737:"0d8041f1ad",428:"0cabd3cb73",42886:"98d12a0e5a",42909:"9556ae08a2",43092:"c15c599af3",43108:"7e98e1c367",43187:"e9570f949c",43212:"3a49498980",43363:"95d5a630ba",43384:"2557f451b7",4346:"11e3009f88",43580:"e031512c79",43768:"4e8f2ad5df",43999:"a190a0141e",44011:"3e270f9344",44066:"74ebab46fb",44094:"5550aa273c",44201:"2f170a3f4a",44207:"a6c1fcf251",44287:"97b90cee50",44366:"c7baca9a63",4447:"c9d30bf605",44588:"31c77edd7e",44789:"500194a9b2",44839:"e0a67e8e0f",44935:"16c7d26e81",45010:"4b50a747db",45136:"3135b2a56f",4535:"860e38e736",45559:"723e1ca863",4561:"04e8d9b868",45745:"4ea2088ee0",45805:"cf744325a7",45928:"f3310e15bf",46006:"beff4438d8",46436:"dfc3414146",46463:"006755c49c",46819:"c4b0d55b87",46921:"6328fac455",47104:"88fe5808b6",47129:"1d754a85b7",47258:"d908757b14",47479:"7eb3dec9aa",47731:"1ae2a461fb",47850:"97bbd7d546",47859:"b15e1e4e61",48066:"c9a9cf4d94",4822:"887c797d64",48325:"05fdf202e2",48432:"239c1ee426",48492:"f3cc3d0135",48665:"00ae0df8ac",48770:"df18b355ca",48780:"30738e1e08",48818:"8698d0feec",4891:"c80a8d03f0",49082:"2f01641048",49145:"a49e5a9c45",49272:"a13ed6e91b",49392:"710ea8649d",49413:"f2c1422042",4962:"796899f1fc",49859:"0374a7c06d",49983:"6a788b7f5a",50011:"99505d998f",50091:"89e04256fa",50569:"4308ce977d",50574:"76e25aff01",50893:"09b643fa81",50984:"d61c811712",5116:"c1b0fcbc53",51208:"67278eaca7",51514:"6f15edcdbf",51528:"941d169e51",51630:"a2dd6cd6e5",51763:"d7fe166a2d",51805:"5b547edd02",51863:"c91e6bf385",52059:"38fa56c8f4",5223:"3c371c4c88",52238:"565a68e664",52723:"f73f843137",52810:"2832a41f66",52864:"cd359ab077",53030:"2739b54d53",53196:"4b191ec4d8",53308:"0e1e73b661",53449:"3ff49ab8ac",53458:"d3e0b21a14",53619:"2281973036",53658:"c0d31233dd",53804:"89f4607f47",53859:"2e17b6ba25",53884:"7e36a41fe1",54008:"6330127f28",54113:"944d3cc56e",54196:"c7ace2eba3",5420:"d64cafe3ef",54340:"be2b3bb8a0",54374:"ead5758552",54572:"1781236c36",54617:"4110558ca1",54637:"93b74f681e",54656:"47888bece1",55054:"b5b9b4c881",55184:"292f7df74f",55276:"92a31a2cde",55282:"9dc9d7b1a7",55296:"5a56160a4e",55598:"ff5a8e9b22",55616:"5b45b5a1f6",55654:"c4ed2c577e",55672:"b55b4d1323",55714:"e2e5d393eb",55775:"d65bf2dcce",55865:"fe29d7694b",56192:"756bd8f4e5",56600:"8dcc628ffd",56911:"4d19ca67d4",56984:"79f93f6d78",57872:"3c18b25390",58055:"880e4d5465",58149:"e54ecf7812",58499:"8ea6e8fc1a",58500:"6415330128",58509:"cf9faf2254",58600:"6f7a90e906",58630:"3d27701d60",58908:"52f7f39197",59013:"3d04891e47",59044:"9adf6dae89",59117:"e14bd63f33",59237:"001075d971",59409:"8cb5b130e0",59523:"45f42a92ff",5963:"d98330c8de",59688:"89a4eb357d",59760:"73861a4b88",59978:"6bbe5c5fc9",60002:"9748fafcd5",60282:"80a500a734",60310:"e874533aff",60753:"43172ec0dd",61091:"fbd0dfd299",61314:"4f516edeb2",6133:"13fe72d09e",61532:"f9f9a4d950",61549:"2436b9d862",61675:"0513867182",61760:"60195cf229",61911:"7f302f309a",62031:"f0baec77bd",62076:"eca338a93d",62116:"c2543b0045",62485:"e413cb0242",62557:"69c6e84b35",62684:"bafe5663aa",62718:"6e597cf4b2",62840:"6a54e717fc",62977:"062ab5f0fa",62982:"b502d7b961",63055:"7bd8bef4e0",63486:"fe64faa0b8",63490:"36f59a5870",63631:"a05198c585",63678:"e16deccd79",63900:"d77282bdf6",64025:"92a0b0da14",64188:"4ffe4eb46e",64305:"f5e6e7b0a2",64362:"8e04f5c1e9",64374:"513ea32ae0",64516:"fbee7a5385",64825:"19fd49cbee",64842:"2d5d2db522",64960:"e97c3a3f7a",65194:"58eb3e4d97",65271:"41351e26dc",65423:"e3985b5c46",65705:"0d259a7091",65708:"3b509ec9bc",65792:"b997df033f",65822:"fff5ce4add",66233:"ebad3e1e4c",6628:"f21349d535",66419:"e8b2a11c4d",66464:"079cf49a64",66501:"da2d2e38e1",66771:"0991cea66e",67054:"19be258d27",67076:"8c1eb3e11b",67157:"dc74687786",67404:"7f51e212e7",67415:"54fb783c3a",67679:"6bcd4ae7d4",6799:"b06f74b03c",68107:"12ea817b90",6830:"c3ab2b41e5",68565:"9424e9bc11",68684:"4b6dfc172e",69079:"9811d6873a",69104:"29b50d95bc",69239:"af53e35a23",6949:"9a6855c428",69886:"5f24a8735e",70028:"2990c6e85e",70143:"2f15e67171",70190:"b1c42686a4",70663:"8f4a28ceca",70728:"cbe911d558",70920:"2b70f81096",71072:"1bd1532948",7119:"fc12647262",71219:"4bdf1139cf",71229:"29aa48cafd",7167:"ea3aecf60f",71709:"9a7e9a7612",71749:"9d7487ebb8",72370:"bb361d40db",72529:"0db261a995",72712:"4cfd0d395a",73074:"e5cbd37ba5",7339:"68920aecd7",73471:"93a77e4c83",73825:"105a1ee681",73945:"a9dc95e3f8",74229:"71a1fd00ce",74253:"07a6f02ea0",74256:"c1c2f8310a",74317:"df845c2b09",74342:"c8a8b6ab0b",74380:"ef73d30e98",74458:"27c1f4cf4d",74479:"a37ba65566",74580:"e21fdb0fa1",74864:"56581314fb",74993:"29b6585749",750:"c37baf5faf",75172:"5bc0ca066d",75188:"fe04d45797",75353:"a32f753130",76093:"6e5773c1e3",76111:"2952f39c52",76246:"33d7983908",767:"fbbf2d035d",76701:"f82744f11e",76798:"b1bc2fb929",76822:"6fb45b489e",77154:"cefd3074e9",77155:"37c92612a4",77160:"3ba729ad10",7719:"e69df40d4a",77197:"a4afde0f0a",77225:"66d903b3f0",773:"0abad233f5",77358:"32932910c5",77437:"0993902439",77758:"36ffa67915",78080:"0115801dfc",78256:"4466174a3e",7857:"826f4a0d3d",78713:"b483fbb507",78825:"9408aeec1a",78826:"f83e8e8450",7894:"46b6c3dc8a",78967:"a4c460ad39",79191:"5e61f2d36c",79494:"b113d0d027",80112:"848e8c270e",80220:"bbfd19b841",80466:"d6ed0ea2cd",80631:"c173938bf4",80880:"3163ca6cfe",80947:"8ca0bf9a0b",80986:"6d7d328e21",81001:"f4c76812e9",81023:"ef7888ec99",81440:"bfab0f6173",81701:"dcd02a2bef",81748:"0737414c18",81767:"37739bd010",81800:"31a999f1ad",81904:"5d8735da90",81931:"45183136d2",82171:"183e88381f",82436:"ea1bfb7fcc",82441:"94d198e938",82500:"be6404869d",82530:"f7cd92f03d",82551:"97b73a8179",8301:"3335970066",83266:"bcbfc4c6ed",83349:"af917c42f7",8356:"0d063a75d4",83739:"2bf199e401",83743:"c466dd07b0",83767:"a367903cf4",83790:"496179a800",83841:"e2b3c27eb8",84146:"4cc2b62b8f",8420:"8966d60bab",84319:"bc0421c03a",84353:"eaba399175",8445:"eed9071606",84457:"fd74016ae4",84616:"0e4018f8e8",84648:"165e6ba624",84738:"fd4f917384",84839:"2be987a2c7",84852:"a1ac518203",85218:"87b0d45ebd",85225:"a8764cd5f3",85258:"94c787dfdb",85334:"43cfbc9dbc",85660:"38dd14f651",85898:"3f05bb338d",85942:"c56de9bcba",85952:"9653033aab",85971:"8b1aa3e11f",860:"790ac5d306",86e3:"31f823e4a4",86021:"8a95e53055",86123:"b71f7c41cf",86237:"1c85f3661e",86462:"763e05ec74",86916:"ab42d2c24a",87096:"232ca6ddb4",87118:"740970097a",87152:"fc65e1885c",87203:"a3a0c599ac",87280:"564199da6f",87409:"a0b6d7781e",87413:"37163a7379",87603:"f0c87f121a",87868:"128d627e7d",87986:"c5ad1c60e1",88001:"65e4aa3174",88200:"d8a427ef39",88297:"e267690569",88311:"3dd92ed198",88396:"94427ad383",88418:"a1dd4a7a0f",8873:"7a05126007",88930:"98fdf31052",88955:"1b66770b66",8898:"a70aefdb8e",89040:"491f9dbbe5",89324:"2628d93937",89626:"b2b6e6acb4",8966:"412f8493ed",89824:"a41815405c",89839:"aeb6da7331",89846:"4a94e205fe",89998:"04c21c508a",90133:"bb309d35fa",90140:"745cc1ee8c",90478:"84cb7e0e40",90850:"73ef448ab7",9130:"c6398177b2",91613:"5c89ed3d51",91718:"94f094cf5d",91780:"bd61724e56",91804:"9472ecd108",91851:"adcda56408",9231:"1fabb36093",93034:"47d462a407",93066:"ebdbf8f613",93135:"8894875ab0",93295:"2954f79eef",93332:"d78f0e63b6",93701:"10cb83e942",93884:"f1042f7c27",9395:"f232b75426",94186:"68e787294a",94187:"854cb600aa",94688:"4296a6c0da",94998:"5d402f0861",95461:"9ba53f2351",95527:"949e233f99",95574:"de63cc2ac1",95734:"6d9e4737ef",95754:"698e5038ae",96001:"e877676b69",96259:"9dbe6e2f25",96424:"131bf30419",96574:"6b3e5e29a6",96577:"86a2013a89",97104:"8d0c82d2dc",97225:"3a499429e9",97315:"05f2bf2ab3",97382:"da1fbaa797",97548:"ab05d461f7",97883:"95eba63b52",97919:"76e9d103cb",9821:"5c1db671c8",98296:"cc39c75312",98808:"08ca298c91",99440:"a837b4170c",99449:"6023ba6a01",99585:"7a3489d76d",99702:"09025d533c",9979:"37f186c91a",99872:"7f26eb4c08"})[e]+".js",h.g=(()=>{if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}})(),h.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},h.l=function(e,t,a,s){if(n[e])return void n[e].push(t);if(void 0!==a)for(var r,o,i=document.getElementsByTagName("script"),l=0;l<i.length;l++){var c=i[l];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")=="@deepseek/chat:"+a){r=c;break}}r||(o=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,h.nc&&r.setAttribute("nonce",h.nc),r.setAttribute("data-webpack","@deepseek/chat:"+a),r.src=e),n[e]=[t];var d=function(t,a){r.onerror=r.onload=null,clearTimeout(u);var s=n[e];if(delete n[e],r.parentNode&&r.parentNode.removeChild(r),s&&s.forEach(function(e){return e(a)}),t)return t(a)},u=setTimeout(d.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=d.bind(null,r.onerror),r.onload=d.bind(null,r.onload),o&&document.head.appendChild(r)},h.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a=[],h.O=(e,t,n,s)=>{if(t){s=s||0;for(var r=a.length;r>0&&a[r-1][2]>s;r--)a[r]=a[r-1];a[r]=[t,n,s];return}for(var o=1/0,r=0;r<a.length;r++){for(var[t,n,s]=a[r],i=!0,l=0;l<t.length;l++)(!1&s||o>=s)&&Object.keys(h.O).every(e=>h.O[e](t[l]))?t.splice(l--,1):(i=!1,s<o&&(o=s));if(i){a.splice(r--,1);var c=n();void 0!==c&&(e=c)}}return e},h.p="https://fe-static.deepseek.com/chat/",h.rv=()=>"1.5.8",s={71889:0},o="data-webpack-loading",(r=(e,t)=>{s[t]=0})(h.m,0,"71889"),h.f.css=(e,t,n)=>{var a=h.o(s,e)?s[e]:void 0;if(0!==a)if(a)t.push(a[2]);else if(/^(52059|66233|71889|91851)$/.test(e)){var i=new Promise(function(t,n){a=s[e]=[t,n]});t.push(a[2]=i);var l=h.p+h.k(e),c=Error();((e,t,n,a,s)=>{var r,i,l="chunk-"+e;if(!a){for(var c=document.getElementsByTagName("link"),d=0;d<c.length;d++){var u=c[d],p=u.getAttribute("href")||u.href;if(p&&!p.startsWith(h.p)&&(p=h.p+(p.startsWith("/")?p.slice(1):p)),"stylesheet"==u.rel&&(p&&p.startsWith(t)||u.getAttribute("data-webpack")=="@deepseek/chat:"+l)){r=u;break}}if(!n)return}r||(i=!0,r=document.createElement("link"),h.nc&&r.setAttribute("nonce",h.nc),r.setAttribute("data-webpack","@deepseek/chat:"+l),s&&r.setAttribute("fetchpriority",s),r.setAttribute(o,1),r.rel="stylesheet",r.href=t);var m=(e,t)=>{if(r.onerror=r.onload=null,r.removeAttribute(o),clearTimeout(g),t&&"load"!=t.type&&r.parentNode.removeChild(r),n(t),e)return e(t)};if(r.getAttribute(o)){var g=setTimeout(m.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=m.bind(null,r.onerror),r.onload=m.bind(null,r.onload)}else m(void 0,{type:"load",target:r});return a&&a.getAttribute("fetchpriority")&&r.setAttribute("fetchpriority",a.getAttribute("fetchpriority")),a?document.head.insertBefore(r,a):i&&document.head.appendChild(r)})(e,l,function(t){if(h.o(s,e)&&(0!==(a=s[e])&&(s[e]=void 0),a))if("load"!==t.type){var n=t&&t.type,o=t&&t.target&&t.target.src;c.message="Loading css chunk "+e+" failed.\n("+n+": "+o+")",c.name="ChunkLoadError",c.type=n,c.request=o,a[1](c)}else r(h.m,e),a[0]()},void 0,n)}else s[e]=0},h.b=document.baseURI||self.location.href,i={71889:0},h.f.j=function(e,t){var n=h.o(i,e)?i[e]:void 0;if(0!==n)if(n)t.push(n[2]);else{var a=new Promise((t,a)=>n=i[e]=[t,a]);t.push(n[2]=a);var s=h.p+h.u(e),r=Error();h.l(s,function(t){if(h.o(i,e)&&(0!==(n=i[e])&&(i[e]=void 0),n)){var a=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;r.message="Loading chunk "+e+" failed.\n("+a+": "+s+")",r.name="ChunkLoadError",r.type=a,r.request=s,n[1](r)}},"chunk-"+e,e)}},h.O.j=e=>0===i[e],l=(e,t)=>{var n,a,[s,r,o]=t,l=0;if(s.some(e=>0!==i[e])){for(n in r)h.o(r,n)&&(h.m[n]=r[n]);if(o)var c=o(h)}for(e&&e(t);l<s.length;l++)a=s[l],h.o(i,a)&&i[a]&&i[a][0](),i[a]=0;return h.O(c)},(c=self.webpackChunk_deepseek_chat=self.webpackChunk_deepseek_chat||[]).forEach(l.bind(null,0)),c.push=l.bind(null,c.push.bind(c)),h.ruid="bundler=rspack@1.5.8";var p=h.O(void 0,["23549"],function(){return h(65495)});p=h.O(p)})();